/*! For license information please see main.f38a920b.js.LICENSE.txt */
(()=>{var e={43:(e,t,s)=>{"use strict";e.exports=s(202)},122:e=>{"use strict";e.exports=function e(t,s){if(t===s)return!0;if(t&&s&&"object"==typeof t&&"object"==typeof s){if(t.constructor!==s.constructor)return!1;var n,a,i;if(Array.isArray(t)){if((n=t.length)!=s.length)return!1;for(a=n;0!==a--;)if(!e(t[a],s[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===s.source&&t.flags===s.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===s.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===s.toString();if((n=(i=Object.keys(t)).length)!==Object.keys(s).length)return!1;for(a=n;0!==a--;)if(!Object.prototype.hasOwnProperty.call(s,i[a]))return!1;for(a=n;0!==a--;){var r=i[a];if(!e(t[r],s[r]))return!1}return!0}return t!==t&&s!==s}},139:(e,t)=>{var s;!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e="",t=0;t<arguments.length;t++){var s=arguments[t];s&&(e=r(e,i(s)))}return e}function i(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return a.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var s in e)n.call(e,s)&&e[s]&&(t=r(t,s));return t}function r(e,t){return t?e?e+" "+t:e+t:e}e.exports?(a.default=a,e.exports=a):void 0===(s=function(){return a}.apply(t,[]))||(e.exports=s)}()},153:(e,t,s)=>{"use strict";var n=s(43),a=Symbol.for("react.element"),i=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,l=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,s){var n,i={},c=null,d=null;for(n in void 0!==s&&(c=""+s),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)r.call(t,n)&&!o.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===i[n]&&(i[n]=t[n]);return{$$typeof:a,type:e,key:c,ref:d,props:i,_owner:l.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},173:(e,t,s)=>{e.exports=s(497)()},202:(e,t)=>{"use strict";var s=Symbol.for("react.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,f={};function g(e,t,s){this.props=e,this.context=t,this.refs=f,this.updater=s||p}function v(){}function j(e,t,s){this.props=e,this.context=t,this.refs=f,this.updater=s||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=g.prototype;var b=j.prototype=new v;b.constructor=j,x(b,g.prototype),b.isPureReactComponent=!0;var y=Array.isArray,w=Object.prototype.hasOwnProperty,N={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var a,i={},r=null,l=null;if(null!=t)for(a in void 0!==t.ref&&(l=t.ref),void 0!==t.key&&(r=""+t.key),t)w.call(t,a)&&!C.hasOwnProperty(a)&&(i[a]=t[a]);var o=arguments.length-2;if(1===o)i.children=n;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];i.children=c}if(e&&e.defaultProps)for(a in o=e.defaultProps)void 0===i[a]&&(i[a]=o[a]);return{$$typeof:s,type:e,key:r,ref:l,props:i,_owner:N.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===s}var D=/\/+/g;function _(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,a,i,r){var l=typeof e;"undefined"!==l&&"boolean"!==l||(e=null);var o=!1;if(null===e)o=!0;else switch(l){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case s:case n:o=!0}}if(o)return r=r(o=e),e=""===i?"."+_(o,0):i,y(r)?(a="",null!=e&&(a=e.replace(D,"$&/")+"/"),A(r,t,a,"",(function(e){return e}))):null!=r&&(k(r)&&(r=function(e,t){return{$$typeof:s,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(r,a+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(D,"$&/")+"/")+e)),t.push(r)),1;if(o=0,i=""===i?".":i+":",y(e))for(var c=0;c<e.length;c++){var d=i+_(l=e[c],c);o+=A(l,t,a,d,r)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=m&&e[m]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(l=e.next()).done;)o+=A(l=l.value,t,a,d=i+_(l,c++),r);else if("object"===l)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function T(e,t,s){if(null==e)return e;var n=[],a=0;return A(e,n,"","",(function(e){return t.call(s,e,a++)})),n}function E(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var L={current:null},M={transition:null},I={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:M,ReactCurrentOwner:N};function P(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:T,forEach:function(e,t,s){T(e,(function(){t.apply(this,arguments)}),s)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=a,t.Profiler=r,t.PureComponent=j,t.StrictMode=i,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,t.act=P,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=x({},e.props),i=e.key,r=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(r=t.ref,l=N.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)w.call(t,c)&&!C.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==o?o[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=n;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];a.children=o}return{$$typeof:s,type:e.type,key:i,ref:r,props:a,_owner:l}},t.createContext=function(e){return(e={$$typeof:o,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:E}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=M.transition;M.transition={};try{e()}finally{M.transition=t}},t.unstable_act=P,t.useCallback=function(e,t){return L.current.useCallback(e,t)},t.useContext=function(e){return L.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return L.current.useDeferredValue(e)},t.useEffect=function(e,t){return L.current.useEffect(e,t)},t.useId=function(){return L.current.useId()},t.useImperativeHandle=function(e,t,s){return L.current.useImperativeHandle(e,t,s)},t.useInsertionEffect=function(e,t){return L.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return L.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return L.current.useMemo(e,t)},t.useReducer=function(e,t,s){return L.current.useReducer(e,t,s)},t.useRef=function(e){return L.current.useRef(e)},t.useState=function(e){return L.current.useState(e)},t.useSyncExternalStore=function(e,t,s){return L.current.useSyncExternalStore(e,t,s)},t.useTransition=function(){return L.current.useTransition()},t.version="18.3.1"},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},234:(e,t)=>{"use strict";function s(e,t){var s=e.length;e.push(t);e:for(;0<s;){var n=s-1>>>1,a=e[n];if(!(0<i(a,t)))break e;e[n]=t,e[s]=a,s=n}}function n(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],s=e.pop();if(s!==t){e[0]=s;e:for(var n=0,a=e.length,r=a>>>1;n<r;){var l=2*(n+1)-1,o=e[l],c=l+1,d=e[c];if(0>i(o,s))c<a&&0>i(d,o)?(e[n]=d,e[c]=s,n=c):(e[n]=o,e[l]=s,n=l);else{if(!(c<a&&0>i(d,s)))break e;e[n]=d,e[c]=s,n=c}}}return t}function i(e,t){var s=e.sortIndex-t.sortIndex;return 0!==s?s:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var r=performance;t.unstable_now=function(){return r.now()}}else{var l=Date,o=l.now();t.unstable_now=function(){return l.now()-o}}var c=[],d=[],u=1,h=null,m=3,p=!1,x=!1,f=!1,g="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,j="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=n(d);null!==t;){if(null===t.callback)a(d);else{if(!(t.startTime<=e))break;a(d),t.sortIndex=t.expirationTime,s(c,t)}t=n(d)}}function y(e){if(f=!1,b(e),!x)if(null!==n(c))x=!0,M(w);else{var t=n(d);null!==t&&I(y,t.startTime-e)}}function w(e,s){x=!1,f&&(f=!1,v(k),k=-1),p=!0;var i=m;try{for(b(s),h=n(c);null!==h&&(!(h.expirationTime>s)||e&&!A());){var r=h.callback;if("function"===typeof r){h.callback=null,m=h.priorityLevel;var l=r(h.expirationTime<=s);s=t.unstable_now(),"function"===typeof l?h.callback=l:h===n(c)&&a(c),b(s)}else a(c);h=n(c)}if(null!==h)var o=!0;else{var u=n(d);null!==u&&I(y,u.startTime-s),o=!1}return o}finally{h=null,m=i,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,C=!1,S=null,k=-1,D=5,_=-1;function A(){return!(t.unstable_now()-_<D)}function T(){if(null!==S){var e=t.unstable_now();_=e;var s=!0;try{s=S(!0,e)}finally{s?N():(C=!1,S=null)}}else C=!1}if("function"===typeof j)N=function(){j(T)};else if("undefined"!==typeof MessageChannel){var E=new MessageChannel,L=E.port2;E.port1.onmessage=T,N=function(){L.postMessage(null)}}else N=function(){g(T,0)};function M(e){S=e,C||(C=!0,N())}function I(e,s){k=g((function(){e(t.unstable_now())}),s)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){x||p||(x=!0,M(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var s=m;m=t;try{return e()}finally{m=s}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var s=m;m=e;try{return t()}finally{m=s}},t.unstable_scheduleCallback=function(e,a,i){var r=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?r+i:r:i=r,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:u++,callback:a,priorityLevel:e,startTime:i,expirationTime:l=i+l,sortIndex:-1},i>r?(e.sortIndex=i,s(d,e),null===n(c)&&e===n(d)&&(f?(v(k),k=-1):f=!0,I(y,i-r))):(e.sortIndex=l,s(c,e),x||p||(x=!0,M(w))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=m;return function(){var s=m;m=t;try{return e.apply(this,arguments)}finally{m=s}}}},391:(e,t,s)=>{"use strict";var n=s(950);t.createRoot=n.createRoot,t.hydrateRoot=n.hydrateRoot},440:e=>{"use strict";var t=function(){};e.exports=t},497:(e,t,s)=>{"use strict";var n=s(218);function a(){}function i(){}i.resetWarningCache=a,e.exports=function(){function e(e,t,s,a,i,r){if(r!==n){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var s={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:a};return s.PropTypes=s,s}},579:(e,t,s)=>{"use strict";e.exports=s(153)},730:(e,t,s)=>{"use strict";var n=s(43),a=s(853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,l={};function o(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(l[e]=t,e=0;e<t.length;e++)r.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},p={};function x(e,t,s,n,a,i,r){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=r}var f={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){f[e]=new x(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];f[t]=new x(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){f[e]=new x(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){f[e]=new x(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){f[e]=new x(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){f[e]=new x(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){f[e]=new x(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){f[e]=new x(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){f[e]=new x(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function j(e,t,s,n){var a=f.hasOwnProperty(t)?f[t]:null;(null!==a?0!==a.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,s,n){if(null===t||"undefined"===typeof t||function(e,t,s,n){if(null!==s&&0===s.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==s?!s.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,s,n))return!0;if(n)return!1;if(null!==s)switch(s.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,s,a,n)&&(s=null),n||null===a?function(e){return!!u.call(p,e)||!u.call(m,e)&&(h.test(e)?p[e]=!0:(m[e]=!0,!1))}(t)&&(null===s?e.removeAttribute(t):e.setAttribute(t,""+s)):a.mustUseProperty?e[a.propertyName]=null===s?3!==a.type&&"":s:(t=a.attributeName,n=a.attributeNamespace,null===s?e.removeAttribute(t):(s=3===(a=a.type)||4===a&&!0===s?"":""+s,n?e.setAttributeNS(n,t,s):e.setAttribute(t,s))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,v);f[t]=new x(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,v);f[t]=new x(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,v);f[t]=new x(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){f[e]=new x(e,1,!1,e.toLowerCase(),null,!1,!1)})),f.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){f[e]=new x(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,y=Symbol.for("react.element"),w=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),D=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),L=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var M=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var I=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=I&&e[I]||e["@@iterator"])?e:null}var O,R=Object.assign;function F(e){if(void 0===O)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);O=t&&t[1]||""}return"\n"+O+e}var z=!1;function B(e,t){if(!e||z)return"";z=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),i=n.stack.split("\n"),r=a.length-1,l=i.length-1;1<=r&&0<=l&&a[r]!==i[l];)l--;for(;1<=r&&0<=l;r--,l--)if(a[r]!==i[l]){if(1!==r||1!==l)do{if(r--,0>--l||a[r]!==i[l]){var o="\n"+a[r].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}}while(1<=r&&0<=l);break}}}finally{z=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?F(e):""}function $(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case N:return"Fragment";case w:return"Portal";case S:return"Profiler";case C:return"StrictMode";case A:return"Suspense";case T:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case D:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case _:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case E:return null!==(t=e.displayName||null)?t:H(e.type)||"Memo";case L:t=e._payload,e=e._init;try{return H(e(t))}catch(s){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function U(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof s&&"function"===typeof s.get&&"function"===typeof s.set){var a=s.get,i=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){n=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),n="";return e&&(n=W(e)?e.checked?"true":"false":e.value),(e=n)!==s&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var s=t.checked;return R({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=s?s:e._wrapperState.initialChecked})}function J(e,t){var s=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;s=U(null!=t.value?t.value:s),e._wrapperState={initialChecked:n,initialValue:s,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&j(e,"checked",t,!1)}function Z(e,t){X(e,t);var s=U(t.value),n=t.type;if(null!=s)"number"===n?(0===s&&""===e.value||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,s):t.hasOwnProperty("defaultValue")&&ee(e,t.type,U(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Q(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}""!==(s=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==s&&(e.name=s)}function ee(e,t,s){"number"===t&&Y(e.ownerDocument)===e||(null==s?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var te=Array.isArray;function se(e,t,s,n){if(e=e.options,t){t={};for(var a=0;a<s.length;a++)t["$"+s[a]]=!0;for(s=0;s<e.length;s++)a=t.hasOwnProperty("$"+e[s].value),e[s].selected!==a&&(e[s].selected=a),a&&n&&(e[s].defaultSelected=!0)}else{for(s=""+U(s),t=null,a=0;a<e.length;a++){if(e[a].value===s)return e[a].selected=!0,void(n&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return R({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var s=t.value;if(null==s){if(s=t.children,t=t.defaultValue,null!=s){if(null!=t)throw Error(i(92));if(te(s)){if(1<s.length)throw Error(i(93));s=s[0]}t=s}null==t&&(t=""),s=t}e._wrapperState={initialValue:U(s)}}function ie(e,t){var s=U(t.value),n=U(t.defaultValue);null!=s&&((s=""+s)!==e.value&&(e.value=s),null==t.defaultValue&&e.defaultValue!==s&&(e.defaultValue=s)),null!=n&&(e.defaultValue=""+n)}function re(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,s,n){MSApp.execUnsafeLocalFunction((function(){return de(e,t)}))}:de);function he(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&3===s.nodeType)return void(s.nodeValue=t)}e.textContent=t}var me={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function xe(e,t,s){return null==t||"boolean"===typeof t||""===t?"":s||"number"!==typeof t||0===t||me.hasOwnProperty(e)&&me[e]?(""+t).trim():t+"px"}function fe(e,t){for(var s in e=e.style,t)if(t.hasOwnProperty(s)){var n=0===s.indexOf("--"),a=xe(s,t[s],n);"float"===s&&(s="cssFloat"),n?e.setProperty(s,a):e[s]=a}}Object.keys(me).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),me[t]=me[e]}))}));var ge=R({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function je(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function ye(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Ne=null,Ce=null;function Se(e){if(e=ja(e)){if("function"!==typeof we)throw Error(i(280));var t=e.stateNode;t&&(t=ya(t),we(e.stateNode,e.type,t))}}function ke(e){Ne?Ce?Ce.push(e):Ce=[e]:Ne=e}function De(){if(Ne){var e=Ne,t=Ce;if(Ce=Ne=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function _e(e,t){return e(t)}function Ae(){}var Te=!1;function Ee(e,t,s){if(Te)return e(t,s);Te=!0;try{return _e(e,t,s)}finally{Te=!1,(null!==Ne||null!==Ce)&&(Ae(),De())}}function Le(e,t){var s=e.stateNode;if(null===s)return null;var n=ya(s);if(null===n)return null;s=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(s&&"function"!==typeof s)throw Error(i(231,t,typeof s));return s}var Me=!1;if(d)try{var Ie={};Object.defineProperty(Ie,"passive",{get:function(){Me=!0}}),window.addEventListener("test",Ie,Ie),window.removeEventListener("test",Ie,Ie)}catch(de){Me=!1}function Pe(e,t,s,n,a,i,r,l,o){var c=Array.prototype.slice.call(arguments,3);try{t.apply(s,c)}catch(d){this.onError(d)}}var Oe=!1,Re=null,Fe=!1,ze=null,Be={onError:function(e){Oe=!0,Re=e}};function $e(e,t,s,n,a,i,r,l,o){Oe=!1,Re=null,Pe.apply(Be,arguments)}function He(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(s=t.return),e=t.return}while(e)}return 3===t.tag?s:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ue(e){if(He(e)!==e)throw Error(i(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=He(e)))throw Error(i(188));return t!==e?null:e}for(var s=e,n=t;;){var a=s.return;if(null===a)break;var r=a.alternate;if(null===r){if(null!==(n=a.return)){s=n;continue}break}if(a.child===r.child){for(r=a.child;r;){if(r===s)return Ue(a),e;if(r===n)return Ue(a),t;r=r.sibling}throw Error(i(188))}if(s.return!==n.return)s=a,n=r;else{for(var l=!1,o=a.child;o;){if(o===s){l=!0,s=a,n=r;break}if(o===n){l=!0,n=a,s=r;break}o=o.sibling}if(!l){for(o=r.child;o;){if(o===s){l=!0,s=r,n=a;break}if(o===n){l=!0,n=r,s=a;break}o=o.sibling}if(!l)throw Error(i(189))}}if(s.alternate!==n)throw Error(i(190))}if(3!==s.tag)throw Error(i(188));return s.stateNode.current===s?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var qe=a.unstable_scheduleCallback,Ye=a.unstable_cancelCallback,Ke=a.unstable_shouldYield,Je=a.unstable_requestPaint,Xe=a.unstable_now,Ze=a.unstable_getCurrentPriorityLevel,Qe=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,st=a.unstable_LowPriority,nt=a.unstable_IdlePriority,at=null,it=null;var rt=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(lt(e)/ot|0)|0},lt=Math.log,ot=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var s=e.pendingLanes;if(0===s)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,r=268435455&s;if(0!==r){var l=r&~a;0!==l?n=ut(l):0!==(i&=r)&&(n=ut(i))}else 0!==(r=s&~a)?n=ut(r):0!==i&&(n=ut(i));if(0===n)return 0;if(0!==t&&t!==n&&0===(t&a)&&((a=n&-n)>=(i=t&-t)||16===a&&0!==(4194240&i)))return t;if(0!==(4&n)&&(n|=16&s),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)a=1<<(s=31-rt(t)),n|=e[s],t&=~a;return n}function mt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function xt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function ft(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function gt(e,t,s){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-rt(t)]=s}function vt(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var n=31-rt(s),a=1<<n;a&t|e[n]&t&&(e[n]|=t),s&=~a}}var jt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var yt,wt,Nt,Ct,St,kt=!1,Dt=[],_t=null,At=null,Tt=null,Et=new Map,Lt=new Map,Mt=[],It="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pt(e,t){switch(e){case"focusin":case"focusout":_t=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":Et.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lt.delete(t.pointerId)}}function Ot(e,t,s,n,a,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:s,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},null!==t&&(null!==(t=ja(t))&&wt(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Rt(e){var t=va(e.target);if(null!==t){var s=He(t);if(null!==s)if(13===(t=s.tag)){if(null!==(t=Ve(s)))return e.blockedOn=t,void St(e.priority,(function(){Nt(s)}))}else if(3===t&&s.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===s.tag?s.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var s=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==s)return null!==(t=ja(s))&&wt(t),e.blockedOn=s,!1;var n=new(s=e.nativeEvent).constructor(s.type,s);be=n,s.target.dispatchEvent(n),be=null,t.shift()}return!0}function zt(e,t,s){Ft(e)&&s.delete(t)}function Bt(){kt=!1,null!==_t&&Ft(_t)&&(_t=null),null!==At&&Ft(At)&&(At=null),null!==Tt&&Ft(Tt)&&(Tt=null),Et.forEach(zt),Lt.forEach(zt)}function $t(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Bt)))}function Ht(e){function t(t){return $t(t,e)}if(0<Dt.length){$t(Dt[0],e);for(var s=1;s<Dt.length;s++){var n=Dt[s];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==_t&&$t(_t,e),null!==At&&$t(At,e),null!==Tt&&$t(Tt,e),Et.forEach(t),Lt.forEach(t),s=0;s<Mt.length;s++)(n=Mt[s]).blockedOn===e&&(n.blockedOn=null);for(;0<Mt.length&&null===(s=Mt[0]).blockedOn;)Rt(s),null===s.blockedOn&&Mt.shift()}var Vt=b.ReactCurrentBatchConfig,Ut=!0;function Wt(e,t,s,n){var a=jt,i=Vt.transition;Vt.transition=null;try{jt=1,qt(e,t,s,n)}finally{jt=a,Vt.transition=i}}function Gt(e,t,s,n){var a=jt,i=Vt.transition;Vt.transition=null;try{jt=4,qt(e,t,s,n)}finally{jt=a,Vt.transition=i}}function qt(e,t,s,n){if(Ut){var a=Kt(e,t,s,n);if(null===a)Un(e,t,n,Yt,s),Pt(e,n);else if(function(e,t,s,n,a){switch(t){case"focusin":return _t=Ot(_t,e,t,s,n,a),!0;case"dragenter":return At=Ot(At,e,t,s,n,a),!0;case"mouseover":return Tt=Ot(Tt,e,t,s,n,a),!0;case"pointerover":var i=a.pointerId;return Et.set(i,Ot(Et.get(i)||null,e,t,s,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Lt.set(i,Ot(Lt.get(i)||null,e,t,s,n,a)),!0}return!1}(a,e,t,s,n))n.stopPropagation();else if(Pt(e,n),4&t&&-1<It.indexOf(e)){for(;null!==a;){var i=ja(a);if(null!==i&&yt(i),null===(i=Kt(e,t,s,n))&&Un(e,t,n,Yt,s),i===a)break;a=i}null!==a&&n.stopPropagation()}else Un(e,t,n,null,s)}}var Yt=null;function Kt(e,t,s,n){if(Yt=null,null!==(e=va(e=ye(n))))if(null===(t=He(e)))e=null;else if(13===(s=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===s){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case Qe:return 1;case et:return 4;case tt:case st:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Xt=null,Zt=null,Qt=null;function es(){if(Qt)return Qt;var e,t,s=Zt,n=s.length,a="value"in Xt?Xt.value:Xt.textContent,i=a.length;for(e=0;e<n&&s[e]===a[e];e++);var r=n-e;for(t=1;t<=r&&s[n-t]===a[i-t];t++);return Qt=a.slice(e,1<t?1-t:void 0)}function ts(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function ss(){return!0}function ns(){return!1}function as(e){function t(t,s,n,a,i){for(var r in this._reactName=t,this._targetInst=n,this.type=s,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(r)&&(t=e[r],this[r]=t?t(a):a[r]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?ss:ns,this.isPropagationStopped=ns,this}return R(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=ss)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=ss)},persist:function(){},isPersistent:ss}),t}var is,rs,ls,os={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cs=as(os),ds=R({},os,{view:0,detail:0}),us=as(ds),hs=R({},ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cs,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ls&&(ls&&"mousemove"===e.type?(is=e.screenX-ls.screenX,rs=e.screenY-ls.screenY):rs=is=0,ls=e),is)},movementY:function(e){return"movementY"in e?e.movementY:rs}}),ms=as(hs),ps=as(R({},hs,{dataTransfer:0})),xs=as(R({},ds,{relatedTarget:0})),fs=as(R({},os,{animationName:0,elapsedTime:0,pseudoElement:0})),gs=R({},os,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vs=as(gs),js=as(R({},os,{data:0})),bs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ys={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ws={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ns(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=ws[e])&&!!t[e]}function Cs(){return Ns}var Ss=R({},ds,{key:function(e){if(e.key){var t=bs[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ts(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?ys[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cs,charCode:function(e){return"keypress"===e.type?ts(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ts(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),ks=as(Ss),Ds=as(R({},hs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),_s=as(R({},ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cs})),As=as(R({},os,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ts=R({},hs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Es=as(Ts),Ls=[9,13,27,32],Ms=d&&"CompositionEvent"in window,Is=null;d&&"documentMode"in document&&(Is=document.documentMode);var Ps=d&&"TextEvent"in window&&!Is,Os=d&&(!Ms||Is&&8<Is&&11>=Is),Rs=String.fromCharCode(32),Fs=!1;function zs(e,t){switch(e){case"keyup":return-1!==Ls.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bs(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var $s=!1;var Hs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hs[e.type]:"textarea"===t}function Us(e,t,s,n){ke(n),0<(t=Gn(t,"onChange")).length&&(s=new cs("onChange","change",null,s,n),e.push({event:s,listeners:t}))}var Ws=null,Gs=null;function qs(e){Fn(e,0)}function Ys(e){if(q(ba(e)))return e}function Ks(e,t){if("change"===e)return t}var Js=!1;if(d){var Xs;if(d){var Zs="oninput"in document;if(!Zs){var Qs=document.createElement("div");Qs.setAttribute("oninput","return;"),Zs="function"===typeof Qs.oninput}Xs=Zs}else Xs=!1;Js=Xs&&(!document.documentMode||9<document.documentMode)}function en(){Ws&&(Ws.detachEvent("onpropertychange",tn),Gs=Ws=null)}function tn(e){if("value"===e.propertyName&&Ys(Gs)){var t=[];Us(t,Gs,e,ye(e)),Ee(qs,t)}}function sn(e,t,s){"focusin"===e?(en(),Gs=s,(Ws=t).attachEvent("onpropertychange",tn)):"focusout"===e&&en()}function nn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ys(Gs)}function an(e,t){if("click"===e)return Ys(t)}function rn(e,t){if("input"===e||"change"===e)return Ys(t)}var ln="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function on(e,t){if(ln(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var s=Object.keys(e),n=Object.keys(t);if(s.length!==n.length)return!1;for(n=0;n<s.length;n++){var a=s[n];if(!u.call(t,a)||!ln(e[a],t[a]))return!1}return!0}function cn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dn(e,t){var s,n=cn(e);for(e=0;n;){if(3===n.nodeType){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cn(n)}}function un(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?un(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hn(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var s="string"===typeof t.contentWindow.location.href}catch(n){s=!1}if(!s)break;t=Y((e=t.contentWindow).document)}return t}function mn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pn(e){var t=hn(),s=e.focusedElem,n=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&un(s.ownerDocument.documentElement,s)){if(null!==n&&mn(s))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if((e=(t=s.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=s.textContent.length,i=Math.min(n.start,a);n=void 0===n.end?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=dn(s,i);var r=dn(s,n);a&&r&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==r.node||e.focusOffset!==r.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(r.node,r.offset)):(t.setEnd(r.node,r.offset),e.addRange(t)))}for(t=[],e=s;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof s.focus&&s.focus(),s=0;s<t.length;s++)(e=t[s]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var xn=d&&"documentMode"in document&&11>=document.documentMode,fn=null,gn=null,vn=null,jn=!1;function bn(e,t,s){var n=s.window===s?s.document:9===s.nodeType?s:s.ownerDocument;jn||null==fn||fn!==Y(n)||("selectionStart"in(n=fn)&&mn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},vn&&on(vn,n)||(vn=n,0<(n=Gn(gn,"onSelect")).length&&(t=new cs("onSelect","select",null,t,s),e.push({event:t,listeners:n}),t.target=fn)))}function yn(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var wn={animationend:yn("Animation","AnimationEnd"),animationiteration:yn("Animation","AnimationIteration"),animationstart:yn("Animation","AnimationStart"),transitionend:yn("Transition","TransitionEnd")},Nn={},Cn={};function Sn(e){if(Nn[e])return Nn[e];if(!wn[e])return e;var t,s=wn[e];for(t in s)if(s.hasOwnProperty(t)&&t in Cn)return Nn[e]=s[t];return e}d&&(Cn=document.createElement("div").style,"AnimationEvent"in window||(delete wn.animationend.animation,delete wn.animationiteration.animation,delete wn.animationstart.animation),"TransitionEvent"in window||delete wn.transitionend.transition);var kn=Sn("animationend"),Dn=Sn("animationiteration"),_n=Sn("animationstart"),An=Sn("transitionend"),Tn=new Map,En="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ln(e,t){Tn.set(e,t),o(t,[e])}for(var Mn=0;Mn<En.length;Mn++){var In=En[Mn];Ln(In.toLowerCase(),"on"+(In[0].toUpperCase()+In.slice(1)))}Ln(kn,"onAnimationEnd"),Ln(Dn,"onAnimationIteration"),Ln(_n,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(An,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),On=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pn));function Rn(e,t,s){var n=e.type||"unknown-event";e.currentTarget=s,function(e,t,s,n,a,r,l,o,c){if($e.apply(this,arguments),Oe){if(!Oe)throw Error(i(198));var d=Re;Oe=!1,Re=null,Fe||(Fe=!0,ze=d)}}(n,t,void 0,e),e.currentTarget=null}function Fn(e,t){t=0!==(4&t);for(var s=0;s<e.length;s++){var n=e[s],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var r=n.length-1;0<=r;r--){var l=n[r],o=l.instance,c=l.currentTarget;if(l=l.listener,o!==i&&a.isPropagationStopped())break e;Rn(a,l,c),i=o}else for(r=0;r<n.length;r++){if(o=(l=n[r]).instance,c=l.currentTarget,l=l.listener,o!==i&&a.isPropagationStopped())break e;Rn(a,l,c),i=o}}}if(Fe)throw e=ze,Fe=!1,ze=null,e}function zn(e,t){var s=t[xa];void 0===s&&(s=t[xa]=new Set);var n=e+"__bubble";s.has(n)||(Vn(t,e,2,!1),s.add(n))}function Bn(e,t,s){var n=0;t&&(n|=4),Vn(s,e,n,t)}var $n="_reactListening"+Math.random().toString(36).slice(2);function Hn(e){if(!e[$n]){e[$n]=!0,r.forEach((function(t){"selectionchange"!==t&&(On.has(t)||Bn(t,!1,e),Bn(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[$n]||(t[$n]=!0,Bn("selectionchange",!1,t))}}function Vn(e,t,s,n){switch(Jt(t)){case 1:var a=Wt;break;case 4:a=Gt;break;default:a=qt}s=a.bind(null,t,s,e),a=void 0,!Me||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),n?void 0!==a?e.addEventListener(t,s,{capture:!0,passive:a}):e.addEventListener(t,s,!0):void 0!==a?e.addEventListener(t,s,{passive:a}):e.addEventListener(t,s,!1)}function Un(e,t,s,n,a){var i=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var r=n.tag;if(3===r||4===r){var l=n.stateNode.containerInfo;if(l===a||8===l.nodeType&&l.parentNode===a)break;if(4===r)for(r=n.return;null!==r;){var o=r.tag;if((3===o||4===o)&&((o=r.stateNode.containerInfo)===a||8===o.nodeType&&o.parentNode===a))return;r=r.return}for(;null!==l;){if(null===(r=va(l)))return;if(5===(o=r.tag)||6===o){n=i=r;continue e}l=l.parentNode}}n=n.return}Ee((function(){var n=i,a=ye(s),r=[];e:{var l=Tn.get(e);if(void 0!==l){var o=cs,c=e;switch(e){case"keypress":if(0===ts(s))break e;case"keydown":case"keyup":o=ks;break;case"focusin":c="focus",o=xs;break;case"focusout":c="blur",o=xs;break;case"beforeblur":case"afterblur":o=xs;break;case"click":if(2===s.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":o=ms;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":o=ps;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":o=_s;break;case kn:case Dn:case _n:o=fs;break;case An:o=As;break;case"scroll":o=us;break;case"wheel":o=Es;break;case"copy":case"cut":case"paste":o=vs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":o=Ds}var d=0!==(4&t),u=!d&&"scroll"===e,h=d?null!==l?l+"Capture":null:l;d=[];for(var m,p=n;null!==p;){var x=(m=p).stateNode;if(5===m.tag&&null!==x&&(m=x,null!==h&&(null!=(x=Le(p,h))&&d.push(Wn(p,x,m)))),u)break;p=p.return}0<d.length&&(l=new o(l,c,null,s,a),r.push({event:l,listeners:d}))}}if(0===(7&t)){if(o="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||s===be||!(c=s.relatedTarget||s.fromElement)||!va(c)&&!c[pa])&&(o||l)&&(l=a.window===a?a:(l=a.ownerDocument)?l.defaultView||l.parentWindow:window,o?(o=n,null!==(c=(c=s.relatedTarget||s.toElement)?va(c):null)&&(c!==(u=He(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(o=null,c=n),o!==c)){if(d=ms,x="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(d=Ds,x="onPointerLeave",h="onPointerEnter",p="pointer"),u=null==o?l:ba(o),m=null==c?l:ba(c),(l=new d(x,p+"leave",o,s,a)).target=u,l.relatedTarget=m,x=null,va(a)===n&&((d=new d(h,p+"enter",c,s,a)).target=m,d.relatedTarget=u,x=d),u=x,o&&c)e:{for(h=c,p=0,m=d=o;m;m=qn(m))p++;for(m=0,x=h;x;x=qn(x))m++;for(;0<p-m;)d=qn(d),p--;for(;0<m-p;)h=qn(h),m--;for(;p--;){if(d===h||null!==h&&d===h.alternate)break e;d=qn(d),h=qn(h)}d=null}else d=null;null!==o&&Yn(r,l,o,d,!1),null!==c&&null!==u&&Yn(r,u,c,d,!0)}if("select"===(o=(l=n?ba(n):window).nodeName&&l.nodeName.toLowerCase())||"input"===o&&"file"===l.type)var f=Ks;else if(Vs(l))if(Js)f=rn;else{f=nn;var g=sn}else(o=l.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===l.type||"radio"===l.type)&&(f=an);switch(f&&(f=f(e,n))?Us(r,f,s,a):(g&&g(e,l,n),"focusout"===e&&(g=l._wrapperState)&&g.controlled&&"number"===l.type&&ee(l,"number",l.value)),g=n?ba(n):window,e){case"focusin":(Vs(g)||"true"===g.contentEditable)&&(fn=g,gn=n,vn=null);break;case"focusout":vn=gn=fn=null;break;case"mousedown":jn=!0;break;case"contextmenu":case"mouseup":case"dragend":jn=!1,bn(r,s,a);break;case"selectionchange":if(xn)break;case"keydown":case"keyup":bn(r,s,a)}var v;if(Ms)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else $s?zs(e,s)&&(j="onCompositionEnd"):"keydown"===e&&229===s.keyCode&&(j="onCompositionStart");j&&(Os&&"ko"!==s.locale&&($s||"onCompositionStart"!==j?"onCompositionEnd"===j&&$s&&(v=es()):(Zt="value"in(Xt=a)?Xt.value:Xt.textContent,$s=!0)),0<(g=Gn(n,j)).length&&(j=new js(j,e,null,s,a),r.push({event:j,listeners:g}),v?j.data=v:null!==(v=Bs(s))&&(j.data=v))),(v=Ps?function(e,t){switch(e){case"compositionend":return Bs(t);case"keypress":return 32!==t.which?null:(Fs=!0,Rs);case"textInput":return(e=t.data)===Rs&&Fs?null:e;default:return null}}(e,s):function(e,t){if($s)return"compositionend"===e||!Ms&&zs(e,t)?(e=es(),Qt=Zt=Xt=null,$s=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Os&&"ko"!==t.locale?null:t.data}}(e,s))&&(0<(n=Gn(n,"onBeforeInput")).length&&(a=new js("onBeforeInput","beforeinput",null,s,a),r.push({event:a,listeners:n}),a.data=v))}Fn(r,t)}))}function Wn(e,t,s){return{instance:e,listener:t,currentTarget:s}}function Gn(e,t){for(var s=t+"Capture",n=[];null!==e;){var a=e,i=a.stateNode;5===a.tag&&null!==i&&(a=i,null!=(i=Le(e,s))&&n.unshift(Wn(e,i,a)),null!=(i=Le(e,t))&&n.push(Wn(e,i,a))),e=e.return}return n}function qn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yn(e,t,s,n,a){for(var i=t._reactName,r=[];null!==s&&s!==n;){var l=s,o=l.alternate,c=l.stateNode;if(null!==o&&o===n)break;5===l.tag&&null!==c&&(l=c,a?null!=(o=Le(s,i))&&r.unshift(Wn(s,o,l)):a||null!=(o=Le(s,i))&&r.push(Wn(s,o,l))),s=s.return}0!==r.length&&e.push({event:t,listeners:r})}var Kn=/\r\n?/g,Jn=/\u0000|\uFFFD/g;function Xn(e){return("string"===typeof e?e:""+e).replace(Kn,"\n").replace(Jn,"")}function Zn(e,t,s){if(t=Xn(t),Xn(e)!==t&&s)throw Error(i(425))}function Qn(){}var ea=null,ta=null;function sa(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var na="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,ia="function"===typeof Promise?Promise:void 0,ra="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ia?function(e){return ia.resolve(null).then(e).catch(la)}:na;function la(e){setTimeout((function(){throw e}))}function oa(e,t){var s=t,n=0;do{var a=s.nextSibling;if(e.removeChild(s),a&&8===a.nodeType)if("/$"===(s=a.data)){if(0===n)return e.removeChild(a),void Ht(t);n--}else"$"!==s&&"$?"!==s&&"$!"!==s||n++;s=a}while(s);Ht(t)}function ca(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function da(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var s=e.data;if("$"===s||"$!"===s||"$?"===s){if(0===t)return e;t--}else"/$"===s&&t++}e=e.previousSibling}return null}var ua=Math.random().toString(36).slice(2),ha="__reactFiber$"+ua,ma="__reactProps$"+ua,pa="__reactContainer$"+ua,xa="__reactEvents$"+ua,fa="__reactListeners$"+ua,ga="__reactHandles$"+ua;function va(e){var t=e[ha];if(t)return t;for(var s=e.parentNode;s;){if(t=s[pa]||s[ha]){if(s=t.alternate,null!==t.child||null!==s&&null!==s.child)for(e=da(e);null!==e;){if(s=e[ha])return s;e=da(e)}return t}s=(e=s).parentNode}return null}function ja(e){return!(e=e[ha]||e[pa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ba(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function ya(e){return e[ma]||null}var wa=[],Na=-1;function Ca(e){return{current:e}}function Sa(e){0>Na||(e.current=wa[Na],wa[Na]=null,Na--)}function ka(e,t){Na++,wa[Na]=e.current,e.current=t}var Da={},_a=Ca(Da),Aa=Ca(!1),Ta=Da;function Ea(e,t){var s=e.type.contextTypes;if(!s)return Da;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in s)i[a]=t[a];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function La(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ma(){Sa(Aa),Sa(_a)}function Ia(e,t,s){if(_a.current!==Da)throw Error(i(168));ka(_a,t),ka(Aa,s)}function Pa(e,t,s){var n=e.stateNode;if(t=t.childContextTypes,"function"!==typeof n.getChildContext)return s;for(var a in n=n.getChildContext())if(!(a in t))throw Error(i(108,V(e)||"Unknown",a));return R({},s,n)}function Oa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Da,Ta=_a.current,ka(_a,e),ka(Aa,Aa.current),!0}function Ra(e,t,s){var n=e.stateNode;if(!n)throw Error(i(169));s?(e=Pa(e,t,Ta),n.__reactInternalMemoizedMergedChildContext=e,Sa(Aa),Sa(_a),ka(_a,e)):Sa(Aa),ka(Aa,s)}var Fa=null,za=!1,Ba=!1;function $a(e){null===Fa?Fa=[e]:Fa.push(e)}function Ha(){if(!Ba&&null!==Fa){Ba=!0;var e=0,t=jt;try{var s=Fa;for(jt=1;e<s.length;e++){var n=s[e];do{n=n(!0)}while(null!==n)}Fa=null,za=!1}catch(a){throw null!==Fa&&(Fa=Fa.slice(e+1)),qe(Qe,Ha),a}finally{jt=t,Ba=!1}}return null}var Va=[],Ua=0,Wa=null,Ga=0,qa=[],Ya=0,Ka=null,Ja=1,Xa="";function Za(e,t){Va[Ua++]=Ga,Va[Ua++]=Wa,Wa=e,Ga=t}function Qa(e,t,s){qa[Ya++]=Ja,qa[Ya++]=Xa,qa[Ya++]=Ka,Ka=e;var n=Ja;e=Xa;var a=32-rt(n)-1;n&=~(1<<a),s+=1;var i=32-rt(t)+a;if(30<i){var r=a-a%5;i=(n&(1<<r)-1).toString(32),n>>=r,a-=r,Ja=1<<32-rt(t)+a|s<<a|n,Xa=i+e}else Ja=1<<i|s<<a|n,Xa=e}function ei(e){null!==e.return&&(Za(e,1),Qa(e,1,0))}function ti(e){for(;e===Wa;)Wa=Va[--Ua],Va[Ua]=null,Ga=Va[--Ua],Va[Ua]=null;for(;e===Ka;)Ka=qa[--Ya],qa[Ya]=null,Xa=qa[--Ya],qa[Ya]=null,Ja=qa[--Ya],qa[Ya]=null}var si=null,ni=null,ai=!1,ii=null;function ri(e,t){var s=Ec(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,null===(t=e.deletions)?(e.deletions=[s],e.flags|=16):t.push(s)}function li(e,t){switch(e.tag){case 5:var s=e.type;return null!==(t=1!==t.nodeType||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,si=e,ni=ca(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,si=e,ni=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(s=null!==Ka?{id:Ja,overflow:Xa}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},(s=Ec(18,null,null,0)).stateNode=t,s.return=e,e.child=s,si=e,ni=null,!0);default:return!1}}function oi(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ci(e){if(ai){var t=ni;if(t){var s=t;if(!li(e,t)){if(oi(e))throw Error(i(418));t=ca(s.nextSibling);var n=si;t&&li(e,t)?ri(n,s):(e.flags=-4097&e.flags|2,ai=!1,si=e)}}else{if(oi(e))throw Error(i(418));e.flags=-4097&e.flags|2,ai=!1,si=e}}}function di(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;si=e}function ui(e){if(e!==si)return!1;if(!ai)return di(e),ai=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!sa(e.type,e.memoizedProps)),t&&(t=ni)){if(oi(e))throw hi(),Error(i(418));for(;t;)ri(e,t),t=ca(t.nextSibling)}if(di(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var s=e.data;if("/$"===s){if(0===t){ni=ca(e.nextSibling);break e}t--}else"$"!==s&&"$!"!==s&&"$?"!==s||t++}e=e.nextSibling}ni=null}}else ni=si?ca(e.stateNode.nextSibling):null;return!0}function hi(){for(var e=ni;e;)e=ca(e.nextSibling)}function mi(){ni=si=null,ai=!1}function pi(e){null===ii?ii=[e]:ii.push(e)}var xi=b.ReactCurrentBatchConfig;function fi(e,t,s){if(null!==(e=s.ref)&&"function"!==typeof e&&"object"!==typeof e){if(s._owner){if(s=s._owner){if(1!==s.tag)throw Error(i(309));var n=s.stateNode}if(!n)throw Error(i(147,e));var a=n,r=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===r?t.ref:(t=function(e){var t=a.refs;null===e?delete t[r]:t[r]=e},t._stringRef=r,t)}if("string"!==typeof e)throw Error(i(284));if(!s._owner)throw Error(i(290,e))}return e}function gi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vi(e){return(0,e._init)(e._payload)}function ji(e){function t(t,s){if(e){var n=t.deletions;null===n?(t.deletions=[s],t.flags|=16):n.push(s)}}function s(s,n){if(!e)return null;for(;null!==n;)t(s,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Mc(e,t)).index=0,e.sibling=null,e}function r(t,s,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<s?(t.flags|=2,s):n:(t.flags|=2,s):(t.flags|=1048576,s)}function l(t){return e&&null===t.alternate&&(t.flags|=2),t}function o(e,t,s,n){return null===t||6!==t.tag?((t=Rc(s,e.mode,n)).return=e,t):((t=a(t,s)).return=e,t)}function c(e,t,s,n){var i=s.type;return i===N?u(e,t,s.props.children,n,s.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===L&&vi(i)===t.type)?((n=a(t,s.props)).ref=fi(e,t,s),n.return=e,n):((n=Ic(s.type,s.key,s.props,null,e.mode,n)).ref=fi(e,t,s),n.return=e,n)}function d(e,t,s,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==s.containerInfo||t.stateNode.implementation!==s.implementation?((t=Fc(s,e.mode,n)).return=e,t):((t=a(t,s.children||[])).return=e,t)}function u(e,t,s,n,i){return null===t||7!==t.tag?((t=Pc(s,e.mode,n,i)).return=e,t):((t=a(t,s)).return=e,t)}function h(e,t,s){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Rc(""+t,e.mode,s)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case y:return(s=Ic(t.type,t.key,t.props,null,e.mode,s)).ref=fi(e,null,t),s.return=e,s;case w:return(t=Fc(t,e.mode,s)).return=e,t;case L:return h(e,(0,t._init)(t._payload),s)}if(te(t)||P(t))return(t=Pc(t,e.mode,s,null)).return=e,t;gi(e,t)}return null}function m(e,t,s,n){var a=null!==t?t.key:null;if("string"===typeof s&&""!==s||"number"===typeof s)return null!==a?null:o(e,t,""+s,n);if("object"===typeof s&&null!==s){switch(s.$$typeof){case y:return s.key===a?c(e,t,s,n):null;case w:return s.key===a?d(e,t,s,n):null;case L:return m(e,t,(a=s._init)(s._payload),n)}if(te(s)||P(s))return null!==a?null:u(e,t,s,n,null);gi(e,s)}return null}function p(e,t,s,n,a){if("string"===typeof n&&""!==n||"number"===typeof n)return o(t,e=e.get(s)||null,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case y:return c(t,e=e.get(null===n.key?s:n.key)||null,n,a);case w:return d(t,e=e.get(null===n.key?s:n.key)||null,n,a);case L:return p(e,t,s,(0,n._init)(n._payload),a)}if(te(n)||P(n))return u(t,e=e.get(s)||null,n,a,null);gi(t,n)}return null}function x(a,i,l,o){for(var c=null,d=null,u=i,x=i=0,f=null;null!==u&&x<l.length;x++){u.index>x?(f=u,u=null):f=u.sibling;var g=m(a,u,l[x],o);if(null===g){null===u&&(u=f);break}e&&u&&null===g.alternate&&t(a,u),i=r(g,i,x),null===d?c=g:d.sibling=g,d=g,u=f}if(x===l.length)return s(a,u),ai&&Za(a,x),c;if(null===u){for(;x<l.length;x++)null!==(u=h(a,l[x],o))&&(i=r(u,i,x),null===d?c=u:d.sibling=u,d=u);return ai&&Za(a,x),c}for(u=n(a,u);x<l.length;x++)null!==(f=p(u,a,x,l[x],o))&&(e&&null!==f.alternate&&u.delete(null===f.key?x:f.key),i=r(f,i,x),null===d?c=f:d.sibling=f,d=f);return e&&u.forEach((function(e){return t(a,e)})),ai&&Za(a,x),c}function f(a,l,o,c){var d=P(o);if("function"!==typeof d)throw Error(i(150));if(null==(o=d.call(o)))throw Error(i(151));for(var u=d=null,x=l,f=l=0,g=null,v=o.next();null!==x&&!v.done;f++,v=o.next()){x.index>f?(g=x,x=null):g=x.sibling;var j=m(a,x,v.value,c);if(null===j){null===x&&(x=g);break}e&&x&&null===j.alternate&&t(a,x),l=r(j,l,f),null===u?d=j:u.sibling=j,u=j,x=g}if(v.done)return s(a,x),ai&&Za(a,f),d;if(null===x){for(;!v.done;f++,v=o.next())null!==(v=h(a,v.value,c))&&(l=r(v,l,f),null===u?d=v:u.sibling=v,u=v);return ai&&Za(a,f),d}for(x=n(a,x);!v.done;f++,v=o.next())null!==(v=p(x,a,f,v.value,c))&&(e&&null!==v.alternate&&x.delete(null===v.key?f:v.key),l=r(v,l,f),null===u?d=v:u.sibling=v,u=v);return e&&x.forEach((function(e){return t(a,e)})),ai&&Za(a,f),d}return function e(n,i,r,o){if("object"===typeof r&&null!==r&&r.type===N&&null===r.key&&(r=r.props.children),"object"===typeof r&&null!==r){switch(r.$$typeof){case y:e:{for(var c=r.key,d=i;null!==d;){if(d.key===c){if((c=r.type)===N){if(7===d.tag){s(n,d.sibling),(i=a(d,r.props.children)).return=n,n=i;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===L&&vi(c)===d.type){s(n,d.sibling),(i=a(d,r.props)).ref=fi(n,d,r),i.return=n,n=i;break e}s(n,d);break}t(n,d),d=d.sibling}r.type===N?((i=Pc(r.props.children,n.mode,o,r.key)).return=n,n=i):((o=Ic(r.type,r.key,r.props,null,n.mode,o)).ref=fi(n,i,r),o.return=n,n=o)}return l(n);case w:e:{for(d=r.key;null!==i;){if(i.key===d){if(4===i.tag&&i.stateNode.containerInfo===r.containerInfo&&i.stateNode.implementation===r.implementation){s(n,i.sibling),(i=a(i,r.children||[])).return=n,n=i;break e}s(n,i);break}t(n,i),i=i.sibling}(i=Fc(r,n.mode,o)).return=n,n=i}return l(n);case L:return e(n,i,(d=r._init)(r._payload),o)}if(te(r))return x(n,i,r,o);if(P(r))return f(n,i,r,o);gi(n,r)}return"string"===typeof r&&""!==r||"number"===typeof r?(r=""+r,null!==i&&6===i.tag?(s(n,i.sibling),(i=a(i,r)).return=n,n=i):(s(n,i),(i=Rc(r,n.mode,o)).return=n,n=i),l(n)):s(n,i)}}var bi=ji(!0),yi=ji(!1),wi=Ca(null),Ni=null,Ci=null,Si=null;function ki(){Si=Ci=Ni=null}function Di(e){var t=wi.current;Sa(wi),e._currentValue=t}function _i(e,t,s){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===s)break;e=e.return}}function Ai(e,t){Ni=e,Si=Ci=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(vl=!0),e.firstContext=null)}function Ti(e){var t=e._currentValue;if(Si!==e)if(e={context:e,memoizedValue:t,next:null},null===Ci){if(null===Ni)throw Error(i(308));Ci=e,Ni.dependencies={lanes:0,firstContext:e}}else Ci=Ci.next=e;return t}var Ei=null;function Li(e){null===Ei?Ei=[e]:Ei.push(e)}function Mi(e,t,s,n){var a=t.interleaved;return null===a?(s.next=s,Li(t)):(s.next=a.next,a.next=s),t.interleaved=s,Ii(e,n)}function Ii(e,t){e.lanes|=t;var s=e.alternate;for(null!==s&&(s.lanes|=t),s=e,e=e.return;null!==e;)e.childLanes|=t,null!==(s=e.alternate)&&(s.childLanes|=t),s=e,e=e.return;return 3===s.tag?s.stateNode:null}var Pi=!1;function Oi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ri(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zi(e,t,s){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&_o)){var a=n.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Ii(e,s)}return null===(a=n.interleaved)?(t.next=t,Li(n)):(t.next=a.next,a.next=t),n.interleaved=t,Ii(e,s)}function Bi(e,t,s){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&s))){var n=t.lanes;s|=n&=e.pendingLanes,t.lanes=s,vt(e,s)}}function $i(e,t){var s=e.updateQueue,n=e.alternate;if(null!==n&&s===(n=n.updateQueue)){var a=null,i=null;if(null!==(s=s.firstBaseUpdate)){do{var r={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};null===i?a=i=r:i=i.next=r,s=s.next}while(null!==s);null===i?a=i=t:i=i.next=t}else a=i=t;return s={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},void(e.updateQueue=s)}null===(e=s.lastBaseUpdate)?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function Hi(e,t,s,n){var a=e.updateQueue;Pi=!1;var i=a.firstBaseUpdate,r=a.lastBaseUpdate,l=a.shared.pending;if(null!==l){a.shared.pending=null;var o=l,c=o.next;o.next=null,null===r?i=c:r.next=c,r=o;var d=e.alternate;null!==d&&((l=(d=d.updateQueue).lastBaseUpdate)!==r&&(null===l?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=o))}if(null!==i){var u=a.baseState;for(r=0,d=c=o=null,l=i;;){var h=l.lane,m=l.eventTime;if((n&h)===h){null!==d&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,x=l;switch(h=t,m=s,x.tag){case 1:if("function"===typeof(p=x.payload)){u=p.call(m,u,h);break e}u=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=x.payload)?p.call(m,u,h):p)||void 0===h)break e;u=R({},u,h);break e;case 2:Pi=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(h=a.effects)?a.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===d?(c=d=m,o=u):d=d.next=m,r|=h;if(null===(l=l.next)){if(null===(l=a.shared.pending))break;l=(h=l).next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}if(null===d&&(o=u),a.baseState=o,a.firstBaseUpdate=c,a.lastBaseUpdate=d,null!==(t=a.shared.interleaved)){a=t;do{r|=a.lane,a=a.next}while(a!==t)}else null===i&&(a.shared.lanes=0);Oo|=r,e.lanes=r,e.memoizedState=u}}function Vi(e,t,s){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(null!==a){if(n.callback=null,n=s,"function"!==typeof a)throw Error(i(191,a));a.call(n)}}}var Ui={},Wi=Ca(Ui),Gi=Ca(Ui),qi=Ca(Ui);function Yi(e){if(e===Ui)throw Error(i(174));return e}function Ki(e,t){switch(ka(qi,t),ka(Gi,e),ka(Wi,Ui),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:oe(null,"");break;default:t=oe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Sa(Wi),ka(Wi,t)}function Ji(){Sa(Wi),Sa(Gi),Sa(qi)}function Xi(e){Yi(qi.current);var t=Yi(Wi.current),s=oe(t,e.type);t!==s&&(ka(Gi,e),ka(Wi,s))}function Zi(e){Gi.current===e&&(Sa(Wi),Sa(Gi))}var Qi=Ca(0);function er(e){for(var t=e;null!==t;){if(13===t.tag){var s=t.memoizedState;if(null!==s&&(null===(s=s.dehydrated)||"$?"===s.data||"$!"===s.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var tr=[];function sr(){for(var e=0;e<tr.length;e++)tr[e]._workInProgressVersionPrimary=null;tr.length=0}var nr=b.ReactCurrentDispatcher,ar=b.ReactCurrentBatchConfig,ir=0,rr=null,lr=null,or=null,cr=!1,dr=!1,ur=0,hr=0;function mr(){throw Error(i(321))}function pr(e,t){if(null===t)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!ln(e[s],t[s]))return!1;return!0}function xr(e,t,s,n,a,r){if(ir=r,rr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,nr.current=null===e||null===e.memoizedState?Zr:Qr,e=s(n,a),dr){r=0;do{if(dr=!1,ur=0,25<=r)throw Error(i(301));r+=1,or=lr=null,t.updateQueue=null,nr.current=el,e=s(n,a)}while(dr)}if(nr.current=Xr,t=null!==lr&&null!==lr.next,ir=0,or=lr=rr=null,cr=!1,t)throw Error(i(300));return e}function fr(){var e=0!==ur;return ur=0,e}function gr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===or?rr.memoizedState=or=e:or=or.next=e,or}function vr(){if(null===lr){var e=rr.alternate;e=null!==e?e.memoizedState:null}else e=lr.next;var t=null===or?rr.memoizedState:or.next;if(null!==t)or=t,lr=e;else{if(null===e)throw Error(i(310));e={memoizedState:(lr=e).memoizedState,baseState:lr.baseState,baseQueue:lr.baseQueue,queue:lr.queue,next:null},null===or?rr.memoizedState=or=e:or=or.next=e}return or}function jr(e,t){return"function"===typeof t?t(e):t}function br(e){var t=vr(),s=t.queue;if(null===s)throw Error(i(311));s.lastRenderedReducer=e;var n=lr,a=n.baseQueue,r=s.pending;if(null!==r){if(null!==a){var l=a.next;a.next=r.next,r.next=l}n.baseQueue=a=r,s.pending=null}if(null!==a){r=a.next,n=n.baseState;var o=l=null,c=null,d=r;do{var u=d.lane;if((ir&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(o=c=h,l=n):c=c.next=h,rr.lanes|=u,Oo|=u}d=d.next}while(null!==d&&d!==r);null===c?l=n:c.next=o,ln(n,t.memoizedState)||(vl=!0),t.memoizedState=n,t.baseState=l,t.baseQueue=c,s.lastRenderedState=n}if(null!==(e=s.interleaved)){a=e;do{r=a.lane,rr.lanes|=r,Oo|=r,a=a.next}while(a!==e)}else null===a&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function yr(e){var t=vr(),s=t.queue;if(null===s)throw Error(i(311));s.lastRenderedReducer=e;var n=s.dispatch,a=s.pending,r=t.memoizedState;if(null!==a){s.pending=null;var l=a=a.next;do{r=e(r,l.action),l=l.next}while(l!==a);ln(r,t.memoizedState)||(vl=!0),t.memoizedState=r,null===t.baseQueue&&(t.baseState=r),s.lastRenderedState=r}return[r,n]}function wr(){}function Nr(e,t){var s=rr,n=vr(),a=t(),r=!ln(n.memoizedState,a);if(r&&(n.memoizedState=a,vl=!0),n=n.queue,Pr(kr.bind(null,s,n,e),[e]),n.getSnapshot!==t||r||null!==or&&1&or.memoizedState.tag){if(s.flags|=2048,Tr(9,Sr.bind(null,s,n,a,t),void 0,null),null===Ao)throw Error(i(349));0!==(30&ir)||Cr(s,t,a)}return a}function Cr(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},null===(t=rr.updateQueue)?(t={lastEffect:null,stores:null},rr.updateQueue=t,t.stores=[e]):null===(s=t.stores)?t.stores=[e]:s.push(e)}function Sr(e,t,s,n){t.value=s,t.getSnapshot=n,Dr(t)&&_r(e)}function kr(e,t,s){return s((function(){Dr(t)&&_r(e)}))}function Dr(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!ln(e,s)}catch(n){return!0}}function _r(e){var t=Ii(e,1);null!==t&&sc(t,e,1,-1)}function Ar(e){var t=gr();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jr,lastRenderedState:e},t.queue=e,e=e.dispatch=qr.bind(null,rr,e),[t.memoizedState,e]}function Tr(e,t,s,n){return e={tag:e,create:t,destroy:s,deps:n,next:null},null===(t=rr.updateQueue)?(t={lastEffect:null,stores:null},rr.updateQueue=t,t.lastEffect=e.next=e):null===(s=t.lastEffect)?t.lastEffect=e.next=e:(n=s.next,s.next=e,e.next=n,t.lastEffect=e),e}function Er(){return vr().memoizedState}function Lr(e,t,s,n){var a=gr();rr.flags|=e,a.memoizedState=Tr(1|t,s,void 0,void 0===n?null:n)}function Mr(e,t,s,n){var a=vr();n=void 0===n?null:n;var i=void 0;if(null!==lr){var r=lr.memoizedState;if(i=r.destroy,null!==n&&pr(n,r.deps))return void(a.memoizedState=Tr(t,s,i,n))}rr.flags|=e,a.memoizedState=Tr(1|t,s,i,n)}function Ir(e,t){return Lr(8390656,8,e,t)}function Pr(e,t){return Mr(2048,8,e,t)}function Or(e,t){return Mr(4,2,e,t)}function Rr(e,t){return Mr(4,4,e,t)}function Fr(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function zr(e,t,s){return s=null!==s&&void 0!==s?s.concat([e]):null,Mr(4,4,Fr.bind(null,t,e),s)}function Br(){}function $r(e,t){var s=vr();t=void 0===t?null:t;var n=s.memoizedState;return null!==n&&null!==t&&pr(t,n[1])?n[0]:(s.memoizedState=[e,t],e)}function Hr(e,t){var s=vr();t=void 0===t?null:t;var n=s.memoizedState;return null!==n&&null!==t&&pr(t,n[1])?n[0]:(e=e(),s.memoizedState=[e,t],e)}function Vr(e,t,s){return 0===(21&ir)?(e.baseState&&(e.baseState=!1,vl=!0),e.memoizedState=s):(ln(s,t)||(s=xt(),rr.lanes|=s,Oo|=s,e.baseState=!0),t)}function Ur(e,t){var s=jt;jt=0!==s&&4>s?s:4,e(!0);var n=ar.transition;ar.transition={};try{e(!1),t()}finally{jt=s,ar.transition=n}}function Wr(){return vr().memoizedState}function Gr(e,t,s){var n=tc(e);if(s={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null},Yr(e))Kr(t,s);else if(null!==(s=Mi(e,t,s,n))){sc(s,e,n,ec()),Jr(s,t,n)}}function qr(e,t,s){var n=tc(e),a={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null};if(Yr(e))Kr(t,a);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var r=t.lastRenderedState,l=i(r,s);if(a.hasEagerState=!0,a.eagerState=l,ln(l,r)){var o=t.interleaved;return null===o?(a.next=a,Li(t)):(a.next=o.next,o.next=a),void(t.interleaved=a)}}catch(c){}null!==(s=Mi(e,t,a,n))&&(sc(s,e,n,a=ec()),Jr(s,t,n))}}function Yr(e){var t=e.alternate;return e===rr||null!==t&&t===rr}function Kr(e,t){dr=cr=!0;var s=e.pending;null===s?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function Jr(e,t,s){if(0!==(4194240&s)){var n=t.lanes;s|=n&=e.pendingLanes,t.lanes=s,vt(e,s)}}var Xr={readContext:Ti,useCallback:mr,useContext:mr,useEffect:mr,useImperativeHandle:mr,useInsertionEffect:mr,useLayoutEffect:mr,useMemo:mr,useReducer:mr,useRef:mr,useState:mr,useDebugValue:mr,useDeferredValue:mr,useTransition:mr,useMutableSource:mr,useSyncExternalStore:mr,useId:mr,unstable_isNewReconciler:!1},Zr={readContext:Ti,useCallback:function(e,t){return gr().memoizedState=[e,void 0===t?null:t],e},useContext:Ti,useEffect:Ir,useImperativeHandle:function(e,t,s){return s=null!==s&&void 0!==s?s.concat([e]):null,Lr(4194308,4,Fr.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Lr(4194308,4,e,t)},useInsertionEffect:function(e,t){return Lr(4,2,e,t)},useMemo:function(e,t){var s=gr();return t=void 0===t?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var n=gr();return t=void 0!==s?s(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Gr.bind(null,rr,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},gr().memoizedState=e},useState:Ar,useDebugValue:Br,useDeferredValue:function(e){return gr().memoizedState=e},useTransition:function(){var e=Ar(!1),t=e[0];return e=Ur.bind(null,e[1]),gr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var n=rr,a=gr();if(ai){if(void 0===s)throw Error(i(407));s=s()}else{if(s=t(),null===Ao)throw Error(i(349));0!==(30&ir)||Cr(n,t,s)}a.memoizedState=s;var r={value:s,getSnapshot:t};return a.queue=r,Ir(kr.bind(null,n,r,e),[e]),n.flags|=2048,Tr(9,Sr.bind(null,n,r,s,t),void 0,null),s},useId:function(){var e=gr(),t=Ao.identifierPrefix;if(ai){var s=Xa;t=":"+t+"R"+(s=(Ja&~(1<<32-rt(Ja)-1)).toString(32)+s),0<(s=ur++)&&(t+="H"+s.toString(32)),t+=":"}else t=":"+t+"r"+(s=hr++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Qr={readContext:Ti,useCallback:$r,useContext:Ti,useEffect:Pr,useImperativeHandle:zr,useInsertionEffect:Or,useLayoutEffect:Rr,useMemo:Hr,useReducer:br,useRef:Er,useState:function(){return br(jr)},useDebugValue:Br,useDeferredValue:function(e){return Vr(vr(),lr.memoizedState,e)},useTransition:function(){return[br(jr)[0],vr().memoizedState]},useMutableSource:wr,useSyncExternalStore:Nr,useId:Wr,unstable_isNewReconciler:!1},el={readContext:Ti,useCallback:$r,useContext:Ti,useEffect:Pr,useImperativeHandle:zr,useInsertionEffect:Or,useLayoutEffect:Rr,useMemo:Hr,useReducer:yr,useRef:Er,useState:function(){return yr(jr)},useDebugValue:Br,useDeferredValue:function(e){var t=vr();return null===lr?t.memoizedState=e:Vr(t,lr.memoizedState,e)},useTransition:function(){return[yr(jr)[0],vr().memoizedState]},useMutableSource:wr,useSyncExternalStore:Nr,useId:Wr,unstable_isNewReconciler:!1};function tl(e,t){if(e&&e.defaultProps){for(var s in t=R({},t),e=e.defaultProps)void 0===t[s]&&(t[s]=e[s]);return t}return t}function sl(e,t,s,n){s=null===(s=s(n,t=e.memoizedState))||void 0===s?t:R({},t,s),e.memoizedState=s,0===e.lanes&&(e.updateQueue.baseState=s)}var nl={isMounted:function(e){return!!(e=e._reactInternals)&&He(e)===e},enqueueSetState:function(e,t,s){e=e._reactInternals;var n=ec(),a=tc(e),i=Fi(n,a);i.payload=t,void 0!==s&&null!==s&&(i.callback=s),null!==(t=zi(e,i,a))&&(sc(t,e,a,n),Bi(t,e,a))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var n=ec(),a=tc(e),i=Fi(n,a);i.tag=1,i.payload=t,void 0!==s&&null!==s&&(i.callback=s),null!==(t=zi(e,i,a))&&(sc(t,e,a,n),Bi(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=ec(),n=tc(e),a=Fi(s,n);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=zi(e,a,n))&&(sc(t,e,n,s),Bi(t,e,n))}};function al(e,t,s,n,a,i,r){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,i,r):!t.prototype||!t.prototype.isPureReactComponent||(!on(s,n)||!on(a,i))}function il(e,t,s){var n=!1,a=Da,i=t.contextType;return"object"===typeof i&&null!==i?i=Ti(i):(a=La(t)?Ta:_a.current,i=(n=null!==(n=t.contextTypes)&&void 0!==n)?Ea(e,a):Da),t=new t(s,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=nl,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function rl(e,t,s,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(s,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(s,n),t.state!==e&&nl.enqueueReplaceState(t,t.state,null)}function ll(e,t,s,n){var a=e.stateNode;a.props=s,a.state=e.memoizedState,a.refs={},Oi(e);var i=t.contextType;"object"===typeof i&&null!==i?a.context=Ti(i):(i=La(t)?Ta:_a.current,a.context=Ea(e,i)),a.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(sl(e,t,i,s),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&nl.enqueueReplaceState(a,a.state,null),Hi(e,s,a,n),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function ol(e,t){try{var s="",n=t;do{s+=$(n),n=n.return}while(n);var a=s}catch(i){a="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:a,digest:null}}function cl(e,t,s){return{value:e,source:null,stack:null!=s?s:null,digest:null!=t?t:null}}function dl(e,t){try{console.error(t.value)}catch(s){setTimeout((function(){throw s}))}}var ul="function"===typeof WeakMap?WeakMap:Map;function hl(e,t,s){(s=Fi(-1,s)).tag=3,s.payload={element:null};var n=t.value;return s.callback=function(){Uo||(Uo=!0,Wo=n),dl(0,t)},s}function ml(e,t,s){(s=Fi(-1,s)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var a=t.value;s.payload=function(){return n(a)},s.callback=function(){dl(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(s.callback=function(){dl(0,t),"function"!==typeof n&&(null===Go?Go=new Set([this]):Go.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),s}function pl(e,t,s){var n=e.pingCache;if(null===n){n=e.pingCache=new ul;var a=new Set;n.set(t,a)}else void 0===(a=n.get(t))&&(a=new Set,n.set(t,a));a.has(s)||(a.add(s),e=Sc.bind(null,e,t,s),t.then(e,e))}function xl(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function fl(e,t,s,n,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,1===s.tag&&(null===s.alternate?s.tag=17:((t=Fi(-1,1)).tag=2,zi(s,t,1))),s.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var gl=b.ReactCurrentOwner,vl=!1;function jl(e,t,s,n){t.child=null===e?yi(t,null,s,n):bi(t,e.child,s,n)}function bl(e,t,s,n,a){s=s.render;var i=t.ref;return Ai(t,a),n=xr(e,t,s,n,i,a),s=fr(),null===e||vl?(ai&&s&&ei(t),t.flags|=1,jl(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Vl(e,t,a))}function yl(e,t,s,n,a){if(null===e){var i=s.type;return"function"!==typeof i||Lc(i)||void 0!==i.defaultProps||null!==s.compare||void 0!==s.defaultProps?((e=Ic(s.type,null,n,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,wl(e,t,i,n,a))}if(i=e.child,0===(e.lanes&a)){var r=i.memoizedProps;if((s=null!==(s=s.compare)?s:on)(r,n)&&e.ref===t.ref)return Vl(e,t,a)}return t.flags|=1,(e=Mc(i,n)).ref=t.ref,e.return=t,t.child=e}function wl(e,t,s,n,a){if(null!==e){var i=e.memoizedProps;if(on(i,n)&&e.ref===t.ref){if(vl=!1,t.pendingProps=n=i,0===(e.lanes&a))return t.lanes=e.lanes,Vl(e,t,a);0!==(131072&e.flags)&&(vl=!0)}}return Sl(e,t,s,n,a)}function Nl(e,t,s){var n=t.pendingProps,a=n.children,i=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ka(Mo,Lo),Lo|=s;else{if(0===(1073741824&s))return e=null!==i?i.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ka(Mo,Lo),Lo|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==i?i.baseLanes:s,ka(Mo,Lo),Lo|=n}else null!==i?(n=i.baseLanes|s,t.memoizedState=null):n=s,ka(Mo,Lo),Lo|=n;return jl(e,t,a,s),t.child}function Cl(e,t){var s=t.ref;(null===e&&null!==s||null!==e&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function Sl(e,t,s,n,a){var i=La(s)?Ta:_a.current;return i=Ea(t,i),Ai(t,a),s=xr(e,t,s,n,i,a),n=fr(),null===e||vl?(ai&&n&&ei(t),t.flags|=1,jl(e,t,s,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Vl(e,t,a))}function kl(e,t,s,n,a){if(La(s)){var i=!0;Oa(t)}else i=!1;if(Ai(t,a),null===t.stateNode)Hl(e,t),il(t,s,n),ll(t,s,n,a),n=!0;else if(null===e){var r=t.stateNode,l=t.memoizedProps;r.props=l;var o=r.context,c=s.contextType;"object"===typeof c&&null!==c?c=Ti(c):c=Ea(t,c=La(s)?Ta:_a.current);var d=s.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof r.getSnapshotBeforeUpdate;u||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(l!==n||o!==c)&&rl(t,r,n,c),Pi=!1;var h=t.memoizedState;r.state=h,Hi(t,n,r,a),o=t.memoizedState,l!==n||h!==o||Aa.current||Pi?("function"===typeof d&&(sl(t,s,d,n),o=t.memoizedState),(l=Pi||al(t,s,l,n,h,o,c))?(u||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||("function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount()),"function"===typeof r.componentDidMount&&(t.flags|=4194308)):("function"===typeof r.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=o),r.props=n,r.state=o,r.context=c,n=l):("function"===typeof r.componentDidMount&&(t.flags|=4194308),n=!1)}else{r=t.stateNode,Ri(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:tl(t.type,l),r.props=c,u=t.pendingProps,h=r.context,"object"===typeof(o=s.contextType)&&null!==o?o=Ti(o):o=Ea(t,o=La(s)?Ta:_a.current);var m=s.getDerivedStateFromProps;(d="function"===typeof m||"function"===typeof r.getSnapshotBeforeUpdate)||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(l!==u||h!==o)&&rl(t,r,n,o),Pi=!1,h=t.memoizedState,r.state=h,Hi(t,n,r,a);var p=t.memoizedState;l!==u||h!==p||Aa.current||Pi?("function"===typeof m&&(sl(t,s,m,n),p=t.memoizedState),(c=Pi||al(t,s,c,n,h,p,o)||!1)?(d||"function"!==typeof r.UNSAFE_componentWillUpdate&&"function"!==typeof r.componentWillUpdate||("function"===typeof r.componentWillUpdate&&r.componentWillUpdate(n,p,o),"function"===typeof r.UNSAFE_componentWillUpdate&&r.UNSAFE_componentWillUpdate(n,p,o)),"function"===typeof r.componentDidUpdate&&(t.flags|=4),"function"===typeof r.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof r.componentDidUpdate||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof r.getSnapshotBeforeUpdate||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),r.props=n,r.state=p,r.context=o,n=c):("function"!==typeof r.componentDidUpdate||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof r.getSnapshotBeforeUpdate||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Dl(e,t,s,n,i,a)}function Dl(e,t,s,n,a,i){Cl(e,t);var r=0!==(128&t.flags);if(!n&&!r)return a&&Ra(t,s,!1),Vl(e,t,i);n=t.stateNode,gl.current=t;var l=r&&"function"!==typeof s.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&r?(t.child=bi(t,e.child,null,i),t.child=bi(t,null,l,i)):jl(e,t,l,i),t.memoizedState=n.state,a&&Ra(t,s,!0),t.child}function _l(e){var t=e.stateNode;t.pendingContext?Ia(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ia(0,t.context,!1),Ki(e,t.containerInfo)}function Al(e,t,s,n,a){return mi(),pi(a),t.flags|=256,jl(e,t,s,n),t.child}var Tl,El,Ll,Ml,Il={dehydrated:null,treeContext:null,retryLane:0};function Pl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ol(e,t,s){var n,a=t.pendingProps,r=Qi.current,l=!1,o=0!==(128&t.flags);if((n=o)||(n=(null===e||null!==e.memoizedState)&&0!==(2&r)),n?(l=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(r|=1),ka(Qi,1&r),null===e)return ci(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=a.children,e=a.fallback,l?(a=t.mode,l=t.child,o={mode:"hidden",children:o},0===(1&a)&&null!==l?(l.childLanes=0,l.pendingProps=o):l=Oc(o,a,0,null),e=Pc(e,a,s,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Pl(s),t.memoizedState=Il,e):Rl(t,o));if(null!==(r=e.memoizedState)&&null!==(n=r.dehydrated))return function(e,t,s,n,a,r,l){if(s)return 256&t.flags?(t.flags&=-257,Fl(e,t,l,n=cl(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(r=n.fallback,a=t.mode,n=Oc({mode:"visible",children:n.children},a,0,null),(r=Pc(r,a,l,null)).flags|=2,n.return=t,r.return=t,n.sibling=r,t.child=n,0!==(1&t.mode)&&bi(t,e.child,null,l),t.child.memoizedState=Pl(l),t.memoizedState=Il,r);if(0===(1&t.mode))return Fl(e,t,l,null);if("$!"===a.data){if(n=a.nextSibling&&a.nextSibling.dataset)var o=n.dgst;return n=o,Fl(e,t,l,n=cl(r=Error(i(419)),n,void 0))}if(o=0!==(l&e.childLanes),vl||o){if(null!==(n=Ao)){switch(l&-l){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(n.suspendedLanes|l))?0:a)&&a!==r.retryLane&&(r.retryLane=a,Ii(e,a),sc(n,e,a,-1))}return xc(),Fl(e,t,l,n=cl(Error(i(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Dc.bind(null,e),a._reactRetry=t,null):(e=r.treeContext,ni=ca(a.nextSibling),si=t,ai=!0,ii=null,null!==e&&(qa[Ya++]=Ja,qa[Ya++]=Xa,qa[Ya++]=Ka,Ja=e.id,Xa=e.overflow,Ka=t),t=Rl(t,n.children),t.flags|=4096,t)}(e,t,o,a,n,r,s);if(l){l=a.fallback,o=t.mode,n=(r=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&o)&&t.child!==r?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Mc(r,c)).subtreeFlags=14680064&r.subtreeFlags,null!==n?l=Mc(n,l):(l=Pc(l,o,s,null)).flags|=2,l.return=t,a.return=t,a.sibling=l,t.child=a,a=l,l=t.child,o=null===(o=e.child.memoizedState)?Pl(s):{baseLanes:o.baseLanes|s,cachePool:null,transitions:o.transitions},l.memoizedState=o,l.childLanes=e.childLanes&~s,t.memoizedState=Il,a}return e=(l=e.child).sibling,a=Mc(l,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=s),a.return=t,a.sibling=null,null!==e&&(null===(s=t.deletions)?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=a,t.memoizedState=null,a}function Rl(e,t){return(t=Oc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fl(e,t,s,n){return null!==n&&pi(n),bi(t,e.child,null,s),(e=Rl(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zl(e,t,s){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),_i(e.return,t,s)}function Bl(e,t,s,n,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:s,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=s,i.tailMode=a)}function $l(e,t,s){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(jl(e,t,n.children,s),0!==(2&(n=Qi.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zl(e,s,t);else if(19===e.tag)zl(e,s,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ka(Qi,n),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(s=t.child,a=null;null!==s;)null!==(e=s.alternate)&&null===er(e)&&(a=s),s=s.sibling;null===(s=a)?(a=t.child,t.child=null):(a=s.sibling,s.sibling=null),Bl(t,!1,a,s,i);break;case"backwards":for(s=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===er(e)){t.child=a;break}e=a.sibling,a.sibling=s,s=a,a=e}Bl(t,!0,s,null,i);break;case"together":Bl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hl(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vl(e,t,s){if(null!==e&&(t.dependencies=e.dependencies),Oo|=t.lanes,0===(s&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(s=Mc(e=t.child,e.pendingProps),t.child=s,s.return=t;null!==e.sibling;)e=e.sibling,(s=s.sibling=Mc(e,e.pendingProps)).return=t;s.sibling=null}return t.child}function Ul(e,t){if(!ai)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;null!==t;)null!==t.alternate&&(s=t),t=t.sibling;null===s?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var n=null;null!==s;)null!==s.alternate&&(n=s),s=s.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Wl(e){var t=null!==e.alternate&&e.alternate.child===e.child,s=0,n=0;if(t)for(var a=e.child;null!==a;)s|=a.lanes|a.childLanes,n|=14680064&a.subtreeFlags,n|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)s|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=s,t}function Gl(e,t,s){var n=t.pendingProps;switch(ti(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wl(t),null;case 1:case 17:return La(t.type)&&Ma(),Wl(t),null;case 3:return n=t.stateNode,Ji(),Sa(Aa),Sa(_a),sr(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ui(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ii&&(rc(ii),ii=null))),El(e,t),Wl(t),null;case 5:Zi(t);var a=Yi(qi.current);if(s=t.type,null!==e&&null!=t.stateNode)Ll(e,t,s,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(i(166));return Wl(t),null}if(e=Yi(Wi.current),ui(t)){n=t.stateNode,s=t.type;var r=t.memoizedProps;switch(n[ha]=t,n[ma]=r,e=0!==(1&t.mode),s){case"dialog":zn("cancel",n),zn("close",n);break;case"iframe":case"object":case"embed":zn("load",n);break;case"video":case"audio":for(a=0;a<Pn.length;a++)zn(Pn[a],n);break;case"source":zn("error",n);break;case"img":case"image":case"link":zn("error",n),zn("load",n);break;case"details":zn("toggle",n);break;case"input":J(n,r),zn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!r.multiple},zn("invalid",n);break;case"textarea":ae(n,r),zn("invalid",n)}for(var o in ve(s,r),a=null,r)if(r.hasOwnProperty(o)){var c=r[o];"children"===o?"string"===typeof c?n.textContent!==c&&(!0!==r.suppressHydrationWarning&&Zn(n.textContent,c,e),a=["children",c]):"number"===typeof c&&n.textContent!==""+c&&(!0!==r.suppressHydrationWarning&&Zn(n.textContent,c,e),a=["children",""+c]):l.hasOwnProperty(o)&&null!=c&&"onScroll"===o&&zn("scroll",n)}switch(s){case"input":G(n),Q(n,r,!0);break;case"textarea":G(n),re(n);break;case"select":case"option":break;default:"function"===typeof r.onClick&&(n.onclick=Qn)}n=a,t.updateQueue=n,null!==n&&(t.flags|=4)}else{o=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=le(s)),"http://www.w3.org/1999/xhtml"===e?"script"===s?((e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=o.createElement(s,{is:n.is}):(e=o.createElement(s),"select"===s&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,s),e[ha]=t,e[ma]=n,Tl(e,t,!1,!1),t.stateNode=e;e:{switch(o=je(s,n),s){case"dialog":zn("cancel",e),zn("close",e),a=n;break;case"iframe":case"object":case"embed":zn("load",e),a=n;break;case"video":case"audio":for(a=0;a<Pn.length;a++)zn(Pn[a],e);a=n;break;case"source":zn("error",e),a=n;break;case"img":case"image":case"link":zn("error",e),zn("load",e),a=n;break;case"details":zn("toggle",e),a=n;break;case"input":J(e,n),a=K(e,n),zn("invalid",e);break;case"option":default:a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=R({},n,{value:void 0}),zn("invalid",e);break;case"textarea":ae(e,n),a=ne(e,n),zn("invalid",e)}for(r in ve(s,a),c=a)if(c.hasOwnProperty(r)){var d=c[r];"style"===r?fe(e,d):"dangerouslySetInnerHTML"===r?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===r?"string"===typeof d?("textarea"!==s||""!==d)&&he(e,d):"number"===typeof d&&he(e,""+d):"suppressContentEditableWarning"!==r&&"suppressHydrationWarning"!==r&&"autoFocus"!==r&&(l.hasOwnProperty(r)?null!=d&&"onScroll"===r&&zn("scroll",e):null!=d&&j(e,r,d,o))}switch(s){case"input":G(e),Q(e,n,!1);break;case"textarea":G(e),re(e);break;case"option":null!=n.value&&e.setAttribute("value",""+U(n.value));break;case"select":e.multiple=!!n.multiple,null!=(r=n.value)?se(e,!!n.multiple,r,!1):null!=n.defaultValue&&se(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Qn)}switch(s){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wl(t),null;case 6:if(e&&null!=t.stateNode)Ml(e,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(i(166));if(s=Yi(qi.current),Yi(Wi.current),ui(t)){if(n=t.stateNode,s=t.memoizedProps,n[ha]=t,(r=n.nodeValue!==s)&&null!==(e=si))switch(e.tag){case 3:Zn(n.nodeValue,s,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zn(n.nodeValue,s,0!==(1&e.mode))}r&&(t.flags|=4)}else(n=(9===s.nodeType?s:s.ownerDocument).createTextNode(n))[ha]=t,t.stateNode=n}return Wl(t),null;case 13:if(Sa(Qi),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ai&&null!==ni&&0!==(1&t.mode)&&0===(128&t.flags))hi(),mi(),t.flags|=98560,r=!1;else if(r=ui(t),null!==n&&null!==n.dehydrated){if(null===e){if(!r)throw Error(i(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(i(317));r[ha]=t}else mi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wl(t),r=!1}else null!==ii&&(rc(ii),ii=null),r=!0;if(!r)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=s,t):((n=null!==n)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Qi.current)?0===Io&&(Io=3):xc())),null!==t.updateQueue&&(t.flags|=4),Wl(t),null);case 4:return Ji(),El(e,t),null===e&&Hn(t.stateNode.containerInfo),Wl(t),null;case 10:return Di(t.type._context),Wl(t),null;case 19:if(Sa(Qi),null===(r=t.memoizedState))return Wl(t),null;if(n=0!==(128&t.flags),null===(o=r.rendering))if(n)Ul(r,!1);else{if(0!==Io||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=er(e))){for(t.flags|=128,Ul(r,!1),null!==(n=o.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=s,s=t.child;null!==s;)e=n,(r=s).flags&=14680066,null===(o=r.alternate)?(r.childLanes=0,r.lanes=e,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,e=o.dependencies,r.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return ka(Qi,1&Qi.current|2),t.child}e=e.sibling}null!==r.tail&&Xe()>Ho&&(t.flags|=128,n=!0,Ul(r,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=er(o))){if(t.flags|=128,n=!0,null!==(s=e.updateQueue)&&(t.updateQueue=s,t.flags|=4),Ul(r,!0),null===r.tail&&"hidden"===r.tailMode&&!o.alternate&&!ai)return Wl(t),null}else 2*Xe()-r.renderingStartTime>Ho&&1073741824!==s&&(t.flags|=128,n=!0,Ul(r,!1),t.lanes=4194304);r.isBackwards?(o.sibling=t.child,t.child=o):(null!==(s=r.last)?s.sibling=o:t.child=o,r.last=o)}return null!==r.tail?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Xe(),t.sibling=null,s=Qi.current,ka(Qi,n?1&s|2:1&s),t):(Wl(t),null);case 22:case 23:return uc(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!==(1&t.mode)?0!==(1073741824&Lo)&&(Wl(t),6&t.subtreeFlags&&(t.flags|=8192)):Wl(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function ql(e,t){switch(ti(t),t.tag){case 1:return La(t.type)&&Ma(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ji(),Sa(Aa),Sa(_a),sr(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zi(t),null;case 13:if(Sa(Qi),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));mi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Sa(Qi),null;case 4:return Ji(),null;case 10:return Di(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Tl=function(e,t){for(var s=t.child;null!==s;){if(5===s.tag||6===s.tag)e.appendChild(s.stateNode);else if(4!==s.tag&&null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break;for(;null===s.sibling;){if(null===s.return||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},El=function(){},Ll=function(e,t,s,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Yi(Wi.current);var i,r=null;switch(s){case"input":a=K(e,a),n=K(e,n),r=[];break;case"select":a=R({},a,{value:void 0}),n=R({},n,{value:void 0}),r=[];break;case"textarea":a=ne(e,a),n=ne(e,n),r=[];break;default:"function"!==typeof a.onClick&&"function"===typeof n.onClick&&(e.onclick=Qn)}for(d in ve(s,n),s=null,a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&null!=a[d])if("style"===d){var o=a[d];for(i in o)o.hasOwnProperty(i)&&(s||(s={}),s[i]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(l.hasOwnProperty(d)?r||(r=[]):(r=r||[]).push(d,null));for(d in n){var c=n[d];if(o=null!=a?a[d]:void 0,n.hasOwnProperty(d)&&c!==o&&(null!=c||null!=o))if("style"===d)if(o){for(i in o)!o.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(s||(s={}),s[i]="");for(i in c)c.hasOwnProperty(i)&&o[i]!==c[i]&&(s||(s={}),s[i]=c[i])}else s||(r||(r=[]),r.push(d,s)),s=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,o=o?o.__html:void 0,null!=c&&o!==c&&(r=r||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(r=r||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(l.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&zn("scroll",e),r||o===c||(r=[])):(r=r||[]).push(d,c))}s&&(r=r||[]).push("style",s);var d=r;(t.updateQueue=d)&&(t.flags|=4)}},Ml=function(e,t,s,n){s!==n&&(t.flags|=4)};var Yl=!1,Kl=!1,Jl="function"===typeof WeakSet?WeakSet:Set,Xl=null;function Zl(e,t){var s=e.ref;if(null!==s)if("function"===typeof s)try{s(null)}catch(n){Cc(e,t,n)}else s.current=null}function Ql(e,t,s){try{s()}catch(n){Cc(e,t,n)}}var eo=!1;function to(e,t,s){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,void 0!==i&&Ql(t,s,i)}a=a.next}while(a!==n)}}function so(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var s=t=t.next;do{if((s.tag&e)===e){var n=s.create;s.destroy=n()}s=s.next}while(s!==t)}}function no(e){var t=e.ref;if(null!==t){var s=e.stateNode;e.tag,e=s,"function"===typeof t?t(e):t.current=e}}function ao(e){var t=e.alternate;null!==t&&(e.alternate=null,ao(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ha],delete t[ma],delete t[xa],delete t[fa],delete t[ga])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function io(e){return 5===e.tag||3===e.tag||4===e.tag}function ro(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||io(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function lo(e,t,s){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===s.nodeType?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(8===s.nodeType?(t=s.parentNode).insertBefore(e,s):(t=s).appendChild(e),null!==(s=s._reactRootContainer)&&void 0!==s||null!==t.onclick||(t.onclick=Qn));else if(4!==n&&null!==(e=e.child))for(lo(e,t,s),e=e.sibling;null!==e;)lo(e,t,s),e=e.sibling}function oo(e,t,s){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(4!==n&&null!==(e=e.child))for(oo(e,t,s),e=e.sibling;null!==e;)oo(e,t,s),e=e.sibling}var co=null,uo=!1;function ho(e,t,s){for(s=s.child;null!==s;)mo(e,t,s),s=s.sibling}function mo(e,t,s){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(at,s)}catch(l){}switch(s.tag){case 5:Kl||Zl(s,t);case 6:var n=co,a=uo;co=null,ho(e,t,s),uo=a,null!==(co=n)&&(uo?(e=co,s=s.stateNode,8===e.nodeType?e.parentNode.removeChild(s):e.removeChild(s)):co.removeChild(s.stateNode));break;case 18:null!==co&&(uo?(e=co,s=s.stateNode,8===e.nodeType?oa(e.parentNode,s):1===e.nodeType&&oa(e,s),Ht(e)):oa(co,s.stateNode));break;case 4:n=co,a=uo,co=s.stateNode.containerInfo,uo=!0,ho(e,t,s),co=n,uo=a;break;case 0:case 11:case 14:case 15:if(!Kl&&(null!==(n=s.updateQueue)&&null!==(n=n.lastEffect))){a=n=n.next;do{var i=a,r=i.destroy;i=i.tag,void 0!==r&&(0!==(2&i)||0!==(4&i))&&Ql(s,t,r),a=a.next}while(a!==n)}ho(e,t,s);break;case 1:if(!Kl&&(Zl(s,t),"function"===typeof(n=s.stateNode).componentWillUnmount))try{n.props=s.memoizedProps,n.state=s.memoizedState,n.componentWillUnmount()}catch(l){Cc(s,t,l)}ho(e,t,s);break;case 21:ho(e,t,s);break;case 22:1&s.mode?(Kl=(n=Kl)||null!==s.memoizedState,ho(e,t,s),Kl=n):ho(e,t,s);break;default:ho(e,t,s)}}function po(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var s=e.stateNode;null===s&&(s=e.stateNode=new Jl),t.forEach((function(t){var n=_c.bind(null,e,t);s.has(t)||(s.add(t),t.then(n,n))}))}}function xo(e,t){var s=t.deletions;if(null!==s)for(var n=0;n<s.length;n++){var a=s[n];try{var r=e,l=t,o=l;e:for(;null!==o;){switch(o.tag){case 5:co=o.stateNode,uo=!1;break e;case 3:case 4:co=o.stateNode.containerInfo,uo=!0;break e}o=o.return}if(null===co)throw Error(i(160));mo(r,l,a),co=null,uo=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(d){Cc(a,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)fo(t,e),t=t.sibling}function fo(e,t){var s=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(xo(t,e),go(e),4&n){try{to(3,e,e.return),so(3,e)}catch(f){Cc(e,e.return,f)}try{to(5,e,e.return)}catch(f){Cc(e,e.return,f)}}break;case 1:xo(t,e),go(e),512&n&&null!==s&&Zl(s,s.return);break;case 5:if(xo(t,e),go(e),512&n&&null!==s&&Zl(s,s.return),32&e.flags){var a=e.stateNode;try{he(a,"")}catch(f){Cc(e,e.return,f)}}if(4&n&&null!=(a=e.stateNode)){var r=e.memoizedProps,l=null!==s?s.memoizedProps:r,o=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===o&&"radio"===r.type&&null!=r.name&&X(a,r),je(o,l);var d=je(o,r);for(l=0;l<c.length;l+=2){var u=c[l],h=c[l+1];"style"===u?fe(a,h):"dangerouslySetInnerHTML"===u?ue(a,h):"children"===u?he(a,h):j(a,u,h,d)}switch(o){case"input":Z(a,r);break;case"textarea":ie(a,r);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!r.multiple;var p=r.value;null!=p?se(a,!!r.multiple,p,!1):m!==!!r.multiple&&(null!=r.defaultValue?se(a,!!r.multiple,r.defaultValue,!0):se(a,!!r.multiple,r.multiple?[]:"",!1))}a[ma]=r}catch(f){Cc(e,e.return,f)}}break;case 6:if(xo(t,e),go(e),4&n){if(null===e.stateNode)throw Error(i(162));a=e.stateNode,r=e.memoizedProps;try{a.nodeValue=r}catch(f){Cc(e,e.return,f)}}break;case 3:if(xo(t,e),go(e),4&n&&null!==s&&s.memoizedState.isDehydrated)try{Ht(t.containerInfo)}catch(f){Cc(e,e.return,f)}break;case 4:default:xo(t,e),go(e);break;case 13:xo(t,e),go(e),8192&(a=e.child).flags&&(r=null!==a.memoizedState,a.stateNode.isHidden=r,!r||null!==a.alternate&&null!==a.alternate.memoizedState||($o=Xe())),4&n&&po(e);break;case 22:if(u=null!==s&&null!==s.memoizedState,1&e.mode?(Kl=(d=Kl)||u,xo(t,e),Kl=d):xo(t,e),go(e),8192&n){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Xl=e,u=e.child;null!==u;){for(h=Xl=u;null!==Xl;){switch(p=(m=Xl).child,m.tag){case 0:case 11:case 14:case 15:to(4,m,m.return);break;case 1:Zl(m,m.return);var x=m.stateNode;if("function"===typeof x.componentWillUnmount){n=m,s=m.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(f){Cc(n,s,f)}}break;case 5:Zl(m,m.return);break;case 22:if(null!==m.memoizedState){yo(h);continue}}null!==p?(p.return=m,Xl=p):yo(h)}u=u.sibling}e:for(u=null,h=e;;){if(5===h.tag){if(null===u){u=h;try{a=h.stateNode,d?"function"===typeof(r=a.style).setProperty?r.setProperty("display","none","important"):r.display="none":(o=h.stateNode,l=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,o.style.display=xe("display",l))}catch(f){Cc(e,e.return,f)}}}else if(6===h.tag){if(null===u)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(f){Cc(e,e.return,f)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:xo(t,e),go(e),4&n&&po(e);case 21:}}function go(e){var t=e.flags;if(2&t){try{e:{for(var s=e.return;null!==s;){if(io(s)){var n=s;break e}s=s.return}throw Error(i(160))}switch(n.tag){case 5:var a=n.stateNode;32&n.flags&&(he(a,""),n.flags&=-33),oo(e,ro(e),a);break;case 3:case 4:var r=n.stateNode.containerInfo;lo(e,ro(e),r);break;default:throw Error(i(161))}}catch(l){Cc(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vo(e,t,s){Xl=e,jo(e,t,s)}function jo(e,t,s){for(var n=0!==(1&e.mode);null!==Xl;){var a=Xl,i=a.child;if(22===a.tag&&n){var r=null!==a.memoizedState||Yl;if(!r){var l=a.alternate,o=null!==l&&null!==l.memoizedState||Kl;l=Yl;var c=Kl;if(Yl=r,(Kl=o)&&!c)for(Xl=a;null!==Xl;)o=(r=Xl).child,22===r.tag&&null!==r.memoizedState?wo(a):null!==o?(o.return=r,Xl=o):wo(a);for(;null!==i;)Xl=i,jo(i,t,s),i=i.sibling;Xl=a,Yl=l,Kl=c}bo(e)}else 0!==(8772&a.subtreeFlags)&&null!==i?(i.return=a,Xl=i):bo(e)}}function bo(e){for(;null!==Xl;){var t=Xl;if(0!==(8772&t.flags)){var s=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Kl||so(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!Kl)if(null===s)n.componentDidMount();else{var a=t.elementType===t.type?s.memoizedProps:tl(t.type,s.memoizedProps);n.componentDidUpdate(a,s.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var r=t.updateQueue;null!==r&&Vi(t,r,n);break;case 3:var l=t.updateQueue;if(null!==l){if(s=null,null!==t.child)switch(t.child.tag){case 5:case 1:s=t.child.stateNode}Vi(t,l,s)}break;case 5:var o=t.stateNode;if(null===s&&4&t.flags){s=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var h=u.dehydrated;null!==h&&Ht(h)}}}break;default:throw Error(i(163))}Kl||512&t.flags&&no(t)}catch(m){Cc(t,t.return,m)}}if(t===e){Xl=null;break}if(null!==(s=t.sibling)){s.return=t.return,Xl=s;break}Xl=t.return}}function yo(e){for(;null!==Xl;){var t=Xl;if(t===e){Xl=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Xl=s;break}Xl=t.return}}function wo(e){for(;null!==Xl;){var t=Xl;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{so(4,t)}catch(o){Cc(t,s,o)}break;case 1:var n=t.stateNode;if("function"===typeof n.componentDidMount){var a=t.return;try{n.componentDidMount()}catch(o){Cc(t,a,o)}}var i=t.return;try{no(t)}catch(o){Cc(t,i,o)}break;case 5:var r=t.return;try{no(t)}catch(o){Cc(t,r,o)}}}catch(o){Cc(t,t.return,o)}if(t===e){Xl=null;break}var l=t.sibling;if(null!==l){l.return=t.return,Xl=l;break}Xl=t.return}}var No,Co=Math.ceil,So=b.ReactCurrentDispatcher,ko=b.ReactCurrentOwner,Do=b.ReactCurrentBatchConfig,_o=0,Ao=null,To=null,Eo=0,Lo=0,Mo=Ca(0),Io=0,Po=null,Oo=0,Ro=0,Fo=0,zo=null,Bo=null,$o=0,Ho=1/0,Vo=null,Uo=!1,Wo=null,Go=null,qo=!1,Yo=null,Ko=0,Jo=0,Xo=null,Zo=-1,Qo=0;function ec(){return 0!==(6&_o)?Xe():-1!==Zo?Zo:Zo=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&_o)&&0!==Eo?Eo&-Eo:null!==xi.transition?(0===Qo&&(Qo=xt()),Qo):0!==(e=jt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function sc(e,t,s,n){if(50<Jo)throw Jo=0,Xo=null,Error(i(185));gt(e,s,n),0!==(2&_o)&&e===Ao||(e===Ao&&(0===(2&_o)&&(Ro|=s),4===Io&&lc(e,Eo)),nc(e,n),1===s&&0===_o&&0===(1&t.mode)&&(Ho=Xe()+500,za&&Ha()))}function nc(e,t){var s=e.callbackNode;!function(e,t){for(var s=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var r=31-rt(i),l=1<<r,o=a[r];-1===o?0!==(l&s)&&0===(l&n)||(a[r]=mt(l,t)):o<=t&&(e.expiredLanes|=l),i&=~l}}(e,t);var n=ht(e,e===Ao?Eo:0);if(0===n)null!==s&&Ye(s),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=s&&Ye(s),1===t)0===e.tag?function(e){za=!0,$a(e)}(oc.bind(null,e)):$a(oc.bind(null,e)),ra((function(){0===(6&_o)&&Ha()})),s=null;else{switch(bt(n)){case 1:s=Qe;break;case 4:s=et;break;case 16:default:s=tt;break;case 536870912:s=nt}s=Ac(s,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function ac(e,t){if(Zo=-1,Qo=0,0!==(6&_o))throw Error(i(327));var s=e.callbackNode;if(wc()&&e.callbackNode!==s)return null;var n=ht(e,e===Ao?Eo:0);if(0===n)return null;if(0!==(30&n)||0!==(n&e.expiredLanes)||t)t=fc(e,n);else{t=n;var a=_o;_o|=2;var r=pc();for(Ao===e&&Eo===t||(Vo=null,Ho=Xe()+500,hc(e,t));;)try{vc();break}catch(o){mc(e,o)}ki(),So.current=r,_o=a,null!==To?t=0:(Ao=null,Eo=0,t=Io)}if(0!==t){if(2===t&&(0!==(a=pt(e))&&(n=a,t=ic(e,a))),1===t)throw s=Po,hc(e,0),lc(e,n),nc(e,Xe()),s;if(6===t)lc(e,n);else{if(a=e.current.alternate,0===(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var s=t.updateQueue;if(null!==s&&null!==(s=s.stores))for(var n=0;n<s.length;n++){var a=s[n],i=a.getSnapshot;a=a.value;try{if(!ln(i(),a))return!1}catch(l){return!1}}}if(s=t.child,16384&t.subtreeFlags&&null!==s)s.return=t,t=s;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=fc(e,n))&&(0!==(r=pt(e))&&(n=r,t=ic(e,r))),1===t))throw s=Po,hc(e,0),lc(e,n),nc(e,Xe()),s;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(i(345));case 2:case 5:yc(e,Bo,Vo);break;case 3:if(lc(e,n),(130023424&n)===n&&10<(t=$o+500-Xe())){if(0!==ht(e,0))break;if(((a=e.suspendedLanes)&n)!==n){ec(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=na(yc.bind(null,e,Bo,Vo),t);break}yc(e,Bo,Vo);break;case 4:if(lc(e,n),(4194240&n)===n)break;for(t=e.eventTimes,a=-1;0<n;){var l=31-rt(n);r=1<<l,(l=t[l])>a&&(a=l),n&=~r}if(n=a,10<(n=(120>(n=Xe()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Co(n/1960))-n)){e.timeoutHandle=na(yc.bind(null,e,Bo,Vo),n);break}yc(e,Bo,Vo);break;default:throw Error(i(329))}}}return nc(e,Xe()),e.callbackNode===s?ac.bind(null,e):null}function ic(e,t){var s=zo;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=fc(e,t))&&(t=Bo,Bo=s,null!==t&&rc(t)),e}function rc(e){null===Bo?Bo=e:Bo.push.apply(Bo,e)}function lc(e,t){for(t&=~Fo,t&=~Ro,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-rt(t),n=1<<s;e[s]=-1,t&=~n}}function oc(e){if(0!==(6&_o))throw Error(i(327));wc();var t=ht(e,0);if(0===(1&t))return nc(e,Xe()),null;var s=fc(e,t);if(0!==e.tag&&2===s){var n=pt(e);0!==n&&(t=n,s=ic(e,n))}if(1===s)throw s=Po,hc(e,0),lc(e,t),nc(e,Xe()),s;if(6===s)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,yc(e,Bo,Vo),nc(e,Xe()),null}function cc(e,t){var s=_o;_o|=1;try{return e(t)}finally{0===(_o=s)&&(Ho=Xe()+500,za&&Ha())}}function dc(e){null!==Yo&&0===Yo.tag&&0===(6&_o)&&wc();var t=_o;_o|=1;var s=Do.transition,n=jt;try{if(Do.transition=null,jt=1,e)return e()}finally{jt=n,Do.transition=s,0===(6&(_o=t))&&Ha()}}function uc(){Lo=Mo.current,Sa(Mo)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(-1!==s&&(e.timeoutHandle=-1,aa(s)),null!==To)for(s=To.return;null!==s;){var n=s;switch(ti(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&Ma();break;case 3:Ji(),Sa(Aa),Sa(_a),sr();break;case 5:Zi(n);break;case 4:Ji();break;case 13:case 19:Sa(Qi);break;case 10:Di(n.type._context);break;case 22:case 23:uc()}s=s.return}if(Ao=e,To=e=Mc(e.current,null),Eo=Lo=t,Io=0,Po=null,Fo=Ro=Oo=0,Bo=zo=null,null!==Ei){for(t=0;t<Ei.length;t++)if(null!==(n=(s=Ei[t]).interleaved)){s.interleaved=null;var a=n.next,i=s.pending;if(null!==i){var r=i.next;i.next=a,n.next=r}s.pending=n}Ei=null}return e}function mc(e,t){for(;;){var s=To;try{if(ki(),nr.current=Xr,cr){for(var n=rr.memoizedState;null!==n;){var a=n.queue;null!==a&&(a.pending=null),n=n.next}cr=!1}if(ir=0,or=lr=rr=null,dr=!1,ur=0,ko.current=null,null===s||null===s.return){Io=1,Po=t,To=null;break}e:{var r=e,l=s.return,o=s,c=t;if(t=Eo,o.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=o,h=u.tag;if(0===(1&u.mode)&&(0===h||11===h||15===h)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=xl(l);if(null!==p){p.flags&=-257,fl(p,l,o,0,t),1&p.mode&&pl(r,d,t),c=d;var x=(t=p).updateQueue;if(null===x){var f=new Set;f.add(c),t.updateQueue=f}else x.add(c);break e}if(0===(1&t)){pl(r,d,t),xc();break e}c=Error(i(426))}else if(ai&&1&o.mode){var g=xl(l);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),fl(g,l,o,0,t),pi(ol(c,o));break e}}r=c=ol(c,o),4!==Io&&(Io=2),null===zo?zo=[r]:zo.push(r),r=l;do{switch(r.tag){case 3:r.flags|=65536,t&=-t,r.lanes|=t,$i(r,hl(0,c,t));break e;case 1:o=c;var v=r.type,j=r.stateNode;if(0===(128&r.flags)&&("function"===typeof v.getDerivedStateFromError||null!==j&&"function"===typeof j.componentDidCatch&&(null===Go||!Go.has(j)))){r.flags|=65536,t&=-t,r.lanes|=t,$i(r,ml(r,o,t));break e}}r=r.return}while(null!==r)}bc(s)}catch(b){t=b,To===s&&null!==s&&(To=s=s.return);continue}break}}function pc(){var e=So.current;return So.current=Xr,null===e?Xr:e}function xc(){0!==Io&&3!==Io&&2!==Io||(Io=4),null===Ao||0===(268435455&Oo)&&0===(268435455&Ro)||lc(Ao,Eo)}function fc(e,t){var s=_o;_o|=2;var n=pc();for(Ao===e&&Eo===t||(Vo=null,hc(e,t));;)try{gc();break}catch(a){mc(e,a)}if(ki(),_o=s,So.current=n,null!==To)throw Error(i(261));return Ao=null,Eo=0,Io}function gc(){for(;null!==To;)jc(To)}function vc(){for(;null!==To&&!Ke();)jc(To)}function jc(e){var t=No(e.alternate,e,Lo);e.memoizedProps=e.pendingProps,null===t?bc(e):To=t,ko.current=null}function bc(e){var t=e;do{var s=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(s=Gl(s,t,Lo)))return void(To=s)}else{if(null!==(s=ql(s,t)))return s.flags&=32767,void(To=s);if(null===e)return Io=6,void(To=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(To=t);To=t=e}while(null!==t);0===Io&&(Io=5)}function yc(e,t,s){var n=jt,a=Do.transition;try{Do.transition=null,jt=1,function(e,t,s,n){do{wc()}while(null!==Yo);if(0!==(6&_o))throw Error(i(327));s=e.finishedWork;var a=e.finishedLanes;if(null===s)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var r=s.lanes|s.childLanes;if(function(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<s;){var a=31-rt(s),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,s&=~i}}(e,r),e===Ao&&(To=Ao=null,Eo=0),0===(2064&s.subtreeFlags)&&0===(2064&s.flags)||qo||(qo=!0,Ac(tt,(function(){return wc(),null}))),r=0!==(15990&s.flags),0!==(15990&s.subtreeFlags)||r){r=Do.transition,Do.transition=null;var l=jt;jt=1;var o=_o;_o|=4,ko.current=null,function(e,t){if(ea=Ut,mn(e=hn())){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(s=(s=e.ownerDocument)&&s.defaultView||window).getSelection&&s.getSelection();if(n&&0!==n.rangeCount){s=n.anchorNode;var a=n.anchorOffset,r=n.focusNode;n=n.focusOffset;try{s.nodeType,r.nodeType}catch(y){s=null;break e}var l=0,o=-1,c=-1,d=0,u=0,h=e,m=null;t:for(;;){for(var p;h!==s||0!==a&&3!==h.nodeType||(o=l+a),h!==r||0!==n&&3!==h.nodeType||(c=l+n),3===h.nodeType&&(l+=h.nodeValue.length),null!==(p=h.firstChild);)m=h,h=p;for(;;){if(h===e)break t;if(m===s&&++d===a&&(o=l),m===r&&++u===n&&(c=l),null!==(p=h.nextSibling))break;m=(h=m).parentNode}h=p}s=-1===o||-1===c?null:{start:o,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(ta={focusedElem:e,selectionRange:s},Ut=!1,Xl=t;null!==Xl;)if(e=(t=Xl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xl=e;else for(;null!==Xl;){t=Xl;try{var x=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==x){var f=x.memoizedProps,g=x.memoizedState,v=t.stateNode,j=v.getSnapshotBeforeUpdate(t.elementType===t.type?f:tl(t.type,f),g);v.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(i(163))}}catch(y){Cc(t,t.return,y)}if(null!==(e=t.sibling)){e.return=t.return,Xl=e;break}Xl=t.return}x=eo,eo=!1}(e,s),fo(s,e),pn(ta),Ut=!!ea,ta=ea=null,e.current=s,vo(s,e,a),Je(),_o=o,jt=l,Do.transition=r}else e.current=s;if(qo&&(qo=!1,Yo=e,Ko=a),r=e.pendingLanes,0===r&&(Go=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(s.stateNode),nc(e,Xe()),null!==t)for(n=e.onRecoverableError,s=0;s<t.length;s++)a=t[s],n(a.value,{componentStack:a.stack,digest:a.digest});if(Uo)throw Uo=!1,e=Wo,Wo=null,e;0!==(1&Ko)&&0!==e.tag&&wc(),r=e.pendingLanes,0!==(1&r)?e===Xo?Jo++:(Jo=0,Xo=e):Jo=0,Ha()}(e,t,s,n)}finally{Do.transition=a,jt=n}return null}function wc(){if(null!==Yo){var e=bt(Ko),t=Do.transition,s=jt;try{if(Do.transition=null,jt=16>e?16:e,null===Yo)var n=!1;else{if(e=Yo,Yo=null,Ko=0,0!==(6&_o))throw Error(i(331));var a=_o;for(_o|=4,Xl=e.current;null!==Xl;){var r=Xl,l=r.child;if(0!==(16&Xl.flags)){var o=r.deletions;if(null!==o){for(var c=0;c<o.length;c++){var d=o[c];for(Xl=d;null!==Xl;){var u=Xl;switch(u.tag){case 0:case 11:case 15:to(8,u,r)}var h=u.child;if(null!==h)h.return=u,Xl=h;else for(;null!==Xl;){var m=(u=Xl).sibling,p=u.return;if(ao(u),u===d){Xl=null;break}if(null!==m){m.return=p,Xl=m;break}Xl=p}}}var x=r.alternate;if(null!==x){var f=x.child;if(null!==f){x.child=null;do{var g=f.sibling;f.sibling=null,f=g}while(null!==f)}}Xl=r}}if(0!==(2064&r.subtreeFlags)&&null!==l)l.return=r,Xl=l;else e:for(;null!==Xl;){if(0!==(2048&(r=Xl).flags))switch(r.tag){case 0:case 11:case 15:to(9,r,r.return)}var v=r.sibling;if(null!==v){v.return=r.return,Xl=v;break e}Xl=r.return}}var j=e.current;for(Xl=j;null!==Xl;){var b=(l=Xl).child;if(0!==(2064&l.subtreeFlags)&&null!==b)b.return=l,Xl=b;else e:for(l=j;null!==Xl;){if(0!==(2048&(o=Xl).flags))try{switch(o.tag){case 0:case 11:case 15:so(9,o)}}catch(w){Cc(o,o.return,w)}if(o===l){Xl=null;break e}var y=o.sibling;if(null!==y){y.return=o.return,Xl=y;break e}Xl=o.return}}if(_o=a,Ha(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(at,e)}catch(w){}n=!0}return n}finally{jt=s,Do.transition=t}}return!1}function Nc(e,t,s){e=zi(e,t=hl(0,t=ol(s,t),1),1),t=ec(),null!==e&&(gt(e,1,t),nc(e,t))}function Cc(e,t,s){if(3===e.tag)Nc(e,e,s);else for(;null!==t;){if(3===t.tag){Nc(t,e,s);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Go||!Go.has(n))){t=zi(t,e=ml(t,e=ol(s,e),1),1),e=ec(),null!==t&&(gt(t,1,e),nc(t,e));break}}t=t.return}}function Sc(e,t,s){var n=e.pingCache;null!==n&&n.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&s,Ao===e&&(Eo&s)===s&&(4===Io||3===Io&&(130023424&Eo)===Eo&&500>Xe()-$o?hc(e,0):Fo|=s),nc(e,t)}function kc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var s=ec();null!==(e=Ii(e,t))&&(gt(e,t,s),nc(e,s))}function Dc(e){var t=e.memoizedState,s=0;null!==t&&(s=t.retryLane),kc(e,s)}function _c(e,t){var s=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;null!==a&&(s=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(i(314))}null!==n&&n.delete(t),kc(e,s)}function Ac(e,t){return qe(e,t)}function Tc(e,t,s,n){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ec(e,t,s,n){return new Tc(e,t,s,n)}function Lc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mc(e,t){var s=e.alternate;return null===s?((s=Ec(e.tag,t,e.key,e.mode)).elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=14680064&e.flags,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Ic(e,t,s,n,a,r){var l=2;if(n=e,"function"===typeof e)Lc(e)&&(l=1);else if("string"===typeof e)l=5;else e:switch(e){case N:return Pc(s.children,a,r,t);case C:l=8,a|=8;break;case S:return(e=Ec(12,s,t,2|a)).elementType=S,e.lanes=r,e;case A:return(e=Ec(13,s,t,a)).elementType=A,e.lanes=r,e;case T:return(e=Ec(19,s,t,a)).elementType=T,e.lanes=r,e;case M:return Oc(s,a,r,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:l=10;break e;case D:l=9;break e;case _:l=11;break e;case E:l=14;break e;case L:l=16,n=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Ec(l,s,t,a)).elementType=e,t.type=n,t.lanes=r,t}function Pc(e,t,s,n){return(e=Ec(7,e,n,t)).lanes=s,e}function Oc(e,t,s,n){return(e=Ec(22,e,n,t)).elementType=M,e.lanes=s,e.stateNode={isHidden:!1},e}function Rc(e,t,s){return(e=Ec(6,e,null,t)).lanes=s,e}function Fc(e,t,s){return(t=Ec(4,null!==e.children?e.children:[],e.key,t)).lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,s,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ft(0),this.expirationTimes=ft(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ft(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Bc(e,t,s,n,a,i,r,l,o){return e=new zc(e,t,s,l,o),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Ec(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oi(i),e}function $c(e){if(!e)return Da;e:{if(He(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(La(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var s=e.type;if(La(s))return Pa(e,s,t)}return t}function Hc(e,t,s,n,a,i,r,l,o){return(e=Bc(s,n,!0,e,0,i,0,l,o)).context=$c(null),s=e.current,(i=Fi(n=ec(),a=tc(s))).callback=void 0!==t&&null!==t?t:null,zi(s,i,a),e.current.lanes=a,gt(e,a,n),nc(e,n),e}function Vc(e,t,s,n){var a=t.current,i=ec(),r=tc(a);return s=$c(s),null===t.context?t.context=s:t.pendingContext=s,(t=Fi(i,r)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=zi(a,t,r))&&(sc(e,a,r,i),Bi(e,a,r)),r}function Uc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var s=e.retryLane;e.retryLane=0!==s&&s<t?s:t}}function Gc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}No=function(e,t,s){if(null!==e)if(e.memoizedProps!==t.pendingProps||Aa.current)vl=!0;else{if(0===(e.lanes&s)&&0===(128&t.flags))return vl=!1,function(e,t,s){switch(t.tag){case 3:_l(t),mi();break;case 5:Xi(t);break;case 1:La(t.type)&&Oa(t);break;case 4:Ki(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;ka(wi,n._currentValue),n._currentValue=a;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(ka(Qi,1&Qi.current),t.flags|=128,null):0!==(s&t.child.childLanes)?Ol(e,t,s):(ka(Qi,1&Qi.current),null!==(e=Vl(e,t,s))?e.sibling:null);ka(Qi,1&Qi.current);break;case 19:if(n=0!==(s&t.childLanes),0!==(128&e.flags)){if(n)return $l(e,t,s);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),ka(Qi,Qi.current),n)break;return null;case 22:case 23:return t.lanes=0,Nl(e,t,s)}return Vl(e,t,s)}(e,t,s);vl=0!==(131072&e.flags)}else vl=!1,ai&&0!==(1048576&t.flags)&&Qa(t,Ga,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Hl(e,t),e=t.pendingProps;var a=Ea(t,_a.current);Ai(t,s),a=xr(null,t,n,e,a,s);var r=fr();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,La(n)?(r=!0,Oa(t)):r=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Oi(t),a.updater=nl,t.stateNode=a,a._reactInternals=t,ll(t,n,e,s),t=Dl(null,t,n,!0,r,s)):(t.tag=0,ai&&r&&ei(t),jl(null,t,a,s),t=t.child),t;case 16:n=t.elementType;e:{switch(Hl(e,t),e=t.pendingProps,n=(a=n._init)(n._payload),t.type=n,a=t.tag=function(e){if("function"===typeof e)return Lc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===_)return 11;if(e===E)return 14}return 2}(n),e=tl(n,e),a){case 0:t=Sl(null,t,n,e,s);break e;case 1:t=kl(null,t,n,e,s);break e;case 11:t=bl(null,t,n,e,s);break e;case 14:t=yl(null,t,n,tl(n.type,e),s);break e}throw Error(i(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,Sl(e,t,n,a=t.elementType===n?a:tl(n,a),s);case 1:return n=t.type,a=t.pendingProps,kl(e,t,n,a=t.elementType===n?a:tl(n,a),s);case 3:e:{if(_l(t),null===e)throw Error(i(387));n=t.pendingProps,a=(r=t.memoizedState).element,Ri(e,t),Hi(t,n,null,s);var l=t.memoizedState;if(n=l.element,r.isDehydrated){if(r={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=r,t.memoizedState=r,256&t.flags){t=Al(e,t,n,s,a=ol(Error(i(423)),t));break e}if(n!==a){t=Al(e,t,n,s,a=ol(Error(i(424)),t));break e}for(ni=ca(t.stateNode.containerInfo.firstChild),si=t,ai=!0,ii=null,s=yi(t,null,n,s),t.child=s;s;)s.flags=-3&s.flags|4096,s=s.sibling}else{if(mi(),n===a){t=Vl(e,t,s);break e}jl(e,t,n,s)}t=t.child}return t;case 5:return Xi(t),null===e&&ci(t),n=t.type,a=t.pendingProps,r=null!==e?e.memoizedProps:null,l=a.children,sa(n,a)?l=null:null!==r&&sa(n,r)&&(t.flags|=32),Cl(e,t),jl(e,t,l,s),t.child;case 6:return null===e&&ci(t),null;case 13:return Ol(e,t,s);case 4:return Ki(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=bi(t,null,n,s):jl(e,t,n,s),t.child;case 11:return n=t.type,a=t.pendingProps,bl(e,t,n,a=t.elementType===n?a:tl(n,a),s);case 7:return jl(e,t,t.pendingProps,s),t.child;case 8:case 12:return jl(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,r=t.memoizedProps,l=a.value,ka(wi,n._currentValue),n._currentValue=l,null!==r)if(ln(r.value,l)){if(r.children===a.children&&!Aa.current){t=Vl(e,t,s);break e}}else for(null!==(r=t.child)&&(r.return=t);null!==r;){var o=r.dependencies;if(null!==o){l=r.child;for(var c=o.firstContext;null!==c;){if(c.context===n){if(1===r.tag){(c=Fi(-1,s&-s)).tag=2;var d=r.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}r.lanes|=s,null!==(c=r.alternate)&&(c.lanes|=s),_i(r.return,s,t),o.lanes|=s;break}c=c.next}}else if(10===r.tag)l=r.type===t.type?null:r.child;else if(18===r.tag){if(null===(l=r.return))throw Error(i(341));l.lanes|=s,null!==(o=l.alternate)&&(o.lanes|=s),_i(l,s,t),l=r.sibling}else l=r.child;if(null!==l)l.return=r;else for(l=r;null!==l;){if(l===t){l=null;break}if(null!==(r=l.sibling)){r.return=l.return,l=r;break}l=l.return}r=l}jl(e,t,a.children,s),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Ai(t,s),n=n(a=Ti(a)),t.flags|=1,jl(e,t,n,s),t.child;case 14:return a=tl(n=t.type,t.pendingProps),yl(e,t,n,a=tl(n.type,a),s);case 15:return wl(e,t,t.type,t.pendingProps,s);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:tl(n,a),Hl(e,t),t.tag=1,La(n)?(e=!0,Oa(t)):e=!1,Ai(t,s),il(t,n,a),ll(t,n,a,s),Dl(null,t,n,!0,e,s);case 19:return $l(e,t,s);case 22:return Nl(e,t,s)}throw Error(i(156,t.tag))};var qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Kc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function Qc(e,t,s,n,a){var i=s._reactRootContainer;if(i){var r=i;if("function"===typeof a){var l=a;a=function(){var e=Uc(r);l.call(e)}}Vc(t,r,e,a)}else r=function(e,t,s,n,a){if(a){if("function"===typeof n){var i=n;n=function(){var e=Uc(r);i.call(e)}}var r=Hc(t,n,e,0,null,!1,0,"",Zc);return e._reactRootContainer=r,e[pa]=r.current,Hn(8===e.nodeType?e.parentNode:e),dc(),r}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof n){var l=n;n=function(){var e=Uc(o);l.call(e)}}var o=Bc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=o,e[pa]=o.current,Hn(8===e.nodeType?e.parentNode:e),dc((function(){Vc(t,o,s,n)})),o}(s,t,e,a,n);return Uc(r)}Kc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Vc(e,t,null,null)},Kc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){Vc(null,e,null,null)})),t[pa]=null}},Kc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var s=0;s<Mt.length&&0!==t&&t<Mt[s].priority;s++);Mt.splice(s,0,e),0===s&&Rt(e)}},yt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=ut(t.pendingLanes);0!==s&&(vt(t,1|s),nc(t,Xe()),0===(6&_o)&&(Ho=Xe()+500,Ha()))}break;case 13:dc((function(){var t=Ii(e,1);if(null!==t){var s=ec();sc(t,e,1,s)}})),Gc(e,1)}},wt=function(e){if(13===e.tag){var t=Ii(e,134217728);if(null!==t)sc(t,e,134217728,ec());Gc(e,134217728)}},Nt=function(e){if(13===e.tag){var t=tc(e),s=Ii(e,t);if(null!==s)sc(s,e,t,ec());Gc(e,t)}},Ct=function(){return jt},St=function(e,t){var s=jt;try{return jt=e,t()}finally{jt=s}},we=function(e,t,s){switch(t){case"input":if(Z(e,s),t=s.name,"radio"===s.type&&null!=t){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var n=s[t];if(n!==e&&n.form===e.form){var a=ya(n);if(!a)throw Error(i(90));q(n),Z(n,a)}}}break;case"textarea":ie(e,s);break;case"select":null!=(t=s.value)&&se(e,!!s.multiple,t,!1)}},_e=cc,Ae=dc;var ed={usingClientEntryPoint:!1,Events:[ja,ba,ya,ke,De,cc]},td={findFiberByHostInstance:va,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sd={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nd.isDisabled&&nd.supportsFiber)try{at=nd.inject(sd),it=nd}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(i(200));return function(e,t,s){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==n?null:""+n,children:e,containerInfo:t,implementation:s}}(e,t,null,s)},t.createRoot=function(e,t){if(!Jc(e))throw Error(i(299));var s=!1,n="",a=qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(s=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Bc(e,1,!1,null,0,s,0,n,a),e[pa]=t.current,Hn(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,s){if(!Xc(t))throw Error(i(200));return Qc(null,e,t,!0,s)},t.hydrateRoot=function(e,t,s){if(!Jc(e))throw Error(i(405));var n=null!=s&&s.hydratedSources||null,a=!1,r="",l=qc;if(null!==s&&void 0!==s&&(!0===s.unstable_strictMode&&(a=!0),void 0!==s.identifierPrefix&&(r=s.identifierPrefix),void 0!==s.onRecoverableError&&(l=s.onRecoverableError)),t=Hc(t,null,e,1,null!=s?s:null,a,0,r,l),e[pa]=t.current,Hn(e),n)for(e=0;e<n.length;e++)a=(a=(s=n[e])._getVersion)(s._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[s,a]:t.mutableSourceEagerHydrationData.push(s,a);return new Kc(t)},t.render=function(e,t,s){if(!Xc(t))throw Error(i(200));return Qc(null,e,t,!1,s)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(i(40));return!!e._reactRootContainer&&(dc((function(){Qc(null,null,e,!1,(function(){e._reactRootContainer=null,e[pa]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,s,n){if(!Xc(s))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Qc(e,t,s,!1,n)},t.version="18.3.1-next-f1338f8080-20240426"},740:e=>{"use strict";e.exports=function(e,t,s,n,a,i,r,l){if(!e){var o;if(void 0===t)o=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[s,n,a,i,r,l],d=0;(o=new Error(t.replace(/%s/g,(function(){return c[d++]})))).name="Invariant Violation"}throw o.framesToPop=1,o}}},766:function(e,t){var s,n,a;n=[],s=function e(){var t,s="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==s?s:{},n=!s.document&&!!s.postMessage,a=s.IS_PAPA_WORKER||!1,i={},r=0,l={};function o(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=j(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new m(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(e,t){var n=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<n){let t=this._config.newline;t||(i=this._config.quoteChar||'"',t=this._handle.guessLineEndings(e,i)),e=[...e.split(t).slice(n)].join(t)}this.isFirstChunk&&y(this._config.beforeFirstChunk)&&void 0!==(i=this._config.beforeFirstChunk(e))&&(e=i),this.isFirstChunk=!1,this._halted=!1,n=this._partialLine+e;var i=(this._partialLine="",this._handle.parse(n,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(e=i.meta.cursor,this._finished||(this._partialLine=n.substring(e-this._baseIndex),this._baseIndex=e),i&&i.data&&(this._rowCount+=i.data.length),n=this._finished||this._config.preview&&this._rowCount>=this._config.preview,a)s.postMessage({results:i,workerId:l.WORKER_ID,finished:n});else if(y(this._config.chunk)&&!t){if(this._config.chunk(i,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=i=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(i.data),this._completeResults.errors=this._completeResults.errors.concat(i.errors),this._completeResults.meta=i.meta),this._completed||!n||!y(this._config.complete)||i&&i.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),n||i&&i.meta.paused||this._nextChunk(),i}this._halted=!0},this._sendError=function(e){y(this._config.error)?this._config.error(e):a&&this._config.error&&s.postMessage({workerId:l.WORKER_ID,error:e,finished:!1})}}function c(e){var t;(e=e||{}).chunkSize||(e.chunkSize=l.RemoteChunkSize),o.call(this,e),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),n||(t.onload=b(this._chunkLoaded,this),t.onerror=b(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!n),this._config.downloadRequestHeaders){var e,s=this._config.downloadRequestHeaders;for(e in s)t.setRequestHeader(e,s[e])}var a;this._config.chunkSize&&(a=this._start+this._config.chunkSize-1,t.setRequestHeader("Range","bytes="+this._start+"-"+a));try{t.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}n&&0===t.status&&this._chunkError()}},this._chunkLoaded=function(){4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize||t.responseText.length,this._finished=!this._config.chunkSize||this._start>=(e=>null!==(e=e.getResponseHeader("Content-Range"))?parseInt(e.substring(e.lastIndexOf("/")+1)):-1)(t),this.parseChunk(t.responseText)))},this._chunkError=function(e){e=t.statusText||e,this._sendError(new Error(e))}}function d(e){(e=e||{}).chunkSize||(e.chunkSize=l.LocalChunkSize),o.call(this,e);var t,s,n="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,s=e.slice||e.webkitSlice||e.mozSlice,n?((t=new FileReader).onload=b(this._chunkLoaded,this),t.onerror=b(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input,a=(this._config.chunkSize&&(a=Math.min(this._start+this._config.chunkSize,this._input.size),e=s.call(e,this._start,a)),t.readAsText(e,this._config.encoding));n||this._chunkLoaded({target:{result:a}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function u(e){var t;o.call(this,e=e||{}),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){var e,s;if(!this._finished)return e=this._config.chunkSize,t=e?(s=t.substring(0,e),t.substring(e)):(s=t,""),this._finished=!t,this.parseChunk(s)}}function h(e){o.call(this,e=e||{});var t=[],s=!0,n=!1;this.pause=function(){o.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){o.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){n&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):s=!0},this._streamData=b((function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),s&&(s=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}}),this),this._streamError=b((function(e){this._streamCleanUp(),this._sendError(e)}),this),this._streamEnd=b((function(){this._streamCleanUp(),n=!0,this._streamData("")}),this),this._streamCleanUp=b((function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)}),this)}function m(e){var t,s,n,a,i=Math.pow(2,53),r=-i,o=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,c=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,d=this,u=0,h=0,m=!1,f=!1,g=[],v={data:[],errors:[],meta:{}};function b(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function w(){if(v&&n&&(C("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+l.DefaultDelimiter+"'"),n=!1),e.skipEmptyLines&&(v.data=v.data.filter((function(e){return!b(e)}))),N()){if(v)if(Array.isArray(v.data[0])){for(var t=0;N()&&t<v.data.length;t++)v.data[t].forEach(s);v.data.splice(0,1)}else v.data.forEach(s);function s(t,s){y(e.transformHeader)&&(t=e.transformHeader(t,s)),g.push(t)}}function a(t,s){for(var n=e.header?{}:[],a=0;a<t.length;a++){var l=a,d=t[a];d=((t,s)=>(t=>(e.dynamicTypingFunction&&void 0===e.dynamicTyping[t]&&(e.dynamicTyping[t]=e.dynamicTypingFunction(t)),!0===(e.dynamicTyping[t]||e.dynamicTyping)))(t)?"true"===s||"TRUE"===s||"false"!==s&&"FALSE"!==s&&((e=>{if(o.test(e)&&(e=parseFloat(e),r<e&&e<i))return 1})(s)?parseFloat(s):c.test(s)?new Date(s):""===s?null:s):s)(l=e.header?a>=g.length?"__parsed_extra":g[a]:l,d=e.transform?e.transform(d,l):d),"__parsed_extra"===l?(n[l]=n[l]||[],n[l].push(d)):n[l]=d}return e.header&&(a>g.length?C("FieldMismatch","TooManyFields","Too many fields: expected "+g.length+" fields but parsed "+a,h+s):a<g.length&&C("FieldMismatch","TooFewFields","Too few fields: expected "+g.length+" fields but parsed "+a,h+s)),n}var d;v&&(e.header||e.dynamicTyping||e.transform)&&(d=1,!v.data.length||Array.isArray(v.data[0])?(v.data=v.data.map(a),d=v.data.length):v.data=a(v.data,0),e.header&&v.meta&&(v.meta.fields=g),h+=d)}function N(){return e.header&&0===g.length}function C(e,t,s,n){e={type:e,code:t,message:s},void 0!==n&&(e.row=n),v.errors.push(e)}y(e.step)&&(a=e.step,e.step=function(t){v=t,N()?w():(w(),0!==v.data.length&&(u+=t.data.length,e.preview&&u>e.preview?s.abort():(v.data=v.data[0],a(v,d))))}),this.parse=function(a,i,r){var o=e.quoteChar||'"';return e.newline||(e.newline=this.guessLineEndings(a,o)),n=!1,e.delimiter?y(e.delimiter)&&(e.delimiter=e.delimiter(a),v.meta.delimiter=e.delimiter):((o=((t,s,n,a,i)=>{var r,o,c,d;i=i||[",","\t","|",";",l.RECORD_SEP,l.UNIT_SEP];for(var u=0;u<i.length;u++){for(var h,m=i[u],p=0,f=0,g=0,v=(c=void 0,new x({comments:a,delimiter:m,newline:s,preview:10}).parse(t)),j=0;j<v.data.length;j++)n&&b(v.data[j])?g++:(f+=h=v.data[j].length,void 0===c?c=h:0<h&&(p+=Math.abs(h-c),c=h));0<v.data.length&&(f/=v.data.length-g),(void 0===o||p<=o)&&(void 0===d||d<f)&&1.99<f&&(o=p,r=m,d=f)}return{successful:!!(e.delimiter=r),bestDelimiter:r}})(a,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess)).successful?e.delimiter=o.bestDelimiter:(n=!0,e.delimiter=l.DefaultDelimiter),v.meta.delimiter=e.delimiter),o=j(e),e.preview&&e.header&&o.preview++,t=a,s=new x(o),v=s.parse(t,i,r),w(),m?{meta:{paused:!0}}:v||{meta:{paused:!1}}},this.paused=function(){return m},this.pause=function(){m=!0,s.abort(),t=y(e.chunk)?"":t.substring(s.getCharIndex())},this.resume=function(){d.streamer._halted?(m=!1,d.streamer.parseChunk(t,!0)):setTimeout(d.resume,3)},this.aborted=function(){return f},this.abort=function(){f=!0,s.abort(),v.meta.aborted=!0,y(e.complete)&&e.complete(v),t=""},this.guessLineEndings=function(e,t){e=e.substring(0,1048576),t=new RegExp(p(t)+"([^]*?)"+p(t),"gm");var s=(e=e.replace(t,"")).split("\r");if(e=1<(t=e.split("\n")).length&&t[0].length<s[0].length,1===s.length||e)return"\n";for(var n=0,a=0;a<s.length;a++)"\n"===s[a][0]&&n++;return n>=s.length/2?"\r\n":"\r"}}function p(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function x(e){var t=(e=e||{}).delimiter,s=e.newline,n=e.comments,a=e.step,i=e.preview,r=e.fastMode,o=null,c=!1,d=null==e.quoteChar?'"':e.quoteChar,u=d;if(void 0!==e.escapeChar&&(u=e.escapeChar),("string"!=typeof t||-1<l.BAD_DELIMITERS.indexOf(t))&&(t=","),n===t)throw new Error("Comment character same as delimiter");!0===n?n="#":("string"!=typeof n||-1<l.BAD_DELIMITERS.indexOf(n))&&(n=!1),"\n"!==s&&"\r"!==s&&"\r\n"!==s&&(s="\n");var h=0,m=!1;this.parse=function(l,x,f){if("string"!=typeof l)throw new Error("Input must be a string");var g=l.length,v=t.length,j=s.length,b=n.length,w=y(a),N=[],C=[],S=[],k=h=0;if(!l)return F();if(r||!1!==r&&-1===l.indexOf(d)){for(var D=l.split(s),_=0;_<D.length;_++){if(S=D[_],h+=S.length,_!==D.length-1)h+=s.length;else if(f)return F();if(!n||S.substring(0,b)!==n){if(w){if(N=[],I(S.split(t)),z(),m)return F()}else I(S.split(t));if(i&&i<=_)return N=N.slice(0,i),F(!0)}}return F()}for(var A=l.indexOf(t,h),T=l.indexOf(s,h),E=new RegExp(p(u)+p(d),"g"),L=l.indexOf(d,h);;)if(l[h]===d)for(L=h,h++;;){if(-1===(L=l.indexOf(d,L+1)))return f||C.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:N.length,index:h}),O();if(L===g-1)return O(l.substring(h,L).replace(E,d));if(d===u&&l[L+1]===u)L++;else if(d===u||0===L||l[L-1]!==u){-1!==A&&A<L+1&&(A=l.indexOf(t,L+1));var M=P(-1===(T=-1!==T&&T<L+1?l.indexOf(s,L+1):T)?A:Math.min(A,T));if(l.substr(L+1+M,v)===t){S.push(l.substring(h,L).replace(E,d)),l[h=L+1+M+v]!==d&&(L=l.indexOf(d,h)),A=l.indexOf(t,h),T=l.indexOf(s,h);break}if(M=P(T),l.substring(L+1+M,L+1+M+j)===s){if(S.push(l.substring(h,L).replace(E,d)),R(L+1+M+j),A=l.indexOf(t,h),L=l.indexOf(d,h),w&&(z(),m))return F();if(i&&N.length>=i)return F(!0);break}C.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:N.length,index:h}),L++}}else if(n&&0===S.length&&l.substring(h,h+b)===n){if(-1===T)return F();h=T+j,T=l.indexOf(s,h),A=l.indexOf(t,h)}else if(-1!==A&&(A<T||-1===T))S.push(l.substring(h,A)),h=A+v,A=l.indexOf(t,h);else{if(-1===T)break;if(S.push(l.substring(h,T)),R(T+j),w&&(z(),m))return F();if(i&&N.length>=i)return F(!0)}return O();function I(e){N.push(e),k=h}function P(e){var t=0;return-1!==e&&(e=l.substring(L+1,e))&&""===e.trim()?e.length:t}function O(e){return f||(void 0===e&&(e=l.substring(h)),S.push(e),h=g,I(S),w&&z()),F()}function R(e){h=e,I(S),S=[],T=l.indexOf(s,h)}function F(n){if(e.header&&!x&&N.length&&!c){var a=N[0],i={},r=new Set(a);let t=!1;for(let s=0;s<a.length;s++){let n=a[s];if(i[n=y(e.transformHeader)?e.transformHeader(n,s):n]){let e,l=i[n];for(;e=n+"_"+l,l++,r.has(e););r.add(e),a[s]=e,i[n]++,t=!0,(o=null===o?{}:o)[e]=n}else i[n]=1,a[s]=n;r.add(n)}t&&console.warn("Duplicate headers found and renamed."),c=!0}return{data:N,errors:C,meta:{delimiter:t,linebreak:s,aborted:m,truncated:!!n,cursor:k+(x||0),renamedHeaders:o}}}function z(){a(F()),N=[],C=[]}},this.abort=function(){m=!0},this.getCharIndex=function(){return h}}function f(e){var t=e.data,s=i[t.workerId],n=!1;if(t.error)s.userError(t.error,t.file);else if(t.results&&t.results.data){var a={abort:function(){n=!0,g(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:v,resume:v};if(y(s.userStep)){for(var r=0;r<t.results.data.length&&(s.userStep({data:t.results.data[r],errors:t.results.errors,meta:t.results.meta},a),!n);r++);delete t.results}else y(s.userChunk)&&(s.userChunk(t.results,a,t.file),delete t.results)}t.finished&&!n&&g(t.workerId,t.results)}function g(e,t){var s=i[e];y(s.userComplete)&&s.userComplete(t),s.terminate(),delete i[e]}function v(){throw new Error("Not implemented.")}function j(e){if("object"!=typeof e||null===e)return e;var t,s=Array.isArray(e)?[]:{};for(t in e)s[t]=j(e[t]);return s}function b(e,t){return function(){e.apply(t,arguments)}}function y(e){return"function"==typeof e}return l.parse=function(t,n){var a=(n=n||{}).dynamicTyping||!1;if(y(a)&&(n.dynamicTypingFunction=a,a={}),n.dynamicTyping=a,n.transform=!!y(n.transform)&&n.transform,!n.worker||!l.WORKERS_SUPPORTED)return a=null,l.NODE_STREAM_INPUT,"string"==typeof t?(t=(e=>65279!==e.charCodeAt(0)?e:e.slice(1))(t),a=new(n.download?c:u)(n)):!0===t.readable&&y(t.read)&&y(t.on)?a=new h(n):(s.File&&t instanceof File||t instanceof Object)&&(a=new d(n)),a.stream(t);(a=(()=>{var t;return!!l.WORKERS_SUPPORTED&&(t=(()=>{var t=s.URL||s.webkitURL||null,n=e.toString();return l.BLOB_URL||(l.BLOB_URL=t.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",n,")();"],{type:"text/javascript"})))})(),(t=new s.Worker(t)).onmessage=f,t.id=r++,i[t.id]=t)})()).userStep=n.step,a.userChunk=n.chunk,a.userComplete=n.complete,a.userError=n.error,n.step=y(n.step),n.chunk=y(n.chunk),n.complete=y(n.complete),n.error=y(n.error),delete n.worker,a.postMessage({input:t,config:n,workerId:a.id})},l.unparse=function(e,t){var s=!1,n=!0,a=",",i="\r\n",r='"',o=r+r,c=!1,d=null,u=!1,h=((()=>{if("object"==typeof t){if("string"!=typeof t.delimiter||l.BAD_DELIMITERS.filter((function(e){return-1!==t.delimiter.indexOf(e)})).length||(a=t.delimiter),"boolean"!=typeof t.quotes&&"function"!=typeof t.quotes&&!Array.isArray(t.quotes)||(s=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(c=t.skipEmptyLines),"string"==typeof t.newline&&(i=t.newline),"string"==typeof t.quoteChar&&(r=t.quoteChar),"boolean"==typeof t.header&&(n=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw new Error("Option columns is empty");d=t.columns}void 0!==t.escapeChar&&(o=t.escapeChar+r),t.escapeFormulae instanceof RegExp?u=t.escapeFormulae:"boolean"==typeof t.escapeFormulae&&t.escapeFormulae&&(u=/^[=+\-@\t\r].*$/)}})(),new RegExp(p(r),"g"));if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return m(null,e,c);if("object"==typeof e[0])return m(d||Object.keys(e[0]),e,c)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||d),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:"object"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),m(e.fields||[],e.data||[],c);throw new Error("Unable to serialize unrecognized input");function m(e,t,s){var r="",l=("string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t)),Array.isArray(e)&&0<e.length),o=!Array.isArray(t[0]);if(l&&n){for(var c=0;c<e.length;c++)0<c&&(r+=a),r+=x(e[c],c);0<t.length&&(r+=i)}for(var d=0;d<t.length;d++){var u=(l?e:t[d]).length,h=!1,m=l?0===Object.keys(t[d]).length:0===t[d].length;if(s&&!l&&(h="greedy"===s?""===t[d].join("").trim():1===t[d].length&&0===t[d][0].length),"greedy"===s&&l){for(var p=[],f=0;f<u;f++){var g=o?e[f]:f;p.push(t[d][g])}h=""===p.join("").trim()}if(!h){for(var v=0;v<u;v++){0<v&&!m&&(r+=a);var j=l&&o?e[v]:v;r+=x(t[d][j],v)}d<t.length-1&&(!s||0<u&&!m)&&(r+=i)}}return r}function x(e,t){var n,i;return null==e?"":e.constructor===Date?JSON.stringify(e).slice(1,25):(i=!1,u&&"string"==typeof e&&u.test(e)&&(e="'"+e,i=!0),n=e.toString().replace(h,o),(i=i||!0===s||"function"==typeof s&&s(e,t)||Array.isArray(s)&&s[t]||((e,t)=>{for(var s=0;s<t.length;s++)if(-1<e.indexOf(t[s]))return!0;return!1})(n,l.BAD_DELIMITERS)||-1<n.indexOf(a)||" "===n.charAt(0)||" "===n.charAt(n.length-1))?r+n+r:n)}},l.RECORD_SEP=String.fromCharCode(30),l.UNIT_SEP=String.fromCharCode(31),l.BYTE_ORDER_MARK="\ufeff",l.BAD_DELIMITERS=["\r","\n",'"',l.BYTE_ORDER_MARK],l.WORKERS_SUPPORTED=!n&&!!s.Worker,l.NODE_STREAM_INPUT=1,l.LocalChunkSize=10485760,l.RemoteChunkSize=5242880,l.DefaultDelimiter=",",l.Parser=x,l.ParserHandle=m,l.NetworkStreamer=c,l.FileStreamer=d,l.StringStreamer=u,l.ReadableStreamStreamer=h,s.jQuery&&((t=s.jQuery).fn.parse=function(e){var n=e.config||{},a=[];return this.each((function(e){if("INPUT"!==t(this).prop("tagName").toUpperCase()||"file"!==t(this).attr("type").toLowerCase()||!s.FileReader||!this.files||0===this.files.length)return!0;for(var i=0;i<this.files.length;i++)a.push({file:this.files[i],inputElem:this,instanceConfig:t.extend({},n)})})),i(),this;function i(){if(0===a.length)y(e.complete)&&e.complete();else{var s,n,i,o,c=a[0];if(y(e.before)){var d=e.before(c.file,c.inputElem);if("object"==typeof d){if("abort"===d.action)return s="AbortError",n=c.file,i=c.inputElem,o=d.reason,void(y(e.error)&&e.error({name:s},n,i,o));if("skip"===d.action)return void r();"object"==typeof d.config&&(c.instanceConfig=t.extend(c.instanceConfig,d.config))}else if("skip"===d)return void r()}var u=c.instanceConfig.complete;c.instanceConfig.complete=function(e){y(u)&&u(e,c.file,c.inputElem),r()},l.parse(c.file,c.instanceConfig)}}function r(){a.splice(0,1),i()}}),a&&(s.onmessage=function(e){e=e.data,void 0===l.WORKER_ID&&e&&(l.WORKER_ID=e.workerId),"string"==typeof e.input?s.postMessage({workerId:l.WORKER_ID,results:l.parse(e.input,e.config),finished:!0}):(s.File&&e.input instanceof File||e.input instanceof Object)&&(e=l.parse(e.input,e.config))&&s.postMessage({workerId:l.WORKER_ID,results:e,finished:!0})}),(c.prototype=Object.create(o.prototype)).constructor=c,(d.prototype=Object.create(o.prototype)).constructor=d,(u.prototype=Object.create(u.prototype)).constructor=u,(h.prototype=Object.create(o.prototype)).constructor=h,l},void 0===(a="function"===typeof s?s.apply(t,n):s)||(e.exports=a)},853:(e,t,s)=>{"use strict";e.exports=s(234)},885:function(e){e.exports=function(){"use strict";const e=new Map,t={set(t,s,n){e.has(t)||e.set(t,new Map);const a=e.get(t);a.has(s)||0===a.size?a.set(s,n):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(a.keys())[0]}.`)},get:(t,s)=>e.has(t)&&e.get(t).get(s)||null,remove(t,s){if(!e.has(t))return;const n=e.get(t);n.delete(s),0===n.size&&e.delete(t)}},s="transitionend",n=e=>(e&&window.CSS&&window.CSS.escape&&(e=e.replace(/#([^\s"#']+)/g,((e,t)=>`#${CSS.escape(t)}`))),e),a=e=>{e.dispatchEvent(new Event(s))},i=e=>!(!e||"object"!=typeof e)&&(void 0!==e.jquery&&(e=e[0]),void 0!==e.nodeType),r=e=>i(e)?e.jquery?e[0]:e:"string"==typeof e&&e.length>0?document.querySelector(n(e)):null,l=e=>{if(!i(e)||0===e.getClientRects().length)return!1;const t="visible"===getComputedStyle(e).getPropertyValue("visibility"),s=e.closest("details:not([open])");if(!s)return t;if(s!==e){const t=e.closest("summary");if(t&&t.parentNode!==s)return!1;if(null===t)return!1}return t},o=e=>!e||e.nodeType!==Node.ELEMENT_NODE||!!e.classList.contains("disabled")||(void 0!==e.disabled?e.disabled:e.hasAttribute("disabled")&&"false"!==e.getAttribute("disabled")),c=e=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof e.getRootNode){const t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?c(e.parentNode):null},d=()=>{},u=e=>{e.offsetHeight},h=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,m=[],p=()=>"rtl"===document.documentElement.dir,x=e=>{var t;t=()=>{const t=h();if(t){const s=e.NAME,n=t.fn[s];t.fn[s]=e.jQueryInterface,t.fn[s].Constructor=e,t.fn[s].noConflict=()=>(t.fn[s]=n,e.jQueryInterface)}},"loading"===document.readyState?(m.length||document.addEventListener("DOMContentLoaded",(()=>{for(const e of m)e()})),m.push(t)):t()},f=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;return"function"==typeof e?e.call(...t):s},g=function(e,t){if(arguments.length>2&&void 0!==arguments[2]&&!arguments[2])return void f(e);const n=(e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:s}=window.getComputedStyle(e);const n=Number.parseFloat(t),a=Number.parseFloat(s);return n||a?(t=t.split(",")[0],s=s.split(",")[0],1e3*(Number.parseFloat(t)+Number.parseFloat(s))):0})(t)+5;let i=!1;const r=n=>{let{target:a}=n;a===t&&(i=!0,t.removeEventListener(s,r),f(e))};t.addEventListener(s,r),setTimeout((()=>{i||a(t)}),n)},v=(e,t,s,n)=>{const a=e.length;let i=e.indexOf(t);return-1===i?!s&&n?e[a-1]:e[0]:(i+=s?1:-1,n&&(i=(i+a)%a),e[Math.max(0,Math.min(i,a-1))])},j=/[^.]*(?=\..*)\.|.*/,b=/\..*/,y=/::\d+$/,w={};let N=1;const C={mouseenter:"mouseover",mouseleave:"mouseout"},S=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function k(e,t){return t&&`${t}::${N++}`||e.uidEvent||N++}function D(e){const t=k(e);return e.uidEvent=t,w[t]=w[t]||{},w[t]}function _(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Object.values(e).find((e=>e.callable===t&&e.delegationSelector===s))}function A(e,t,s){const n="string"==typeof t,a=n?s:t||s;let i=M(e);return S.has(i)||(i=e),[n,a,i]}function T(e,t,s,n,a){if("string"!=typeof t||!e)return;let[i,r,l]=A(t,s,n);if(t in C){const e=e=>function(t){if(!t.relatedTarget||t.relatedTarget!==t.delegateTarget&&!t.delegateTarget.contains(t.relatedTarget))return e.call(this,t)};r=e(r)}const o=D(e),c=o[l]||(o[l]={}),d=_(c,r,i?s:null);if(d)return void(d.oneOff=d.oneOff&&a);const u=k(r,t.replace(j,"")),h=i?function(e,t,s){return function n(a){const i=e.querySelectorAll(t);for(let{target:r}=a;r&&r!==this;r=r.parentNode)for(const l of i)if(l===r)return P(a,{delegateTarget:r}),n.oneOff&&I.off(e,a.type,t,s),s.apply(r,[a])}}(e,s,r):function(e,t){return function s(n){return P(n,{delegateTarget:e}),s.oneOff&&I.off(e,n.type,t),t.apply(e,[n])}}(e,r);h.delegationSelector=i?s:null,h.callable=r,h.oneOff=a,h.uidEvent=u,c[u]=h,e.addEventListener(l,h,i)}function E(e,t,s,n,a){const i=_(t[s],n,a);i&&(e.removeEventListener(s,i,Boolean(a)),delete t[s][i.uidEvent])}function L(e,t,s,n){const a=t[s]||{};for(const[i,r]of Object.entries(a))i.includes(n)&&E(e,t,s,r.callable,r.delegationSelector)}function M(e){return e=e.replace(b,""),C[e]||e}const I={on(e,t,s,n){T(e,t,s,n,!1)},one(e,t,s,n){T(e,t,s,n,!0)},off(e,t,s,n){if("string"!=typeof t||!e)return;const[a,i,r]=A(t,s,n),l=r!==t,o=D(e),c=o[r]||{},d=t.startsWith(".");if(void 0===i){if(d)for(const s of Object.keys(o))L(e,o,s,t.slice(1));for(const[s,n]of Object.entries(c)){const a=s.replace(y,"");l&&!t.includes(a)||E(e,o,r,n.callable,n.delegationSelector)}}else{if(!Object.keys(c).length)return;E(e,o,r,i,a?s:null)}},trigger(e,t,s){if("string"!=typeof t||!e)return null;const n=h();let a=null,i=!0,r=!0,l=!1;t!==M(t)&&n&&(a=n.Event(t,s),n(e).trigger(a),i=!a.isPropagationStopped(),r=!a.isImmediatePropagationStopped(),l=a.isDefaultPrevented());const o=P(new Event(t,{bubbles:i,cancelable:!0}),s);return l&&o.preventDefault(),r&&e.dispatchEvent(o),o.defaultPrevented&&a&&a.preventDefault(),o}};function P(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(const[s,n]of Object.entries(t))try{e[s]=n}catch(t){Object.defineProperty(e,s,{configurable:!0,get:()=>n})}return e}function O(e){if("true"===e)return!0;if("false"===e)return!1;if(e===Number(e).toString())return Number(e);if(""===e||"null"===e)return null;if("string"!=typeof e)return e;try{return JSON.parse(decodeURIComponent(e))}catch(t){return e}}function R(e){return e.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`))}const F={setDataAttribute(e,t,s){e.setAttribute(`data-bs-${R(t)}`,s)},removeDataAttribute(e,t){e.removeAttribute(`data-bs-${R(t)}`)},getDataAttributes(e){if(!e)return{};const t={},s=Object.keys(e.dataset).filter((e=>e.startsWith("bs")&&!e.startsWith("bsConfig")));for(const n of s){let s=n.replace(/^bs/,"");s=s.charAt(0).toLowerCase()+s.slice(1),t[s]=O(e.dataset[n])}return t},getDataAttribute:(e,t)=>O(e.getAttribute(`data-bs-${R(t)}`))};class z{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const s=i(t)?F.getDataAttribute(t,"config"):{};return{...this.constructor.Default,..."object"==typeof s?s:{},...i(t)?F.getDataAttributes(t):{},..."object"==typeof e?e:{}}}_typeCheckConfig(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.constructor.DefaultType;for(const[n,a]of Object.entries(t)){const t=e[n],r=i(t)?"element":null==(s=t)?`${s}`:Object.prototype.toString.call(s).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(a).test(r))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${n}" provided type "${r}" but expected type "${a}".`)}var s}}class B extends z{constructor(e,s){super(),(e=r(e))&&(this._element=e,this._config=this._getConfig(s),t.set(this._element,this.constructor.DATA_KEY,this))}dispose(){t.remove(this._element,this.constructor.DATA_KEY),I.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t){g(e,t,!(arguments.length>2&&void 0!==arguments[2])||arguments[2])}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return t.get(r(e),this.DATA_KEY)}static getOrCreateInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.getInstance(e)||new this(e,"object"==typeof t?t:null)}static get VERSION(){return"5.3.5"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const $=e=>{let t=e.getAttribute("data-bs-target");if(!t||"#"===t){let s=e.getAttribute("href");if(!s||!s.includes("#")&&!s.startsWith("."))return null;s.includes("#")&&!s.startsWith("#")&&(s=`#${s.split("#")[1]}`),t=s&&"#"!==s?s.trim():null}return t?t.split(",").map((e=>n(e))).join(","):null},H={find:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement;return[].concat(...Element.prototype.querySelectorAll.call(t,e))},findOne:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement;return Element.prototype.querySelector.call(t,e)},children:(e,t)=>[].concat(...e.children).filter((e=>e.matches(t))),parents(e,t){const s=[];let n=e.parentNode.closest(t);for(;n;)s.push(n),n=n.parentNode.closest(t);return s},prev(e,t){let s=e.previousElementSibling;for(;s;){if(s.matches(t))return[s];s=s.previousElementSibling}return[]},next(e,t){let s=e.nextElementSibling;for(;s;){if(s.matches(t))return[s];s=s.nextElementSibling}return[]},focusableChildren(e){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map((e=>`${e}:not([tabindex^="-"])`)).join(",");return this.find(t,e).filter((e=>!o(e)&&l(e)))},getSelectorFromElement(e){const t=$(e);return t&&H.findOne(t)?t:null},getElementFromSelector(e){const t=$(e);return t?H.findOne(t):null},getMultipleElementsFromSelector(e){const t=$(e);return t?H.find(t):[]}},V=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hide";const s=`click.dismiss${e.EVENT_KEY}`,n=e.NAME;I.on(document,s,`[data-bs-dismiss="${n}"]`,(function(s){if(["A","AREA"].includes(this.tagName)&&s.preventDefault(),o(this))return;const a=H.getElementFromSelector(this)||this.closest(`.${n}`);e.getOrCreateInstance(a)[t]()}))},U=".bs.alert",W=`close${U}`,G=`closed${U}`;class q extends B{static get NAME(){return"alert"}close(){if(I.trigger(this._element,W).defaultPrevented)return;this._element.classList.remove("show");const e=this._element.classList.contains("fade");this._queueCallback((()=>this._destroyElement()),this._element,e)}_destroyElement(){this._element.remove(),I.trigger(this._element,G),this.dispose()}static jQueryInterface(e){return this.each((function(){const t=q.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}V(q,"close"),x(q);const Y='[data-bs-toggle="button"]';class K extends B{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(e){return this.each((function(){const t=K.getOrCreateInstance(this);"toggle"===e&&t[e]()}))}}I.on(document,"click.bs.button.data-api",Y,(e=>{e.preventDefault();const t=e.target.closest(Y);K.getOrCreateInstance(t).toggle()})),x(K);const J=".bs.swipe",X=`touchstart${J}`,Z=`touchmove${J}`,Q=`touchend${J}`,ee=`pointerdown${J}`,te=`pointerup${J}`,se={endCallback:null,leftCallback:null,rightCallback:null},ne={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class ae extends z{constructor(e,t){super(),this._element=e,e&&ae.isSupported()&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return se}static get DefaultType(){return ne}static get NAME(){return"swipe"}dispose(){I.off(this._element,J)}_start(e){this._supportPointerEvents?this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX):this._deltaX=e.touches[0].clientX}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),f(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=40)return;const t=e/this._deltaX;this._deltaX=0,t&&f(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(I.on(this._element,ee,(e=>this._start(e))),I.on(this._element,te,(e=>this._end(e))),this._element.classList.add("pointer-event")):(I.on(this._element,X,(e=>this._start(e))),I.on(this._element,Z,(e=>this._move(e))),I.on(this._element,Q,(e=>this._end(e))))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&("pen"===e.pointerType||"touch"===e.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const ie=".bs.carousel",re=".data-api",le="ArrowLeft",oe="ArrowRight",ce="next",de="prev",ue="left",he="right",me=`slide${ie}`,pe=`slid${ie}`,xe=`keydown${ie}`,fe=`mouseenter${ie}`,ge=`mouseleave${ie}`,ve=`dragstart${ie}`,je=`load${ie}${re}`,be=`click${ie}${re}`,ye="carousel",we="active",Ne=".active",Ce=".carousel-item",Se=Ne+Ce,ke={[le]:he,[oe]:ue},De={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},_e={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Ae extends B{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=H.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===ye&&this.cycle()}static get Default(){return De}static get DefaultType(){return _e}static get NAME(){return"carousel"}next(){this._slide(ce)}nextWhenVisible(){!document.hidden&&l(this._element)&&this.next()}prev(){this._slide(de)}pause(){this._isSliding&&a(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval((()=>this.nextWhenVisible()),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?I.one(this._element,pe,(()=>this.cycle())):this.cycle())}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding)return void I.one(this._element,pe,(()=>this.to(e)));const s=this._getItemIndex(this._getActive());if(s===e)return;const n=e>s?ce:de;this._slide(n,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&I.on(this._element,xe,(e=>this._keydown(e))),"hover"===this._config.pause&&(I.on(this._element,fe,(()=>this.pause())),I.on(this._element,ge,(()=>this._maybeEnableCycle()))),this._config.touch&&ae.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const t of H.find(".carousel-item img",this._element))I.on(t,ve,(e=>e.preventDefault()));const e={leftCallback:()=>this._slide(this._directionToOrder(ue)),rightCallback:()=>this._slide(this._directionToOrder(he)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout((()=>this._maybeEnableCycle()),500+this._config.interval))}};this._swipeHelper=new ae(this._element,e)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=ke[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=H.findOne(Ne,this._indicatorsElement);t.classList.remove(we),t.removeAttribute("aria-current");const s=H.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);s&&(s.classList.add(we),s.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this._isSliding)return;const s=this._getActive(),n=e===ce,a=t||v(this._getItems(),s,n,this._config.wrap);if(a===s)return;const i=this._getItemIndex(a),r=t=>I.trigger(this._element,t,{relatedTarget:a,direction:this._orderToDirection(e),from:this._getItemIndex(s),to:i});if(r(me).defaultPrevented)return;if(!s||!a)return;const l=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(i),this._activeElement=a;const o=n?"carousel-item-start":"carousel-item-end",c=n?"carousel-item-next":"carousel-item-prev";a.classList.add(c),u(a),s.classList.add(o),a.classList.add(o),this._queueCallback((()=>{a.classList.remove(o,c),a.classList.add(we),s.classList.remove(we,c,o),this._isSliding=!1,r(pe)}),s,this._isAnimated()),l&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return H.findOne(Se,this._element)}_getItems(){return H.find(Ce,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return p()?e===ue?de:ce:e===ue?ce:de}_orderToDirection(e){return p()?e===de?ue:he:e===de?he:ue}static jQueryInterface(e){return this.each((function(){const t=Ae.getOrCreateInstance(this,e);if("number"!=typeof e){if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}else t.to(e)}))}}I.on(document,be,"[data-bs-slide], [data-bs-slide-to]",(function(e){const t=H.getElementFromSelector(this);if(!t||!t.classList.contains(ye))return;e.preventDefault();const s=Ae.getOrCreateInstance(t),n=this.getAttribute("data-bs-slide-to");return n?(s.to(n),void s._maybeEnableCycle()):"next"===F.getDataAttribute(this,"slide")?(s.next(),void s._maybeEnableCycle()):(s.prev(),void s._maybeEnableCycle())})),I.on(window,je,(()=>{const e=H.find('[data-bs-ride="carousel"]');for(const t of e)Ae.getOrCreateInstance(t)})),x(Ae);const Te=".bs.collapse",Ee=`show${Te}`,Le=`shown${Te}`,Me=`hide${Te}`,Ie=`hidden${Te}`,Pe=`click${Te}.data-api`,Oe="show",Re="collapse",Fe="collapsing",ze=`:scope .${Re} .${Re}`,Be='[data-bs-toggle="collapse"]',$e={parent:null,toggle:!0},He={parent:"(null|element)",toggle:"boolean"};class Ve extends B{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const s=H.find(Be);for(const n of s){const e=H.getSelectorFromElement(n),t=H.find(e).filter((e=>e===this._element));null!==e&&t.length&&this._triggerArray.push(n)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return $e}static get DefaultType(){return He}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter((e=>e!==this._element)).map((e=>Ve.getOrCreateInstance(e,{toggle:!1})))),e.length&&e[0]._isTransitioning)return;if(I.trigger(this._element,Ee).defaultPrevented)return;for(const n of e)n.hide();const t=this._getDimension();this._element.classList.remove(Re),this._element.classList.add(Fe),this._element.style[t]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const s=`scroll${t[0].toUpperCase()+t.slice(1)}`;this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(Fe),this._element.classList.add(Re,Oe),this._element.style[t]="",I.trigger(this._element,Le)}),this._element,!0),this._element.style[t]=`${this._element[s]}px`}hide(){if(this._isTransitioning||!this._isShown())return;if(I.trigger(this._element,Me).defaultPrevented)return;const e=this._getDimension();this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,u(this._element),this._element.classList.add(Fe),this._element.classList.remove(Re,Oe);for(const t of this._triggerArray){const e=H.getElementFromSelector(t);e&&!this._isShown(e)&&this._addAriaAndCollapsedClass([t],!1)}this._isTransitioning=!0,this._element.style[e]="",this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(Fe),this._element.classList.add(Re),I.trigger(this._element,Ie)}),this._element,!0)}_isShown(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._element).classList.contains(Oe)}_configAfterMerge(e){return e.toggle=Boolean(e.toggle),e.parent=r(e.parent),e}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(Be);for(const t of e){const e=H.getElementFromSelector(t);e&&this._addAriaAndCollapsedClass([t],this._isShown(e))}}_getFirstLevelChildren(e){const t=H.find(ze,this._config.parent);return H.find(e,this._config.parent).filter((e=>!t.includes(e)))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const s of e)s.classList.toggle("collapsed",!t),s.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return"string"==typeof e&&/show|hide/.test(e)&&(t.toggle=!1),this.each((function(){const s=Ve.getOrCreateInstance(this,t);if("string"==typeof e){if(void 0===s[e])throw new TypeError(`No method named "${e}"`);s[e]()}}))}}I.on(document,Pe,Be,(function(e){("A"===e.target.tagName||e.delegateTarget&&"A"===e.delegateTarget.tagName)&&e.preventDefault();for(const t of H.getMultipleElementsFromSelector(this))Ve.getOrCreateInstance(t,{toggle:!1}).toggle()})),x(Ve);var Ue="top",We="bottom",Ge="right",qe="left",Ye="auto",Ke=[Ue,We,Ge,qe],Je="start",Xe="end",Ze="clippingParents",Qe="viewport",et="popper",tt="reference",st=Ke.reduce((function(e,t){return e.concat([t+"-"+Je,t+"-"+Xe])}),[]),nt=[].concat(Ke,[Ye]).reduce((function(e,t){return e.concat([t,t+"-"+Je,t+"-"+Xe])}),[]),at="beforeRead",it="read",rt="afterRead",lt="beforeMain",ot="main",ct="afterMain",dt="beforeWrite",ut="write",ht="afterWrite",mt=[at,it,rt,lt,ot,ct,dt,ut,ht];function pt(e){return e?(e.nodeName||"").toLowerCase():null}function xt(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function ft(e){return e instanceof xt(e).Element||e instanceof Element}function gt(e){return e instanceof xt(e).HTMLElement||e instanceof HTMLElement}function vt(e){return"undefined"!=typeof ShadowRoot&&(e instanceof xt(e).ShadowRoot||e instanceof ShadowRoot)}const jt={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var s=t.styles[e]||{},n=t.attributes[e]||{},a=t.elements[e];gt(a)&&pt(a)&&(Object.assign(a.style,s),Object.keys(n).forEach((function(e){var t=n[e];!1===t?a.removeAttribute(e):a.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,s={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,s.popper),t.styles=s,t.elements.arrow&&Object.assign(t.elements.arrow.style,s.arrow),function(){Object.keys(t.elements).forEach((function(e){var n=t.elements[e],a=t.attributes[e]||{},i=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:s[e]).reduce((function(e,t){return e[t]="",e}),{});gt(n)&&pt(n)&&(Object.assign(n.style,i),Object.keys(a).forEach((function(e){n.removeAttribute(e)})))}))}},requires:["computeStyles"]};function bt(e){return e.split("-")[0]}var yt=Math.max,wt=Math.min,Nt=Math.round;function Ct(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function St(){return!/^((?!chrome|android).)*safari/i.test(Ct())}function kt(e,t,s){void 0===t&&(t=!1),void 0===s&&(s=!1);var n=e.getBoundingClientRect(),a=1,i=1;t&&gt(e)&&(a=e.offsetWidth>0&&Nt(n.width)/e.offsetWidth||1,i=e.offsetHeight>0&&Nt(n.height)/e.offsetHeight||1);var r=(ft(e)?xt(e):window).visualViewport,l=!St()&&s,o=(n.left+(l&&r?r.offsetLeft:0))/a,c=(n.top+(l&&r?r.offsetTop:0))/i,d=n.width/a,u=n.height/i;return{width:d,height:u,top:c,right:o+d,bottom:c+u,left:o,x:o,y:c}}function Dt(e){var t=kt(e),s=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-s)<=1&&(s=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:s,height:n}}function _t(e,t){var s=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(s&&vt(s)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function At(e){return xt(e).getComputedStyle(e)}function Tt(e){return["table","td","th"].indexOf(pt(e))>=0}function Et(e){return((ft(e)?e.ownerDocument:e.document)||window.document).documentElement}function Lt(e){return"html"===pt(e)?e:e.assignedSlot||e.parentNode||(vt(e)?e.host:null)||Et(e)}function Mt(e){return gt(e)&&"fixed"!==At(e).position?e.offsetParent:null}function It(e){for(var t=xt(e),s=Mt(e);s&&Tt(s)&&"static"===At(s).position;)s=Mt(s);return s&&("html"===pt(s)||"body"===pt(s)&&"static"===At(s).position)?t:s||function(e){var t=/firefox/i.test(Ct());if(/Trident/i.test(Ct())&&gt(e)&&"fixed"===At(e).position)return null;var s=Lt(e);for(vt(s)&&(s=s.host);gt(s)&&["html","body"].indexOf(pt(s))<0;){var n=At(s);if("none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||-1!==["transform","perspective"].indexOf(n.willChange)||t&&"filter"===n.willChange||t&&n.filter&&"none"!==n.filter)return s;s=s.parentNode}return null}(e)||t}function Pt(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Ot(e,t,s){return yt(e,wt(t,s))}function Rt(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Ft(e,t){return t.reduce((function(t,s){return t[s]=e,t}),{})}const zt={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,s=e.state,n=e.name,a=e.options,i=s.elements.arrow,r=s.modifiersData.popperOffsets,l=bt(s.placement),o=Pt(l),c=[qe,Ge].indexOf(l)>=0?"height":"width";if(i&&r){var d=function(e,t){return Rt("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Ft(e,Ke))}(a.padding,s),u=Dt(i),h="y"===o?Ue:qe,m="y"===o?We:Ge,p=s.rects.reference[c]+s.rects.reference[o]-r[o]-s.rects.popper[c],x=r[o]-s.rects.reference[o],f=It(i),g=f?"y"===o?f.clientHeight||0:f.clientWidth||0:0,v=p/2-x/2,j=d[h],b=g-u[c]-d[m],y=g/2-u[c]/2+v,w=Ot(j,y,b),N=o;s.modifiersData[n]=((t={})[N]=w,t.centerOffset=w-y,t)}},effect:function(e){var t=e.state,s=e.options.element,n=void 0===s?"[data-popper-arrow]":s;null!=n&&("string"!=typeof n||(n=t.elements.popper.querySelector(n)))&&_t(t.elements.popper,n)&&(t.elements.arrow=n)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Bt(e){return e.split("-")[1]}var $t={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ht(e){var t,s=e.popper,n=e.popperRect,a=e.placement,i=e.variation,r=e.offsets,l=e.position,o=e.gpuAcceleration,c=e.adaptive,d=e.roundOffsets,u=e.isFixed,h=r.x,m=void 0===h?0:h,p=r.y,x=void 0===p?0:p,f="function"==typeof d?d({x:m,y:x}):{x:m,y:x};m=f.x,x=f.y;var g=r.hasOwnProperty("x"),v=r.hasOwnProperty("y"),j=qe,b=Ue,y=window;if(c){var w=It(s),N="clientHeight",C="clientWidth";w===xt(s)&&"static"!==At(w=Et(s)).position&&"absolute"===l&&(N="scrollHeight",C="scrollWidth"),(a===Ue||(a===qe||a===Ge)&&i===Xe)&&(b=We,x-=(u&&w===y&&y.visualViewport?y.visualViewport.height:w[N])-n.height,x*=o?1:-1),a!==qe&&(a!==Ue&&a!==We||i!==Xe)||(j=Ge,m-=(u&&w===y&&y.visualViewport?y.visualViewport.width:w[C])-n.width,m*=o?1:-1)}var S,k=Object.assign({position:l},c&&$t),D=!0===d?function(e,t){var s=e.x,n=e.y,a=t.devicePixelRatio||1;return{x:Nt(s*a)/a||0,y:Nt(n*a)/a||0}}({x:m,y:x},xt(s)):{x:m,y:x};return m=D.x,x=D.y,o?Object.assign({},k,((S={})[b]=v?"0":"",S[j]=g?"0":"",S.transform=(y.devicePixelRatio||1)<=1?"translate("+m+"px, "+x+"px)":"translate3d("+m+"px, "+x+"px, 0)",S)):Object.assign({},k,((t={})[b]=v?x+"px":"",t[j]=g?m+"px":"",t.transform="",t))}const Vt={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,s=e.options,n=s.gpuAcceleration,a=void 0===n||n,i=s.adaptive,r=void 0===i||i,l=s.roundOffsets,o=void 0===l||l,c={placement:bt(t.placement),variation:Bt(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Ht(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:r,roundOffsets:o})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Ht(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:o})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var Ut={passive:!0};const Wt={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,s=e.instance,n=e.options,a=n.scroll,i=void 0===a||a,r=n.resize,l=void 0===r||r,o=xt(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&c.forEach((function(e){e.addEventListener("scroll",s.update,Ut)})),l&&o.addEventListener("resize",s.update,Ut),function(){i&&c.forEach((function(e){e.removeEventListener("scroll",s.update,Ut)})),l&&o.removeEventListener("resize",s.update,Ut)}},data:{}};var Gt={left:"right",right:"left",bottom:"top",top:"bottom"};function qt(e){return e.replace(/left|right|bottom|top/g,(function(e){return Gt[e]}))}var Yt={start:"end",end:"start"};function Kt(e){return e.replace(/start|end/g,(function(e){return Yt[e]}))}function Jt(e){var t=xt(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Xt(e){return kt(Et(e)).left+Jt(e).scrollLeft}function Zt(e){var t=At(e),s=t.overflow,n=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(s+a+n)}function Qt(e){return["html","body","#document"].indexOf(pt(e))>=0?e.ownerDocument.body:gt(e)&&Zt(e)?e:Qt(Lt(e))}function es(e,t){var s;void 0===t&&(t=[]);var n=Qt(e),a=n===(null==(s=e.ownerDocument)?void 0:s.body),i=xt(n),r=a?[i].concat(i.visualViewport||[],Zt(n)?n:[]):n,l=t.concat(r);return a?l:l.concat(es(Lt(r)))}function ts(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function ss(e,t,s){return t===Qe?ts(function(e,t){var s=xt(e),n=Et(e),a=s.visualViewport,i=n.clientWidth,r=n.clientHeight,l=0,o=0;if(a){i=a.width,r=a.height;var c=St();(c||!c&&"fixed"===t)&&(l=a.offsetLeft,o=a.offsetTop)}return{width:i,height:r,x:l+Xt(e),y:o}}(e,s)):ft(t)?function(e,t){var s=kt(e,!1,"fixed"===t);return s.top=s.top+e.clientTop,s.left=s.left+e.clientLeft,s.bottom=s.top+e.clientHeight,s.right=s.left+e.clientWidth,s.width=e.clientWidth,s.height=e.clientHeight,s.x=s.left,s.y=s.top,s}(t,s):ts(function(e){var t,s=Et(e),n=Jt(e),a=null==(t=e.ownerDocument)?void 0:t.body,i=yt(s.scrollWidth,s.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),r=yt(s.scrollHeight,s.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),l=-n.scrollLeft+Xt(e),o=-n.scrollTop;return"rtl"===At(a||s).direction&&(l+=yt(s.clientWidth,a?a.clientWidth:0)-i),{width:i,height:r,x:l,y:o}}(Et(e)))}function ns(e){var t,s=e.reference,n=e.element,a=e.placement,i=a?bt(a):null,r=a?Bt(a):null,l=s.x+s.width/2-n.width/2,o=s.y+s.height/2-n.height/2;switch(i){case Ue:t={x:l,y:s.y-n.height};break;case We:t={x:l,y:s.y+s.height};break;case Ge:t={x:s.x+s.width,y:o};break;case qe:t={x:s.x-n.width,y:o};break;default:t={x:s.x,y:s.y}}var c=i?Pt(i):null;if(null!=c){var d="y"===c?"height":"width";switch(r){case Je:t[c]=t[c]-(s[d]/2-n[d]/2);break;case Xe:t[c]=t[c]+(s[d]/2-n[d]/2)}}return t}function as(e,t){void 0===t&&(t={});var s=t,n=s.placement,a=void 0===n?e.placement:n,i=s.strategy,r=void 0===i?e.strategy:i,l=s.boundary,o=void 0===l?Ze:l,c=s.rootBoundary,d=void 0===c?Qe:c,u=s.elementContext,h=void 0===u?et:u,m=s.altBoundary,p=void 0!==m&&m,x=s.padding,f=void 0===x?0:x,g=Rt("number"!=typeof f?f:Ft(f,Ke)),v=h===et?tt:et,j=e.rects.popper,b=e.elements[p?v:h],y=function(e,t,s,n){var a="clippingParents"===t?function(e){var t=es(Lt(e)),s=["absolute","fixed"].indexOf(At(e).position)>=0&&gt(e)?It(e):e;return ft(s)?t.filter((function(e){return ft(e)&&_t(e,s)&&"body"!==pt(e)})):[]}(e):[].concat(t),i=[].concat(a,[s]),r=i[0],l=i.reduce((function(t,s){var a=ss(e,s,n);return t.top=yt(a.top,t.top),t.right=wt(a.right,t.right),t.bottom=wt(a.bottom,t.bottom),t.left=yt(a.left,t.left),t}),ss(e,r,n));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}(ft(b)?b:b.contextElement||Et(e.elements.popper),o,d,r),w=kt(e.elements.reference),N=ns({reference:w,element:j,placement:a}),C=ts(Object.assign({},j,N)),S=h===et?C:w,k={top:y.top-S.top+g.top,bottom:S.bottom-y.bottom+g.bottom,left:y.left-S.left+g.left,right:S.right-y.right+g.right},D=e.modifiersData.offset;if(h===et&&D){var _=D[a];Object.keys(k).forEach((function(e){var t=[Ge,We].indexOf(e)>=0?1:-1,s=[Ue,We].indexOf(e)>=0?"y":"x";k[e]+=_[s]*t}))}return k}function is(e,t){void 0===t&&(t={});var s=t,n=s.placement,a=s.boundary,i=s.rootBoundary,r=s.padding,l=s.flipVariations,o=s.allowedAutoPlacements,c=void 0===o?nt:o,d=Bt(n),u=d?l?st:st.filter((function(e){return Bt(e)===d})):Ke,h=u.filter((function(e){return c.indexOf(e)>=0}));0===h.length&&(h=u);var m=h.reduce((function(t,s){return t[s]=as(e,{placement:s,boundary:a,rootBoundary:i,padding:r})[bt(s)],t}),{});return Object.keys(m).sort((function(e,t){return m[e]-m[t]}))}const rs={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,s=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var a=s.mainAxis,i=void 0===a||a,r=s.altAxis,l=void 0===r||r,o=s.fallbackPlacements,c=s.padding,d=s.boundary,u=s.rootBoundary,h=s.altBoundary,m=s.flipVariations,p=void 0===m||m,x=s.allowedAutoPlacements,f=t.options.placement,g=bt(f),v=o||(g!==f&&p?function(e){if(bt(e)===Ye)return[];var t=qt(e);return[Kt(e),t,Kt(t)]}(f):[qt(f)]),j=[f].concat(v).reduce((function(e,s){return e.concat(bt(s)===Ye?is(t,{placement:s,boundary:d,rootBoundary:u,padding:c,flipVariations:p,allowedAutoPlacements:x}):s)}),[]),b=t.rects.reference,y=t.rects.popper,w=new Map,N=!0,C=j[0],S=0;S<j.length;S++){var k=j[S],D=bt(k),_=Bt(k)===Je,A=[Ue,We].indexOf(D)>=0,T=A?"width":"height",E=as(t,{placement:k,boundary:d,rootBoundary:u,altBoundary:h,padding:c}),L=A?_?Ge:qe:_?We:Ue;b[T]>y[T]&&(L=qt(L));var M=qt(L),I=[];if(i&&I.push(E[D]<=0),l&&I.push(E[L]<=0,E[M]<=0),I.every((function(e){return e}))){C=k,N=!1;break}w.set(k,I)}if(N)for(var P=function(e){var t=j.find((function(t){var s=w.get(t);if(s)return s.slice(0,e).every((function(e){return e}))}));if(t)return C=t,"break"},O=p?3:1;O>0&&"break"!==P(O);O--);t.placement!==C&&(t.modifiersData[n]._skip=!0,t.placement=C,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function ls(e,t,s){return void 0===s&&(s={x:0,y:0}),{top:e.top-t.height-s.y,right:e.right-t.width+s.x,bottom:e.bottom-t.height+s.y,left:e.left-t.width-s.x}}function os(e){return[Ue,Ge,We,qe].some((function(t){return e[t]>=0}))}const cs={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,s=e.name,n=t.rects.reference,a=t.rects.popper,i=t.modifiersData.preventOverflow,r=as(t,{elementContext:"reference"}),l=as(t,{altBoundary:!0}),o=ls(r,n),c=ls(l,a,i),d=os(o),u=os(c);t.modifiersData[s]={referenceClippingOffsets:o,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:u},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":u})}},ds={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,s=e.options,n=e.name,a=s.offset,i=void 0===a?[0,0]:a,r=nt.reduce((function(e,s){return e[s]=function(e,t,s){var n=bt(e),a=[qe,Ue].indexOf(n)>=0?-1:1,i="function"==typeof s?s(Object.assign({},t,{placement:e})):s,r=i[0],l=i[1];return r=r||0,l=(l||0)*a,[qe,Ge].indexOf(n)>=0?{x:l,y:r}:{x:r,y:l}}(s,t.rects,i),e}),{}),l=r[t.placement],o=l.x,c=l.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=o,t.modifiersData.popperOffsets.y+=c),t.modifiersData[n]=r}},us={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,s=e.name;t.modifiersData[s]=ns({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})},data:{}},hs={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,s=e.options,n=e.name,a=s.mainAxis,i=void 0===a||a,r=s.altAxis,l=void 0!==r&&r,o=s.boundary,c=s.rootBoundary,d=s.altBoundary,u=s.padding,h=s.tether,m=void 0===h||h,p=s.tetherOffset,x=void 0===p?0:p,f=as(t,{boundary:o,rootBoundary:c,padding:u,altBoundary:d}),g=bt(t.placement),v=Bt(t.placement),j=!v,b=Pt(g),y="x"===b?"y":"x",w=t.modifiersData.popperOffsets,N=t.rects.reference,C=t.rects.popper,S="function"==typeof x?x(Object.assign({},t.rects,{placement:t.placement})):x,k="number"==typeof S?{mainAxis:S,altAxis:S}:Object.assign({mainAxis:0,altAxis:0},S),D=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,_={x:0,y:0};if(w){if(i){var A,T="y"===b?Ue:qe,E="y"===b?We:Ge,L="y"===b?"height":"width",M=w[b],I=M+f[T],P=M-f[E],O=m?-C[L]/2:0,R=v===Je?N[L]:C[L],F=v===Je?-C[L]:-N[L],z=t.elements.arrow,B=m&&z?Dt(z):{width:0,height:0},$=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},H=$[T],V=$[E],U=Ot(0,N[L],B[L]),W=j?N[L]/2-O-U-H-k.mainAxis:R-U-H-k.mainAxis,G=j?-N[L]/2+O+U+V+k.mainAxis:F+U+V+k.mainAxis,q=t.elements.arrow&&It(t.elements.arrow),Y=q?"y"===b?q.clientTop||0:q.clientLeft||0:0,K=null!=(A=null==D?void 0:D[b])?A:0,J=M+G-K,X=Ot(m?wt(I,M+W-K-Y):I,M,m?yt(P,J):P);w[b]=X,_[b]=X-M}if(l){var Z,Q="x"===b?Ue:qe,ee="x"===b?We:Ge,te=w[y],se="y"===y?"height":"width",ne=te+f[Q],ae=te-f[ee],ie=-1!==[Ue,qe].indexOf(g),re=null!=(Z=null==D?void 0:D[y])?Z:0,le=ie?ne:te-N[se]-C[se]-re+k.altAxis,oe=ie?te+N[se]+C[se]-re-k.altAxis:ae,ce=m&&ie?function(e,t,s){var n=Ot(e,t,s);return n>s?s:n}(le,te,oe):Ot(m?le:ne,te,m?oe:ae);w[y]=ce,_[y]=ce-te}t.modifiersData[n]=_}},requiresIfExists:["offset"]};function ms(e,t,s){void 0===s&&(s=!1);var n,a,i=gt(t),r=gt(t)&&function(e){var t=e.getBoundingClientRect(),s=Nt(t.width)/e.offsetWidth||1,n=Nt(t.height)/e.offsetHeight||1;return 1!==s||1!==n}(t),l=Et(t),o=kt(e,r,s),c={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(i||!i&&!s)&&(("body"!==pt(t)||Zt(l))&&(c=(n=t)!==xt(n)&&gt(n)?{scrollLeft:(a=n).scrollLeft,scrollTop:a.scrollTop}:Jt(n)),gt(t)?((d=kt(t,!0)).x+=t.clientLeft,d.y+=t.clientTop):l&&(d.x=Xt(l))),{x:o.left+c.scrollLeft-d.x,y:o.top+c.scrollTop-d.y,width:o.width,height:o.height}}function ps(e){var t=new Map,s=new Set,n=[];function a(e){s.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!s.has(e)){var n=t.get(e);n&&a(n)}})),n.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){s.has(e.name)||a(e)})),n}var xs={placement:"bottom",modifiers:[],strategy:"absolute"};function fs(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function gs(e){void 0===e&&(e={});var t=e,s=t.defaultModifiers,n=void 0===s?[]:s,a=t.defaultOptions,i=void 0===a?xs:a;return function(e,t,s){void 0===s&&(s=i);var a,r,l={placement:"bottom",orderedModifiers:[],options:Object.assign({},xs,i),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},o=[],c=!1,d={state:l,setOptions:function(s){var a="function"==typeof s?s(l.options):s;u(),l.options=Object.assign({},i,l.options,a),l.scrollParents={reference:ft(e)?es(e):e.contextElement?es(e.contextElement):[],popper:es(t)};var r,c,h=function(e){var t=ps(e);return mt.reduce((function(e,s){return e.concat(t.filter((function(e){return e.phase===s})))}),[])}((r=[].concat(n,l.options.modifiers),c=r.reduce((function(e,t){var s=e[t.name];return e[t.name]=s?Object.assign({},s,t,{options:Object.assign({},s.options,t.options),data:Object.assign({},s.data,t.data)}):t,e}),{}),Object.keys(c).map((function(e){return c[e]}))));return l.orderedModifiers=h.filter((function(e){return e.enabled})),l.orderedModifiers.forEach((function(e){var t=e.name,s=e.options,n=void 0===s?{}:s,a=e.effect;if("function"==typeof a){var i=a({state:l,name:t,instance:d,options:n});o.push(i||function(){})}})),d.update()},forceUpdate:function(){if(!c){var e=l.elements,t=e.reference,s=e.popper;if(fs(t,s)){l.rects={reference:ms(t,It(s),"fixed"===l.options.strategy),popper:Dt(s)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach((function(e){return l.modifiersData[e.name]=Object.assign({},e.data)}));for(var n=0;n<l.orderedModifiers.length;n++)if(!0!==l.reset){var a=l.orderedModifiers[n],i=a.fn,r=a.options,o=void 0===r?{}:r,u=a.name;"function"==typeof i&&(l=i({state:l,options:o,name:u,instance:d})||l)}else l.reset=!1,n=-1}}},update:(a=function(){return new Promise((function(e){d.forceUpdate(),e(l)}))},function(){return r||(r=new Promise((function(e){Promise.resolve().then((function(){r=void 0,e(a())}))}))),r}),destroy:function(){u(),c=!0}};if(!fs(e,t))return d;function u(){o.forEach((function(e){return e()})),o=[]}return d.setOptions(s).then((function(e){!c&&s.onFirstUpdate&&s.onFirstUpdate(e)})),d}}var vs=gs(),js=gs({defaultModifiers:[Wt,us,Vt,jt]}),bs=gs({defaultModifiers:[Wt,us,Vt,jt,ds,rs,hs,zt,cs]});const ys=Object.freeze(Object.defineProperty({__proto__:null,afterMain:ct,afterRead:rt,afterWrite:ht,applyStyles:jt,arrow:zt,auto:Ye,basePlacements:Ke,beforeMain:lt,beforeRead:at,beforeWrite:dt,bottom:We,clippingParents:Ze,computeStyles:Vt,createPopper:bs,createPopperBase:vs,createPopperLite:js,detectOverflow:as,end:Xe,eventListeners:Wt,flip:rs,hide:cs,left:qe,main:ot,modifierPhases:mt,offset:ds,placements:nt,popper:et,popperGenerator:gs,popperOffsets:us,preventOverflow:hs,read:it,reference:tt,right:Ge,start:Je,top:Ue,variationPlacements:st,viewport:Qe,write:ut},Symbol.toStringTag,{value:"Module"})),ws="dropdown",Ns=".bs.dropdown",Cs=".data-api",Ss="ArrowUp",ks="ArrowDown",Ds=`hide${Ns}`,_s=`hidden${Ns}`,As=`show${Ns}`,Ts=`shown${Ns}`,Es=`click${Ns}${Cs}`,Ls=`keydown${Ns}${Cs}`,Ms=`keyup${Ns}${Cs}`,Is="show",Ps='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Os=`${Ps}.${Is}`,Rs=".dropdown-menu",Fs=p()?"top-end":"top-start",zs=p()?"top-start":"top-end",Bs=p()?"bottom-end":"bottom-start",$s=p()?"bottom-start":"bottom-end",Hs=p()?"left-start":"right-start",Vs=p()?"right-start":"left-start",Us={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Ws={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Gs extends B{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=H.next(this._element,Rs)[0]||H.prev(this._element,Rs)[0]||H.findOne(Rs,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Us}static get DefaultType(){return Ws}static get NAME(){return ws}toggle(){return this._isShown()?this.hide():this.show()}show(){if(o(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!I.trigger(this._element,As,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const e of[].concat(...document.body.children))I.on(e,"mouseover",d);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Is),this._element.classList.add(Is),I.trigger(this._element,Ts,e)}}hide(){if(o(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!I.trigger(this._element,Ds,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))I.off(e,"mouseover",d);this._popper&&this._popper.destroy(),this._menu.classList.remove(Is),this._element.classList.remove(Is),this._element.setAttribute("aria-expanded","false"),F.removeDataAttribute(this._menu,"popper"),I.trigger(this._element,_s,e)}}_getConfig(e){if("object"==typeof(e=super._getConfig(e)).reference&&!i(e.reference)&&"function"!=typeof e.reference.getBoundingClientRect)throw new TypeError(`${ws.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(void 0===ys)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let e=this._element;"parent"===this._config.reference?e=this._parent:i(this._config.reference)?e=r(this._config.reference):"object"==typeof this._config.reference&&(e=this._config.reference);const t=this._getPopperConfig();this._popper=bs(e,this._menu,t)}_isShown(){return this._menu.classList.contains(Is)}_getPlacement(){const e=this._parent;if(e.classList.contains("dropend"))return Hs;if(e.classList.contains("dropstart"))return Vs;if(e.classList.contains("dropup-center"))return"top";if(e.classList.contains("dropdown-center"))return"bottom";const t="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return e.classList.contains("dropup")?t?zs:Fs:t?$s:Bs}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map((e=>Number.parseInt(e,10))):"function"==typeof e?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(F.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...f(this._config.popperConfig,[void 0,e])}}_selectMenuItem(e){let{key:t,target:s}=e;const n=H.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter((e=>l(e)));n.length&&v(n,s,t===ks,!n.includes(s)).focus()}static jQueryInterface(e){return this.each((function(){const t=Gs.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}static clearMenus(e){if(2===e.button||"keyup"===e.type&&"Tab"!==e.key)return;const t=H.find(Os);for(const s of t){const t=Gs.getInstance(s);if(!t||!1===t._config.autoClose)continue;const n=e.composedPath(),a=n.includes(t._menu);if(n.includes(t._element)||"inside"===t._config.autoClose&&!a||"outside"===t._config.autoClose&&a)continue;if(t._menu.contains(e.target)&&("keyup"===e.type&&"Tab"===e.key||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const i={relatedTarget:t._element};"click"===e.type&&(i.clickEvent=e),t._completeHide(i)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),s="Escape"===e.key,n=[Ss,ks].includes(e.key);if(!n&&!s)return;if(t&&!s)return;e.preventDefault();const a=this.matches(Ps)?this:H.prev(this,Ps)[0]||H.next(this,Ps)[0]||H.findOne(Ps,e.delegateTarget.parentNode),i=Gs.getOrCreateInstance(a);if(n)return e.stopPropagation(),i.show(),void i._selectMenuItem(e);i._isShown()&&(e.stopPropagation(),i.hide(),a.focus())}}I.on(document,Ls,Ps,Gs.dataApiKeydownHandler),I.on(document,Ls,Rs,Gs.dataApiKeydownHandler),I.on(document,Es,Gs.clearMenus),I.on(document,Ms,Gs.clearMenus),I.on(document,Es,Ps,(function(e){e.preventDefault(),Gs.getOrCreateInstance(this).toggle()})),x(Gs);const qs="backdrop",Ys="show",Ks=`mousedown.bs.${qs}`,Js={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Xs={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Zs extends z{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return Js}static get DefaultType(){return Xs}static get NAME(){return qs}show(e){if(!this._config.isVisible)return void f(e);this._append();const t=this._getElement();this._config.isAnimated&&u(t),t.classList.add(Ys),this._emulateAnimation((()=>{f(e)}))}hide(e){this._config.isVisible?(this._getElement().classList.remove(Ys),this._emulateAnimation((()=>{this.dispose(),f(e)}))):f(e)}dispose(){this._isAppended&&(I.off(this._element,Ks),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add("fade"),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=r(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),I.on(e,Ks,(()=>{f(this._config.clickCallback)})),this._isAppended=!0}_emulateAnimation(e){g(e,this._getElement(),this._config.isAnimated)}}const Qs=".bs.focustrap",en=`focusin${Qs}`,tn=`keydown.tab${Qs}`,sn="backward",nn={autofocus:!0,trapElement:null},an={autofocus:"boolean",trapElement:"element"};class rn extends z{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return nn}static get DefaultType(){return an}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),I.off(document,Qs),I.on(document,en,(e=>this._handleFocusin(e))),I.on(document,tn,(e=>this._handleKeydown(e))),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,I.off(document,Qs))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const s=H.focusableChildren(t);0===s.length?t.focus():this._lastTabNavDirection===sn?s[s.length-1].focus():s[0].focus()}_handleKeydown(e){"Tab"===e.key&&(this._lastTabNavDirection=e.shiftKey?sn:"forward")}}const ln=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",on=".sticky-top",cn="padding-right",dn="margin-right";class un{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,cn,(t=>t+e)),this._setElementAttributes(ln,cn,(t=>t+e)),this._setElementAttributes(on,dn,(t=>t-e))}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,cn),this._resetElementAttributes(ln,cn),this._resetElementAttributes(on,dn)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,s){const n=this.getWidth();this._applyManipulationCallback(e,(e=>{if(e!==this._element&&window.innerWidth>e.clientWidth+n)return;this._saveInitialAttribute(e,t);const a=window.getComputedStyle(e).getPropertyValue(t);e.style.setProperty(t,`${s(Number.parseFloat(a))}px`)}))}_saveInitialAttribute(e,t){const s=e.style.getPropertyValue(t);s&&F.setDataAttribute(e,t,s)}_resetElementAttributes(e,t){this._applyManipulationCallback(e,(e=>{const s=F.getDataAttribute(e,t);null!==s?(F.removeDataAttribute(e,t),e.style.setProperty(t,s)):e.style.removeProperty(t)}))}_applyManipulationCallback(e,t){if(i(e))t(e);else for(const s of H.find(e,this._element))t(s)}}const hn=".bs.modal",mn=`hide${hn}`,pn=`hidePrevented${hn}`,xn=`hidden${hn}`,fn=`show${hn}`,gn=`shown${hn}`,vn=`resize${hn}`,jn=`click.dismiss${hn}`,bn=`mousedown.dismiss${hn}`,yn=`keydown.dismiss${hn}`,wn=`click${hn}.data-api`,Nn="modal-open",Cn="show",Sn="modal-static",kn={backdrop:!0,focus:!0,keyboard:!0},Dn={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class _n extends B{constructor(e,t){super(e,t),this._dialog=H.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new un,this._addEventListeners()}static get Default(){return kn}static get DefaultType(){return Dn}static get NAME(){return"modal"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||I.trigger(this._element,fn,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Nn),this._adjustDialog(),this._backdrop.show((()=>this._showElement(e))))}hide(){this._isShown&&!this._isTransitioning&&(I.trigger(this._element,mn).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Cn),this._queueCallback((()=>this._hideModal()),this._element,this._isAnimated())))}dispose(){I.off(window,hn),I.off(this._dialog,hn),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Zs({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new rn({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=H.findOne(".modal-body",this._dialog);t&&(t.scrollTop=0),u(this._element),this._element.classList.add(Cn),this._queueCallback((()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,I.trigger(this._element,gn,{relatedTarget:e})}),this._dialog,this._isAnimated())}_addEventListeners(){I.on(this._element,yn,(e=>{"Escape"===e.key&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())})),I.on(window,vn,(()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()})),I.on(this._element,bn,(e=>{I.one(this._element,jn,(t=>{this._element===e.target&&this._element===t.target&&("static"!==this._config.backdrop?this._config.backdrop&&this.hide():this._triggerBackdropTransition())}))}))}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide((()=>{document.body.classList.remove(Nn),this._resetAdjustments(),this._scrollBar.reset(),I.trigger(this._element,xn)}))}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(I.trigger(this._element,pn).defaultPrevented)return;const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._element.style.overflowY;"hidden"===t||this._element.classList.contains(Sn)||(e||(this._element.style.overflowY="hidden"),this._element.classList.add(Sn),this._queueCallback((()=>{this._element.classList.remove(Sn),this._queueCallback((()=>{this._element.style.overflowY=t}),this._dialog)}),this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),s=t>0;if(s&&!e){const e=p()?"paddingLeft":"paddingRight";this._element.style[e]=`${t}px`}if(!s&&e){const e=p()?"paddingRight":"paddingLeft";this._element.style[e]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each((function(){const s=_n.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===s[e])throw new TypeError(`No method named "${e}"`);s[e](t)}}))}}I.on(document,wn,'[data-bs-toggle="modal"]',(function(e){const t=H.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),I.one(t,fn,(e=>{e.defaultPrevented||I.one(t,xn,(()=>{l(this)&&this.focus()}))}));const s=H.findOne(".modal.show");s&&_n.getInstance(s).hide(),_n.getOrCreateInstance(t).toggle(this)})),V(_n),x(_n);const An=".bs.offcanvas",Tn=".data-api",En=`load${An}${Tn}`,Ln="show",Mn="showing",In="hiding",Pn=".offcanvas.show",On=`show${An}`,Rn=`shown${An}`,Fn=`hide${An}`,zn=`hidePrevented${An}`,Bn=`hidden${An}`,$n=`resize${An}`,Hn=`click${An}${Tn}`,Vn=`keydown.dismiss${An}`,Un={backdrop:!0,keyboard:!0,scroll:!1},Wn={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Gn extends B{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Un}static get DefaultType(){return Wn}static get NAME(){return"offcanvas"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||I.trigger(this._element,On,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new un).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Mn),this._queueCallback((()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Ln),this._element.classList.remove(Mn),I.trigger(this._element,Rn,{relatedTarget:e})}),this._element,!0))}hide(){this._isShown&&(I.trigger(this._element,Fn).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(In),this._backdrop.hide(),this._queueCallback((()=>{this._element.classList.remove(Ln,In),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new un).reset(),I.trigger(this._element,Bn)}),this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=Boolean(this._config.backdrop);return new Zs({className:"offcanvas-backdrop",isVisible:e,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:e?()=>{"static"!==this._config.backdrop?this.hide():I.trigger(this._element,zn)}:null})}_initializeFocusTrap(){return new rn({trapElement:this._element})}_addEventListeners(){I.on(this._element,Vn,(e=>{"Escape"===e.key&&(this._config.keyboard?this.hide():I.trigger(this._element,zn))}))}static jQueryInterface(e){return this.each((function(){const t=Gn.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}I.on(document,Hn,'[data-bs-toggle="offcanvas"]',(function(e){const t=H.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),o(this))return;I.one(t,Bn,(()=>{l(this)&&this.focus()}));const s=H.findOne(Pn);s&&s!==t&&Gn.getInstance(s).hide(),Gn.getOrCreateInstance(t).toggle(this)})),I.on(window,En,(()=>{for(const e of H.find(Pn))Gn.getOrCreateInstance(e).show()})),I.on(window,$n,(()=>{for(const e of H.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(e).position&&Gn.getOrCreateInstance(e).hide()})),V(Gn),x(Gn);const qn={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Yn=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Kn=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Jn=(e,t)=>{const s=e.nodeName.toLowerCase();return t.includes(s)?!Yn.has(s)||Boolean(Kn.test(e.nodeValue)):t.filter((e=>e instanceof RegExp)).some((e=>e.test(s)))},Xn={allowList:qn,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Zn={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Qn={entry:"(string|element|function|null)",selector:"(string|element)"};class ea extends z{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return Xn}static get DefaultType(){return Zn}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map((e=>this._resolvePossibleFunction(e))).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[n,a]of Object.entries(this._config.content))this._setContent(e,a,n);const t=e.children[0],s=this._resolvePossibleFunction(this._config.extraClass);return s&&t.classList.add(...s.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,s]of Object.entries(e))super._typeCheckConfig({selector:t,entry:s},Qn)}_setContent(e,t,s){const n=H.findOne(s,e);n&&((t=this._resolvePossibleFunction(t))?i(t)?this._putElementInTemplate(r(t),n):this._config.html?n.innerHTML=this._maybeSanitize(t):n.textContent=t:n.remove())}_maybeSanitize(e){return this._config.sanitize?function(e,t,s){if(!e.length)return e;if(s&&"function"==typeof s)return s(e);const n=(new window.DOMParser).parseFromString(e,"text/html"),a=[].concat(...n.body.querySelectorAll("*"));for(const i of a){const e=i.nodeName.toLowerCase();if(!Object.keys(t).includes(e)){i.remove();continue}const s=[].concat(...i.attributes),n=[].concat(t["*"]||[],t[e]||[]);for(const t of s)Jn(t,n)||i.removeAttribute(t.nodeName)}return n.body.innerHTML}(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return f(e,[void 0,this])}_putElementInTemplate(e,t){if(this._config.html)return t.innerHTML="",void t.append(e);t.textContent=e.textContent}}const ta=new Set(["sanitize","allowList","sanitizeFn"]),sa="fade",na="show",aa=".tooltip-inner",ia=".modal",ra="hide.bs.modal",la="hover",oa="focus",ca={AUTO:"auto",TOP:"top",RIGHT:p()?"left":"right",BOTTOM:"bottom",LEFT:p()?"right":"left"},da={allowList:qn,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},ua={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class ha extends B{constructor(e,t){if(void 0===ys)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return da}static get DefaultType(){return ua}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),I.off(this._element.closest(ia),ra,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const e=I.trigger(this._element,this.constructor.eventName("show")),t=(c(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!t)return;this._disposePopper();const s=this._getTipElement();this._element.setAttribute("aria-describedby",s.getAttribute("id"));const{container:n}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(n.append(s),I.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(s),s.classList.add(na),"ontouchstart"in document.documentElement)for(const a of[].concat(...document.body.children))I.on(a,"mouseover",d);this._queueCallback((()=>{I.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1}),this.tip,this._isAnimated())}hide(){if(this._isShown()&&!I.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(na),"ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))I.off(e,"mouseover",d);this._activeTrigger.click=!1,this._activeTrigger[oa]=!1,this._activeTrigger[la]=!1,this._isHovered=null,this._queueCallback((()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),I.trigger(this._element,this.constructor.eventName("hidden")))}),this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(sa,na),t.classList.add(`bs-${this.constructor.NAME}-auto`);const s=(e=>{do{e+=Math.floor(1e6*Math.random())}while(document.getElementById(e));return e})(this.constructor.NAME).toString();return t.setAttribute("id",s),this._isAnimated()&&t.classList.add(sa),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new ea({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[aa]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(sa)}_isShown(){return this.tip&&this.tip.classList.contains(na)}_createPopper(e){const t=f(this._config.placement,[this,e,this._element]),s=ca[t.toUpperCase()];return bs(this._element,e,this._getPopperConfig(s))}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map((e=>Number.parseInt(e,10))):"function"==typeof e?t=>e(t,this._element):e}_resolvePossibleFunction(e){return f(e,[this._element,this._element])}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:e=>{this._getTipElement().setAttribute("data-popper-placement",e.state.placement)}}]};return{...t,...f(this._config.popperConfig,[void 0,t])}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if("click"===t)I.on(this._element,this.constructor.eventName("click"),this._config.selector,(e=>{this._initializeOnDelegatedTarget(e).toggle()}));else if("manual"!==t){const e=t===la?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),s=t===la?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");I.on(this._element,e,this._config.selector,(e=>{const t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusin"===e.type?oa:la]=!0,t._enter()})),I.on(this._element,s,this._config.selector,(e=>{const t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusout"===e.type?oa:la]=t._element.contains(e.relatedTarget),t._leave()}))}this._hideModalHandler=()=>{this._element&&this.hide()},I.on(this._element.closest(ia),ra,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout((()=>{this._isHovered&&this.show()}),this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout((()=>{this._isHovered||this.hide()}),this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=F.getDataAttributes(this._element);for(const s of Object.keys(t))ta.has(s)&&delete t[s];return e={...t,..."object"==typeof e&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=!1===e.container?document.body:r(e.container),"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[t,s]of Object.entries(this._config))this.constructor.Default[t]!==s&&(e[t]=s);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each((function(){const t=ha.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}}x(ha);const ma=".popover-header",pa=".popover-body",xa={...ha.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},fa={...ha.DefaultType,content:"(null|string|element|function)"};class ga extends ha{static get Default(){return xa}static get DefaultType(){return fa}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[ma]:this._getTitle(),[pa]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each((function(){const t=ga.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}}x(ga);const va=".bs.scrollspy",ja=`activate${va}`,ba=`click${va}`,ya=`load${va}.data-api`,wa="active",Na="[href]",Ca=".nav-link",Sa=`${Ca}, .nav-item > ${Ca}, .list-group-item`,ka={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Da={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class _a extends B{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return ka}static get DefaultType(){return Da}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=r(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,"string"==typeof e.threshold&&(e.threshold=e.threshold.split(",").map((e=>Number.parseFloat(e)))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(I.off(this._config.target,ba),I.on(this._config.target,ba,Na,(e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const s=this._rootElement||window,n=t.offsetTop-this._element.offsetTop;if(s.scrollTo)return void s.scrollTo({top:n,behavior:"smooth"});s.scrollTop=n}})))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver((e=>this._observerCallback(e)),e)}_observerCallback(e){const t=e=>this._targetLinks.get(`#${e.target.id}`),s=e=>{this._previousScrollData.visibleEntryTop=e.target.offsetTop,this._process(t(e))},n=(this._rootElement||document.documentElement).scrollTop,a=n>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=n;for(const i of e){if(!i.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(i));continue}const e=i.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(a&&e){if(s(i),!n)return}else a||e||s(i)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=H.find(Na,this._config.target);for(const t of e){if(!t.hash||o(t))continue;const e=H.findOne(decodeURI(t.hash),this._element);l(e)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,e))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(wa),this._activateParents(e),I.trigger(this._element,ja,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains("dropdown-item"))H.findOne(".dropdown-toggle",e.closest(".dropdown")).classList.add(wa);else for(const t of H.parents(e,".nav, .list-group"))for(const e of H.prev(t,Sa))e.classList.add(wa)}_clearActiveClass(e){e.classList.remove(wa);const t=H.find(`${Na}.${wa}`,e);for(const s of t)s.classList.remove(wa)}static jQueryInterface(e){return this.each((function(){const t=_a.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}))}}I.on(window,ya,(()=>{for(const e of H.find('[data-bs-spy="scroll"]'))_a.getOrCreateInstance(e)})),x(_a);const Aa=".bs.tab",Ta=`hide${Aa}`,Ea=`hidden${Aa}`,La=`show${Aa}`,Ma=`shown${Aa}`,Ia=`click${Aa}`,Pa=`keydown${Aa}`,Oa=`load${Aa}`,Ra="ArrowLeft",Fa="ArrowRight",za="ArrowUp",Ba="ArrowDown",$a="Home",Ha="End",Va="active",Ua="fade",Wa="show",Ga=".dropdown-toggle",qa=`:not(${Ga})`,Ya='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Ka=`.nav-link${qa}, .list-group-item${qa}, [role="tab"]${qa}, ${Ya}`,Ja=`.${Va}[data-bs-toggle="tab"], .${Va}[data-bs-toggle="pill"], .${Va}[data-bs-toggle="list"]`;class Xa extends B{constructor(e){super(e),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),I.on(this._element,Pa,(e=>this._keydown(e))))}static get NAME(){return"tab"}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),s=t?I.trigger(t,Ta,{relatedTarget:e}):null;I.trigger(e,La,{relatedTarget:t}).defaultPrevented||s&&s.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){e&&(e.classList.add(Va),this._activate(H.getElementFromSelector(e)),this._queueCallback((()=>{"tab"===e.getAttribute("role")?(e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),I.trigger(e,Ma,{relatedTarget:t})):e.classList.add(Wa)}),e,e.classList.contains(Ua)))}_deactivate(e,t){e&&(e.classList.remove(Va),e.blur(),this._deactivate(H.getElementFromSelector(e)),this._queueCallback((()=>{"tab"===e.getAttribute("role")?(e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),I.trigger(e,Ea,{relatedTarget:t})):e.classList.remove(Wa)}),e,e.classList.contains(Ua)))}_keydown(e){if(![Ra,Fa,za,Ba,$a,Ha].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=this._getChildren().filter((e=>!o(e)));let s;if([$a,Ha].includes(e.key))s=t[e.key===$a?0:t.length-1];else{const n=[Fa,Ba].includes(e.key);s=v(t,e.target,n,!0)}s&&(s.focus({preventScroll:!0}),Xa.getOrCreateInstance(s).show())}_getChildren(){return H.find(Ka,this._parent)}_getActiveElem(){return this._getChildren().find((e=>this._elemIsActive(e)))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const s of t)this._setInitialAttributesOnChild(s)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),s=this._getOuterElement(e);e.setAttribute("aria-selected",t),s!==e&&this._setAttributeIfNotExists(s,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=H.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){const s=this._getOuterElement(e);if(!s.classList.contains("dropdown"))return;const n=(e,n)=>{const a=H.findOne(e,s);a&&a.classList.toggle(n,t)};n(Ga,Va),n(".dropdown-menu",Wa),s.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,s){e.hasAttribute(t)||e.setAttribute(t,s)}_elemIsActive(e){return e.classList.contains(Va)}_getInnerElement(e){return e.matches(Ka)?e:H.findOne(Ka,e)}_getOuterElement(e){return e.closest(".nav-item, .list-group-item")||e}static jQueryInterface(e){return this.each((function(){const t=Xa.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}))}}I.on(document,Ia,Ya,(function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),o(this)||Xa.getOrCreateInstance(this).show()})),I.on(window,Oa,(()=>{for(const e of H.find(Ja))Xa.getOrCreateInstance(e)})),x(Xa);const Za=".bs.toast",Qa=`mouseover${Za}`,ei=`mouseout${Za}`,ti=`focusin${Za}`,si=`focusout${Za}`,ni=`hide${Za}`,ai=`hidden${Za}`,ii=`show${Za}`,ri=`shown${Za}`,li="hide",oi="show",ci="showing",di={animation:"boolean",autohide:"boolean",delay:"number"},ui={animation:!0,autohide:!0,delay:5e3};class hi extends B{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return ui}static get DefaultType(){return di}static get NAME(){return"toast"}show(){I.trigger(this._element,ii).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(li),u(this._element),this._element.classList.add(oi,ci),this._queueCallback((()=>{this._element.classList.remove(ci),I.trigger(this._element,ri),this._maybeScheduleHide()}),this._element,this._config.animation))}hide(){this.isShown()&&(I.trigger(this._element,ni).defaultPrevented||(this._element.classList.add(ci),this._queueCallback((()=>{this._element.classList.add(li),this._element.classList.remove(ci,oi),I.trigger(this._element,ai)}),this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(oi),super.dispose()}isShown(){return this._element.classList.contains(oi)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout((()=>{this.hide()}),this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=t;break;case"focusin":case"focusout":this._hasKeyboardInteraction=t}if(t)return void this._clearTimeout();const s=e.relatedTarget;this._element===s||this._element.contains(s)||this._maybeScheduleHide()}_setListeners(){I.on(this._element,Qa,(e=>this._onInteraction(e,!0))),I.on(this._element,ei,(e=>this._onInteraction(e,!1))),I.on(this._element,ti,(e=>this._onInteraction(e,!0))),I.on(this._element,si,(e=>this._onInteraction(e,!1)))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each((function(){const t=hi.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}return V(hi),x(hi),{Alert:q,Button:K,Carousel:Ae,Collapse:Ve,Dropdown:Gs,Modal:_n,Offcanvas:Gn,Popover:ga,ScrollSpy:_a,Tab:Xa,Toast:hi,Tooltip:ha}}()},950:(e,t,s)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=s(730)}},t={};function s(n){var a=t[n];if(void 0!==a)return a.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,s),i.exports}s.m=e,s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;s.t=function(n,a){if(1&a&&(n=this(n)),8&a)return n;if("object"===typeof n&&n){if(4&a&&n.__esModule)return n;if(16&a&&"function"===typeof n.then)return n}var i=Object.create(null);s.r(i);var r={};e=e||[null,t({}),t([]),t(t)];for(var l=2&a&&n;"object"==typeof l&&!~e.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach((e=>r[e]=()=>n[e]));return r.default=()=>n,s.d(i,r),i}})(),s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.f={},s.e=e=>Promise.all(Object.keys(s.f).reduce(((t,n)=>(s.f[n](e,t),t)),[])),s.u=e=>"static/js/"+e+".0f2f617f.chunk.js",s.miniCssF=e=>{},s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="areti-crm-frontend:";s.l=(n,a,i,r)=>{if(e[n])e[n].push(a);else{var l,o;if(void 0!==i)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==t+i){l=u;break}}l||(o=!0,(l=document.createElement("script")).charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.setAttribute("data-webpack",t+i),l.src=n),e[n]=[a];var h=(t,s)=>{l.onerror=l.onload=null,clearTimeout(m);var a=e[n];if(delete e[n],l.parentNode&&l.parentNode.removeChild(l),a&&a.forEach((e=>e(s))),t)return t(s)},m=setTimeout(h.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=h.bind(null,l.onerror),l.onload=h.bind(null,l.onload),o&&document.head.appendChild(l)}}})(),s.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.p="/",(()=>{var e={792:0};s.f.j=(t,n)=>{var a=s.o(e,t)?e[t]:void 0;if(0!==a)if(a)n.push(a[2]);else{var i=new Promise(((s,n)=>a=e[t]=[s,n]));n.push(a[2]=i);var r=s.p+s.u(t),l=new Error;s.l(r,(n=>{if(s.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var i=n&&("load"===n.type?"missing":n.type),r=n&&n.target&&n.target.src;l.message="Loading chunk "+t+" failed.\n("+i+": "+r+")",l.name="ChunkLoadError",l.type=i,l.request=r,a[1](l)}}),"chunk-"+t,t)}};var t=(t,n)=>{var a,i,r=n[0],l=n[1],o=n[2],c=0;if(r.some((t=>0!==e[t]))){for(a in l)s.o(l,a)&&(s.m[a]=l[a]);if(o)o(s)}for(t&&t(n);c<r.length;c++)i=r[c],s.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=self.webpackChunkareti_crm_frontend=self.webpackChunkareti_crm_frontend||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";var e={};s.r(e),s.d(e,{hasBrowserEnv:()=>zt,hasStandardBrowserEnv:()=>$t,hasStandardBrowserWebWorkerEnv:()=>Ht,navigator:()=>Bt,origin:()=>Vt});var t={};s.r(t),s.d(t,{FILE:()=>JC,HTML:()=>QC,TEXT:()=>ZC,URL:()=>XC});var n,a=s(43),i=s.t(a,2),r=s(391);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},l.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(n||(n={}));const o="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function d(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(s){}}}function u(e,t){return{usr:e.state,key:e.key,idx:t}}function h(e,t,s,n){return void 0===s&&(s=null),l({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?p(t):t,{state:s,key:t&&t.key||n||Math.random().toString(36).substr(2,8)})}function m(e){let{pathname:t="/",search:s="",hash:n=""}=e;return s&&"?"!==s&&(t+="?"===s.charAt(0)?s:"?"+s),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function p(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function x(e,t,s,a){void 0===a&&(a={});let{window:i=document.defaultView,v5Compat:r=!1}=a,d=i.history,p=n.Pop,x=null,f=g();function g(){return(d.state||{idx:null}).idx}function v(){p=n.Pop;let e=g(),t=null==e?null:e-f;f=e,x&&x({action:p,location:b.location,delta:t})}function j(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,s="string"===typeof e?e:m(e);return s=s.replace(/ $/,"%20"),c(t,"No window.location.(origin|href) available to create URL for href: "+s),new URL(s,t)}null==f&&(f=0,d.replaceState(l({},d.state,{idx:f}),""));let b={get action(){return p},get location(){return e(i,d)},listen(e){if(x)throw new Error("A history only accepts one active listener");return i.addEventListener(o,v),x=e,()=>{i.removeEventListener(o,v),x=null}},createHref:e=>t(i,e),createURL:j,encodeLocation(e){let t=j(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){p=n.Push;let a=h(b.location,e,t);s&&s(a,e),f=g()+1;let l=u(a,f),o=b.createHref(a);try{d.pushState(l,"",o)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;i.location.assign(o)}r&&x&&x({action:p,location:b.location,delta:1})},replace:function(e,t){p=n.Replace;let a=h(b.location,e,t);s&&s(a,e),f=g();let i=u(a,f),l=b.createHref(a);d.replaceState(i,"",l),r&&x&&x({action:p,location:b.location,delta:0})},go:e=>d.go(e)};return b}var f;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(f||(f={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function g(e,t,s){return void 0===s&&(s="/"),v(e,t,s,!1)}function v(e,t,s,n){let a=L(("string"===typeof t?p(t):t).pathname||"/",s);if(null==a)return null;let i=j(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let s=e.length===t.length&&e.slice(0,-1).every(((e,s)=>e===t[s]));return s?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let r=null;for(let l=0;null==r&&l<i.length;++l){let e=E(a);r=A(i[l],e,n)}return r}function j(e,t,s,n){void 0===t&&(t=[]),void 0===s&&(s=[]),void 0===n&&(n="");let a=(e,a,i)=>{let r={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};r.relativePath.startsWith("/")&&(c(r.relativePath.startsWith(n),'Absolute route path "'+r.relativePath+'" nested under path "'+n+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),r.relativePath=r.relativePath.slice(n.length));let l=R([n,r.relativePath]),o=s.concat(r);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+l+'".'),j(e.children,t,o,l)),(null!=e.path||e.index)&&t.push({path:l,score:_(l,e.index),routesMeta:o})};return e.forEach(((e,t)=>{var s;if(""!==e.path&&null!=(s=e.path)&&s.includes("?"))for(let n of b(e.path))a(e,t,n);else a(e,t)})),t}function b(e){let t=e.split("/");if(0===t.length)return[];let[s,...n]=t,a=s.endsWith("?"),i=s.replace(/\?$/,"");if(0===n.length)return a?[i,""]:[i];let r=b(n.join("/")),l=[];return l.push(...r.map((e=>""===e?i:[i,e].join("/")))),a&&l.push(...r),l.map((t=>e.startsWith("/")&&""===t?"/":t))}const y=/^:[\w-]+$/,w=3,N=2,C=1,S=10,k=-2,D=e=>"*"===e;function _(e,t){let s=e.split("/"),n=s.length;return s.some(D)&&(n+=k),t&&(n+=N),s.filter((e=>!D(e))).reduce(((e,t)=>e+(y.test(t)?w:""===t?C:S)),n)}function A(e,t,s){void 0===s&&(s=!1);let{routesMeta:n}=e,a={},i="/",r=[];for(let l=0;l<n.length;++l){let e=n[l],o=l===n.length-1,c="/"===i?t:t.slice(i.length)||"/",d=T({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},c),u=e.route;if(!d&&o&&s&&!n[n.length-1].route.index&&(d=T({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(a,d.params),r.push({params:a,pathname:R([i,d.pathname]),pathnameBase:F(R([i,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(i=R([i,d.pathnameBase]))}return r}function T(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[s,n]=function(e,t,s){void 0===t&&(t=!1);void 0===s&&(s=!0);d("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,s)=>(n.push({paramName:t,isOptional:null!=s}),s?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(n.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");let i=new RegExp(a,t?void 0:"i");return[i,n]}(e.path,e.caseSensitive,e.end),a=t.match(s);if(!a)return null;let i=a[0],r=i.replace(/(.)\/+$/,"$1"),l=a.slice(1),o=n.reduce(((e,t,s)=>{let{paramName:n,isOptional:a}=t;if("*"===n){let e=l[s]||"";r=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const o=l[s];return e[n]=a&&!o?void 0:(o||"").replace(/%2F/g,"/"),e}),{});return{params:o,pathname:i,pathnameBase:r,pattern:e}}function E(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return d(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function L(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,n=e.charAt(s);return n&&"/"!==n?null:e.slice(s)||"/"}function M(e,t,s,n){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the `to."+s+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function I(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function P(e,t){let s=I(e);return t?s.map(((e,t)=>t===s.length-1?e.pathname:e.pathnameBase)):s.map((e=>e.pathnameBase))}function O(e,t,s,n){let a;void 0===n&&(n=!1),"string"===typeof e?a=p(e):(a=l({},e),c(!a.pathname||!a.pathname.includes("?"),M("?","pathname","search",a)),c(!a.pathname||!a.pathname.includes("#"),M("#","pathname","hash",a)),c(!a.search||!a.search.includes("#"),M("#","search","hash",a)));let i,r=""===e||""===a.pathname,o=r?"/":a.pathname;if(null==o)i=s;else{let e=t.length-1;if(!n&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}i=e>=0?t[e]:"/"}let d=function(e,t){void 0===t&&(t="/");let{pathname:s,search:n="",hash:a=""}="string"===typeof e?p(e):e,i=s?s.startsWith("/")?s:function(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?s.length>1&&s.pop():"."!==e&&s.push(e)})),s.length>1?s.join("/"):"/"}(s,t):t;return{pathname:i,search:z(n),hash:B(a)}}(a,i),u=o&&"/"!==o&&o.endsWith("/"),h=(r||"."===o)&&s.endsWith("/");return d.pathname.endsWith("/")||!u&&!h||(d.pathname+="/"),d}const R=e=>e.join("/").replace(/\/\/+/g,"/"),F=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),z=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",B=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function $(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const H=["post","put","patch","delete"],V=(new Set(H),["get",...H]);new Set(V),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function U(){return U=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},U.apply(this,arguments)}const W=a.createContext(null);const G=a.createContext(null);const q=a.createContext(null);const Y=a.createContext(null);const K=a.createContext({outlet:null,matches:[],isDataRoute:!1});const J=a.createContext(null);function X(){return null!=a.useContext(Y)}function Z(){return X()||c(!1),a.useContext(Y).location}function Q(e){a.useContext(q).static||a.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=a.useContext(K);return e?function(){let{router:e}=he(de.UseNavigateStable),t=pe(ue.UseNavigateStable),s=a.useRef(!1);Q((()=>{s.current=!0}));let n=a.useCallback((function(n,a){void 0===a&&(a={}),s.current&&("number"===typeof n?e.navigate(n):e.navigate(n,U({fromRouteId:t},a)))}),[e,t]);return n}():function(){X()||c(!1);let e=a.useContext(W),{basename:t,future:s,navigator:n}=a.useContext(q),{matches:i}=a.useContext(K),{pathname:r}=Z(),l=JSON.stringify(P(i,s.v7_relativeSplatPath)),o=a.useRef(!1);Q((()=>{o.current=!0}));let d=a.useCallback((function(s,a){if(void 0===a&&(a={}),!o.current)return;if("number"===typeof s)return void n.go(s);let i=O(s,JSON.parse(l),r,"path"===a.relative);null==e&&"/"!==t&&(i.pathname="/"===i.pathname?t:R([t,i.pathname])),(a.replace?n.replace:n.push)(i,a.state,a)}),[t,n,l,r,e]);return d}()}const te=a.createContext(null);function se(){let{matches:e}=a.useContext(K),t=e[e.length-1];return t?t.params:{}}function ne(e,t){let{relative:s}=void 0===t?{}:t,{future:n}=a.useContext(q),{matches:i}=a.useContext(K),{pathname:r}=Z(),l=JSON.stringify(P(i,n.v7_relativeSplatPath));return a.useMemo((()=>O(e,JSON.parse(l),r,"path"===s)),[e,l,r,s])}function ae(e,t,s,i){X()||c(!1);let{navigator:r,static:l}=a.useContext(q),{matches:o}=a.useContext(K),d=o[o.length-1],u=d?d.params:{},h=(d&&d.pathname,d?d.pathnameBase:"/");d&&d.route;let m,x=Z();if(t){var f;let e="string"===typeof t?p(t):t;"/"===h||(null==(f=e.pathname)?void 0:f.startsWith(h))||c(!1),m=e}else m=x;let v=m.pathname||"/",j=v;if("/"!==h){let e=h.replace(/^\//,"").split("/");j="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=!l&&s&&s.matches&&s.matches.length>0?s.matches:g(e,{pathname:j});let y=ce(b&&b.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:R([h,r.encodeLocation?r.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:R([h,r.encodeLocation?r.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),o,s,i);return t&&y?a.createElement(Y.Provider,{value:{location:U({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:n.Pop}},y):y}function ie(){let e=function(){var e;let t=a.useContext(J),s=me(ue.UseRouteError),n=pe(ue.UseRouteError);if(void 0!==t)return t;return null==(e=s.errors)?void 0:e[n]}(),t=$(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n};return a.createElement(a.Fragment,null,a.createElement("h2",null,"Unexpected Application Error!"),a.createElement("h3",{style:{fontStyle:"italic"}},t),s?a.createElement("pre",{style:i},s):null,null)}const re=a.createElement(ie,null);class le extends a.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?a.createElement(K.Provider,{value:this.props.routeContext},a.createElement(J.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oe(e){let{routeContext:t,match:s,children:n}=e,i=a.useContext(W);return i&&i.static&&i.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=s.route.id),a.createElement(K.Provider,{value:t},n)}function ce(e,t,s,n){var i;if(void 0===t&&(t=[]),void 0===s&&(s=null),void 0===n&&(n=null),null==e){var r;if(!s)return null;if(s.errors)e=s.matches;else{if(!(null!=(r=n)&&r.v7_partialHydration&&0===t.length&&!s.initialized&&s.matches.length>0))return null;e=s.matches}}let l=e,o=null==(i=s)?void 0:i.errors;if(null!=o){let e=l.findIndex((e=>e.route.id&&void 0!==(null==o?void 0:o[e.route.id])));e>=0||c(!1),l=l.slice(0,Math.min(l.length,e+1))}let d=!1,u=-1;if(s&&n&&n.v7_partialHydration)for(let a=0;a<l.length;a++){let e=l[a];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=a),e.route.id){let{loaderData:t,errors:n}=s,a=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||a){d=!0,l=u>=0?l.slice(0,u+1):[l[0]];break}}}return l.reduceRight(((e,n,i)=>{let r,c=!1,h=null,m=null;var p;s&&(r=o&&n.route.id?o[n.route.id]:void 0,h=n.route.errorElement||re,d&&(u<0&&0===i?(p="route-fallback",!1||xe[p]||(xe[p]=!0),c=!0,m=null):u===i&&(c=!0,m=n.route.hydrateFallbackElement||null)));let x=t.concat(l.slice(0,i+1)),f=()=>{let t;return t=r?h:c?m:n.route.Component?a.createElement(n.route.Component,null):n.route.element?n.route.element:e,a.createElement(oe,{match:n,routeContext:{outlet:e,matches:x,isDataRoute:null!=s},children:t})};return s&&(n.route.ErrorBoundary||n.route.errorElement||0===i)?a.createElement(le,{location:s.location,revalidation:s.revalidation,component:h,error:r,children:f(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):f()}),null)}var de=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(de||{}),ue=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ue||{});function he(e){let t=a.useContext(W);return t||c(!1),t}function me(e){let t=a.useContext(G);return t||c(!1),t}function pe(e){let t=function(){let e=a.useContext(K);return e||c(!1),e}(),s=t.matches[t.matches.length-1];return s.route.id||c(!1),s.route.id}const xe={};function fe(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}i.startTransition;function ge(e){let{to:t,replace:s,state:n,relative:i}=e;X()||c(!1);let{future:r,static:l}=a.useContext(q),{matches:o}=a.useContext(K),{pathname:d}=Z(),u=ee(),h=O(t,P(o,r.v7_relativeSplatPath),d,"path"===i),m=JSON.stringify(h);return a.useEffect((()=>u(JSON.parse(m),{replace:s,state:n,relative:i})),[u,m,i,s,n]),null}function ve(e){return function(e){let t=a.useContext(K).outlet;return t?a.createElement(te.Provider,{value:e},t):t}(e.context)}function je(e){c(!1)}function be(e){let{basename:t="/",children:s=null,location:i,navigationType:r=n.Pop,navigator:l,static:o=!1,future:d}=e;X()&&c(!1);let u=t.replace(/^\/*/,"/"),h=a.useMemo((()=>({basename:u,navigator:l,static:o,future:U({v7_relativeSplatPath:!1},d)})),[u,d,l,o]);"string"===typeof i&&(i=p(i));let{pathname:m="/",search:x="",hash:f="",state:g=null,key:v="default"}=i,j=a.useMemo((()=>{let e=L(m,u);return null==e?null:{location:{pathname:e,search:x,hash:f,state:g,key:v},navigationType:r}}),[u,m,x,f,g,v,r]);return null==j?null:a.createElement(q.Provider,{value:h},a.createElement(Y.Provider,{children:s,value:j}))}function ye(e){let{children:t,location:s}=e;return ae(we(t),s)}new Promise((()=>{}));a.Component;function we(e,t){void 0===t&&(t=[]);let s=[];return a.Children.forEach(e,((e,n)=>{if(!a.isValidElement(e))return;let i=[...t,n];if(e.type===a.Fragment)return void s.push.apply(s,we(e.props.children,i));e.type!==je&&c(!1),e.props.index&&e.props.children&&c(!1);let r={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(r.children=we(e.props.children,i)),s.push(r)})),s}var Ne=s(950),Ce=s.t(Ne,2);function Se(){return Se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Se.apply(this,arguments)}function ke(e,t){if(null==e)return{};var s,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const De=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(ok){}new Map;const _e=i.startTransition;Ce.flushSync,i.useId;function Ae(e){let{basename:t,children:s,future:n,window:i}=e,r=a.useRef();null==r.current&&(r.current=function(e){return void 0===e&&(e={}),x((function(e,t){let{pathname:s,search:n,hash:a}=e.location;return h("",{pathname:s,search:n,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:m(t)}),null,e)}({window:i,v5Compat:!0}));let l=r.current,[o,c]=a.useState({action:l.action,location:l.location}),{v7_startTransition:d}=n||{},u=a.useCallback((e=>{d&&_e?_e((()=>c(e))):c(e)}),[c,d]);return a.useLayoutEffect((()=>l.listen(u)),[l,u]),a.useEffect((()=>fe(n)),[n]),a.createElement(be,{basename:t,children:s,location:o.location,navigationType:o.action,navigator:l,future:n})}const Te="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ee=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Le=a.forwardRef((function(e,t){let s,{onClick:n,relative:i,reloadDocument:r,replace:l,state:o,target:d,to:u,preventScrollReset:h,viewTransition:p}=e,x=ke(e,De),{basename:f}=a.useContext(q),g=!1;if("string"===typeof u&&Ee.test(u)&&(s=u,Te))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),s=L(t.pathname,f);t.origin===e.origin&&null!=s?u=s+t.search+t.hash:g=!0}catch(ok){}let v=function(e,t){let{relative:s}=void 0===t?{}:t;X()||c(!1);let{basename:n,navigator:i}=a.useContext(q),{hash:r,pathname:l,search:o}=ne(e,{relative:s}),d=l;return"/"!==n&&(d="/"===l?n:R([n,l])),i.createHref({pathname:d,search:o,hash:r})}(u,{relative:i}),j=function(e,t){let{target:s,replace:n,state:i,preventScrollReset:r,relative:l,viewTransition:o}=void 0===t?{}:t,c=ee(),d=Z(),u=ne(e,{relative:l});return a.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,s)){t.preventDefault();let s=void 0!==n?n:m(d)===m(u);c(e,{replace:s,state:i,preventScrollReset:r,relative:l,viewTransition:o})}}),[d,c,u,n,i,s,e,r,l,o])}(u,{replace:l,state:o,target:d,preventScrollReset:h,relative:i,viewTransition:p});return a.createElement("a",Se({},x,{href:s||v,onClick:g||r?n:function(e){n&&n(e),e.defaultPrevented||j(e)},ref:t,target:d}))}));var Me,Ie;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Me||(Me={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ie||(Ie={}));function Pe(e,t){return function(){return e.apply(t,arguments)}}const{toString:Oe}=Object.prototype,{getPrototypeOf:Re}=Object,{iterator:Fe,toStringTag:ze}=Symbol,Be=($e=Object.create(null),e=>{const t=Oe.call(e);return $e[t]||($e[t]=t.slice(8,-1).toLowerCase())});var $e;const He=e=>(e=e.toLowerCase(),t=>Be(t)===e),Ve=e=>t=>typeof t===e,{isArray:Ue}=Array,We=Ve("undefined");const Ge=He("ArrayBuffer");const qe=Ve("string"),Ye=Ve("function"),Ke=Ve("number"),Je=e=>null!==e&&"object"===typeof e,Xe=e=>{if("object"!==Be(e))return!1;const t=Re(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(ze in e)&&!(Fe in e)},Ze=He("Date"),Qe=He("File"),et=He("Blob"),tt=He("FileList"),st=He("URLSearchParams"),[nt,at,it,rt]=["ReadableStream","Request","Response","Headers"].map(He);function lt(e,t){let s,n,{allOwnKeys:a=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Ue(e))for(s=0,n=e.length;s<n;s++)t.call(null,e[s],s,e);else{const n=a?Object.getOwnPropertyNames(e):Object.keys(e),i=n.length;let r;for(s=0;s<i;s++)r=n[s],t.call(null,e[r],r,e)}}function ot(e,t){t=t.toLowerCase();const s=Object.keys(e);let n,a=s.length;for(;a-- >0;)if(n=s[a],t===n.toLowerCase())return n;return null}const ct="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,dt=e=>!We(e)&&e!==ct;const ut=(ht="undefined"!==typeof Uint8Array&&Re(Uint8Array),e=>ht&&e instanceof ht);var ht;const mt=He("HTMLFormElement"),pt=(e=>{let{hasOwnProperty:t}=e;return(e,s)=>t.call(e,s)})(Object.prototype),xt=He("RegExp"),ft=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),n={};lt(s,((s,a)=>{let i;!1!==(i=t(s,a,e))&&(n[a]=i||s)})),Object.defineProperties(e,n)};const gt=He("AsyncFunction"),vt=((e,t)=>{return e?setImmediate:t?(s=`axios@${Math.random()}`,n=[],ct.addEventListener("message",(e=>{let{source:t,data:a}=e;t===ct&&a===s&&n.length&&n.shift()()}),!1),e=>{n.push(e),ct.postMessage(s,"*")}):e=>setTimeout(e);var s,n})("function"===typeof setImmediate,Ye(ct.postMessage)),jt="undefined"!==typeof queueMicrotask?queueMicrotask.bind(ct):"undefined"!==typeof process&&process.nextTick||vt,bt={isArray:Ue,isArrayBuffer:Ge,isBuffer:function(e){return null!==e&&!We(e)&&null!==e.constructor&&!We(e.constructor)&&Ye(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Ye(e.append)&&("formdata"===(t=Be(e))||"object"===t&&Ye(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Ge(e.buffer),t},isString:qe,isNumber:Ke,isBoolean:e=>!0===e||!1===e,isObject:Je,isPlainObject:Xe,isReadableStream:nt,isRequest:at,isResponse:it,isHeaders:rt,isUndefined:We,isDate:Ze,isFile:Qe,isBlob:et,isRegExp:xt,isFunction:Ye,isStream:e=>Je(e)&&Ye(e.pipe),isURLSearchParams:st,isTypedArray:ut,isFileList:tt,forEach:lt,merge:function e(){const{caseless:t}=dt(this)&&this||{},s={},n=(n,a)=>{const i=t&&ot(s,a)||a;Xe(s[i])&&Xe(n)?s[i]=e(s[i],n):Xe(n)?s[i]=e({},n):Ue(n)?s[i]=n.slice():s[i]=n};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&lt(arguments[a],n);return s},extend:function(e,t,s){let{allOwnKeys:n}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return lt(t,((t,n)=>{s&&Ye(t)?e[n]=Pe(t,s):e[n]=t}),{allOwnKeys:n}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,s,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},toFlatObject:(e,t,s,n)=>{let a,i,r;const l={};if(t=t||{},null==e)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)r=a[i],n&&!n(r,e,t)||l[r]||(t[r]=e[r],l[r]=!0);e=!1!==s&&Re(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},kindOf:Be,kindOfTest:He,endsWith:(e,t,s)=>{e=String(e),(void 0===s||s>e.length)&&(s=e.length),s-=t.length;const n=e.indexOf(t,s);return-1!==n&&n===s},toArray:e=>{if(!e)return null;if(Ue(e))return e;let t=e.length;if(!Ke(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},forEachEntry:(e,t)=>{const s=(e&&e[Fe]).call(e);let n;for(;(n=s.next())&&!n.done;){const s=n.value;t.call(e,s[0],s[1])}},matchAll:(e,t)=>{let s;const n=[];for(;null!==(s=e.exec(t));)n.push(s);return n},isHTMLForm:mt,hasOwnProperty:pt,hasOwnProp:pt,reduceDescriptors:ft,freezeMethods:e=>{ft(e,((t,s)=>{if(Ye(e)&&-1!==["arguments","caller","callee"].indexOf(s))return!1;const n=e[s];Ye(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")}))}))},toObjectSet:(e,t)=>{const s={},n=e=>{e.forEach((e=>{s[e]=!0}))};return Ue(e)?n(e):n(String(e).split(t)),s},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,s){return t.toUpperCase()+s})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:ot,global:ct,isContextDefined:dt,isSpecCompliantForm:function(e){return!!(e&&Ye(e.append)&&"FormData"===e[ze]&&e[Fe])},toJSONObject:e=>{const t=new Array(10),s=(e,n)=>{if(Je(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[n]=e;const a=Ue(e)?[]:{};return lt(e,((e,t)=>{const i=s(e,n+1);!We(i)&&(a[t]=i)})),t[n]=void 0,a}}return e};return s(e,0)},isAsyncFn:gt,isThenable:e=>e&&(Je(e)||Ye(e))&&Ye(e.then)&&Ye(e.catch),setImmediate:vt,asap:jt,isIterable:e=>null!=e&&Ye(e[Fe])};function yt(e,t,s,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}bt.inherits(yt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:bt.toJSONObject(this.config),code:this.code,status:this.status}}});const wt=yt.prototype,Nt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{Nt[e]={value:e}})),Object.defineProperties(yt,Nt),Object.defineProperty(wt,"isAxiosError",{value:!0}),yt.from=(e,t,s,n,a,i)=>{const r=Object.create(wt);return bt.toFlatObject(e,r,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),yt.call(r,e.message,t,s,n,a),r.cause=e,r.name=e.name,i&&Object.assign(r,i),r};const Ct=yt;function St(e){return bt.isPlainObject(e)||bt.isArray(e)}function kt(e){return bt.endsWith(e,"[]")?e.slice(0,-2):e}function Dt(e,t,s){return e?e.concat(t).map((function(e,t){return e=kt(e),!s&&t?"["+e+"]":e})).join(s?".":""):t}const _t=bt.toFlatObject(bt,{},null,(function(e){return/^is[A-Z]/.test(e)}));const At=function(e,t,s){if(!bt.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const n=(s=bt.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!bt.isUndefined(t[e])}))).metaTokens,a=s.visitor||c,i=s.dots,r=s.indexes,l=(s.Blob||"undefined"!==typeof Blob&&Blob)&&bt.isSpecCompliantForm(t);if(!bt.isFunction(a))throw new TypeError("visitor must be a function");function o(e){if(null===e)return"";if(bt.isDate(e))return e.toISOString();if(!l&&bt.isBlob(e))throw new Ct("Blob is not supported. Use a Buffer instead.");return bt.isArrayBuffer(e)||bt.isTypedArray(e)?l&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,s,a){let l=e;if(e&&!a&&"object"===typeof e)if(bt.endsWith(s,"{}"))s=n?s:s.slice(0,-2),e=JSON.stringify(e);else if(bt.isArray(e)&&function(e){return bt.isArray(e)&&!e.some(St)}(e)||(bt.isFileList(e)||bt.endsWith(s,"[]"))&&(l=bt.toArray(e)))return s=kt(s),l.forEach((function(e,n){!bt.isUndefined(e)&&null!==e&&t.append(!0===r?Dt([s],n,i):null===r?s:s+"[]",o(e))})),!1;return!!St(e)||(t.append(Dt(a,s,i),o(e)),!1)}const d=[],u=Object.assign(_t,{defaultVisitor:c,convertValue:o,isVisitable:St});if(!bt.isObject(e))throw new TypeError("data must be an object");return function e(s,n){if(!bt.isUndefined(s)){if(-1!==d.indexOf(s))throw Error("Circular reference detected in "+n.join("."));d.push(s),bt.forEach(s,(function(s,i){!0===(!(bt.isUndefined(s)||null===s)&&a.call(t,s,bt.isString(i)?i.trim():i,n,u))&&e(s,n?n.concat(i):[i])})),d.pop()}}(e),t};function Tt(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Et(e,t){this._pairs=[],e&&At(e,this,t)}const Lt=Et.prototype;Lt.append=function(e,t){this._pairs.push([e,t])},Lt.toString=function(e){const t=e?function(t){return e.call(this,t,Tt)}:Tt;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const Mt=Et;function It(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Pt(e,t,s){if(!t)return e;const n=s&&s.encode||It;bt.isFunction(s)&&(s={serialize:s});const a=s&&s.serialize;let i;if(i=a?a(t,s):bt.isURLSearchParams(t)?t.toString():new Mt(t,s).toString(n),i){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}const Ot=class{constructor(){this.handlers=[]}use(e,t,s){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!s&&s.synchronous,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){bt.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},Rt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ft={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Mt,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},zt="undefined"!==typeof window&&"undefined"!==typeof document,Bt="object"===typeof navigator&&navigator||void 0,$t=zt&&(!Bt||["ReactNative","NativeScript","NS"].indexOf(Bt.product)<0),Ht="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Vt=zt&&window.location.href||"http://localhost",Ut={...e,...Ft};const Wt=function(e){function t(e,s,n,a){let i=e[a++];if("__proto__"===i)return!0;const r=Number.isFinite(+i),l=a>=e.length;if(i=!i&&bt.isArray(n)?n.length:i,l)return bt.hasOwnProp(n,i)?n[i]=[n[i],s]:n[i]=s,!r;n[i]&&bt.isObject(n[i])||(n[i]=[]);return t(e,s,n[i],a)&&bt.isArray(n[i])&&(n[i]=function(e){const t={},s=Object.keys(e);let n;const a=s.length;let i;for(n=0;n<a;n++)i=s[n],t[i]=e[i];return t}(n[i])),!r}if(bt.isFormData(e)&&bt.isFunction(e.entries)){const s={};return bt.forEachEntry(e,((e,n)=>{t(function(e){return bt.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),n,s,0)})),s}return null};const Gt={transitional:Rt,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const s=t.getContentType()||"",n=s.indexOf("application/json")>-1,a=bt.isObject(e);a&&bt.isHTMLForm(e)&&(e=new FormData(e));if(bt.isFormData(e))return n?JSON.stringify(Wt(e)):e;if(bt.isArrayBuffer(e)||bt.isBuffer(e)||bt.isStream(e)||bt.isFile(e)||bt.isBlob(e)||bt.isReadableStream(e))return e;if(bt.isArrayBufferView(e))return e.buffer;if(bt.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(a){if(s.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return At(e,new Ut.classes.URLSearchParams,Object.assign({visitor:function(e,t,s,n){return Ut.isNode&&bt.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((i=bt.isFileList(e))||s.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return At(i?{"files[]":e}:e,t&&new t,this.formSerializer)}}return a||n?(t.setContentType("application/json",!1),function(e,t,s){if(bt.isString(e))try{return(t||JSON.parse)(e),bt.trim(e)}catch(ok){if("SyntaxError"!==ok.name)throw ok}return(s||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Gt.transitional,s=t&&t.forcedJSONParsing,n="json"===this.responseType;if(bt.isResponse(e)||bt.isReadableStream(e))return e;if(e&&bt.isString(e)&&(s&&!this.responseType||n)){const s=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(ok){if(s){if("SyntaxError"===ok.name)throw Ct.from(ok,Ct.ERR_BAD_RESPONSE,this,null,this.response);throw ok}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ut.classes.FormData,Blob:Ut.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};bt.forEach(["delete","get","head","post","put","patch"],(e=>{Gt.headers[e]={}}));const qt=Gt,Yt=bt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Kt=Symbol("internals");function Jt(e){return e&&String(e).trim().toLowerCase()}function Xt(e){return!1===e||null==e?e:bt.isArray(e)?e.map(Xt):String(e)}function Zt(e,t,s,n,a){return bt.isFunction(n)?n.call(this,t,s):(a&&(t=s),bt.isString(t)?bt.isString(n)?-1!==t.indexOf(n):bt.isRegExp(n)?n.test(t):void 0:void 0)}class Qt{constructor(e){e&&this.set(e)}set(e,t,s){const n=this;function a(e,t,s){const a=Jt(t);if(!a)throw new Error("header name must be a non-empty string");const i=bt.findKey(n,a);(!i||void 0===n[i]||!0===s||void 0===s&&!1!==n[i])&&(n[i||t]=Xt(e))}const i=(e,t)=>bt.forEach(e,((e,s)=>a(e,s,t)));if(bt.isPlainObject(e)||e instanceof this.constructor)i(e,t);else if(bt.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))i((e=>{const t={};let s,n,a;return e&&e.split("\n").forEach((function(e){a=e.indexOf(":"),s=e.substring(0,a).trim().toLowerCase(),n=e.substring(a+1).trim(),!s||t[s]&&Yt[s]||("set-cookie"===s?t[s]?t[s].push(n):t[s]=[n]:t[s]=t[s]?t[s]+", "+n:n)})),t})(e),t);else if(bt.isObject(e)&&bt.isIterable(e)){let s,n,a={};for(const t of e){if(!bt.isArray(t))throw TypeError("Object iterator must return a key-value pair");a[n=t[0]]=(s=a[n])?bt.isArray(s)?[...s,t[1]]:[s,t[1]]:t[1]}i(a,t)}else null!=e&&a(t,e,s);return this}get(e,t){if(e=Jt(e)){const s=bt.findKey(this,e);if(s){const e=this[s];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=s.exec(e);)t[n[1]]=n[2];return t}(e);if(bt.isFunction(t))return t.call(this,e,s);if(bt.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Jt(e)){const s=bt.findKey(this,e);return!(!s||void 0===this[s]||t&&!Zt(0,this[s],s,t))}return!1}delete(e,t){const s=this;let n=!1;function a(e){if(e=Jt(e)){const a=bt.findKey(s,e);!a||t&&!Zt(0,s[a],a,t)||(delete s[a],n=!0)}}return bt.isArray(e)?e.forEach(a):a(e),n}clear(e){const t=Object.keys(this);let s=t.length,n=!1;for(;s--;){const a=t[s];e&&!Zt(0,this[a],a,e,!0)||(delete this[a],n=!0)}return n}normalize(e){const t=this,s={};return bt.forEach(this,((n,a)=>{const i=bt.findKey(s,a);if(i)return t[i]=Xt(n),void delete t[a];const r=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,s)=>t.toUpperCase()+s))}(a):String(a).trim();r!==a&&delete t[a],t[r]=Xt(n),s[r]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return bt.forEach(this,((s,n)=>{null!=s&&!1!==s&&(t[n]=e&&bt.isArray(s)?s.join(", "):s)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,s]=e;return t+": "+s})).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var s=arguments.length,n=new Array(s>1?s-1:0),a=1;a<s;a++)n[a-1]=arguments[a];return n.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[Kt]=this[Kt]={accessors:{}}).accessors,s=this.prototype;function n(e){const n=Jt(e);t[n]||(!function(e,t){const s=bt.toCamelCase(" "+t);["get","set","has"].forEach((n=>{Object.defineProperty(e,n+s,{value:function(e,s,a){return this[n].call(this,t,e,s,a)},configurable:!0})}))}(s,e),t[n]=!0)}return bt.isArray(e)?e.forEach(n):n(e),this}}Qt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),bt.reduceDescriptors(Qt.prototype,((e,t)=>{let{value:s}=e,n=t[0].toUpperCase()+t.slice(1);return{get:()=>s,set(e){this[n]=e}}})),bt.freezeMethods(Qt);const es=Qt;function ts(e,t){const s=this||qt,n=t||s,a=es.from(n.headers);let i=n.data;return bt.forEach(e,(function(e){i=e.call(s,i,a.normalize(),t?t.status:void 0)})),a.normalize(),i}function ss(e){return!(!e||!e.__CANCEL__)}function ns(e,t,s){Ct.call(this,null==e?"canceled":e,Ct.ERR_CANCELED,t,s),this.name="CanceledError"}bt.inherits(ns,Ct,{__CANCEL__:!0});const as=ns;function is(e,t,s){const n=s.config.validateStatus;s.status&&n&&!n(s.status)?t(new Ct("Request failed with status code "+s.status,[Ct.ERR_BAD_REQUEST,Ct.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s)):e(s)}const rs=function(e,t){e=e||10;const s=new Array(e),n=new Array(e);let a,i=0,r=0;return t=void 0!==t?t:1e3,function(l){const o=Date.now(),c=n[r];a||(a=o),s[i]=l,n[i]=o;let d=r,u=0;for(;d!==i;)u+=s[d++],d%=e;if(i=(i+1)%e,i===r&&(r=(r+1)%e),o-a<t)return;const h=c&&o-c;return h?Math.round(1e3*u/h):void 0}};const ls=function(e,t){let s,n,a=0,i=1e3/t;const r=function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();a=i,s=null,n&&(clearTimeout(n),n=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-a;for(var l=arguments.length,o=new Array(l),c=0;c<l;c++)o[c]=arguments[c];t>=i?r(o,e):(s=o,n||(n=setTimeout((()=>{n=null,r(s)}),i-t)))},()=>s&&r(s)]},os=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,n=0;const a=rs(50,250);return ls((s=>{const i=s.loaded,r=s.lengthComputable?s.total:void 0,l=i-n,o=a(l);n=i;e({loaded:i,total:r,progress:r?i/r:void 0,bytes:l,rate:o||void 0,estimated:o&&r&&i<=r?(r-i)/o:void 0,event:s,lengthComputable:null!=r,[t?"download":"upload"]:!0})}),s)},cs=(e,t)=>{const s=null!=e;return[n=>t[0]({lengthComputable:s,total:e,loaded:n}),t[1]]},ds=e=>function(){for(var t=arguments.length,s=new Array(t),n=0;n<t;n++)s[n]=arguments[n];return bt.asap((()=>e(...s)))},us=Ut.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,Ut.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(Ut.origin),Ut.navigator&&/(msie|trident)/i.test(Ut.navigator.userAgent)):()=>!0,hs=Ut.hasStandardBrowserEnv?{write(e,t,s,n,a,i){const r=[e+"="+encodeURIComponent(t)];bt.isNumber(s)&&r.push("expires="+new Date(s).toGMTString()),bt.isString(n)&&r.push("path="+n),bt.isString(a)&&r.push("domain="+a),!0===i&&r.push("secure"),document.cookie=r.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function ms(e,t,s){let n=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(n||0==s)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const ps=e=>e instanceof es?{...e}:e;function xs(e,t){t=t||{};const s={};function n(e,t,s,n){return bt.isPlainObject(e)&&bt.isPlainObject(t)?bt.merge.call({caseless:n},e,t):bt.isPlainObject(t)?bt.merge({},t):bt.isArray(t)?t.slice():t}function a(e,t,s,a){return bt.isUndefined(t)?bt.isUndefined(e)?void 0:n(void 0,e,0,a):n(e,t,0,a)}function i(e,t){if(!bt.isUndefined(t))return n(void 0,t)}function r(e,t){return bt.isUndefined(t)?bt.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function l(s,a,i){return i in t?n(s,a):i in e?n(void 0,s):void 0}const o={url:i,method:i,data:i,baseURL:r,transformRequest:r,transformResponse:r,paramsSerializer:r,timeout:r,timeoutMessage:r,withCredentials:r,withXSRFToken:r,adapter:r,responseType:r,xsrfCookieName:r,xsrfHeaderName:r,onUploadProgress:r,onDownloadProgress:r,decompress:r,maxContentLength:r,maxBodyLength:r,beforeRedirect:r,transport:r,httpAgent:r,httpsAgent:r,cancelToken:r,socketPath:r,responseEncoding:r,validateStatus:l,headers:(e,t,s)=>a(ps(e),ps(t),0,!0)};return bt.forEach(Object.keys(Object.assign({},e,t)),(function(n){const i=o[n]||a,r=i(e[n],t[n],n);bt.isUndefined(r)&&i!==l||(s[n]=r)})),s}const fs=e=>{const t=xs({},e);let s,{data:n,withXSRFToken:a,xsrfHeaderName:i,xsrfCookieName:r,headers:l,auth:o}=t;if(t.headers=l=es.from(l),t.url=Pt(ms(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&l.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),bt.isFormData(n))if(Ut.hasStandardBrowserEnv||Ut.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(!1!==(s=l.getContentType())){const[e,...t]=s?s.split(";").map((e=>e.trim())).filter(Boolean):[];l.setContentType([e||"multipart/form-data",...t].join("; "))}if(Ut.hasStandardBrowserEnv&&(a&&bt.isFunction(a)&&(a=a(t)),a||!1!==a&&us(t.url))){const e=i&&r&&hs.read(r);e&&l.set(i,e)}return t},gs="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,s){const n=fs(e);let a=n.data;const i=es.from(n.headers).normalize();let r,l,o,c,d,{responseType:u,onUploadProgress:h,onDownloadProgress:m}=n;function p(){c&&c(),d&&d(),n.cancelToken&&n.cancelToken.unsubscribe(r),n.signal&&n.signal.removeEventListener("abort",r)}let x=new XMLHttpRequest;function f(){if(!x)return;const n=es.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders());is((function(e){t(e),p()}),(function(e){s(e),p()}),{data:u&&"text"!==u&&"json"!==u?x.response:x.responseText,status:x.status,statusText:x.statusText,headers:n,config:e,request:x}),x=null}x.open(n.method.toUpperCase(),n.url,!0),x.timeout=n.timeout,"onloadend"in x?x.onloadend=f:x.onreadystatechange=function(){x&&4===x.readyState&&(0!==x.status||x.responseURL&&0===x.responseURL.indexOf("file:"))&&setTimeout(f)},x.onabort=function(){x&&(s(new Ct("Request aborted",Ct.ECONNABORTED,e,x)),x=null)},x.onerror=function(){s(new Ct("Network Error",Ct.ERR_NETWORK,e,x)),x=null},x.ontimeout=function(){let t=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const a=n.transitional||Rt;n.timeoutErrorMessage&&(t=n.timeoutErrorMessage),s(new Ct(t,a.clarifyTimeoutError?Ct.ETIMEDOUT:Ct.ECONNABORTED,e,x)),x=null},void 0===a&&i.setContentType(null),"setRequestHeader"in x&&bt.forEach(i.toJSON(),(function(e,t){x.setRequestHeader(t,e)})),bt.isUndefined(n.withCredentials)||(x.withCredentials=!!n.withCredentials),u&&"json"!==u&&(x.responseType=n.responseType),m&&([o,d]=os(m,!0),x.addEventListener("progress",o)),h&&x.upload&&([l,c]=os(h),x.upload.addEventListener("progress",l),x.upload.addEventListener("loadend",c)),(n.cancelToken||n.signal)&&(r=t=>{x&&(s(!t||t.type?new as(null,e,x):t),x.abort(),x=null)},n.cancelToken&&n.cancelToken.subscribe(r),n.signal&&(n.signal.aborted?r():n.signal.addEventListener("abort",r)));const g=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(n.url);g&&-1===Ut.protocols.indexOf(g)?s(new Ct("Unsupported protocol "+g+":",Ct.ERR_BAD_REQUEST,e)):x.send(a||null)}))},vs=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let s,n=new AbortController;const a=function(e){if(!s){s=!0,r();const t=e instanceof Error?e:this.reason;n.abort(t instanceof Ct?t:new as(t instanceof Error?t.message:t))}};let i=t&&setTimeout((()=>{i=null,a(new Ct(`timeout ${t} of ms exceeded`,Ct.ETIMEDOUT))}),t);const r=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(a):e.removeEventListener("abort",a)})),e=null)};e.forEach((e=>e.addEventListener("abort",a)));const{signal:l}=n;return l.unsubscribe=()=>bt.asap(r),l}},js=function*(e,t){let s=e.byteLength;if(!t||s<t)return void(yield e);let n,a=0;for(;a<s;)n=a+t,yield e.slice(a,n),a=n},bs=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:s}=await t.read();if(e)break;yield s}}finally{await t.cancel()}},ys=(e,t,s,n)=>{const a=async function*(e,t){for await(const s of bs(e))yield*js(s,t)}(e,t);let i,r=0,l=e=>{i||(i=!0,n&&n(e))};return new ReadableStream({async pull(e){try{const{done:t,value:n}=await a.next();if(t)return l(),void e.close();let i=n.byteLength;if(s){let e=r+=i;s(e)}e.enqueue(new Uint8Array(n))}catch(t){throw l(t),t}},cancel:e=>(l(e),a.return())},{highWaterMark:2})},ws="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,Ns=ws&&"function"===typeof ReadableStream,Cs=ws&&("function"===typeof TextEncoder?(Ss=new TextEncoder,e=>Ss.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var Ss;const ks=function(e){try{for(var t=arguments.length,s=new Array(t>1?t-1:0),n=1;n<t;n++)s[n-1]=arguments[n];return!!e(...s)}catch(ok){return!1}},Ds=Ns&&ks((()=>{let e=!1;const t=new Request(Ut.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),_s=Ns&&ks((()=>bt.isReadableStream(new Response("").body))),As={stream:_s&&(e=>e.body)};var Ts;ws&&(Ts=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!As[e]&&(As[e]=bt.isFunction(Ts[e])?t=>t[e]():(t,s)=>{throw new Ct(`Response type '${e}' is not supported`,Ct.ERR_NOT_SUPPORT,s)})})));const Es=async(e,t)=>{const s=bt.toFiniteNumber(e.getContentLength());return null==s?(async e=>{if(null==e)return 0;if(bt.isBlob(e))return e.size;if(bt.isSpecCompliantForm(e)){const t=new Request(Ut.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return bt.isArrayBufferView(e)||bt.isArrayBuffer(e)?e.byteLength:(bt.isURLSearchParams(e)&&(e+=""),bt.isString(e)?(await Cs(e)).byteLength:void 0)})(t):s},Ls=ws&&(async e=>{let{url:t,method:s,data:n,signal:a,cancelToken:i,timeout:r,onDownloadProgress:l,onUploadProgress:o,responseType:c,headers:d,withCredentials:u="same-origin",fetchOptions:h}=fs(e);c=c?(c+"").toLowerCase():"text";let m,p=vs([a,i&&i.toAbortSignal()],r);const x=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let f;try{if(o&&Ds&&"get"!==s&&"head"!==s&&0!==(f=await Es(d,n))){let e,s=new Request(t,{method:"POST",body:n,duplex:"half"});if(bt.isFormData(n)&&(e=s.headers.get("content-type"))&&d.setContentType(e),s.body){const[e,t]=cs(f,os(ds(o)));n=ys(s.body,65536,e,t)}}bt.isString(u)||(u=u?"include":"omit");const a="credentials"in Request.prototype;m=new Request(t,{...h,signal:p,method:s.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:a?u:void 0});let i=await fetch(m);const r=_s&&("stream"===c||"response"===c);if(_s&&(l||r&&x)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=i[t]}));const t=bt.toFiniteNumber(i.headers.get("content-length")),[s,n]=l&&cs(t,os(ds(l),!0))||[];i=new Response(ys(i.body,65536,s,(()=>{n&&n(),x&&x()})),e)}c=c||"text";let g=await As[bt.findKey(As,c)||"text"](i,e);return!r&&x&&x(),await new Promise(((t,s)=>{is(t,s,{data:g,headers:es.from(i.headers),status:i.status,statusText:i.statusText,config:e,request:m})}))}catch(g){if(x&&x(),g&&"TypeError"===g.name&&/Load failed|fetch/i.test(g.message))throw Object.assign(new Ct("Network Error",Ct.ERR_NETWORK,e,m),{cause:g.cause||g});throw Ct.from(g,g&&g.code,e,m)}}),Ms={http:null,xhr:gs,fetch:Ls};bt.forEach(Ms,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(ok){}Object.defineProperty(e,"adapterName",{value:t})}}));const Is=e=>`- ${e}`,Ps=e=>bt.isFunction(e)||null===e||!1===e,Os=e=>{e=bt.isArray(e)?e:[e];const{length:t}=e;let s,n;const a={};for(let i=0;i<t;i++){let t;if(s=e[i],n=s,!Ps(s)&&(n=Ms[(t=String(s)).toLowerCase()],void 0===n))throw new Ct(`Unknown adapter '${t}'`);if(n)break;a[t||"#"+i]=n}if(!n){const e=Object.entries(a).map((e=>{let[t,s]=e;return`adapter ${t} `+(!1===s?"is not supported by the environment":"is not available in the build")}));let s=t?e.length>1?"since :\n"+e.map(Is).join("\n"):" "+Is(e[0]):"as no adapter specified";throw new Ct("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return n};function Rs(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new as(null,e)}function Fs(e){Rs(e),e.headers=es.from(e.headers),e.data=ts.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Os(e.adapter||qt.adapter)(e).then((function(t){return Rs(e),t.data=ts.call(e,e.transformResponse,t),t.headers=es.from(t.headers),t}),(function(t){return ss(t)||(Rs(e),t&&t.response&&(t.response.data=ts.call(e,e.transformResponse,t.response),t.response.headers=es.from(t.response.headers))),Promise.reject(t)}))}const zs="1.9.0",Bs={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{Bs[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}}));const $s={};Bs.transitional=function(e,t,s){function n(e,t){return"[Axios v1.9.0] Transitional option '"+e+"'"+t+(s?". "+s:"")}return(s,a,i)=>{if(!1===e)throw new Ct(n(a," has been removed"+(t?" in "+t:"")),Ct.ERR_DEPRECATED);return t&&!$s[a]&&($s[a]=!0,console.warn(n(a," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(s,a,i)}},Bs.spelling=function(e){return(t,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};const Hs={assertOptions:function(e,t,s){if("object"!==typeof e)throw new Ct("options must be an object",Ct.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const i=n[a],r=t[i];if(r){const t=e[i],s=void 0===t||r(t,i,e);if(!0!==s)throw new Ct("option "+i+" must be "+s,Ct.ERR_BAD_OPTION_VALUE)}else if(!0!==s)throw new Ct("Unknown option "+i,Ct.ERR_BAD_OPTION)}},validators:Bs},Vs=Hs.validators;class Us{constructor(e){this.defaults=e||{},this.interceptors={request:new Ot,response:new Ot}}async request(e,t){try{return await this._request(e,t)}catch(s){if(s instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{s.stack?t&&!String(s.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(s.stack+="\n"+t):s.stack=t}catch(ok){}}throw s}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=xs(this.defaults,t);const{transitional:s,paramsSerializer:n,headers:a}=t;void 0!==s&&Hs.assertOptions(s,{silentJSONParsing:Vs.transitional(Vs.boolean),forcedJSONParsing:Vs.transitional(Vs.boolean),clarifyTimeoutError:Vs.transitional(Vs.boolean)},!1),null!=n&&(bt.isFunction(n)?t.paramsSerializer={serialize:n}:Hs.assertOptions(n,{encode:Vs.function,serialize:Vs.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Hs.assertOptions(t,{baseUrl:Vs.spelling("baseURL"),withXsrfToken:Vs.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i=a&&bt.merge(a.common,a[t.method]);a&&bt.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete a[e]})),t.headers=es.concat(i,a);const r=[];let l=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(l=l&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));const o=[];let c;this.interceptors.response.forEach((function(e){o.push(e.fulfilled,e.rejected)}));let d,u=0;if(!l){const e=[Fs.bind(this),void 0];for(e.unshift.apply(e,r),e.push.apply(e,o),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=r.length;let h=t;for(u=0;u<d;){const e=r[u++],t=r[u++];try{h=e(h)}catch(m){t.call(this,m);break}}try{c=Fs.call(this,h)}catch(m){return Promise.reject(m)}for(u=0,d=o.length;u<d;)c=c.then(o[u++],o[u++]);return c}getUri(e){return Pt(ms((e=xs(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}bt.forEach(["delete","get","head","options"],(function(e){Us.prototype[e]=function(t,s){return this.request(xs(s||{},{method:e,url:t,data:(s||{}).data}))}})),bt.forEach(["post","put","patch"],(function(e){function t(t){return function(s,n,a){return this.request(xs(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:s,data:n}))}}Us.prototype[e]=t(),Us.prototype[e+"Form"]=t(!0)}));const Ws=Us;class Gs{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const s=this;this.promise.then((e=>{if(!s._listeners)return;let t=s._listeners.length;for(;t-- >0;)s._listeners[t](e);s._listeners=null})),this.promise.then=e=>{let t;const n=new Promise((e=>{s.subscribe(e),t=e})).then(e);return n.cancel=function(){s.unsubscribe(t)},n},e((function(e,n,a){s.reason||(s.reason=new as(e,n,a),t(s.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Gs((function(t){e=t})),cancel:e}}}const qs=Gs;const Ys={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ys).forEach((e=>{let[t,s]=e;Ys[s]=t}));const Ks=Ys;const Js=function e(t){const s=new Ws(t),n=Pe(Ws.prototype.request,s);return bt.extend(n,Ws.prototype,s,{allOwnKeys:!0}),bt.extend(n,s,null,{allOwnKeys:!0}),n.create=function(s){return e(xs(t,s))},n}(qt);Js.Axios=Ws,Js.CanceledError=as,Js.CancelToken=qs,Js.isCancel=ss,Js.VERSION=zs,Js.toFormData=At,Js.AxiosError=Ct,Js.Cancel=Js.CanceledError,Js.all=function(e){return Promise.all(e)},Js.spread=function(e){return function(t){return e.apply(null,t)}},Js.isAxiosError=function(e){return bt.isObject(e)&&!0===e.isAxiosError},Js.mergeConfig=xs,Js.AxiosHeaders=es,Js.formToJSON=e=>Wt(bt.isHTMLForm(e)?new FormData(e):e),Js.getAdapter=Os,Js.HttpStatusCode=Ks,Js.default=Js;const Xs=Js,Zs=Xs.create({baseURL:"/api",headers:{"Content-Type":"application/json"}});Zs.interceptors.request.use((e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e}),(e=>Promise.reject(e)));const Qs=()=>{try{const e=localStorage.getItem("app:auth");if(e)try{const t=JSON.parse(e);if(t.user)return t.user}catch(ok){console.error("Error parsing app:auth",ok)}const t=localStorage.getItem("user");return t?JSON.parse(t):null}catch(e){return console.error("Get stored user error:",e),null}},en=()=>{try{console.log("CHECKING AUTH STATE - Token Debug:"),console.log("token exists:",!!localStorage.getItem("token")),console.log("user exists:",!!localStorage.getItem("user")),console.log("app:auth exists:",!!localStorage.getItem("app:auth"));const e=!!localStorage.getItem("token"),t=!!localStorage.getItem("user"),s=!!localStorage.getItem("app:auth"),n=e||t||s;return console.log("Final isLoggedIn result:",n),n&&tn(),n}catch(ok){return console.error("Error in isLoggedIn:",ok),!1}},tn=()=>{try{const t=localStorage.getItem("token"),s=localStorage.getItem("user"),n=localStorage.getItem("app:auth");if(!t&&n)try{const e=JSON.parse(n);e.token&&(localStorage.setItem("token",e.token),console.log("Restored token from app:auth"))}catch(e){console.error("Error restoring token from app:auth:",e)}if(!t&&s&&(localStorage.setItem("token","temp_recovery_token"),console.log("Created temporary recovery token")),!s&&n)try{const e=JSON.parse(n);e.user&&(localStorage.setItem("user",JSON.stringify(e.user)),console.log("Restored user from app:auth"))}catch(e){console.error("Error restoring user from app:auth:",e)}if(!n&&t&&s)try{const e=JSON.parse(s);localStorage.setItem("app:auth",JSON.stringify({token:t,user:e})),console.log("Restored app:auth from token and user")}catch(e){console.error("Error creating app:auth from token and user:",e)}}catch(t){console.error("Error in ensureTokenConsistency:",t)}};var sn=s(579);const nn=(0,a.createContext)(),an=()=>(0,a.useContext)(nn),rn=e=>{let{children:t}=e;const[s,n]=(0,a.useState)(null),[i,r]=(0,a.useState)(!0),[l,o]=(0,a.useState)(!1),c=(0,a.useRef)(!1),d=(0,a.useCallback)((async()=>{if(c.current)console.log("Auth check already in progress, skipping");else{c.current=!0,console.log("AuthContext: Checking auth state...");try{const t=localStorage.getItem("token"),s=localStorage.getItem("app:auth");if(!t&&!s)return console.log("No auth tokens found - not logged in"),n(null),r(!1),void(c.current=!1);u();const a=Qs();if(a&&(console.log("Using stored user data"),n(a)),l)console.log("Previous auth error - using stored user without API call");else try{console.log("Fetching current user from API...");const{data:e}=await(async()=>{try{const e=new AbortController,t=setTimeout((()=>e.abort()),5e3),s=await Zs.get("/auth/me",{signal:e.signal});return clearTimeout(t),s}catch(e){throw console.error("Get current user error:",e),e}})();if(e){if(console.log("Successfully retrieved user data from API"),n(e),localStorage.setItem("user",JSON.stringify(e)),s)try{const t=JSON.parse(s);t.user=e,localStorage.setItem("app:auth",JSON.stringify(t))}catch(ok){console.error("Error updating app:auth",ok)}o(!1)}}catch(e){console.error("Failed to get updated user data:",e),e.response&&401===e.response.status&&(console.log("API returned 401 - using stored user if available"),a?(console.log("Using locally stored user data instead of API"),o(!0)):(console.log("No stored user - clearing auth data"),n(null)))}}catch(e){console.error("Auth initialization error:",e)}finally{r(!1),c.current=!1}}}),[l]),u=()=>{try{const e=localStorage.getItem("token"),t=localStorage.getItem("user"),s=localStorage.getItem("app:auth");if(e&&!s&&t)try{const s=JSON.parse(t);localStorage.setItem("app:auth",JSON.stringify({token:e,user:s})),console.log("Created app:auth from token and user")}catch(ok){console.error("Error creating app:auth:",ok)}if(!e&&s)try{const e=JSON.parse(s);e.token&&(localStorage.setItem("token",e.token),console.log("Extracted token from app:auth"))}catch(ok){console.error("Error extracting token from app:auth:",ok)}if(!t&&s)try{const e=JSON.parse(s);e.user&&(localStorage.setItem("user",JSON.stringify(e.user)),console.log("Extracted user from app:auth"))}catch(ok){console.error("Error extracting user from app:auth:",ok)}}catch(e){console.error("Error in ensureTokenConsistency:",e)}},h=async function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];console.log("Logging out user");try{if(localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("app:auth"),n(null),o(!1),e){try{await(async()=>{try{localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("app:auth");try{await Zs.get("/auth/logout")}catch(e){console.warn("Logout API call failed, but localStorage was cleared")}return!0}catch(t){return console.error("Logout error:",t),!1}})()}catch(t){console.warn("Logout API call failed, but storage was cleared")}window.location.href="/login"}}catch(s){console.error("Logout error:",s)}};(0,a.useEffect)((()=>{d()}),[d]);const m={currentUser:s,updateUser:(0,a.useCallback)((e=>{n(e),e&&o(!1)}),[]),logout:()=>h(!0),isAuthenticated:!!s,loading:i,checkAuthState:d};return(0,sn.jsx)(nn.Provider,{value:m,children:t})};var ln=s(139),on=s.n(ln);const cn=["xxl","xl","lg","md","sm","xs"],dn="xs",un=a.createContext({prefixes:{},breakpoints:cn,minBreakpoint:dn}),{Consumer:hn,Provider:mn}=un;function pn(e,t){const{prefixes:s}=(0,a.useContext)(un);return e||s[t]||t}function xn(){const{breakpoints:e}=(0,a.useContext)(un);return e}function fn(){const{minBreakpoint:e}=(0,a.useContext)(un);return e}function gn(){const{dir:e}=(0,a.useContext)(un);return"rtl"===e}const vn=a.forwardRef(((e,t)=>{let{bsPrefix:s,fluid:n=!1,as:a="div",className:i,...r}=e;const l=pn(s,"container"),o="string"===typeof n?`-${n}`:"-fluid";return(0,sn.jsx)(a,{ref:t,...r,className:on()(i,n?`${l}${o}`:l)})}));vn.displayName="Container";const jn=vn,bn=a.forwardRef(((e,t)=>{let{bsPrefix:s,className:n,as:a="div",...i}=e;const r=pn(s,"row"),l=xn(),o=fn(),c=`${r}-cols`,d=[];return l.forEach((e=>{const t=i[e];let s;delete i[e],null!=t&&"object"===typeof t?({cols:s}=t):s=t;const n=e!==o?`-${e}`:"";null!=s&&d.push(`${c}${n}-${s}`)})),(0,sn.jsx)(a,{ref:t,...i,className:on()(n,r,...d)})}));bn.displayName="Row";const yn=bn;const wn=a.forwardRef(((e,t)=>{const[{className:s,...n},{as:a="div",bsPrefix:i,spans:r}]=function(e){let{as:t,bsPrefix:s,className:n,...a}=e;s=pn(s,"col");const i=xn(),r=fn(),l=[],o=[];return i.forEach((e=>{const t=a[e];let n,i,c;delete a[e],"object"===typeof t&&null!=t?({span:n,offset:i,order:c}=t):n=t;const d=e!==r?`-${e}`:"";n&&l.push(!0===n?`${s}${d}`:`${s}${d}-${n}`),null!=c&&o.push(`order${d}-${c}`),null!=i&&o.push(`offset${d}-${i}`)})),[{...a,className:on()(n,...l,...o)},{as:t,bsPrefix:s,spans:l}]}(e);return(0,sn.jsx)(a,{...n,ref:t,className:on()(s,!r.length&&i)})}));wn.displayName="Col";const Nn=wn,Cn=a.forwardRef(((e,t)=>{let{className:s,bsPrefix:n,as:a="div",...i}=e;return n=pn(n,"card-body"),(0,sn.jsx)(a,{ref:t,className:on()(s,n),...i})}));Cn.displayName="CardBody";const Sn=Cn,kn=a.forwardRef(((e,t)=>{let{className:s,bsPrefix:n,as:a="div",...i}=e;return n=pn(n,"card-footer"),(0,sn.jsx)(a,{ref:t,className:on()(s,n),...i})}));kn.displayName="CardFooter";const Dn=kn,_n=a.createContext(null);_n.displayName="CardHeaderContext";const An=_n,Tn=a.forwardRef(((e,t)=>{let{bsPrefix:s,className:n,as:i="div",...r}=e;const l=pn(s,"card-header"),o=(0,a.useMemo)((()=>({cardHeaderBsPrefix:l})),[l]);return(0,sn.jsx)(An.Provider,{value:o,children:(0,sn.jsx)(i,{ref:t,...r,className:on()(n,l)})})}));Tn.displayName="CardHeader";const En=Tn,Ln=a.forwardRef(((e,t)=>{let{bsPrefix:s,className:n,variant:a,as:i="img",...r}=e;const l=pn(s,"card-img");return(0,sn.jsx)(i,{ref:t,className:on()(a?`${l}-${a}`:l,n),...r})}));Ln.displayName="CardImg";const Mn=Ln,In=a.forwardRef(((e,t)=>{let{className:s,bsPrefix:n,as:a="div",...i}=e;return n=pn(n,"card-img-overlay"),(0,sn.jsx)(a,{ref:t,className:on()(s,n),...i})}));In.displayName="CardImgOverlay";const Pn=In,On=a.forwardRef(((e,t)=>{let{className:s,bsPrefix:n,as:a="a",...i}=e;return n=pn(n,"card-link"),(0,sn.jsx)(a,{ref:t,className:on()(s,n),...i})}));On.displayName="CardLink";const Rn=On,Fn=e=>a.forwardRef(((t,s)=>(0,sn.jsx)("div",{...t,ref:s,className:on()(t.className,e)}))),zn=Fn("h6"),Bn=a.forwardRef(((e,t)=>{let{className:s,bsPrefix:n,as:a=zn,...i}=e;return n=pn(n,"card-subtitle"),(0,sn.jsx)(a,{ref:t,className:on()(s,n),...i})}));Bn.displayName="CardSubtitle";const $n=Bn,Hn=a.forwardRef(((e,t)=>{let{className:s,bsPrefix:n,as:a="p",...i}=e;return n=pn(n,"card-text"),(0,sn.jsx)(a,{ref:t,className:on()(s,n),...i})}));Hn.displayName="CardText";const Vn=Hn,Un=Fn("h5"),Wn=a.forwardRef(((e,t)=>{let{className:s,bsPrefix:n,as:a=Un,...i}=e;return n=pn(n,"card-title"),(0,sn.jsx)(a,{ref:t,className:on()(s,n),...i})}));Wn.displayName="CardTitle";const Gn=Wn,qn=a.forwardRef(((e,t)=>{let{bsPrefix:s,className:n,bg:a,text:i,border:r,body:l=!1,children:o,as:c="div",...d}=e;const u=pn(s,"card");return(0,sn.jsx)(c,{ref:t,...d,className:on()(n,u,a&&`bg-${a}`,i&&`text-${i}`,r&&`border-${r}`),children:l?(0,sn.jsx)(Sn,{children:o}):o})}));qn.displayName="Card";const Yn=Object.assign(qn,{Img:Mn,Title:Gn,Subtitle:$n,Body:Sn,Link:Rn,Text:Vn,Header:En,Footer:Dn,ImgOverlay:Pn});function Kn(){return Kn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Kn.apply(null,arguments)}function Jn(e,t){if(null==e)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;s[n]=e[n]}return s}s(740);function Xn(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function Zn(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function Qn(e,t,s){var n=(0,a.useRef)(void 0!==e),i=(0,a.useState)(t),r=i[0],l=i[1],o=void 0!==e,c=n.current;return n.current=o,!o&&c&&r!==t&&l(t),[o?e:r,(0,a.useCallback)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];s&&s.apply(void 0,[e].concat(n)),l(e)}),[s])]}function ea(e,t){return Object.keys(t).reduce((function(s,n){var a,i=s,r=i[Xn(n)],l=i[n],o=Jn(i,[Xn(n),n].map(Zn)),c=t[n],d=Qn(l,r,e[c]),u=d[0],h=d[1];return Kn({},o,((a={})[n]=u,a[c]=h,a))}),e)}function ta(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function sa(e){this.setState(function(t){var s=this.constructor.getDerivedStateFromProps(e,t);return null!==s&&void 0!==s?s:null}.bind(this))}function na(e,t){try{var s=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(s,n)}finally{this.props=s,this.state=n}}ta.__suppressDeprecationWarning=!0,sa.__suppressDeprecationWarning=!0,na.__suppressDeprecationWarning=!0;const aa=function(e){const t=(0,a.useRef)(e);return(0,a.useEffect)((()=>{t.current=e}),[e]),t};function ia(e){const t=aa(e);return(0,a.useCallback)((function(){return t.current&&t.current(...arguments)}),[t])}const ra=Fn("h4");ra.displayName="DivStyledAsH4";const la=a.forwardRef(((e,t)=>{let{className:s,bsPrefix:n,as:a=ra,...i}=e;return n=pn(n,"alert-heading"),(0,sn.jsx)(a,{ref:t,className:on()(s,n),...i})}));la.displayName="AlertHeading";const oa=la;function ca(){return(0,a.useState)(null)}const da=function(e){const t=(0,a.useRef)(e);return(0,a.useEffect)((()=>{t.current=e}),[e]),t};function ua(e){const t=da(e);return(0,a.useCallback)((function(){return t.current&&t.current(...arguments)}),[t])}function ha(){const e=(0,a.useRef)(!0),t=(0,a.useRef)((()=>e.current));return(0,a.useEffect)((()=>(e.current=!0,()=>{e.current=!1})),[]),t.current}function ma(e){const t=(0,a.useRef)(null);return(0,a.useEffect)((()=>{t.current=e})),t.current}const pa="undefined"!==typeof s.g&&s.g.navigator&&"ReactNative"===s.g.navigator.product,xa="undefined"!==typeof document||pa?a.useLayoutEffect:a.useEffect;new WeakMap;const fa=["as","disabled"];function ga(e){let{tagName:t,disabled:s,href:n,target:a,rel:i,role:r,onClick:l,tabIndex:o=0,type:c}=e;t||(t=null!=n||null!=a||null!=i?"a":"button");const d={tagName:t};if("button"===t)return[{type:c||"button",disabled:s},d];const u=e=>{(s||"a"===t&&function(e){return!e||"#"===e.trim()}(n))&&e.preventDefault(),s?e.stopPropagation():null==l||l(e)};return"a"===t&&(n||(n="#"),s&&(n=void 0)),[{role:null!=r?r:"button",disabled:void 0,tabIndex:s?void 0:o,href:n,target:"a"===t?a:void 0,"aria-disabled":s||void 0,rel:"a"===t?i:void 0,onClick:u,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),u(e))}},d]}const va=a.forwardRef(((e,t)=>{let{as:s,disabled:n}=e,a=function(e,t){if(null==e)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;s[n]=e[n]}return s}(e,fa);const[i,{tagName:r}]=ga(Object.assign({tagName:s,disabled:n},a));return(0,sn.jsx)(r,Object.assign({},a,i,{ref:t}))}));va.displayName="Button";const ja=va,ba=["onKeyDown"];const ya=a.forwardRef(((e,t)=>{let{onKeyDown:s}=e,n=function(e,t){if(null==e)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;s[n]=e[n]}return s}(e,ba);const[a]=ga(Object.assign({tagName:"a"},n)),i=ua((e=>{a.onKeyDown(e),null==s||s(e)}));return(r=n.href)&&"#"!==r.trim()&&"button"!==n.role?(0,sn.jsx)("a",Object.assign({ref:t},n,{onKeyDown:s})):(0,sn.jsx)("a",Object.assign({ref:t},n,a,{onKeyDown:i}));var r}));ya.displayName="Anchor";const wa=ya,Na=a.forwardRef(((e,t)=>{let{className:s,bsPrefix:n,as:a=wa,...i}=e;return n=pn(n,"alert-link"),(0,sn.jsx)(a,{ref:t,className:on()(s,n),...i})}));Na.displayName="AlertLink";const Ca=Na;function Sa(e,t){return Sa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Sa(e,t)}const ka=!1,Da=a.createContext(null);var _a="unmounted",Aa="exited",Ta="entering",Ea="entered",La="exiting",Ma=function(e){var t,s;function n(t,s){var n;n=e.call(this,t,s)||this;var a,i=s&&!s.isMounting?t.enter:t.appear;return n.appearStatus=null,t.in?i?(a=Aa,n.appearStatus=Ta):a=Ea:a=t.unmountOnExit||t.mountOnEnter?_a:Aa,n.state={status:a},n.nextCallback=null,n}s=e,(t=n).prototype=Object.create(s.prototype),t.prototype.constructor=t,Sa(t,s),n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===_a?{status:Aa}:null};var i=n.prototype;return i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(e){var t=null;if(e!==this.props){var s=this.state.status;this.props.in?s!==Ta&&s!==Ea&&(t=Ta):s!==Ta&&s!==Ea||(t=La)}this.updateStatus(!1,t)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var e,t,s,n=this.props.timeout;return e=t=s=n,null!=n&&"number"!==typeof n&&(e=n.exit,t=n.enter,s=void 0!==n.appear?n.appear:t),{exit:e,enter:t,appear:s}},i.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===Ta){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:Ne.findDOMNode(this);s&&function(e){e.scrollTop}(s)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Aa&&this.setState({status:_a})},i.performEnter=function(e){var t=this,s=this.props.enter,n=this.context?this.context.isMounting:e,a=this.props.nodeRef?[n]:[Ne.findDOMNode(this),n],i=a[0],r=a[1],l=this.getTimeouts(),o=n?l.appear:l.enter;!e&&!s||ka?this.safeSetState({status:Ea},(function(){t.props.onEntered(i)})):(this.props.onEnter(i,r),this.safeSetState({status:Ta},(function(){t.props.onEntering(i,r),t.onTransitionEnd(o,(function(){t.safeSetState({status:Ea},(function(){t.props.onEntered(i,r)}))}))})))},i.performExit=function(){var e=this,t=this.props.exit,s=this.getTimeouts(),n=this.props.nodeRef?void 0:Ne.findDOMNode(this);t&&!ka?(this.props.onExit(n),this.safeSetState({status:La},(function(){e.props.onExiting(n),e.onTransitionEnd(s.exit,(function(){e.safeSetState({status:Aa},(function(){e.props.onExited(n)}))}))}))):this.safeSetState({status:Aa},(function(){e.props.onExited(n)}))},i.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},i.setNextCallback=function(e){var t=this,s=!0;return this.nextCallback=function(n){s&&(s=!1,t.nextCallback=null,e(n))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},i.onTransitionEnd=function(e,t){this.setNextCallback(t);var s=this.props.nodeRef?this.props.nodeRef.current:Ne.findDOMNode(this),n=null==e&&!this.props.addEndListener;if(s&&!n){if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],i=a[0],r=a[1];this.props.addEndListener(i,r)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},i.render=function(){var e=this.state.status;if(e===_a)return null;var t=this.props,s=t.children,n=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,Jn(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return a.createElement(Da.Provider,{value:null},"function"===typeof s?s(e,n):a.cloneElement(a.Children.only(s),n))},n}(a.Component);function Ia(){}Ma.contextType=Da,Ma.propTypes={},Ma.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ia,onEntering:Ia,onEntered:Ia,onExit:Ia,onExiting:Ia,onExited:Ia},Ma.UNMOUNTED=_a,Ma.EXITED=Aa,Ma.ENTERING=Ta,Ma.ENTERED=Ea,Ma.EXITING=La;const Pa=Ma;function Oa(e){return"Escape"===e.code||27===e.keyCode}function Ra(e){if(!e||"function"===typeof e)return null;const{major:t}=function(){const e=a.version.split(".");return{major:+e[0],minor:+e[1],patch:+e[2]}}();return t>=19?e.props.ref:e.ref}function Fa(e){return e&&e.ownerDocument||document}function za(e,t){return function(e){var t=Fa(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var Ba=/([A-Z])/g;var $a=/^ms-/;function Ha(e){return function(e){return e.replace(Ba,"-$1").toLowerCase()}(e).replace($a,"-ms-")}var Va=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;const Ua=function(e,t){var s="",n="";if("string"===typeof t)return e.style.getPropertyValue(Ha(t))||za(e).getPropertyValue(Ha(t));Object.keys(t).forEach((function(a){var i=t[a];i||0===i?!function(e){return!(!e||!Va.test(e))}(a)?s+=Ha(a)+": "+i+";":n+=a+"("+i+") ":e.style.removeProperty(Ha(a))})),n&&(s+="transform: "+n+";"),e.style.cssText+=";"+s},Wa=!("undefined"===typeof window||!window.document||!window.document.createElement);var Ga=!1,qa=!1;try{var Ya={get passive(){return Ga=!0},get once(){return qa=Ga=!0}};Wa&&(window.addEventListener("test",Ya,Ya),window.removeEventListener("test",Ya,!0))}catch(ok){}const Ka=function(e,t,s,n){if(n&&"boolean"!==typeof n&&!qa){var a=n.once,i=n.capture,r=s;!qa&&a&&(r=s.__once||function e(n){this.removeEventListener(t,e,i),s.call(this,n)},s.__once=r),e.addEventListener(t,r,Ga?n:i)}e.addEventListener(t,s,n)};const Ja=function(e,t,s,n){var a=n&&"boolean"!==typeof n?n.capture:n;e.removeEventListener(t,s,a),s.__once&&e.removeEventListener(t,s.__once,a)};const Xa=function(e,t,s,n){return Ka(e,t,s,n),function(){Ja(e,t,s,n)}};function Za(e,t,s){void 0===s&&(s=5);var n=!1,a=setTimeout((function(){n||function(e,t,s,n){if(void 0===s&&(s=!1),void 0===n&&(n=!0),e){var a=document.createEvent("HTMLEvents");a.initEvent(t,s,n),e.dispatchEvent(a)}}(e,"transitionend",!0)}),t+s),i=Xa(e,"transitionend",(function(){n=!0}),{once:!0});return function(){clearTimeout(a),i()}}function Qa(e,t,s,n){null==s&&(s=function(e){var t=Ua(e,"transitionDuration")||"",s=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*s}(e)||0);var a=Za(e,s,n),i=Xa(e,"transitionend",t);return function(){a(),i()}}function ei(e,t){const s=Ua(e,t)||"",n=-1===s.indexOf("ms")?1e3:1;return parseFloat(s)*n}function ti(e,t){const s=ei(e,"transitionDuration"),n=ei(e,"transitionDelay"),a=Qa(e,(s=>{s.target===e&&(a(),t(s))}),s+n)}function si(e){e.offsetHeight}const ni=e=>e&&"function"!==typeof e?t=>{e.current=t}:e;const ai=function(e,t){return(0,a.useMemo)((()=>function(e,t){const s=ni(e),n=ni(t);return e=>{s&&s(e),n&&n(e)}}(e,t)),[e,t])};function ii(e){return e&&"setState"in e?Ne.findDOMNode(e):null!=e?e:null}const ri=a.forwardRef(((e,t)=>{let{onEnter:s,onEntering:n,onEntered:i,onExit:r,onExiting:l,onExited:o,addEndListener:c,children:d,childRef:u,...h}=e;const m=(0,a.useRef)(null),p=ai(m,u),x=e=>{p(ii(e))},f=e=>t=>{e&&m.current&&e(m.current,t)},g=(0,a.useCallback)(f(s),[s]),v=(0,a.useCallback)(f(n),[n]),j=(0,a.useCallback)(f(i),[i]),b=(0,a.useCallback)(f(r),[r]),y=(0,a.useCallback)(f(l),[l]),w=(0,a.useCallback)(f(o),[o]),N=(0,a.useCallback)(f(c),[c]);return(0,sn.jsx)(Pa,{ref:t,...h,onEnter:g,onEntered:j,onEntering:v,onExit:b,onExited:w,onExiting:y,addEndListener:N,nodeRef:m,children:"function"===typeof d?(e,t)=>d(e,{...t,ref:x}):a.cloneElement(d,{ref:x})})})),li=ri,oi={[Ta]:"show",[Ea]:"show"},ci=a.forwardRef(((e,t)=>{let{className:s,children:n,transitionClasses:i={},onEnter:r,...l}=e;const o={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...l},c=(0,a.useCallback)(((e,t)=>{si(e),null==r||r(e,t)}),[r]);return(0,sn.jsx)(li,{ref:t,addEndListener:ti,...o,onEnter:c,childRef:Ra(n),children:(e,t)=>a.cloneElement(n,{...t,className:on()("fade",s,n.props.className,oi[e],i[e])})})}));ci.displayName="Fade";const di=ci;var ui=s(173),hi=s.n(ui);const mi={"aria-label":hi().string,onClick:hi().func,variant:hi().oneOf(["white"])},pi=a.forwardRef(((e,t)=>{let{className:s,variant:n,"aria-label":a="Close",...i}=e;return(0,sn.jsx)("button",{ref:t,type:"button",className:on()("btn-close",n&&`btn-close-${n}`,s),"aria-label":a,...i})}));pi.displayName="CloseButton",pi.propTypes=mi;const xi=pi,fi=a.forwardRef(((e,t)=>{const{bsPrefix:s,show:n=!0,closeLabel:a="Close alert",closeVariant:i,className:r,children:l,variant:o="primary",onClose:c,dismissible:d,transition:u=di,...h}=ea(e,{show:"onClose"}),m=pn(s,"alert"),p=ia((e=>{c&&c(!1,e)})),x=!0===u?di:u,f=(0,sn.jsxs)("div",{role:"alert",...x?void 0:h,ref:t,className:on()(r,m,o&&`${m}-${o}`,d&&`${m}-dismissible`),children:[d&&(0,sn.jsx)(xi,{onClick:p,"aria-label":a,variant:i}),l]});return x?(0,sn.jsx)(x,{unmountOnExit:!0,...h,ref:void 0,in:n,children:f}):n?f:null}));fi.displayName="Alert";const gi=Object.assign(fi,{Link:Ca,Heading:oa}),vi={type:hi().string,tooltip:hi().bool,as:hi().elementType},ji=a.forwardRef(((e,t)=>{let{as:s="div",className:n,type:a="valid",tooltip:i=!1,...r}=e;return(0,sn.jsx)(s,{...r,ref:t,className:on()(n,`${a}-${i?"tooltip":"feedback"}`)})}));ji.displayName="Feedback",ji.propTypes=vi;const bi=ji,yi=a.createContext({}),wi=a.forwardRef(((e,t)=>{let{id:s,bsPrefix:n,className:i,type:r="checkbox",isValid:l=!1,isInvalid:o=!1,as:c="input",...d}=e;const{controlId:u}=(0,a.useContext)(yi);return n=pn(n,"form-check-input"),(0,sn.jsx)(c,{...d,ref:t,type:r,id:s||u,className:on()(i,n,l&&"is-valid",o&&"is-invalid")})}));wi.displayName="FormCheckInput";const Ni=wi,Ci=a.forwardRef(((e,t)=>{let{bsPrefix:s,className:n,htmlFor:i,...r}=e;const{controlId:l}=(0,a.useContext)(yi);return s=pn(s,"form-check-label"),(0,sn.jsx)("label",{...r,ref:t,htmlFor:i||l,className:on()(n,s)})}));Ci.displayName="FormCheckLabel";const Si=Ci;function ki(e,t){let s=0;return a.Children.map(e,(e=>a.isValidElement(e)?t(e,s++):e))}const Di=a.forwardRef(((e,t)=>{let{id:s,bsPrefix:n,bsSwitchPrefix:i,inline:r=!1,reverse:l=!1,disabled:o=!1,isValid:c=!1,isInvalid:d=!1,feedbackTooltip:u=!1,feedback:h,feedbackType:m,className:p,style:x,title:f="",type:g="checkbox",label:v,children:j,as:b="input",...y}=e;n=pn(n,"form-check"),i=pn(i,"form-switch");const{controlId:w}=(0,a.useContext)(yi),N=(0,a.useMemo)((()=>({controlId:s||w})),[w,s]),C=!j&&null!=v&&!1!==v||function(e,t){return a.Children.toArray(e).some((e=>a.isValidElement(e)&&e.type===t))}(j,Si),S=(0,sn.jsx)(Ni,{...y,type:"switch"===g?"checkbox":g,ref:t,isValid:c,isInvalid:d,disabled:o,as:b});return(0,sn.jsx)(yi.Provider,{value:N,children:(0,sn.jsx)("div",{style:x,className:on()(p,C&&n,r&&`${n}-inline`,l&&`${n}-reverse`,"switch"===g&&i),children:j||(0,sn.jsxs)(sn.Fragment,{children:[S,C&&(0,sn.jsx)(Si,{title:f,children:v}),h&&(0,sn.jsx)(bi,{type:m,tooltip:u,children:h})]})})})}));Di.displayName="FormCheck";const _i=Object.assign(Di,{Input:Ni,Label:Si});var Ai=s(440),Ti=s.n(Ai);const Ei=a.forwardRef(((e,t)=>{let{bsPrefix:s,type:n,size:i,htmlSize:r,id:l,className:o,isValid:c=!1,isInvalid:d=!1,plaintext:u,readOnly:h,as:m="input",...p}=e;const{controlId:x}=(0,a.useContext)(yi);return s=pn(s,"form-control"),(0,sn.jsx)(m,{...p,type:n,size:r,ref:t,readOnly:h,id:l||x,className:on()(o,u?`${s}-plaintext`:s,i&&`${s}-${i}`,"color"===n&&`${s}-color`,c&&"is-valid",d&&"is-invalid")})}));Ei.displayName="FormControl";const Li=Object.assign(Ei,{Feedback:bi}),Mi=a.forwardRef(((e,t)=>{let{className:s,bsPrefix:n,as:a="div",...i}=e;return n=pn(n,"form-floating"),(0,sn.jsx)(a,{ref:t,className:on()(s,n),...i})}));Mi.displayName="FormFloating";const Ii=Mi,Pi=a.forwardRef(((e,t)=>{let{controlId:s,as:n="div",...i}=e;const r=(0,a.useMemo)((()=>({controlId:s})),[s]);return(0,sn.jsx)(yi.Provider,{value:r,children:(0,sn.jsx)(n,{...i,ref:t})})}));Pi.displayName="FormGroup";const Oi=Pi,Ri=a.forwardRef(((e,t)=>{let{as:s="label",bsPrefix:n,column:i=!1,visuallyHidden:r=!1,className:l,htmlFor:o,...c}=e;const{controlId:d}=(0,a.useContext)(yi);n=pn(n,"form-label");let u="col-form-label";"string"===typeof i&&(u=`${u} ${u}-${i}`);const h=on()(l,n,r&&"visually-hidden",i&&u);return o=o||d,i?(0,sn.jsx)(Nn,{ref:t,as:"label",className:h,htmlFor:o,...c}):(0,sn.jsx)(s,{ref:t,className:h,htmlFor:o,...c})}));Ri.displayName="FormLabel";const Fi=Ri,zi=a.forwardRef(((e,t)=>{let{bsPrefix:s,className:n,id:i,...r}=e;const{controlId:l}=(0,a.useContext)(yi);return s=pn(s,"form-range"),(0,sn.jsx)("input",{...r,type:"range",ref:t,className:on()(n,s),id:i||l})}));zi.displayName="FormRange";const Bi=zi,$i=a.forwardRef(((e,t)=>{let{bsPrefix:s,size:n,htmlSize:i,className:r,isValid:l=!1,isInvalid:o=!1,id:c,...d}=e;const{controlId:u}=(0,a.useContext)(yi);return s=pn(s,"form-select"),(0,sn.jsx)("select",{...d,size:i,ref:t,className:on()(r,s,n&&`${s}-${n}`,l&&"is-valid",o&&"is-invalid"),id:c||u})}));$i.displayName="FormSelect";const Hi=$i,Vi=a.forwardRef(((e,t)=>{let{bsPrefix:s,className:n,as:a="small",muted:i,...r}=e;return s=pn(s,"form-text"),(0,sn.jsx)(a,{...r,ref:t,className:on()(n,s,i&&"text-muted")})}));Vi.displayName="FormText";const Ui=Vi,Wi=a.forwardRef(((e,t)=>(0,sn.jsx)(_i,{...e,ref:t,type:"switch"})));Wi.displayName="Switch";const Gi=Object.assign(Wi,{Input:_i.Input,Label:_i.Label}),qi=a.forwardRef(((e,t)=>{let{bsPrefix:s,className:n,children:a,controlId:i,label:r,...l}=e;return s=pn(s,"form-floating"),(0,sn.jsxs)(Oi,{ref:t,className:on()(n,s),controlId:i,...l,children:[a,(0,sn.jsx)("label",{htmlFor:i,children:r})]})}));qi.displayName="FloatingLabel";const Yi=qi,Ki={_ref:hi().any,validated:hi().bool,as:hi().elementType},Ji=a.forwardRef(((e,t)=>{let{className:s,validated:n,as:a="form",...i}=e;return(0,sn.jsx)(a,{...i,ref:t,className:on()(s,n&&"was-validated")})}));Ji.displayName="Form",Ji.propTypes=Ki;const Xi=Object.assign(Ji,{Group:Oi,Control:Li,Floating:Ii,Check:_i,Switch:Gi,Label:Fi,Text:Ui,Range:Bi,Select:Hi,FloatingLabel:Yi}),Zi=a.createContext(null);Zi.displayName="InputGroupContext";const Qi=Zi,er=a.forwardRef(((e,t)=>{let{className:s,bsPrefix:n,as:a="span",...i}=e;return n=pn(n,"input-group-text"),(0,sn.jsx)(a,{ref:t,className:on()(s,n),...i})}));er.displayName="InputGroupText";const tr=er,sr=a.forwardRef(((e,t)=>{let{bsPrefix:s,size:n,hasValidation:i,className:r,as:l="div",...o}=e;s=pn(s,"input-group");const c=(0,a.useMemo)((()=>({})),[]);return(0,sn.jsx)(Qi.Provider,{value:c,children:(0,sn.jsx)(l,{ref:t,...o,className:on()(r,s,n&&`${s}-${n}`,i&&"has-validation")})})}));sr.displayName="InputGroup";const nr=Object.assign(sr,{Text:tr,Radio:e=>(0,sn.jsx)(tr,{children:(0,sn.jsx)(Ni,{type:"radio",...e})}),Checkbox:e=>(0,sn.jsx)(tr,{children:(0,sn.jsx)(Ni,{type:"checkbox",...e})})}),ar=a.forwardRef(((e,t)=>{let{as:s,bsPrefix:n,variant:a="primary",size:i,active:r=!1,disabled:l=!1,className:o,...c}=e;const d=pn(n,"btn"),[u,{tagName:h}]=ga({tagName:s,disabled:l,...c}),m=h;return(0,sn.jsx)(m,{...u,...c,ref:t,disabled:l,className:on()(o,d,r&&"active",a&&`${d}-${a}`,i&&`${d}-${i}`,c.href&&l&&"disabled")})}));ar.displayName="Button";const ir=ar;var rr={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},lr=a.createContext&&a.createContext(rr),or=function(){return or=Object.assign||function(e){for(var t,s=1,n=arguments.length;s<n;s++)for(var a in t=arguments[s])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},or.apply(this,arguments)},cr=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(s[n[a]]=e[n[a]])}return s};function dr(e){return e&&e.map((function(e,t){return a.createElement(e.tag,or({key:t},e.attr),dr(e.child))}))}function ur(e){return function(t){return a.createElement(hr,or({attr:or({},e.attr)},t),dr(e.child))}}function hr(e){var t=function(t){var s,n=e.attr,i=e.size,r=e.title,l=cr(e,["attr","size","title"]),o=i||t.size||"1em";return t.className&&(s=t.className),e.className&&(s=(s?s+" ":"")+e.className),a.createElement("svg",or({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,l,{className:s,style:or(or({color:e.color||t.color},t.style),e.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),r&&a.createElement("title",null,r),e.children)};return void 0!==lr?a.createElement(lr.Consumer,null,(function(e){return t(e)})):t(rr)}function mr(e){return ur({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"}}]})(e)}function pr(e){return ur({tag:"svg",attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"}}]})(e)}function xr(e){return ur({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"}}]})(e)}function fr(e){return ur({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"}}]})(e)}function gr(e){return ur({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M413.1 222.5l22.2 22.2c9.4 9.4 9.4 24.6 0 33.9L241 473c-9.4 9.4-24.6 9.4-33.9 0L12.7 278.6c-9.4-9.4-9.4-24.6 0-33.9l22.2-22.2c9.5-9.5 25-9.3 34.3.4L184 343.4V56c0-13.3 10.7-24 24-24h32c13.3 0 24 10.7 24 24v287.4l114.8-120.5c9.3-9.8 24.8-10 34.3-.4z"}}]})(e)}function vr(e){return ur({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"}}]})(e)}function jr(e){return ur({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"}}]})(e)}function br(e){return ur({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M256 336h-.02c0-16.18 1.34-8.73-85.05-181.51-17.65-35.29-68.19-35.36-85.87 0C-2.06 328.75.02 320.33.02 336H0c0 44.18 57.31 80 128 80s128-35.82 128-80zM128 176l72 144H56l72-144zm511.98 160c0-16.18 1.34-8.73-85.05-181.51-17.65-35.29-68.19-35.36-85.87 0-87.12 174.26-85.04 165.84-85.04 181.51H384c0 44.18 57.31 80 128 80s128-35.82 128-80h-.02zM440 320l72-144 72 144H440zm88 128H352V153.25c23.51-10.29 41.16-31.48 46.39-57.25H528c8.84 0 16-7.16 16-16V48c0-8.84-7.16-16-16-16H383.64C369.04 12.68 346.09 0 320 0s-49.04 12.68-63.64 32H112c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h129.61c5.23 25.76 22.87 46.96 46.39 57.25V448H112c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h416c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"}}]})(e)}function yr(e){return ur({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"}}]})(e)}function wr(e){return ur({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"}}]})(e)}function Nr(e){return ur({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M0 512V48C0 21.49 21.49 0 48 0h288c26.51 0 48 21.49 48 48v464L192 400 0 512z"}}]})(e)}function Cr(e){return ur({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M509.5 184.6L458.9 32.8C452.4 13.2 434.1 0 413.4 0H272v192h238.7c-.4-2.5-.4-5-1.2-7.4zM240 0H98.6c-20.7 0-39 13.2-45.5 32.8L2.5 184.6c-.8 2.4-.8 4.9-1.2 7.4H240V0zM0 224v240c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V224H0z"}}]})(e)}function Sr(e){return ur({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 480h-20V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v456H12c-6.627 0-12 5.373-12 12v20h448v-20c0-6.627-5.373-12-12-12zM128 76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76zm0 96c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40zm52 148h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12zm76 160h-64v-84c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v84zm64-172c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40z"}}]})(e)}function kr(e){return ur({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"}}]})(e)}function Dr(e){return ur({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm64-192c0-8.8 7.2-16 16-16h96c8.8 0 16 7.2 16 16v96c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16v-96zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"}}]})(e)}function _r(e){return ur({tag:"svg",attr:{viewBox:"0 0 480 512"},child:[{tag:"path",attr:{d:"M438.66 212.33l-11.24-28.1-19.93-49.83C390.38 91.63 349.57 64 303.5 64h-127c-46.06 0-86.88 27.63-103.99 70.4l-19.93 49.83-11.24 28.1C17.22 221.5 0 244.66 0 272v48c0 16.12 6.16 30.67 16 41.93V416c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32v-32h256v32c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32v-54.07c9.84-11.25 16-25.8 16-41.93v-48c0-27.34-17.22-50.5-41.34-59.67zm-306.73-54.16c7.29-18.22 24.94-30.17 44.57-30.17h127c19.63 0 37.28 11.95 44.57 30.17L368 208H112l19.93-49.83zM80 319.8c-19.2 0-32-12.76-32-31.9S60.8 256 80 256s48 28.71 48 47.85-28.8 15.95-48 15.95zm320 0c-19.2 0-48 3.19-48-15.95S380.8 256 400 256s32 12.76 32 31.9-12.8 31.9-32 31.9z"}}]})(e)}function Ar(e){return ur({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M499.99 176h-59.87l-16.64-41.6C406.38 91.63 365.57 64 319.5 64h-127c-46.06 0-86.88 27.63-103.99 70.4L71.87 176H12.01C4.2 176-1.53 183.34.37 190.91l6 24C7.7 220.25 12.5 224 18.01 224h20.07C24.65 235.73 16 252.78 16 272v48c0 16.12 6.16 30.67 16 41.93V416c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32v-32h256v32c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32v-54.07c9.84-11.25 16-25.8 16-41.93v-48c0-19.22-8.65-36.27-22.07-48H494c5.51 0 10.31-3.75 11.64-9.09l6-24c1.89-7.57-3.84-14.91-11.65-14.91zm-352.06-17.83c7.29-18.22 24.94-30.17 44.57-30.17h127c19.63 0 37.28 11.95 44.57 30.17L384 208H128l19.93-49.83zM96 319.8c-19.2 0-32-12.76-32-31.9S76.8 256 96 256s48 28.71 48 47.85-28.8 15.95-48 15.95zm320 0c-19.2 0-48 3.19-48-15.95S396.8 256 416 256s32 12.76 32 31.9-12.8 31.9-32 31.9z"}}]})(e)}function Tr(e){return ur({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"}}]})(e)}function Er(e){return ur({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"}}]})(e)}function Lr(e){return ur({tag:"svg",attr:{viewBox:"0 0 544 512"},child:[{tag:"path",attr:{d:"M527.79 288H290.5l158.03 158.03c6.04 6.04 15.98 6.53 22.19.68 38.7-36.46 65.32-85.61 73.13-140.86 1.34-9.46-6.51-17.85-16.06-17.85zm-15.83-64.8C503.72 103.74 408.26 8.28 288.8.04 279.68-.59 272 7.1 272 16.24V240h223.77c9.14 0 16.82-7.68 16.19-16.8zM224 288V50.71c0-9.55-8.39-17.4-17.84-16.06C86.99 51.49-4.1 155.6.14 280.37 4.5 408.51 114.83 513.59 243.03 511.98c50.4-.63 96.97-16.87 135.26-44.03 7.9-5.6 8.42-17.23 1.57-24.08L224 288z"}}]})(e)}function Mr(e){return ur({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"}}]})(e)}function Ir(e){return ur({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 480H48c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h352c26.51 0 48 21.49 48 48v352c0 26.51-21.49 48-48 48zm-204.686-98.059l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.248-16.379-6.249-22.628 0L184 302.745l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.25 16.379 6.25 22.628.001z"}}]})(e)}function Pr(e){return ur({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"}}]})(e)}function Or(e){return ur({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"}}]})(e)}function Rr(e){return ur({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"}}]})(e)}function Fr(e){return ur({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"}}]})(e)}function zr(e){return ur({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"}}]})(e)}function Br(e){return ur({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"}}]})(e)}function $r(e){return ur({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zM224 416H64V160h160v256zm224 0H288V160h160v256z"}}]})(e)}function Hr(e){return ur({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 0H64C28.7 0 0 28.7 0 64v288c0 35.3 28.7 64 64 64h96v84c0 9.8 11.2 15.5 19.1 9.7L304 416h144c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64z"}}]})(e)}function Vr(e){return ur({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32z"}}]})(e)}function Ur(e){return ur({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V256H0v176zm192-68c0-6.6 5.4-12 12-12h136c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H204c-6.6 0-12-5.4-12-12v-40zm-128 0c0-6.6 5.4-12 12-12h72c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM576 80v48H0V80c0-26.5 21.5-48 48-48h480c26.5 0 48 21.5 48 48z"}}]})(e)}function Wr(e){return ur({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.61 233.32L278.68 9.39c-12.52-12.52-32.83-12.52-45.36 0L9.39 233.32c-12.52 12.53-12.52 32.83 0 45.36l223.93 223.93c12.52 12.53 32.83 12.53 45.36 0l223.93-223.93c12.52-12.53 12.52-32.83 0-45.36zm-100.98 12.56l-84.21 77.73c-5.12 4.73-13.43 1.1-13.43-5.88V264h-96v64c0 4.42-3.58 8-8 8h-32c-4.42 0-8-3.58-8-8v-80c0-17.67 14.33-32 32-32h112v-53.73c0-6.97 8.3-10.61 13.43-5.88l84.21 77.73c3.43 3.17 3.43 8.59 0 11.76z"}}]})(e)}function Gr(e){return ur({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"}}]})(e)}function qr(e){return ur({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"}}]})(e)}function Yr(e){return ur({tag:"svg",attr:{viewBox:"0 0 192 512"},child:[{tag:"path",attr:{d:"M96 184c39.8 0 72 32.2 72 72s-32.2 72-72 72-72-32.2-72-72 32.2-72 72-72zM24 80c0 39.8 32.2 72 72 72s72-32.2 72-72S135.8 8 96 8 24 40.2 24 80zm0 352c0 39.8 32.2 72 72 72s72-32.2 72-72-32.2-72-72-72-72 32.2-72 72z"}}]})(e)}function Kr(e){return ur({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"}}]})(e)}function Jr(e){return ur({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 168v-16c0-13.255 10.745-24 24-24h360V80c0-21.367 25.899-32.042 40.971-16.971l80 80c9.372 9.373 9.372 24.569 0 33.941l-80 80C409.956 271.982 384 261.456 384 240v-48H24c-13.255 0-24-10.745-24-24zm488 152H128v-48c0-21.314-25.862-32.08-40.971-16.971l-80 80c-9.372 9.373-9.372 24.569 0 33.941l80 80C102.057 463.997 128 453.437 128 432v-48h360c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24z"}}]})(e)}function Xr(e){return ur({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"}}]})(e)}function Zr(e){return ur({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"}}]})(e)}function Qr(e){return ur({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"}}]})(e)}function el(e){return ur({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"}}]})(e)}function tl(e){return ur({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"}}]})(e)}function sl(e){return ur({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm-96 144c0 4.42-3.58 8-8 8h-8c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h8c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8h-8c-26.51 0-48-21.49-48-48v-32c0-26.51 21.49-48 48-48h8c4.42 0 8 3.58 8 8v16zm44.27 104H160c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h12.27c5.95 0 10.41-3.5 10.41-6.62 0-1.3-.75-2.66-2.12-3.84l-21.89-18.77c-8.47-7.22-13.33-17.48-13.33-28.14 0-21.3 19.02-38.62 42.41-38.62H200c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8h-12.27c-5.95 0-10.41 3.5-10.41 6.62 0 1.3.75 2.66 2.12 3.84l21.89 18.77c8.47 7.22 13.33 17.48 13.33 28.14.01 21.29-19 38.62-42.39 38.62zM256 264v20.8c0 20.27 5.7 40.17 16 56.88 10.3-16.7 16-36.61 16-56.88V264c0-4.42 3.58-8 8-8h16c4.42 0 8 3.58 8 8v20.8c0 35.48-12.88 68.89-36.28 94.09-3.02 3.25-7.27 5.11-11.72 5.11s-8.7-1.86-11.72-5.11c-23.4-25.2-36.28-58.61-36.28-94.09V264c0-4.42 3.58-8 8-8h16c4.42 0 8 3.58 8 8zm121-159L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"}}]})(e)}function nl(e){return ur({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm60.1 106.5L224 336l60.1 93.5c5.1 8-.6 18.5-10.1 18.5h-34.9c-4.4 0-8.5-2.4-10.6-6.3C208.9 405.5 192 373 192 373c-6.4 14.8-10 20-36.6 68.8-2.1 3.9-6.1 6.3-10.5 6.3H110c-9.5 0-15.2-10.5-10.1-18.5l60.3-93.5-60.3-93.5c-5.2-8 .6-18.5 10.1-18.5h34.8c4.4 0 8.5 2.4 10.6 6.3 26.1 48.8 20 33.6 36.6 68.5 0 0 6.1-11.7 36.6-68.5 2.1-3.9 6.2-6.3 10.6-6.3H274c9.5-.1 15.2 10.4 10.1 18.4zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"}}]})(e)}function al(e){return ur({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128zM571 308l-95.7-96.4c-10.1-10.1-27.4-3-27.4 11.3V288h-64v64h64v65.2c0 14.3 17.3 21.4 27.4 11.3L571 332c6.6-6.6 6.6-17.4 0-24zm-379 28v-32c0-8.8 7.2-16 16-16h176V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V352H208c-8.8 0-16-7.2-16-16z"}}]})(e)}function il(e){return ur({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M16 288c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h112v-64zm489-183L407.1 7c-4.5-4.5-10.6-7-17-7H384v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-153 31V0H152c-13.3 0-24 10.7-24 24v264h128v-65.2c0-14.3 17.3-21.4 27.4-11.3L379 308c6.6 6.7 6.6 17.4 0 24l-95.7 96.4c-10.1 10.1-27.4 3-27.4-11.3V352H128v136c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H376c-13.2 0-24-10.8-24-24z"}}]})(e)}function rl(e){return ur({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M288 256H96v64h192v-64zm89-151L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-153 31V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM64 72c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8V72zm0 64c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8v-16zm256 304c0 4.42-3.58 8-8 8h-80c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16zm0-200v96c0 8.84-7.16 16-16 16H80c-8.84 0-16-7.16-16-16v-96c0-8.84 7.16-16 16-16h224c8.84 0 16 7.16 16 16z"}}]})(e)}function ll(e){return ur({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z"}}]})(e)}function ol(e){return ur({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"}}]})(e)}function cl(e){return ur({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"}}]})(e)}function dl(e){return ur({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M96 32H32C14.33 32 0 46.33 0 64v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32V64c0-17.67-14.33-32-32-32zm0 160H32c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zm0 160H32c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zM288 32h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32V64c0-17.67-14.33-32-32-32zm0 160h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zm0 160h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32z"}}]})(e)}function ul(e){return ur({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 255.531c.253 136.64-111.18 248.372-247.82 248.468-59.015.042-113.223-20.53-155.822-54.911-11.077-8.94-11.905-25.541-1.839-35.607l11.267-11.267c8.609-8.609 22.353-9.551 31.891-1.984C173.062 425.135 212.781 440 256 440c101.705 0 184-82.311 184-184 0-101.705-82.311-184-184-184-48.814 0-93.149 18.969-126.068 49.932l50.754 50.754c10.08 10.08 2.941 27.314-11.313 27.314H24c-8.837 0-16-7.163-16-16V38.627c0-14.254 17.234-21.393 27.314-11.314l49.372 49.372C129.209 34.136 189.552 8 256 8c136.81 0 247.747 110.78 248 247.531zm-180.912 78.784l9.823-12.63c8.138-10.463 6.253-25.542-4.21-33.679L288 256.349V152c0-13.255-10.745-24-24-24h-16c-13.255 0-24 10.745-24 24v135.651l65.409 50.874c10.463 8.137 25.541 6.253 33.679-4.21z"}}]})(e)}function hl(e){return ur({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"}}]})(e)}function ml(e){return ur({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 32H48C21.5 32 0 53.5 0 80v16h576V80c0-26.5-21.5-48-48-48zM0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V128H0v304zm352-232c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zm0 64c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zm0 64c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zM176 192c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zM67.1 396.2C75.5 370.5 99.6 352 128 352h8.2c12.3 5.1 25.7 8 39.8 8s27.6-2.9 39.8-8h8.2c28.4 0 52.5 18.5 60.9 44.2 3.2 9.9-5.2 19.8-15.6 19.8H82.7c-10.4 0-18.8-10-15.6-19.8z"}}]})(e)}function pl(e){return ur({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M475.115 163.781L336 252.309v-68.28c0-18.916-20.931-30.399-36.885-20.248L160 252.309V56c0-13.255-10.745-24-24-24H24C10.745 32 0 42.745 0 56v400c0 13.255 10.745 24 24 24h464c13.255 0 24-10.745 24-24V184.029c0-18.917-20.931-30.399-36.885-20.248z"}}]})(e)}function xl(e){return ur({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"}}]})(e)}function fl(e){return ur({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 176.001C512 273.203 433.202 352 336 352c-11.22 0-22.19-1.062-32.827-3.069l-24.012 27.014A23.999 23.999 0 0 1 261.223 384H224v40c0 13.255-10.745 24-24 24h-40v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24v-78.059c0-6.365 2.529-12.47 7.029-16.971l161.802-161.802C163.108 213.814 160 195.271 160 176 160 78.798 238.797.001 335.999 0 433.488-.001 512 78.511 512 176.001zM336 128c0 26.51 21.49 48 48 48s48-21.49 48-48-21.49-48-48-48-48 21.49-48 48z"}}]})(e)}function gl(e){return ur({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M96.06 454.35c.01 6.29 1.87 12.45 5.36 17.69l17.09 25.69a31.99 31.99 0 0 0 26.64 14.28h61.71a31.99 31.99 0 0 0 26.64-14.28l17.09-25.69a31.989 31.989 0 0 0 5.36-17.69l.04-38.35H96.01l.05 38.35zM0 176c0 44.37 16.45 84.85 43.56 115.78 16.52 18.85 42.36 58.23 52.21 91.45.04.26.07.52.11.78h160.24c.04-.26.07-.51.11-.78 9.85-33.22 35.69-72.6 52.21-91.45C335.55 260.85 352 220.37 352 176 352 78.61 272.91-.3 175.45 0 73.44.31 0 82.97 0 176zm176-80c-44.11 0-80 35.89-80 80 0 8.84-7.16 16-16 16s-16-7.16-16-16c0-61.76 50.24-112 112-112 8.84 0 16 7.16 16 16s-7.16 16-16 16z"}}]})(e)}function vl(e){return ur({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 480H48c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v352c0 26.51-21.49 48-48 48zM128 120c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm0 96c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm0 96c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm288-136v-32c0-6.627-5.373-12-12-12H204c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h200c6.627 0 12-5.373 12-12zm0 96v-32c0-6.627-5.373-12-12-12H204c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h200c6.627 0 12-5.373 12-12zm0 96v-32c0-6.627-5.373-12-12-12H204c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h200c6.627 0 12-5.373 12-12z"}}]})(e)}function jl(e){return ur({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M48 48a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm448 16H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"}}]})(e)}function bl(e){return ur({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"}}]})(e)}function yl(e){return ur({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M160 448c-25.6 0-51.2-22.4-64-32-64-44.8-83.2-60.8-96-70.4V480c0 17.67 14.33 32 32 32h256c17.67 0 32-14.33 32-32V345.6c-12.8 9.6-32 25.6-96 70.4-12.8 9.6-38.4 32-64 32zm128-192H32c-17.67 0-32 14.33-32 32v16c25.6 19.2 22.4 19.2 115.2 86.4 9.6 6.4 28.8 25.6 44.8 25.6s35.2-19.2 44.8-22.4c92.8-67.2 89.6-67.2 115.2-86.4V288c0-17.67-14.33-32-32-32zm256-96H224c-17.67 0-32 14.33-32 32v32h96c33.21 0 60.59 25.42 63.71 57.82l.29-.22V416h192c17.67 0 32-14.33 32-32V192c0-17.67-14.33-32-32-32zm-32 128h-64v-64h64v64zm-352-96c0-35.29 28.71-64 64-64h224V32c0-17.67-14.33-32-32-32H96C78.33 0 64 14.33 64 32v192h96v-32z"}}]})(e)}function wl(e){return ur({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 0c-69.59 0-126 56.41-126 126 0 56.26 82.35 158.8 113.9 196.02 6.39 7.54 17.82 7.54 24.2 0C331.65 284.8 414 182.26 414 126 414 56.41 357.59 0 288 0zm0 168c-23.2 0-42-18.8-42-42s18.8-42 42-42 42 18.8 42 42-18.8 42-42 42zM20.12 215.95A32.006 32.006 0 0 0 0 245.66v250.32c0 11.32 11.43 19.06 21.94 14.86L160 448V214.92c-8.84-15.98-16.07-31.54-21.25-46.42L20.12 215.95zM288 359.67c-14.07 0-27.38-6.18-36.51-16.96-19.66-23.2-40.57-49.62-59.49-76.72v182l192 64V266c-18.92 27.09-39.82 53.52-59.49 76.72-9.13 10.77-22.44 16.95-36.51 16.95zm266.06-198.51L416 224v288l139.88-55.95A31.996 31.996 0 0 0 576 426.34V176.02c0-11.32-11.43-19.06-21.94-14.86z"}}]})(e)}function Nl(e){return ur({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 0c-69.59 0-126 56.41-126 126 0 56.26 82.35 158.8 113.9 196.02 6.39 7.54 17.82 7.54 24.2 0C331.65 284.8 414 182.26 414 126 414 56.41 357.59 0 288 0zM20.12 215.95A32.006 32.006 0 0 0 0 245.66v250.32c0 11.32 11.43 19.06 21.94 14.86L160 448V214.92c-8.84-15.98-16.07-31.54-21.25-46.42L20.12 215.95zM288 359.67c-14.07 0-27.38-6.18-36.51-16.96-19.66-23.2-40.57-49.62-59.49-76.72v182l192 64V266c-18.92 27.09-39.82 53.52-59.49 76.72-9.13 10.77-22.44 16.95-36.51 16.95zm266.06-198.51L416 224v288l139.88-55.95A31.996 31.996 0 0 0 576 426.34V176.02c0-11.32-11.43-19.06-21.94-14.86z"}}]})(e)}function Cl(e){return ur({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"}}]})(e)}function Sl(e){return ur({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"}}]})(e)}function kl(e){return ur({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M272 0H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h224c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zM160 480c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"}}]})(e)}function Dl(e){return ur({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M352 288h-16v-88c0-4.42-3.58-8-8-8h-13.58c-4.74 0-9.37 1.4-13.31 4.03l-15.33 10.22a7.994 7.994 0 0 0-2.22 11.09l8.88 13.31a7.994 7.994 0 0 0 11.09 2.22l.47-.31V288h-16c-4.42 0-8 3.58-8 8v16c0 4.42 3.58 8 8 8h64c4.42 0 8-3.58 8-8v-16c0-4.42-3.58-8-8-8zM608 64H32C14.33 64 0 78.33 0 96v320c0 17.67 14.33 32 32 32h576c17.67 0 32-14.33 32-32V96c0-17.67-14.33-32-32-32zM48 400v-64c35.35 0 64 28.65 64 64H48zm0-224v-64h64c0 35.35-28.65 64-64 64zm272 192c-53.02 0-96-50.15-96-112 0-61.86 42.98-112 96-112s96 50.14 96 112c0 61.87-43 112-96 112zm272 32h-64c0-35.35 28.65-64 64-64v64zm0-224c-35.35 0-64-28.65-64-64h64v64z"}}]})(e)}function _l(e){return ur({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"}}]})(e)}function Al(e){return ur({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M608 64H32C14.33 64 0 78.33 0 96v320c0 17.67 14.33 32 32 32h576c17.67 0 32-14.33 32-32V96c0-17.67-14.33-32-32-32zM48 400v-64c35.35 0 64 28.65 64 64H48zm0-224v-64h64c0 35.35-28.65 64-64 64zm272 176c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 48h-64c0-35.35 28.65-64 64-64v64zm0-224c-35.35 0-64-28.65-64-64h64v64z"}}]})(e)}function Tl(e){return ur({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 40c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm96 304c0 4.4-3.6 8-8 8h-56v56c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8v-56h-56c-4.4 0-8-3.6-8-8v-48c0-4.4 3.6-8 8-8h56v-56c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v56h56c4.4 0 8 3.6 8 8v48zm0-192c0 4.4-3.6 8-8 8H104c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h176c4.4 0 8 3.6 8 8v16z"}}]})(e)}function El(e){return ur({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M43.246 466.142c-58.43-60.289-57.341-157.511 1.386-217.581L254.392 34c44.316-45.332 116.351-45.336 160.671 0 43.89 44.894 43.943 117.329 0 162.276L232.214 383.128c-29.855 30.537-78.633 30.111-107.982-.998-28.275-29.97-27.368-77.473 1.452-106.953l143.743-146.835c6.182-6.314 16.312-6.422 22.626-.241l22.861 22.379c6.315 6.182 6.422 16.312.241 22.626L171.427 319.927c-4.932 5.045-5.236 13.428-.648 18.292 4.372 4.634 11.245 4.711 15.688.165l182.849-186.851c19.613-20.062 19.613-52.725-.011-72.798-19.189-19.627-49.957-19.637-69.154 0L90.39 293.295c-34.763 35.56-35.299 93.12-1.191 128.313 34.01 35.093 88.985 35.137 123.058.286l172.06-175.999c6.177-6.319 16.307-6.433 22.626-.256l22.877 22.364c6.319 6.177 6.434 16.307.256 22.626l-172.06 175.998c-59.576 60.938-155.943 60.216-214.77-.485z"}}]})(e)}function Ll(e){return ur({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"}}]})(e)}function Ml(e){return ur({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.39 361.8l-112-48a24 24 0 0 0-28 6.9l-49.6 60.6A370.66 370.66 0 0 1 130.6 204.11l60.6-49.6a23.94 23.94 0 0 0 6.9-28l-48-112A24.16 24.16 0 0 0 122.6.61l-104 24A24 24 0 0 0 0 48c0 256.5 207.9 464 464 464a24 24 0 0 0 23.4-18.6l24-104a24.29 24.29 0 0 0-14.01-27.6z"}}]})(e)}function Il(e){return ur({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M97.333 506.966c-129.874-129.874-129.681-340.252 0-469.933 5.698-5.698 14.527-6.632 21.263-2.422l64.817 40.513a17.187 17.187 0 0 1 6.849 20.958l-32.408 81.021a17.188 17.188 0 0 1-17.669 10.719l-55.81-5.58c-21.051 58.261-20.612 122.471 0 179.515l55.811-5.581a17.188 17.188 0 0 1 17.669 10.719l32.408 81.022a17.188 17.188 0 0 1-6.849 20.958l-64.817 40.513a17.19 17.19 0 0 1-21.264-2.422zM247.126 95.473c11.832 20.047 11.832 45.008 0 65.055-3.95 6.693-13.108 7.959-18.718 2.581l-5.975-5.726c-3.911-3.748-4.793-9.622-2.261-14.41a32.063 32.063 0 0 0 0-29.945c-2.533-4.788-1.65-10.662 2.261-14.41l5.975-5.726c5.61-5.378 14.768-4.112 18.718 2.581zm91.787-91.187c60.14 71.604 60.092 175.882 0 247.428-4.474 5.327-12.53 5.746-17.552.933l-5.798-5.557c-4.56-4.371-4.977-11.529-.93-16.379 49.687-59.538 49.646-145.933 0-205.422-4.047-4.85-3.631-12.008.93-16.379l5.798-5.557c5.022-4.813 13.078-4.394 17.552.933zm-45.972 44.941c36.05 46.322 36.108 111.149 0 157.546-4.39 5.641-12.697 6.251-17.856 1.304l-5.818-5.579c-4.4-4.219-4.998-11.095-1.285-15.931 26.536-34.564 26.534-82.572 0-117.134-3.713-4.836-3.115-11.711 1.285-15.931l5.818-5.579c5.159-4.947 13.466-4.337 17.856 1.304z"}}]})(e)}function Pl(e){return ur({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"}}]})(e)}function Ol(e){return ur({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"}}]})(e)}function Rl(e){return ur({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 192V77.25c0-8.49-3.37-16.62-9.37-22.63L393.37 9.37c-6-6-14.14-9.37-22.63-9.37H96C78.33 0 64 14.33 64 32v160c-35.35 0-64 28.65-64 64v112c0 8.84 7.16 16 16 16h48v96c0 17.67 14.33 32 32 32h320c17.67 0 32-14.33 32-32v-96h48c8.84 0 16-7.16 16-16V256c0-35.35-28.65-64-64-64zm-64 256H128v-96h256v96zm0-224H128V64h192v48c0 8.84 7.16 16 16 16h48v96zm48 72c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"}}]})(e)}function Fl(e){return ur({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M358.4 3.2L320 48 265.6 3.2a15.9 15.9 0 0 0-19.2 0L192 48 137.6 3.2a15.9 15.9 0 0 0-19.2 0L64 48 25.6 3.2C15-4.7 0 2.8 0 16v480c0 13.2 15 20.7 25.6 12.8L64 464l54.4 44.8a15.9 15.9 0 0 0 19.2 0L192 464l54.4 44.8a15.9 15.9 0 0 0 19.2 0L320 464l38.4 44.8c10.5 7.9 25.6.4 25.6-12.8V16c0-13.2-15-20.7-25.6-12.8zM320 360c0 4.4-3.6 8-8 8H72c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h240c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H72c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h240c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H72c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h240c4.4 0 8 3.6 8 8v16z"}}]})(e)}function zl(e){return ur({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M500.33 0h-47.41a12 12 0 0 0-12 12.57l4 82.76A247.42 247.42 0 0 0 256 8C119.34 8 7.9 119.53 8 256.19 8.1 393.07 119.1 504 256 504a247.1 247.1 0 0 0 166.18-63.91 12 12 0 0 0 .48-17.43l-34-34a12 12 0 0 0-16.38-.55A176 176 0 1 1 402.1 157.8l-101.53-4.87a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12h200.33a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12z"}}]})(e)}function Bl(e){return ur({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M573.19 402.67l-139.79-320C428.43 71.29 417.6 64 405.68 64h-97.59l2.45 23.16c.5 4.72-3.21 8.84-7.96 8.84h-29.16c-4.75 0-8.46-4.12-7.96-8.84L267.91 64h-97.59c-11.93 0-22.76 7.29-27.73 18.67L2.8 402.67C-6.45 423.86 8.31 448 30.54 448h196.84l10.31-97.68c.86-8.14 7.72-14.32 15.91-14.32h68.8c8.19 0 15.05 6.18 15.91 14.32L348.62 448h196.84c22.23 0 36.99-24.14 27.73-45.33zM260.4 135.16a8 8 0 0 1 7.96-7.16h39.29c4.09 0 7.53 3.09 7.96 7.16l4.6 43.58c.75 7.09-4.81 13.26-11.93 13.26h-40.54c-7.13 0-12.68-6.17-11.93-13.26l4.59-43.58zM315.64 304h-55.29c-9.5 0-16.91-8.23-15.91-17.68l5.07-48c.86-8.14 7.72-14.32 15.91-14.32h45.15c8.19 0 15.05 6.18 15.91 14.32l5.07 48c1 9.45-6.41 17.68-15.91 17.68z"}}]})(e)}function $l(e){return ur({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505.12019,19.09375c-1.18945-5.53125-6.65819-11-12.207-12.1875C460.716,0,435.507,0,410.40747,0,307.17523,0,245.26909,55.20312,199.05238,128H94.83772c-16.34763.01562-35.55658,11.875-42.88664,26.48438L2.51562,253.29688A28.4,28.4,0,0,0,0,264a24.00867,24.00867,0,0,0,24.00582,24H127.81618l-22.47457,22.46875c-11.36521,11.36133-12.99607,32.25781,0,45.25L156.24582,406.625c11.15623,11.1875,32.15619,13.15625,45.27726,0l22.47457-22.46875V488a24.00867,24.00867,0,0,0,24.00581,24,28.55934,28.55934,0,0,0,10.707-2.51562l98.72834-49.39063c14.62888-7.29687,26.50776-26.5,26.50776-42.85937V312.79688c72.59753-46.3125,128.03493-108.40626,128.03493-211.09376C512.07526,76.5,512.07526,51.29688,505.12019,19.09375ZM384.04033,168A40,40,0,1,1,424.05,128,40.02322,40.02322,0,0,1,384.04033,168Z"}}]})(e)}function Hl(e){return ur({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 320h-96c-17.6 0-32-14.4-32-32s14.4-32 32-32h96s96-107 96-160-43-96-96-96-96 43-96 96c0 25.5 22.2 63.4 45.3 96H320c-52.9 0-96 43.1-96 96s43.1 96 96 96h96c17.6 0 32 14.4 32 32s-14.4 32-32 32H185.5c-16 24.8-33.8 47.7-47.3 64H416c52.9 0 96-43.1 96-96s-43.1-96-96-96zm0-256c17.7 0 32 14.3 32 32s-14.3 32-32 32-32-14.3-32-32 14.3-32 32-32zM96 256c-53 0-96 43-96 96s96 160 96 160 96-107 96-160-43-96-96-96zm0 128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"}}]})(e)}function Vl(e){return ur({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"}}]})(e)}function Ul(e){return ur({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"}}]})(e)}function Wl(e){return ur({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"}}]})(e)}function Gl(e){return ur({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 352h-16V243.9c0-12.7-5.1-24.9-14.1-33.9L494 110.1c-9-9-21.2-14.1-33.9-14.1H416V48c0-26.5-21.5-48-48-48H112C85.5 0 64 21.5 64 48v48H8c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h272c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H40c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h208c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H8c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h208c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H64v128c0 53 43 96 96 96s96-43 96-96h128c0 53 43 96 96 96s96-43 96-96h48c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zM160 464c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm320 0c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm80-208H416V144h44.1l99.9 99.9V256z"}}]})(e)}function ql(e){return ur({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 448h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32h-84c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h84c53 0 96 43 96 96v192c0 53-43 96-96 96zm-47-201L201 79c-15-15-41-4.5-41 17v96H24c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24h136v96c0 21.5 26 32 41 17l168-168c9.3-9.4 9.3-24.6 0-34z"}}]})(e)}function Yl(e){return ur({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"}}]})(e)}function Kl(e){return ur({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 416h-64a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm-128-64h-48V48a16 16 0 0 0-16-16H80a16 16 0 0 0-16 16v304H16c-14.19 0-21.37 17.24-11.29 27.31l80 96a16 16 0 0 0 22.62 0l80-96C197.35 369.26 190.22 352 176 352zm256-192H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h192a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm-64 128H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM496 32H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h256a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"}}]})(e)}function Jl(e){return ur({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41zm255-105L177 64c-9.4-9.4-24.6-9.4-33.9 0L24 183c-15.1 15.1-4.4 41 17 41h238c21.4 0 32.1-25.9 17-41z"}}]})(e)}function Xl(e){return ur({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"}}]})(e)}function Zl(e){return ur({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M64 468V44c0-6.6 5.4-12 12-12h48c6.6 0 12 5.4 12 12v176.4l195.5-181C352.1 22.3 384 36.6 384 64v384c0 27.4-31.9 41.7-52.5 24.6L136 292.7V468c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12z"}}]})(e)}function Ql(e){return ur({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M384 44v424c0 6.6-5.4 12-12 12h-48c-6.6 0-12-5.4-12-12V291.6l-195.5 181C95.9 489.7 64 475.4 64 448V64c0-27.4 31.9-41.7 52.5-24.6L312 219.3V44c0-6.6 5.4-12 12-12h48c6.6 0 12 5.4 12 12z"}}]})(e)}function eo(e){return ur({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M312 320h136V56c0-13.3-10.7-24-24-24H24C10.7 32 0 42.7 0 56v400c0 13.3 10.7 24 24 24h264V344c0-13.2 10.8-24 24-24zm129 55l-98 98c-4.5 4.5-10.6 7-17 7h-6V352h128v6.1c0 6.3-2.5 12.4-7 16.9z"}}]})(e)}function to(e){return ur({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M370.72 133.28C339.458 104.008 298.888 87.962 255.848 88c-77.458.068-144.328 53.178-162.791 126.85-1.344 5.363-6.122 9.15-11.651 9.15H24.103c-7.498 0-13.194-6.807-11.807-14.176C33.933 94.924 134.813 8 256 8c66.448 0 126.791 26.136 171.315 68.685L463.03 40.97C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.749zM32 296h134.059c21.382 0 32.09 25.851 16.971 40.971l-41.75 41.75c31.262 29.273 71.835 45.319 114.876 45.28 77.418-.07 144.315-53.144 162.787-126.849 1.344-5.363 6.122-9.15 11.651-9.15h57.304c7.498 0 13.194 6.807 11.807 14.176C478.067 417.076 377.187 504 256 504c-66.448 0-126.791-26.136-171.315-68.685L48.97 471.03C33.851 486.149 8 475.441 8 454.059V320c0-13.255 10.745-24 24-24z"}}]})(e)}function so(e){return ur({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zM224 416H64v-96h160v96zm0-160H64v-96h160v96zm224 160H288v-96h160v96zm0-160H288v-96h160v96z"}}]})(e)}function no(e){return ur({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 32C128.94 32 0 160.94 0 320c0 52.8 14.25 102.26 39.06 144.8 5.61 9.62 16.3 15.2 27.44 15.2h443c11.14 0 21.83-5.58 27.44-15.2C561.75 422.26 576 372.8 576 320c0-159.06-128.94-288-288-288zm0 64c14.71 0 26.58 10.13 30.32 23.65-1.11 2.26-2.64 4.23-3.45 6.67l-9.22 27.67c-5.13 3.49-10.97 6.01-17.64 6.01-17.67 0-32-14.33-32-32S270.33 96 288 96zM96 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm48-160c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm246.77-72.41l-61.33 184C343.13 347.33 352 364.54 352 384c0 11.72-3.38 22.55-8.88 32H232.88c-5.5-9.45-8.88-20.28-8.88-32 0-33.94 26.5-61.43 59.9-63.59l61.34-184.01c4.17-12.56 17.73-19.45 30.36-15.17 12.57 4.19 19.35 17.79 15.17 30.36zm14.66 57.2l15.52-46.55c3.47-1.29 7.13-2.23 11.05-2.23 17.67 0 32 14.33 32 32s-14.33 32-32 32c-11.38-.01-20.89-6.28-26.57-15.22zM480 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"}}]})(e)}function ao(e){return ur({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 0 1 0 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"}}]})(e)}function io(e){return ur({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z"}}]})(e)}function ro(e){return ur({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M139.61 35.5a12 12 0 0 0-17 0L58.93 98.81l-22.7-22.12a12 12 0 0 0-17 0L3.53 92.41a12 12 0 0 0 0 17l47.59 47.4a12.78 12.78 0 0 0 17.61 0l15.59-15.62L156.52 69a12.09 12.09 0 0 0 .09-17zm0 159.19a12 12 0 0 0-17 0l-63.68 63.72-22.7-22.1a12 12 0 0 0-17 0L3.53 252a12 12 0 0 0 0 17L51 316.5a12.77 12.77 0 0 0 17.6 0l15.7-15.69 72.2-72.22a12 12 0 0 0 .09-16.9zM64 368c-26.49 0-48.59 21.5-48.59 48S37.53 464 64 464a48 48 0 0 0 0-96zm432 16H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"}}]})(e)}function lo(e){return ur({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M149.333 56v80c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V56c0-13.255 10.745-24 24-24h101.333c13.255 0 24 10.745 24 24zm181.334 240v-80c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24h101.333c13.256 0 24.001-10.745 24.001-24zm32-240v80c0 13.255 10.745 24 24 24H488c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24H386.667c-13.255 0-24 10.745-24 24zm-32 80V56c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24h101.333c13.256 0 24.001-10.745 24.001-24zm-205.334 56H24c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24zM0 376v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H24c-13.255 0-24 10.745-24 24zm386.667-56H488c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H386.667c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24zm0 160H488c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H386.667c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24zM181.333 376v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24z"}}]})(e)}function oo(e){return ur({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"}}]})(e)}function co(e){return ur({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"}}]})(e)}function uo(e){return ur({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"}}]})(e)}function ho(e){return ur({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.3 237.3l-58.5-58.5c-12-12-28.3-18.7-45.3-18.7H480V64c0-17.7-14.3-32-32-32H32C14.3 32 0 46.3 0 64v336c0 44.2 35.8 80 80 80 26.3 0 49.4-12.9 64-32.4 14.6 19.6 37.7 32.4 64 32.4 44.2 0 80-35.8 80-80 0-5.5-.6-10.8-1.6-16h163.2c-1.1 5.2-1.6 10.5-1.6 16 0 44.2 35.8 80 80 80s80-35.8 80-80c0-5.5-.6-10.8-1.6-16H624c8.8 0 16-7.2 16-16v-85.5c0-17-6.7-33.2-18.7-45.2zM80 432c-17.6 0-32-14.4-32-32s14.4-32 32-32 32 14.4 32 32-14.4 32-32 32zm128 0c-17.6 0-32-14.4-32-32s14.4-32 32-32 32 14.4 32 32-14.4 32-32 32zm272-224h37.5c4.3 0 8.3 1.7 11.3 4.7l43.3 43.3H480v-48zm48 224c-17.6 0-32-14.4-32-32s14.4-32 32-32 32 14.4 32 32-14.4 32-32 32z"}}]})(e)}function mo(e){return ur({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 352h-16V243.9c0-12.7-5.1-24.9-14.1-33.9L494 110.1c-9-9-21.2-14.1-33.9-14.1H416V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48v320c0 26.5 21.5 48 48 48h16c0 53 43 96 96 96s96-43 96-96h128c0 53 43 96 96 96s96-43 96-96h48c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zM160 464c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm320 0c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm80-208H416V144h44.1l99.9 99.9V256z"}}]})(e)}function po(e){return ur({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"}}]})(e)}function xo(e){return ur({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 288c79.5 0 144-64.5 144-144S335.5 0 256 0 112 64.5 112 144s64.5 144 144 144zm128 32h-55.1c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16H128C57.3 320 0 377.3 0 448v16c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48v-16c0-70.7-57.3-128-128-128z"}}]})(e)}function fo(e){return ur({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"}}]})(e)}function go(e){return ur({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z"}}]})(e)}function vo(e){return ur({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M224 256A128 128 0 1 0 96 128a128 128 0 0 0 128 128zm96 64a63.08 63.08 0 0 1 8.1-30.5c-4.8-.5-9.5-1.5-14.5-1.5h-16.7a174.08 174.08 0 0 1-145.8 0h-16.7A134.43 134.43 0 0 0 0 422.4V464a48 48 0 0 0 48 48h280.9a63.54 63.54 0 0 1-8.9-32zm288-32h-32v-80a80 80 0 0 0-160 0v80h-32a32 32 0 0 0-32 32v160a32 32 0 0 0 32 32h224a32 32 0 0 0 32-32V320a32 32 0 0 0-32-32zM496 432a32 32 0 1 1 32-32 32 32 0 0 1-32 32zm32-144h-64v-80a32 32 0 0 1 64 0z"}}]})(e)}function jo(e){return ur({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(e)}function bo(e){return ur({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm95.8 32.6L272 480l-32-136 32-56h-96l32 56-32 136-47.8-191.4C56.9 292 0 350.3 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-72.1-56.9-130.4-128.2-133.8z"}}]})(e)}function yo(e){return ur({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(e)}function wo(e){return ur({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"}}]})(e)}function No(e){return ur({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M461.2 128H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h384c8.84 0 16-7.16 16-16 0-26.51-21.49-48-48-48H64C28.65 32 0 60.65 0 96v320c0 35.35 28.65 64 64 64h397.2c28.02 0 50.8-21.53 50.8-48V176c0-26.47-22.78-48-50.8-48zM416 336c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"}}]})(e)}function Co(e){return ur({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5 0-200-89.5-200-200S145.5 56 256 56s200 89.5 200 200-89.5 200-200 200z"}}]})(e)}function So(e){return ur({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 144c-53.02 0-96 50.14-96 112 0 61.85 42.98 112 96 112 53 0 96-50.13 96-112 0-61.86-42.98-112-96-112zm40 168c0 4.42-3.58 8-8 8h-64c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h16v-55.44l-.47.31a7.992 7.992 0 0 1-11.09-2.22l-8.88-13.31a7.992 7.992 0 0 1 2.22-11.09l15.33-10.22a23.99 23.99 0 0 1 13.31-4.03H328c4.42 0 8 3.58 8 8v88h16c4.42 0 8 3.58 8 8v16zM608 64H32C14.33 64 0 78.33 0 96v320c0 17.67 14.33 32 32 32h576c17.67 0 32-14.33 32-32V96c0-17.67-14.33-32-32-32zm-16 272c-35.35 0-64 28.65-64 64H112c0-35.35-28.65-64-64-64V176c35.35 0 64-28.65 64-64h416c0 35.35 28.65 64 64 64v160z"}}]})(e)}const ko=()=>{ee();const[e,t]=(0,a.useState)({email:"",password:""}),[s,n]=(0,a.useState)(!1),[i,r]=(0,a.useState)(""),{email:l,password:o}=e,c=s=>{t({...e,[s.target.name]:s.target.value})};return(0,sn.jsx)(jn,{className:"py-5",children:(0,sn.jsx)(yn,{className:"justify-content-center",children:(0,sn.jsxs)(Nn,{md:8,lg:6,xl:5,children:[(0,sn.jsxs)("div",{className:"text-center mb-4",children:[(0,sn.jsx)("h1",{className:"h2",children:"Areti Alliance"}),(0,sn.jsx)("p",{className:"text-muted",children:"Dashboard Login"})]}),(0,sn.jsx)(Yn,{className:"shadow border-0",children:(0,sn.jsxs)(Yn.Body,{className:"p-4",children:[(0,sn.jsx)("h2",{className:"h4 mb-4 text-center",children:"Sign In"}),i&&(0,sn.jsx)(gi,{variant:"danger",className:"mb-4",children:i}),(0,sn.jsxs)(Xi,{onSubmit:async e=>{e.preventDefault(),n(!0),r(null);try{console.log("Login attempt with:",l);const e=await(async(e,t)=>{try{console.log("Attempting login with:",e);const s=await Zs.post("/auth/login",{email:e,password:t});if(s.data&&s.data.token)return localStorage.setItem("token",s.data.token),localStorage.setItem("user",JSON.stringify(s.data.user||{})),localStorage.setItem("app:auth",JSON.stringify({token:s.data.token,user:s.data.user||{}})),console.log("Auth data stored successfully"),s.data;throw new Error("Login response missing token or success flag")}catch(i){var s,n;throw console.error("Login error:",i),(null===(s=i.response)||void 0===s||null===(n=s.data)||void 0===n?void 0:n.message)||"Login failed"}})(l,o);if(console.log("Login successful, response:",e),console.log("DEBUG: Checking localStorage after login"),console.log("token:",localStorage.getItem("token")),console.log("user:",localStorage.getItem("user")),localStorage.getItem("token")){const e=localStorage.getItem("token"),t=localStorage.getItem("user"),s={token:e,user:t?JSON.parse(t):{}};localStorage.setItem("app:auth",JSON.stringify(s))}console.log("Navigating to dashboard..."),window.location.href="/dashboard"}catch(t){console.error("Login error:",t),r("string"===typeof t?t:"Invalid credentials. Please try again.")}finally{n(!1)}},children:[(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Email Address"}),(0,sn.jsxs)(nr,{children:[(0,sn.jsx)(nr.Text,{children:(0,sn.jsx)(Kr,{})}),(0,sn.jsx)(Xi.Control,{type:"email",name:"email",value:l,onChange:c,placeholder:"Enter your email",required:!0})]})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-4",children:[(0,sn.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,sn.jsx)(Xi.Label,{children:"Password"}),(0,sn.jsx)(Le,{to:"/forgot-password",className:"small text-decoration-none",children:"Forgot Password?"})]}),(0,sn.jsxs)(nr,{children:[(0,sn.jsx)(nr.Text,{children:(0,sn.jsx)(bl,{})}),(0,sn.jsx)(Xi.Control,{type:"password",name:"password",value:o,onChange:c,placeholder:"Enter your password",required:!0})]})]}),(0,sn.jsx)(ir,{variant:"primary",type:"submit",className:"w-100 mb-3",disabled:s,children:s?(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Signing in..."]}):(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(ql,{className:"me-2"})," Sign In"]})}),(0,sn.jsx)("div",{className:"text-center mt-4",children:(0,sn.jsxs)("p",{className:"text-muted mb-0",children:["Need support? ",(0,sn.jsx)("a",{href:"mailto:support@aretialliance.com",children:"Contact Support"})]})})]})]})}),(0,sn.jsx)("div",{className:"text-center mt-4",children:(0,sn.jsxs)("p",{className:"text-muted mb-0",children:["\xa9 ",(new Date).getFullYear()," Areti Alliance. All rights reserved."]})})]})})})};var Do=Function.prototype.bind.call(Function.prototype.call,[].slice);function _o(e,t){return Do(e.querySelectorAll(t))}function Ao(){const[,e]=(0,a.useReducer)((e=>e+1),0);return e}const To=e=>e&&"function"!==typeof e?t=>{e.current=t}:e;const Eo=function(e,t){return(0,a.useMemo)((()=>function(e,t){const s=To(e),n=To(t);return e=>{s&&s(e),n&&n(e)}}(e,t)),[e,t])},Lo=a.createContext(null);Lo.displayName="NavContext";const Mo=Lo,Io=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},Po=a.createContext(null),Oo=a.createContext(null);function Ro(e){return`data-rr-ui-${e}`}const Fo=["as","active","eventKey"];function zo(e){let{key:t,onClick:s,active:n,id:i,role:r,disabled:l}=e;const o=(0,a.useContext)(Po),c=(0,a.useContext)(Mo),d=(0,a.useContext)(Oo);let u=n;const h={role:r};if(c){r||"tablist"!==c.role||(h.role="tab");const e=c.getControllerId(null!=t?t:null),s=c.getControlledId(null!=t?t:null);h[Ro("event-key")]=t,h.id=e||i,u=null==n&&null!=t?c.activeKey===t:n,!u&&(null!=d&&d.unmountOnExit||null!=d&&d.mountOnEnter)||(h["aria-controls"]=s)}return"tab"===h.role&&(h["aria-selected"]=u,u||(h.tabIndex=-1),l&&(h.tabIndex=-1,h["aria-disabled"]=!0)),h.onClick=ua((e=>{l||(null==s||s(e),null!=t&&o&&!e.isPropagationStopped()&&o(t,e))})),[h,{isActive:u}]}const Bo=a.forwardRef(((e,t)=>{let{as:s=ja,active:n,eventKey:a}=e,i=function(e,t){if(null==e)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;s[n]=e[n]}return s}(e,Fo);const[r,l]=zo(Object.assign({key:Io(a,i.href),active:n},i));return r[Ro("active")]=l.isActive,(0,sn.jsx)(s,Object.assign({},i,r,{ref:t}))}));Bo.displayName="NavItem";const $o=Bo,Ho=["as","onSelect","activeKey","role","onKeyDown"];const Vo=()=>{},Uo=Ro("event-key"),Wo=a.forwardRef(((e,t)=>{let{as:s="div",onSelect:n,activeKey:i,role:r,onKeyDown:l}=e,o=function(e,t){if(null==e)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;s[n]=e[n]}return s}(e,Ho);const c=Ao(),d=(0,a.useRef)(!1),u=(0,a.useContext)(Po),h=(0,a.useContext)(Oo);let m,p;h&&(r=r||"tablist",i=h.activeKey,m=h.getControlledId,p=h.getControllerId);const x=(0,a.useRef)(null),f=e=>{const t=x.current;if(!t)return null;const s=_o(t,`[${Uo}]:not([aria-disabled=true])`),n=t.querySelector("[aria-selected=true]");if(!n||n!==document.activeElement)return null;const a=s.indexOf(n);if(-1===a)return null;let i=a+e;return i>=s.length&&(i=0),i<0&&(i=s.length-1),s[i]},g=(e,t)=>{null!=e&&(null==n||n(e,t),null==u||u(e,t))};(0,a.useEffect)((()=>{if(x.current&&d.current){const e=x.current.querySelector(`[${Uo}][aria-selected=true]`);null==e||e.focus()}d.current=!1}));const v=Eo(t,x);return(0,sn.jsx)(Po.Provider,{value:g,children:(0,sn.jsx)(Mo.Provider,{value:{role:r,activeKey:Io(i),getControlledId:m||Vo,getControllerId:p||Vo},children:(0,sn.jsx)(s,Object.assign({},o,{onKeyDown:e=>{if(null==l||l(e),!h)return;let t;switch(e.key){case"ArrowLeft":case"ArrowUp":t=f(-1);break;case"ArrowRight":case"ArrowDown":t=f(1);break;default:return}var s;t&&(e.preventDefault(),g(t.dataset[(s="EventKey",`rrUi${s}`)]||null,e),d.current=!0,c())},ref:v,role:r}))})})}));Wo.displayName="Nav";const Go=Object.assign(Wo,{Item:$o}),qo=a.createContext(null);qo.displayName="NavbarContext";const Yo=qo,Ko=a.forwardRef(((e,t)=>{let{className:s,bsPrefix:n,as:a="div",...i}=e;return n=pn(n,"nav-item"),(0,sn.jsx)(a,{ref:t,className:on()(s,n),...i})}));Ko.displayName="NavItem";const Jo=Ko,Xo=a.forwardRef(((e,t)=>{let{bsPrefix:s,className:n,as:a=wa,active:i,eventKey:r,disabled:l=!1,...o}=e;s=pn(s,"nav-link");const[c,d]=zo({key:Io(r,o.href),active:i,disabled:l,...o});return(0,sn.jsx)(a,{...o,...c,ref:t,disabled:l,className:on()(n,s,l&&"disabled",d.isActive&&"active")})}));Xo.displayName="NavLink";const Zo=Xo,Qo=a.forwardRef(((e,t)=>{const{as:s="div",bsPrefix:n,variant:i,fill:r=!1,justify:l=!1,navbar:o,navbarScroll:c,className:d,activeKey:u,...h}=ea(e,{activeKey:"onSelect"}),m=pn(n,"nav");let p,x,f=!1;const g=(0,a.useContext)(Yo),v=(0,a.useContext)(An);return g?(p=g.bsPrefix,f=null==o||o):v&&({cardHeaderBsPrefix:x}=v),(0,sn.jsx)(Go,{as:s,ref:t,activeKey:u,className:on()(d,{[m]:!f,[`${p}-nav`]:f,[`${p}-nav-scroll`]:f&&c,[`${x}-${i}`]:!!x,[`${m}-${i}`]:!!i,[`${m}-fill`]:r,[`${m}-justified`]:l}),...h})}));Qo.displayName="Nav";const ec=Object.assign(Qo,{Item:Jo,Link:Zo}),tc=a.forwardRef(((e,t)=>{let{bsPrefix:s,className:n,as:a,...i}=e;s=pn(s,"navbar-brand");const r=a||(i.href?"a":"span");return(0,sn.jsx)(r,{...i,ref:t,className:on()(n,s)})}));tc.displayName="NavbarBrand";const sc=tc;const nc=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e=>null!=e)).reduce(((e,t)=>{if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var s=arguments.length,n=new Array(s),a=0;a<s;a++)n[a]=arguments[a];e.apply(this,n),t.apply(this,n)}}),null)},ac={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function ic(e,t){const s=t[`offset${e[0].toUpperCase()}${e.slice(1)}`],n=ac[e];return s+parseInt(Ua(t,n[0]),10)+parseInt(Ua(t,n[1]),10)}const rc={[Aa]:"collapse",[La]:"collapsing",[Ta]:"collapsing",[Ea]:"collapse show"},lc=a.forwardRef(((e,t)=>{let{onEnter:s,onEntering:n,onEntered:i,onExit:r,onExiting:l,className:o,children:c,dimension:d="height",in:u=!1,timeout:h=300,mountOnEnter:m=!1,unmountOnExit:p=!1,appear:x=!1,getDimensionValue:f=ic,...g}=e;const v="function"===typeof d?d():d,j=(0,a.useMemo)((()=>nc((e=>{e.style[v]="0"}),s)),[v,s]),b=(0,a.useMemo)((()=>nc((e=>{const t=`scroll${v[0].toUpperCase()}${v.slice(1)}`;e.style[v]=`${e[t]}px`}),n)),[v,n]),y=(0,a.useMemo)((()=>nc((e=>{e.style[v]=null}),i)),[v,i]),w=(0,a.useMemo)((()=>nc((e=>{e.style[v]=`${f(v,e)}px`,si(e)}),r)),[r,f,v]),N=(0,a.useMemo)((()=>nc((e=>{e.style[v]=null}),l)),[v,l]);return(0,sn.jsx)(li,{ref:t,addEndListener:ti,...g,"aria-expanded":g.role?u:null,onEnter:j,onEntering:b,onEntered:y,onExit:w,onExiting:N,childRef:Ra(c),in:u,timeout:h,mountOnEnter:m,unmountOnExit:p,appear:x,children:(e,t)=>a.cloneElement(c,{...t,className:on()(o,c.props.className,rc[e],"width"===v&&"collapse-horizontal")})})})),oc=a.forwardRef(((e,t)=>{let{children:s,bsPrefix:n,...i}=e;n=pn(n,"navbar-collapse");const r=(0,a.useContext)(Yo);return(0,sn.jsx)(lc,{in:!(!r||!r.expanded),...i,children:(0,sn.jsx)("div",{ref:t,className:n,children:s})})}));oc.displayName="NavbarCollapse";const cc=oc,dc=a.forwardRef(((e,t)=>{let{bsPrefix:s,className:n,children:i,label:r="Toggle navigation",as:l="button",onClick:o,...c}=e;s=pn(s,"navbar-toggler");const{onToggle:d,expanded:u}=(0,a.useContext)(Yo)||{},h=ia((e=>{o&&o(e),d&&d()}));return"button"===l&&(c.type="button"),(0,sn.jsx)(l,{...c,ref:t,onClick:h,"aria-label":r,className:on()(n,s,!u&&"collapsed"),children:i||(0,sn.jsx)("span",{className:`${s}-icon`})})}));dc.displayName="NavbarToggle";const uc=dc,hc="undefined"!==typeof s.g&&s.g.navigator&&"ReactNative"===s.g.navigator.product,mc="undefined"!==typeof document||hc?a.useLayoutEffect:a.useEffect,pc=new WeakMap,xc=(e,t)=>{if(!e||!t)return;const s=pc.get(t)||new Map;pc.set(t,s);let n=s.get(e);return n||(n=t.matchMedia(e),n.refCount=0,s.set(n.media,n)),n};function fc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"undefined"===typeof window?void 0:window;const s=xc(e,t),[n,i]=(0,a.useState)((()=>!!s&&s.matches));return mc((()=>{let s=xc(e,t);if(!s)return i(!1);let n=pc.get(t);const a=()=>{i(s.matches)};return s.refCount++,s.addListener(a),a(),()=>{s.removeListener(a),s.refCount--,s.refCount<=0&&(null==n||n.delete(s.media)),s=void 0}}),[e]),n}const gc=function(e){const t=Object.keys(e);function s(e,t){return e===t?t:e?`${e} and ${t}`:t}function n(s){const n=function(e){return t[Math.min(t.indexOf(e)+1,t.length-1)]}(s);let a=e[n];return a="number"===typeof a?a-.2+"px":`calc(${a} - 0.2px)`,`(max-width: ${a})`}return function(t,i,r){let l;return"object"===typeof t?(l=t,r=i,i=!0):(i=i||!0,l={[t]:i}),fc((0,a.useMemo)((()=>Object.entries(l).reduce(((t,a)=>{let[i,r]=a;return"up"!==r&&!0!==r||(t=s(t,function(t){let s=e[t];return"number"===typeof s&&(s=`${s}px`),`(min-width: ${s})`}(i))),"down"!==r&&!0!==r||(t=s(t,n(i))),t}),"")),[JSON.stringify(l)]),r)}}({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),vc=gc;function jc(e){void 0===e&&(e=Fa());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(ok){return e.body}}function bc(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function yc(e){const t=function(e){const t=(0,a.useRef)(e);return t.current=e,t}(e);(0,a.useEffect)((()=>()=>t.current()),[])}const wc=Ro("modal-open");const Nc=class{constructor(){let{ownerDocument:e,handleContainerOverflow:t=!0,isRTL:s=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.handleContainerOverflow=t,this.isRTL=s,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},s=this.isRTL?"paddingLeft":"paddingRight",n=this.getElement();e.style={overflow:n.style.overflow,[s]:n.style[s]},e.scrollBarWidth&&(t[s]=`${parseInt(Ua(n,s)||"0",10)+e.scrollBarWidth}px`),n.setAttribute(wc,""),Ua(n,t)}reset(){[...this.modals].forEach((e=>this.remove(e)))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(wc),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}remove(e){const t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}},Cc=(0,a.createContext)(Wa?window:void 0);Cc.Provider;function Sc(){return(0,a.useContext)(Cc)}const kc=(e,t)=>Wa?null==e?(t||Fa()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;function Dc(e,t){const s=Sc(),[n,i]=(0,a.useState)((()=>kc(e,null==s?void 0:s.document)));if(!n){const t=kc(e);t&&i(t)}return(0,a.useEffect)((()=>{t&&n&&t(n)}),[t,n]),(0,a.useEffect)((()=>{const t=kc(e);t!==n&&i(t)}),[e,n]),n}const _c=function(e){let{children:t,in:s,onExited:n,mountOnEnter:i,unmountOnExit:r}=e;const l=(0,a.useRef)(null),o=(0,a.useRef)(s),c=ua(n);(0,a.useEffect)((()=>{s?o.current=!0:c(l.current)}),[s,c]);const d=Eo(l,Ra(t)),u=(0,a.cloneElement)(t,{ref:d});return s?u:r||!o.current&&i?null:u},Ac=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];const Tc=["component"];const Ec=a.forwardRef(((e,t)=>{let{component:s}=e;const n=function(e){let{onEnter:t,onEntering:s,onEntered:n,onExit:i,onExiting:r,onExited:l,addEndListener:o,children:c}=e,d=function(e,t){if(null==e)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;s[n]=e[n]}return s}(e,Ac);const u=(0,a.useRef)(null),h=Eo(u,Ra(c)),m=e=>t=>{e&&u.current&&e(u.current,t)},p=(0,a.useCallback)(m(t),[t]),x=(0,a.useCallback)(m(s),[s]),f=(0,a.useCallback)(m(n),[n]),g=(0,a.useCallback)(m(i),[i]),v=(0,a.useCallback)(m(r),[r]),j=(0,a.useCallback)(m(l),[l]),b=(0,a.useCallback)(m(o),[o]);return Object.assign({},d,{nodeRef:u},t&&{onEnter:p},s&&{onEntering:x},n&&{onEntered:f},i&&{onExit:g},r&&{onExiting:v},l&&{onExited:j},o&&{addEndListener:b},{children:"function"===typeof c?(e,t)=>c(e,Object.assign({},t,{ref:h})):(0,a.cloneElement)(c,{ref:h})})}(function(e,t){if(null==e)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;s[n]=e[n]}return s}(e,Tc));return(0,sn.jsx)(s,Object.assign({ref:t},n))})),Lc=Ec;function Mc(e){let{children:t,in:s,onExited:n,onEntered:i,transition:r}=e;const[l,o]=(0,a.useState)(!s);s&&l&&o(!1);const c=function(e){let{in:t,onTransition:s}=e;const n=(0,a.useRef)(null),i=(0,a.useRef)(!0),r=ua(s);return xa((()=>{if(!n.current)return;let e=!1;return r({in:t,element:n.current,initial:i.current,isStale:()=>e}),()=>{e=!0}}),[t,r]),xa((()=>(i.current=!1,()=>{i.current=!0})),[]),n}({in:!!s,onTransition:e=>{Promise.resolve(r(e)).then((()=>{e.isStale()||(e.in?null==i||i(e.element,e.initial):(o(!0),null==n||n(e.element)))}),(t=>{throw e.in||o(!0),t}))}}),d=Eo(c,Ra(t));return l&&!s?null:(0,a.cloneElement)(t,{ref:d})}function Ic(e,t,s){return e?(0,sn.jsx)(Lc,Object.assign({},s,{component:e})):t?(0,sn.jsx)(Mc,Object.assign({},s,{transition:t})):(0,sn.jsx)(_c,Object.assign({},s))}const Pc=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];let Oc;function Rc(e){const t=Sc(),s=e||function(e){return Oc||(Oc=new Nc({ownerDocument:null==e?void 0:e.document})),Oc}(t),n=(0,a.useRef)({dialog:null,backdrop:null});return Object.assign(n.current,{add:()=>s.add(n.current),remove:()=>s.remove(n.current),isTopModal:()=>s.isTopModal(n.current),setDialogRef:(0,a.useCallback)((e=>{n.current.dialog=e}),[]),setBackdropRef:(0,a.useCallback)((e=>{n.current.backdrop=e}),[])})}const Fc=(0,a.forwardRef)(((e,t)=>{let{show:s=!1,role:n="dialog",className:i,style:r,children:l,backdrop:o=!0,keyboard:c=!0,onBackdropClick:d,onEscapeKeyDown:u,transition:h,runTransition:m,backdropTransition:p,runBackdropTransition:x,autoFocus:f=!0,enforceFocus:g=!0,restoreFocus:v=!0,restoreFocusOptions:j,renderDialog:b,renderBackdrop:y=e=>(0,sn.jsx)("div",Object.assign({},e)),manager:w,container:N,onShow:C,onHide:S=()=>{},onExit:k,onExited:D,onExiting:_,onEnter:A,onEntering:T,onEntered:E}=e,L=function(e,t){if(null==e)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;s[n]=e[n]}return s}(e,Pc);const M=Sc(),I=Dc(N),P=Rc(w),O=ha(),R=ma(s),[F,z]=(0,a.useState)(!s),B=(0,a.useRef)(null);(0,a.useImperativeHandle)(t,(()=>P),[P]),Wa&&!R&&s&&(B.current=jc(null==M?void 0:M.document)),s&&F&&z(!1);const $=ua((()=>{if(P.add(),q.current=Xa(document,"keydown",W),G.current=Xa(document,"focus",(()=>setTimeout(V)),!0),C&&C(),f){var e,t;const s=jc(null!=(e=null==(t=P.dialog)?void 0:t.ownerDocument)?e:null==M?void 0:M.document);P.dialog&&s&&!bc(P.dialog,s)&&(B.current=s,P.dialog.focus())}})),H=ua((()=>{var e;(P.remove(),null==q.current||q.current(),null==G.current||G.current(),v)&&(null==(e=B.current)||null==e.focus||e.focus(j),B.current=null)}));(0,a.useEffect)((()=>{s&&I&&$()}),[s,I,$]),(0,a.useEffect)((()=>{F&&H()}),[F,H]),yc((()=>{H()}));const V=ua((()=>{if(!g||!O()||!P.isTopModal())return;const e=jc(null==M?void 0:M.document);P.dialog&&e&&!bc(P.dialog,e)&&P.dialog.focus()})),U=ua((e=>{e.target===e.currentTarget&&(null==d||d(e),!0===o&&S())})),W=ua((e=>{c&&Oa(e)&&P.isTopModal()&&(null==u||u(e),e.defaultPrevented||S())})),G=(0,a.useRef)(),q=(0,a.useRef)();if(!I)return null;const Y=Object.assign({role:n,ref:P.setDialogRef,"aria-modal":"dialog"===n||void 0},L,{style:r,className:i,tabIndex:-1});let K=b?b(Y):(0,sn.jsx)("div",Object.assign({},Y,{children:a.cloneElement(l,{role:"document"})}));K=Ic(h,m,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!s,onExit:k,onExiting:_,onExited:function(){z(!0),null==D||D(...arguments)},onEnter:A,onEntering:T,onEntered:E,children:K});let J=null;return o&&(J=y({ref:P.setBackdropRef,onClick:U}),J=Ic(p,x,{in:!!s,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:J})),(0,sn.jsx)(sn.Fragment,{children:Ne.createPortal((0,sn.jsxs)(sn.Fragment,{children:[J,K]}),I)})}));Fc.displayName="Modal";const zc=Object.assign(Fc,{Manager:Nc}),Bc=a.forwardRef(((e,t)=>{let{className:s,bsPrefix:n,as:a="div",...i}=e;return n=pn(n,"offcanvas-body"),(0,sn.jsx)(a,{ref:t,className:on()(s,n),...i})}));Bc.displayName="OffcanvasBody";const $c=Bc,Hc={[Ta]:"show",[Ea]:"show"},Vc=a.forwardRef(((e,t)=>{let{bsPrefix:s,className:n,children:i,in:r=!1,mountOnEnter:l=!1,unmountOnExit:o=!1,appear:c=!1,...d}=e;return s=pn(s,"offcanvas"),(0,sn.jsx)(li,{ref:t,addEndListener:ti,in:r,mountOnEnter:l,unmountOnExit:o,appear:c,...d,childRef:Ra(i),children:(e,t)=>a.cloneElement(i,{...t,className:on()(n,i.props.className,(e===Ta||e===La)&&`${s}-toggling`,Hc[e])})})}));Vc.displayName="OffcanvasToggling";const Uc=Vc,Wc=a.createContext({onHide(){}}),Gc=a.forwardRef(((e,t)=>{let{closeLabel:s="Close",closeVariant:n,closeButton:i=!1,onHide:r,children:l,...o}=e;const c=(0,a.useContext)(Wc),d=ia((()=>{null==c||c.onHide(),null==r||r()}));return(0,sn.jsxs)("div",{ref:t,...o,children:[l,i&&(0,sn.jsx)(xi,{"aria-label":s,variant:n,onClick:d})]})})),qc=Gc,Yc=a.forwardRef(((e,t)=>{let{bsPrefix:s,className:n,closeLabel:a="Close",closeButton:i=!1,...r}=e;return s=pn(s,"offcanvas-header"),(0,sn.jsx)(qc,{ref:t,...r,className:on()(n,s),closeLabel:a,closeButton:i})}));Yc.displayName="OffcanvasHeader";const Kc=Yc,Jc=Fn("h5"),Xc=a.forwardRef(((e,t)=>{let{className:s,bsPrefix:n,as:a=Jc,...i}=e;return n=pn(n,"offcanvas-title"),(0,sn.jsx)(a,{ref:t,className:on()(s,n),...i})}));Xc.displayName="OffcanvasTitle";const Zc=Xc;function Qc(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}function ed(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}const td=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",sd=".sticky-top",nd=".navbar-toggler";class ad extends Nc{adjustAndStore(e,t,s){const n=t.style[e];t.dataset[e]=n,Ua(t,{[e]:`${parseFloat(Ua(t,e))+s}px`})}restore(e,t){const s=t.dataset[e];void 0!==s&&(delete t.dataset[e],Ua(t,{[e]:s}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();var s,n;if(n="modal-open",(s=t).classList?s.classList.add(n):Qc(s,n)||("string"===typeof s.className?s.className=s.className+" "+n:s.setAttribute("class",(s.className&&s.className.baseVal||"")+" "+n)),!e.scrollBarWidth)return;const a=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";_o(t,td).forEach((t=>this.adjustAndStore(a,t,e.scrollBarWidth))),_o(t,sd).forEach((t=>this.adjustAndStore(i,t,-e.scrollBarWidth))),_o(t,nd).forEach((t=>this.adjustAndStore(i,t,e.scrollBarWidth)))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();var s,n;n="modal-open",(s=t).classList?s.classList.remove(n):"string"===typeof s.className?s.className=ed(s.className,n):s.setAttribute("class",ed(s.className&&s.className.baseVal||"",n));const a=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";_o(t,td).forEach((e=>this.restore(a,e))),_o(t,sd).forEach((e=>this.restore(i,e))),_o(t,nd).forEach((e=>this.restore(i,e)))}}let id;function rd(e){return id||(id=new ad(e)),id}const ld=ad;function od(e){return(0,sn.jsx)(Uc,{...e})}function cd(e){return(0,sn.jsx)(di,{...e})}const dd=a.forwardRef(((e,t)=>{let{bsPrefix:s,className:n,children:i,"aria-labelledby":r,placement:l="start",responsive:o,show:c=!1,backdrop:d=!0,keyboard:u=!0,scroll:h=!1,onEscapeKeyDown:m,onShow:p,onHide:x,container:f,autoFocus:g=!0,enforceFocus:v=!0,restoreFocus:j=!0,restoreFocusOptions:b,onEntered:y,onExit:w,onExiting:N,onEnter:C,onEntering:S,onExited:k,backdropClassName:D,manager:_,renderStaticNode:A=!1,...T}=e;const E=(0,a.useRef)();s=pn(s,"offcanvas");const[L,M]=(0,a.useState)(!1),I=ia(x),P=vc(o||"xs","up");(0,a.useEffect)((()=>{M(o?c&&!P:c)}),[c,o,P]);const O=(0,a.useMemo)((()=>({onHide:I})),[I]);const R=(0,a.useCallback)((e=>(0,sn.jsx)("div",{...e,className:on()(`${s}-backdrop`,D)})),[D,s]),F=e=>(0,sn.jsx)("div",{...e,...T,className:on()(n,o?`${s}-${o}`:s,`${s}-${l}`),"aria-labelledby":r,children:i});return(0,sn.jsxs)(sn.Fragment,{children:[!L&&(o||A)&&F({}),(0,sn.jsx)(Wc.Provider,{value:O,children:(0,sn.jsx)(zc,{show:L,ref:t,backdrop:d,container:f,keyboard:u,autoFocus:g,enforceFocus:v&&!h,restoreFocus:j,restoreFocusOptions:b,onEscapeKeyDown:m,onShow:p,onHide:I,onEnter:function(e){e&&(e.style.visibility="visible");for(var t=arguments.length,s=new Array(t>1?t-1:0),n=1;n<t;n++)s[n-1]=arguments[n];null==C||C(e,...s)},onEntering:S,onEntered:y,onExit:w,onExiting:N,onExited:function(e){e&&(e.style.visibility="");for(var t=arguments.length,s=new Array(t>1?t-1:0),n=1;n<t;n++)s[n-1]=arguments[n];null==k||k(...s)},manager:_||(h?(E.current||(E.current=new ld({handleContainerOverflow:!1})),E.current):rd()),transition:od,backdropTransition:cd,renderBackdrop:R,renderDialog:F})})]})}));dd.displayName="Offcanvas";const ud=Object.assign(dd,{Body:$c,Header:Kc,Title:Zc}),hd=a.forwardRef(((e,t)=>{let{onHide:s,...n}=e;const i=(0,a.useContext)(Yo),r=ia((()=>{null==i||null==i.onToggle||i.onToggle(),null==s||s()}));return(0,sn.jsx)(ud,{ref:t,show:!(null==i||!i.expanded),...n,renderStaticNode:!0,onHide:r})}));hd.displayName="NavbarOffcanvas";const md=hd,pd=a.forwardRef(((e,t)=>{let{className:s,bsPrefix:n,as:a="span",...i}=e;return n=pn(n,"navbar-text"),(0,sn.jsx)(a,{ref:t,className:on()(s,n),...i})}));pd.displayName="NavbarText";const xd=pd,fd=a.forwardRef(((e,t)=>{const{bsPrefix:s,expand:n=!0,variant:i="light",bg:r,fixed:l,sticky:o,className:c,as:d="nav",expanded:u,onToggle:h,onSelect:m,collapseOnSelect:p=!1,...x}=ea(e,{expanded:"onToggle"}),f=pn(s,"navbar"),g=(0,a.useCallback)((function(){null==m||m(...arguments),p&&u&&(null==h||h(!1))}),[m,p,u,h]);void 0===x.role&&"nav"!==d&&(x.role="navigation");let v=`${f}-expand`;"string"===typeof n&&(v=`${v}-${n}`);const j=(0,a.useMemo)((()=>({onToggle:()=>null==h?void 0:h(!u),bsPrefix:f,expanded:!!u,expand:n})),[f,u,n,h]);return(0,sn.jsx)(Yo.Provider,{value:j,children:(0,sn.jsx)(Po.Provider,{value:g,children:(0,sn.jsx)(d,{ref:t,...x,className:on()(c,f,n&&v,i&&`${f}-${i}`,r&&`bg-${r}`,o&&`sticky-${o}`,l&&`fixed-${l}`)})})})}));fd.displayName="Navbar";const gd=Object.assign(fd,{Brand:sc,Collapse:cc,Offcanvas:md,Text:xd,Toggle:uc});function vd(e,t,s){const n=(0,a.useRef)(void 0!==e),[i,r]=(0,a.useState)(t),l=void 0!==e,o=n.current;return n.current=l,!l&&o&&i!==t&&r(t),[l?e:i,(0,a.useCallback)((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const[a,...i]=t;let l=null==s?void 0:s(a,...i);return r(a),l}),[s])]}const jd=a.createContext(null);var bd=Object.prototype.hasOwnProperty;function yd(e,t,s){for(s of e.keys())if(wd(s,t))return s}function wd(e,t){var s,n,a;if(e===t)return!0;if(e&&t&&(s=e.constructor)===t.constructor){if(s===Date)return e.getTime()===t.getTime();if(s===RegExp)return e.toString()===t.toString();if(s===Array){if((n=e.length)===t.length)for(;n--&&wd(e[n],t[n]););return-1===n}if(s===Set){if(e.size!==t.size)return!1;for(n of e){if((a=n)&&"object"===typeof a&&!(a=yd(t,a)))return!1;if(!t.has(a))return!1}return!0}if(s===Map){if(e.size!==t.size)return!1;for(n of e){if((a=n[0])&&"object"===typeof a&&!(a=yd(t,a)))return!1;if(!wd(n[1],t.get(a)))return!1}return!0}if(s===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(s===DataView){if((n=e.byteLength)===t.byteLength)for(;n--&&e.getInt8(n)===t.getInt8(n););return-1===n}if(ArrayBuffer.isView(e)){if((n=e.byteLength)===t.byteLength)for(;n--&&e[n]===t[n];);return-1===n}if(!s||"object"===typeof e){for(s in n=0,e){if(bd.call(e,s)&&++n&&!bd.call(t,s))return!1;if(!(s in t)||!wd(e[s],t[s]))return!1}return Object.keys(t).length===n}}return e!==e&&t!==t}const Nd=function(e){const t=ha();return[e[0],(0,a.useCallback)((s=>{if(t())return e[1](s)}),[t,e[1]])]};function Cd(e){return e.split("-")[0]}function Sd(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function kd(e){return e instanceof Sd(e).Element||e instanceof Element}function Dd(e){return e instanceof Sd(e).HTMLElement||e instanceof HTMLElement}function _d(e){return"undefined"!==typeof ShadowRoot&&(e instanceof Sd(e).ShadowRoot||e instanceof ShadowRoot)}var Ad=Math.max,Td=Math.min,Ed=Math.round;function Ld(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function Md(){return!/^((?!chrome|android).)*safari/i.test(Ld())}function Id(e,t,s){void 0===t&&(t=!1),void 0===s&&(s=!1);var n=e.getBoundingClientRect(),a=1,i=1;t&&Dd(e)&&(a=e.offsetWidth>0&&Ed(n.width)/e.offsetWidth||1,i=e.offsetHeight>0&&Ed(n.height)/e.offsetHeight||1);var r=(kd(e)?Sd(e):window).visualViewport,l=!Md()&&s,o=(n.left+(l&&r?r.offsetLeft:0))/a,c=(n.top+(l&&r?r.offsetTop:0))/i,d=n.width/a,u=n.height/i;return{width:d,height:u,top:c,right:o+d,bottom:c+u,left:o,x:o,y:c}}function Pd(e){var t=Id(e),s=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-s)<=1&&(s=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:s,height:n}}function Od(e,t){var s=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(s&&_d(s)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Rd(e){return e?(e.nodeName||"").toLowerCase():null}function Fd(e){return Sd(e).getComputedStyle(e)}function zd(e){return["table","td","th"].indexOf(Rd(e))>=0}function Bd(e){return((kd(e)?e.ownerDocument:e.document)||window.document).documentElement}function $d(e){return"html"===Rd(e)?e:e.assignedSlot||e.parentNode||(_d(e)?e.host:null)||Bd(e)}function Hd(e){return Dd(e)&&"fixed"!==Fd(e).position?e.offsetParent:null}function Vd(e){for(var t=Sd(e),s=Hd(e);s&&zd(s)&&"static"===Fd(s).position;)s=Hd(s);return s&&("html"===Rd(s)||"body"===Rd(s)&&"static"===Fd(s).position)?t:s||function(e){var t=/firefox/i.test(Ld());if(/Trident/i.test(Ld())&&Dd(e)&&"fixed"===Fd(e).position)return null;var s=$d(e);for(_d(s)&&(s=s.host);Dd(s)&&["html","body"].indexOf(Rd(s))<0;){var n=Fd(s);if("none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||-1!==["transform","perspective"].indexOf(n.willChange)||t&&"filter"===n.willChange||t&&n.filter&&"none"!==n.filter)return s;s=s.parentNode}return null}(e)||t}function Ud(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Wd(e,t,s){return Ad(e,Td(t,s))}function Gd(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function qd(e,t){return t.reduce((function(t,s){return t[s]=e,t}),{})}var Yd="top",Kd="bottom",Jd="right",Xd="left",Zd="auto",Qd=[Yd,Kd,Jd,Xd],eu="start",tu="end",su="viewport",nu="popper",au=Qd.reduce((function(e,t){return e.concat([t+"-"+eu,t+"-"+tu])}),[]),iu=[].concat(Qd,[Zd]).reduce((function(e,t){return e.concat([t,t+"-"+eu,t+"-"+tu])}),[]),ru=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];const lu={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,s=e.state,n=e.name,a=e.options,i=s.elements.arrow,r=s.modifiersData.popperOffsets,l=Cd(s.placement),o=Ud(l),c=[Xd,Jd].indexOf(l)>=0?"height":"width";if(i&&r){var d=function(e,t){return Gd("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:qd(e,Qd))}(a.padding,s),u=Pd(i),h="y"===o?Yd:Xd,m="y"===o?Kd:Jd,p=s.rects.reference[c]+s.rects.reference[o]-r[o]-s.rects.popper[c],x=r[o]-s.rects.reference[o],f=Vd(i),g=f?"y"===o?f.clientHeight||0:f.clientWidth||0:0,v=p/2-x/2,j=d[h],b=g-u[c]-d[m],y=g/2-u[c]/2+v,w=Wd(j,y,b),N=o;s.modifiersData[n]=((t={})[N]=w,t.centerOffset=w-y,t)}},effect:function(e){var t=e.state,s=e.options.element,n=void 0===s?"[data-popper-arrow]":s;null!=n&&("string"!==typeof n||(n=t.elements.popper.querySelector(n)))&&Od(t.elements.popper,n)&&(t.elements.arrow=n)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ou(e){return e.split("-")[1]}var cu={top:"auto",right:"auto",bottom:"auto",left:"auto"};function du(e){var t,s=e.popper,n=e.popperRect,a=e.placement,i=e.variation,r=e.offsets,l=e.position,o=e.gpuAcceleration,c=e.adaptive,d=e.roundOffsets,u=e.isFixed,h=r.x,m=void 0===h?0:h,p=r.y,x=void 0===p?0:p,f="function"===typeof d?d({x:m,y:x}):{x:m,y:x};m=f.x,x=f.y;var g=r.hasOwnProperty("x"),v=r.hasOwnProperty("y"),j=Xd,b=Yd,y=window;if(c){var w=Vd(s),N="clientHeight",C="clientWidth";if(w===Sd(s)&&"static"!==Fd(w=Bd(s)).position&&"absolute"===l&&(N="scrollHeight",C="scrollWidth"),a===Yd||(a===Xd||a===Jd)&&i===tu)b=Kd,x-=(u&&w===y&&y.visualViewport?y.visualViewport.height:w[N])-n.height,x*=o?1:-1;if(a===Xd||(a===Yd||a===Kd)&&i===tu)j=Jd,m-=(u&&w===y&&y.visualViewport?y.visualViewport.width:w[C])-n.width,m*=o?1:-1}var S,k=Object.assign({position:l},c&&cu),D=!0===d?function(e,t){var s=e.x,n=e.y,a=t.devicePixelRatio||1;return{x:Ed(s*a)/a||0,y:Ed(n*a)/a||0}}({x:m,y:x},Sd(s)):{x:m,y:x};return m=D.x,x=D.y,o?Object.assign({},k,((S={})[b]=v?"0":"",S[j]=g?"0":"",S.transform=(y.devicePixelRatio||1)<=1?"translate("+m+"px, "+x+"px)":"translate3d("+m+"px, "+x+"px, 0)",S)):Object.assign({},k,((t={})[b]=v?x+"px":"",t[j]=g?m+"px":"",t.transform="",t))}const uu={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,s=e.options,n=s.gpuAcceleration,a=void 0===n||n,i=s.adaptive,r=void 0===i||i,l=s.roundOffsets,o=void 0===l||l,c={placement:Cd(t.placement),variation:ou(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,du(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:r,roundOffsets:o})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,du(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:o})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var hu={passive:!0};const mu={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,s=e.instance,n=e.options,a=n.scroll,i=void 0===a||a,r=n.resize,l=void 0===r||r,o=Sd(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&c.forEach((function(e){e.addEventListener("scroll",s.update,hu)})),l&&o.addEventListener("resize",s.update,hu),function(){i&&c.forEach((function(e){e.removeEventListener("scroll",s.update,hu)})),l&&o.removeEventListener("resize",s.update,hu)}},data:{}};var pu={left:"right",right:"left",bottom:"top",top:"bottom"};function xu(e){return e.replace(/left|right|bottom|top/g,(function(e){return pu[e]}))}var fu={start:"end",end:"start"};function gu(e){return e.replace(/start|end/g,(function(e){return fu[e]}))}function vu(e){var t=Sd(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function ju(e){return Id(Bd(e)).left+vu(e).scrollLeft}function bu(e){var t=Fd(e),s=t.overflow,n=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(s+a+n)}function yu(e){return["html","body","#document"].indexOf(Rd(e))>=0?e.ownerDocument.body:Dd(e)&&bu(e)?e:yu($d(e))}function wu(e,t){var s;void 0===t&&(t=[]);var n=yu(e),a=n===(null==(s=e.ownerDocument)?void 0:s.body),i=Sd(n),r=a?[i].concat(i.visualViewport||[],bu(n)?n:[]):n,l=t.concat(r);return a?l:l.concat(wu($d(r)))}function Nu(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Cu(e,t,s){return t===su?Nu(function(e,t){var s=Sd(e),n=Bd(e),a=s.visualViewport,i=n.clientWidth,r=n.clientHeight,l=0,o=0;if(a){i=a.width,r=a.height;var c=Md();(c||!c&&"fixed"===t)&&(l=a.offsetLeft,o=a.offsetTop)}return{width:i,height:r,x:l+ju(e),y:o}}(e,s)):kd(t)?function(e,t){var s=Id(e,!1,"fixed"===t);return s.top=s.top+e.clientTop,s.left=s.left+e.clientLeft,s.bottom=s.top+e.clientHeight,s.right=s.left+e.clientWidth,s.width=e.clientWidth,s.height=e.clientHeight,s.x=s.left,s.y=s.top,s}(t,s):Nu(function(e){var t,s=Bd(e),n=vu(e),a=null==(t=e.ownerDocument)?void 0:t.body,i=Ad(s.scrollWidth,s.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),r=Ad(s.scrollHeight,s.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),l=-n.scrollLeft+ju(e),o=-n.scrollTop;return"rtl"===Fd(a||s).direction&&(l+=Ad(s.clientWidth,a?a.clientWidth:0)-i),{width:i,height:r,x:l,y:o}}(Bd(e)))}function Su(e,t,s,n){var a="clippingParents"===t?function(e){var t=wu($d(e)),s=["absolute","fixed"].indexOf(Fd(e).position)>=0&&Dd(e)?Vd(e):e;return kd(s)?t.filter((function(e){return kd(e)&&Od(e,s)&&"body"!==Rd(e)})):[]}(e):[].concat(t),i=[].concat(a,[s]),r=i[0],l=i.reduce((function(t,s){var a=Cu(e,s,n);return t.top=Ad(a.top,t.top),t.right=Td(a.right,t.right),t.bottom=Td(a.bottom,t.bottom),t.left=Ad(a.left,t.left),t}),Cu(e,r,n));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function ku(e){var t,s=e.reference,n=e.element,a=e.placement,i=a?Cd(a):null,r=a?ou(a):null,l=s.x+s.width/2-n.width/2,o=s.y+s.height/2-n.height/2;switch(i){case Yd:t={x:l,y:s.y-n.height};break;case Kd:t={x:l,y:s.y+s.height};break;case Jd:t={x:s.x+s.width,y:o};break;case Xd:t={x:s.x-n.width,y:o};break;default:t={x:s.x,y:s.y}}var c=i?Ud(i):null;if(null!=c){var d="y"===c?"height":"width";switch(r){case eu:t[c]=t[c]-(s[d]/2-n[d]/2);break;case tu:t[c]=t[c]+(s[d]/2-n[d]/2)}}return t}function Du(e,t){void 0===t&&(t={});var s=t,n=s.placement,a=void 0===n?e.placement:n,i=s.strategy,r=void 0===i?e.strategy:i,l=s.boundary,o=void 0===l?"clippingParents":l,c=s.rootBoundary,d=void 0===c?su:c,u=s.elementContext,h=void 0===u?nu:u,m=s.altBoundary,p=void 0!==m&&m,x=s.padding,f=void 0===x?0:x,g=Gd("number"!==typeof f?f:qd(f,Qd)),v=h===nu?"reference":nu,j=e.rects.popper,b=e.elements[p?v:h],y=Su(kd(b)?b:b.contextElement||Bd(e.elements.popper),o,d,r),w=Id(e.elements.reference),N=ku({reference:w,element:j,strategy:"absolute",placement:a}),C=Nu(Object.assign({},j,N)),S=h===nu?C:w,k={top:y.top-S.top+g.top,bottom:S.bottom-y.bottom+g.bottom,left:y.left-S.left+g.left,right:S.right-y.right+g.right},D=e.modifiersData.offset;if(h===nu&&D){var _=D[a];Object.keys(k).forEach((function(e){var t=[Jd,Kd].indexOf(e)>=0?1:-1,s=[Yd,Kd].indexOf(e)>=0?"y":"x";k[e]+=_[s]*t}))}return k}const _u={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,s=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var a=s.mainAxis,i=void 0===a||a,r=s.altAxis,l=void 0===r||r,o=s.fallbackPlacements,c=s.padding,d=s.boundary,u=s.rootBoundary,h=s.altBoundary,m=s.flipVariations,p=void 0===m||m,x=s.allowedAutoPlacements,f=t.options.placement,g=Cd(f),v=o||(g===f||!p?[xu(f)]:function(e){if(Cd(e)===Zd)return[];var t=xu(e);return[gu(e),t,gu(t)]}(f)),j=[f].concat(v).reduce((function(e,s){return e.concat(Cd(s)===Zd?function(e,t){void 0===t&&(t={});var s=t,n=s.placement,a=s.boundary,i=s.rootBoundary,r=s.padding,l=s.flipVariations,o=s.allowedAutoPlacements,c=void 0===o?iu:o,d=ou(n),u=d?l?au:au.filter((function(e){return ou(e)===d})):Qd,h=u.filter((function(e){return c.indexOf(e)>=0}));0===h.length&&(h=u);var m=h.reduce((function(t,s){return t[s]=Du(e,{placement:s,boundary:a,rootBoundary:i,padding:r})[Cd(s)],t}),{});return Object.keys(m).sort((function(e,t){return m[e]-m[t]}))}(t,{placement:s,boundary:d,rootBoundary:u,padding:c,flipVariations:p,allowedAutoPlacements:x}):s)}),[]),b=t.rects.reference,y=t.rects.popper,w=new Map,N=!0,C=j[0],S=0;S<j.length;S++){var k=j[S],D=Cd(k),_=ou(k)===eu,A=[Yd,Kd].indexOf(D)>=0,T=A?"width":"height",E=Du(t,{placement:k,boundary:d,rootBoundary:u,altBoundary:h,padding:c}),L=A?_?Jd:Xd:_?Kd:Yd;b[T]>y[T]&&(L=xu(L));var M=xu(L),I=[];if(i&&I.push(E[D]<=0),l&&I.push(E[L]<=0,E[M]<=0),I.every((function(e){return e}))){C=k,N=!1;break}w.set(k,I)}if(N)for(var P=function(e){var t=j.find((function(t){var s=w.get(t);if(s)return s.slice(0,e).every((function(e){return e}))}));if(t)return C=t,"break"},O=p?3:1;O>0;O--){if("break"===P(O))break}t.placement!==C&&(t.modifiersData[n]._skip=!0,t.placement=C,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Au(e,t,s){return void 0===s&&(s={x:0,y:0}),{top:e.top-t.height-s.y,right:e.right-t.width+s.x,bottom:e.bottom-t.height+s.y,left:e.left-t.width-s.x}}function Tu(e){return[Yd,Jd,Kd,Xd].some((function(t){return e[t]>=0}))}const Eu={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,s=e.options,n=e.name,a=s.offset,i=void 0===a?[0,0]:a,r=iu.reduce((function(e,s){return e[s]=function(e,t,s){var n=Cd(e),a=[Xd,Yd].indexOf(n)>=0?-1:1,i="function"===typeof s?s(Object.assign({},t,{placement:e})):s,r=i[0],l=i[1];return r=r||0,l=(l||0)*a,[Xd,Jd].indexOf(n)>=0?{x:l,y:r}:{x:r,y:l}}(s,t.rects,i),e}),{}),l=r[t.placement],o=l.x,c=l.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=o,t.modifiersData.popperOffsets.y+=c),t.modifiersData[n]=r}};const Lu={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,s=e.options,n=e.name,a=s.mainAxis,i=void 0===a||a,r=s.altAxis,l=void 0!==r&&r,o=s.boundary,c=s.rootBoundary,d=s.altBoundary,u=s.padding,h=s.tether,m=void 0===h||h,p=s.tetherOffset,x=void 0===p?0:p,f=Du(t,{boundary:o,rootBoundary:c,padding:u,altBoundary:d}),g=Cd(t.placement),v=ou(t.placement),j=!v,b=Ud(g),y="x"===b?"y":"x",w=t.modifiersData.popperOffsets,N=t.rects.reference,C=t.rects.popper,S="function"===typeof x?x(Object.assign({},t.rects,{placement:t.placement})):x,k="number"===typeof S?{mainAxis:S,altAxis:S}:Object.assign({mainAxis:0,altAxis:0},S),D=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,_={x:0,y:0};if(w){if(i){var A,T="y"===b?Yd:Xd,E="y"===b?Kd:Jd,L="y"===b?"height":"width",M=w[b],I=M+f[T],P=M-f[E],O=m?-C[L]/2:0,R=v===eu?N[L]:C[L],F=v===eu?-C[L]:-N[L],z=t.elements.arrow,B=m&&z?Pd(z):{width:0,height:0},$=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},H=$[T],V=$[E],U=Wd(0,N[L],B[L]),W=j?N[L]/2-O-U-H-k.mainAxis:R-U-H-k.mainAxis,G=j?-N[L]/2+O+U+V+k.mainAxis:F+U+V+k.mainAxis,q=t.elements.arrow&&Vd(t.elements.arrow),Y=q?"y"===b?q.clientTop||0:q.clientLeft||0:0,K=null!=(A=null==D?void 0:D[b])?A:0,J=M+G-K,X=Wd(m?Td(I,M+W-K-Y):I,M,m?Ad(P,J):P);w[b]=X,_[b]=X-M}if(l){var Z,Q="x"===b?Yd:Xd,ee="x"===b?Kd:Jd,te=w[y],se="y"===y?"height":"width",ne=te+f[Q],ae=te-f[ee],ie=-1!==[Yd,Xd].indexOf(g),re=null!=(Z=null==D?void 0:D[y])?Z:0,le=ie?ne:te-N[se]-C[se]-re+k.altAxis,oe=ie?te+N[se]+C[se]-re-k.altAxis:ae,ce=m&&ie?function(e,t,s){var n=Wd(e,t,s);return n>s?s:n}(le,te,oe):Wd(m?le:ne,te,m?oe:ae);w[y]=ce,_[y]=ce-te}t.modifiersData[n]=_}},requiresIfExists:["offset"]};function Mu(e,t,s){void 0===s&&(s=!1);var n=Dd(t),a=Dd(t)&&function(e){var t=e.getBoundingClientRect(),s=Ed(t.width)/e.offsetWidth||1,n=Ed(t.height)/e.offsetHeight||1;return 1!==s||1!==n}(t),i=Bd(t),r=Id(e,a,s),l={scrollLeft:0,scrollTop:0},o={x:0,y:0};return(n||!n&&!s)&&(("body"!==Rd(t)||bu(i))&&(l=function(e){return e!==Sd(e)&&Dd(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:vu(e);var t}(t)),Dd(t)?((o=Id(t,!0)).x+=t.clientLeft,o.y+=t.clientTop):i&&(o.x=ju(i))),{x:r.left+l.scrollLeft-o.x,y:r.top+l.scrollTop-o.y,width:r.width,height:r.height}}function Iu(e){var t=new Map,s=new Set,n=[];function a(e){s.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!s.has(e)){var n=t.get(e);n&&a(n)}})),n.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){s.has(e.name)||a(e)})),n}function Pu(e){var t;return function(){return t||(t=new Promise((function(s){Promise.resolve().then((function(){t=void 0,s(e())}))}))),t}}var Ou={placement:"bottom",modifiers:[],strategy:"absolute"};function Ru(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function Fu(e){void 0===e&&(e={});var t=e,s=t.defaultModifiers,n=void 0===s?[]:s,a=t.defaultOptions,i=void 0===a?Ou:a;return function(e,t,s){void 0===s&&(s=i);var a={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ou,i),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},r=[],l=!1,o={state:a,setOptions:function(s){var l="function"===typeof s?s(a.options):s;c(),a.options=Object.assign({},i,a.options,l),a.scrollParents={reference:kd(e)?wu(e):e.contextElement?wu(e.contextElement):[],popper:wu(t)};var d=function(e){var t=Iu(e);return ru.reduce((function(e,s){return e.concat(t.filter((function(e){return e.phase===s})))}),[])}(function(e){var t=e.reduce((function(e,t){var s=e[t.name];return e[t.name]=s?Object.assign({},s,t,{options:Object.assign({},s.options,t.options),data:Object.assign({},s.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(n,a.options.modifiers)));return a.orderedModifiers=d.filter((function(e){return e.enabled})),a.orderedModifiers.forEach((function(e){var t=e.name,s=e.options,n=void 0===s?{}:s,i=e.effect;if("function"===typeof i){var l=i({state:a,name:t,instance:o,options:n}),c=function(){};r.push(l||c)}})),o.update()},forceUpdate:function(){if(!l){var e=a.elements,t=e.reference,s=e.popper;if(Ru(t,s)){a.rects={reference:Mu(t,Vd(s),"fixed"===a.options.strategy),popper:Pd(s)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach((function(e){return a.modifiersData[e.name]=Object.assign({},e.data)}));for(var n=0;n<a.orderedModifiers.length;n++)if(!0!==a.reset){var i=a.orderedModifiers[n],r=i.fn,c=i.options,d=void 0===c?{}:c,u=i.name;"function"===typeof r&&(a=r({state:a,options:d,name:u,instance:o})||a)}else a.reset=!1,n=-1}}},update:Pu((function(){return new Promise((function(e){o.forceUpdate(),e(a)}))})),destroy:function(){c(),l=!0}};if(!Ru(e,t))return o;function c(){r.forEach((function(e){return e()})),r=[]}return o.setOptions(s).then((function(e){!l&&s.onFirstUpdate&&s.onFirstUpdate(e)})),o}}const zu=Fu({defaultModifiers:[{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,s=e.name,n=t.rects.reference,a=t.rects.popper,i=t.modifiersData.preventOverflow,r=Du(t,{elementContext:"reference"}),l=Du(t,{altBoundary:!0}),o=Au(r,n),c=Au(l,a,i),d=Tu(o),u=Tu(c);t.modifiersData[s]={referenceClippingOffsets:o,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:u},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":u})}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,s=e.name;t.modifiersData[s]=ku({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},uu,mu,Eu,_u,Lu,lu]}),Bu=["enabled","placement","strategy","modifiers"];const $u={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},Hu={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:e=>{let{state:t}=e;return()=>{const{reference:e,popper:s}=t.elements;if("removeAttribute"in e){const t=(e.getAttribute("aria-describedby")||"").split(",").filter((e=>e.trim()!==s.id));t.length?e.setAttribute("aria-describedby",t.join(",")):e.removeAttribute("aria-describedby")}}},fn:e=>{let{state:t}=e;var s;const{popper:n,reference:a}=t.elements,i=null==(s=n.getAttribute("role"))?void 0:s.toLowerCase();if(n.id&&"tooltip"===i&&"setAttribute"in a){const e=a.getAttribute("aria-describedby");if(e&&-1!==e.split(",").indexOf(n.id))return;a.setAttribute("aria-describedby",e?`${e},${n.id}`:n.id)}}},Vu=[];const Uu=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{enabled:n=!0,placement:i="bottom",strategy:r="absolute",modifiers:l=Vu}=s,o=function(e,t){if(null==e)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;s[n]=e[n]}return s}(s,Bu);const c=(0,a.useRef)(l),d=(0,a.useRef)(),u=(0,a.useCallback)((()=>{var e;null==(e=d.current)||e.update()}),[]),h=(0,a.useCallback)((()=>{var e;null==(e=d.current)||e.forceUpdate()}),[]),[m,p]=Nd((0,a.useState)({placement:i,update:u,forceUpdate:h,attributes:{},styles:{popper:{},arrow:{}}})),x=(0,a.useMemo)((()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:e=>{let{state:t}=e;const s={},n={};Object.keys(t.elements).forEach((e=>{s[e]=t.styles[e],n[e]=t.attributes[e]})),p({state:t,styles:s,attributes:n,update:u,forceUpdate:h,placement:t.placement})}})),[u,h,p]),f=(0,a.useMemo)((()=>(wd(c.current,l)||(c.current=l),c.current)),[l]);return(0,a.useEffect)((()=>{d.current&&n&&d.current.setOptions({placement:i,strategy:r,modifiers:[...f,x,$u]})}),[r,i,x,n,f]),(0,a.useEffect)((()=>{if(n&&null!=e&&null!=t)return d.current=zu(e,t,Object.assign({},o,{placement:i,strategy:r,modifiers:[...f,Hu,x]})),()=>{null!=d.current&&(d.current.destroy(),d.current=void 0,p((e=>Object.assign({},e,{attributes:{},styles:{popper:{}}}))))}}),[n,e,t]),m},Wu=()=>{};const Gu=e=>e&&("current"in e?e.current:e),qu={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};const Yu=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Wu,{disabled:s,clickTrigger:n="click"}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=(0,a.useRef)(!1),r=(0,a.useRef)(!1),l=(0,a.useCallback)((t=>{const s=Gu(e);var n;Ti()(!!s,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),i.current=!s||!!((n=t).metaKey||n.altKey||n.ctrlKey||n.shiftKey)||!function(e){return 0===e.button}(t)||!!bc(s,t.target)||r.current,r.current=!1}),[e]),o=ua((t=>{const s=Gu(e);s&&bc(s,t.target)?r.current=!0:r.current=!1})),c=ua((e=>{i.current||t(e)}));(0,a.useEffect)((()=>{var t,a;if(s||null==e)return;const i=Fa(Gu(e)),r=i.defaultView||window;let d=null!=(t=r.event)?t:null==(a=r.parent)?void 0:a.event,u=null;qu[n]&&(u=Xa(i,qu[n],o,!0));const h=Xa(i,n,l,!0),m=Xa(i,n,(e=>{e!==d?c(e):d=void 0}));let p=[];return"ontouchstart"in i.documentElement&&(p=[].slice.call(i.body.children).map((e=>Xa(e,"mousemove",Wu)))),()=>{null==u||u(),h(),m(),p.forEach((e=>e()))}}),[e,s,n,l,o,c])};function Ku(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Array.isArray(e)?e:Object.keys(e).map((t=>(e[t].name=t,e[t])))}function Ju(e){let{enabled:t,enableEvents:s,placement:n,flip:a,offset:i,fixed:r,containerPadding:l,arrowElement:o,popperConfig:c={}}=e;var d,u,h,m,p;const x=function(e){const t={};return Array.isArray(e)?(null==e||e.forEach((e=>{t[e.name]=e})),t):e||t}(c.modifiers);return Object.assign({},c,{placement:n,enabled:t,strategy:r?"fixed":c.strategy,modifiers:Ku(Object.assign({},x,{eventListeners:{enabled:s,options:null==(d=x.eventListeners)?void 0:d.options},preventOverflow:Object.assign({},x.preventOverflow,{options:l?Object.assign({padding:l},null==(u=x.preventOverflow)?void 0:u.options):null==(h=x.preventOverflow)?void 0:h.options}),offset:{options:Object.assign({offset:i},null==(m=x.offset)?void 0:m.options)},arrow:Object.assign({},x.arrow,{enabled:!!o,options:Object.assign({},null==(p=x.arrow)?void 0:p.options,{element:o})}),flip:Object.assign({enabled:!!a},x.flip)}))})}const Xu=["children","usePopper"];const Zu=()=>{};function Qu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=(0,a.useContext)(jd),[s,n]=ca(),i=(0,a.useRef)(!1),{flip:r,offset:l,rootCloseEvent:o,fixed:c=!1,placement:d,popperConfig:u={},enableEventListeners:h=!0,usePopper:m=!!t}=e,p=null==(null==t?void 0:t.show)?!!e.show:t.show;p&&!i.current&&(i.current=!0);const{placement:x,setMenu:f,menuElement:g,toggleElement:v}=t||{},j=Uu(v,g,Ju({placement:d||x||"bottom-start",enabled:m,enableEvents:null==h?p:h,offset:l,flip:r,fixed:c,arrowElement:s,popperConfig:u})),b=Object.assign({ref:f||Zu,"aria-labelledby":null==v?void 0:v.id},j.attributes.popper,{style:j.styles.popper}),y={show:p,placement:x,hasShown:i.current,toggle:null==t?void 0:t.toggle,popper:m?j:null,arrowProps:m?Object.assign({ref:n},j.attributes.arrow,{style:j.styles.arrow}):{}};return Yu(g,(e=>{null==t||t.toggle(!1,e)}),{clickTrigger:o,disabled:!p}),[b,y]}function eh(e){let{children:t,usePopper:s=!0}=e,n=function(e,t){if(null==e)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;s[n]=e[n]}return s}(e,Xu);const[a,i]=Qu(Object.assign({},n,{usePopper:s}));return(0,sn.jsx)(sn.Fragment,{children:t(a,i)})}eh.displayName="DropdownMenu";const th=eh,sh={prefix:String(Math.round(1e10*Math.random())),current:0},nh=a.createContext(sh),ah=a.createContext(!1);Boolean("undefined"!==typeof window&&window.document&&window.document.createElement);let ih=new WeakMap;function rh(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,a.useContext)(nh),s=(0,a.useRef)(null);if(null===s.current&&!e){var n,i;let e=null===(i=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)||void 0===i||null===(n=i.ReactCurrentOwner)||void 0===n?void 0:n.current;if(e){let s=ih.get(e);null==s?ih.set(e,{id:t.current,state:e.memoizedState}):e.memoizedState!==s.state&&(t.current=s.id,ih.delete(e))}s.current=++t.current}return s.current}const lh="function"===typeof a.useId?function(e){let t=a.useId(),[s]=(0,a.useState)("function"===typeof a.useSyncExternalStore?a.useSyncExternalStore(dh,oh,ch):(0,a.useContext)(ah));return e||`${s?"react-aria":`react-aria${sh.prefix}`}-${t}`}:function(e){let t=(0,a.useContext)(nh),s=rh(!!e),n=`react-aria${t.prefix}`;return e||`${n}-${s}`};function oh(){return!1}function ch(){return!0}function dh(e){return()=>{}}const uh=e=>{var t;return"menu"===(null==(t=e.getAttribute("role"))?void 0:t.toLowerCase())},hh=()=>{};function mh(){const e=lh(),{show:t=!1,toggle:s=hh,setToggle:n,menuElement:i}=(0,a.useContext)(jd)||{},r=(0,a.useCallback)((e=>{s(!t,e)}),[t,s]),l={id:e,ref:n||hh,onClick:r,"aria-expanded":!!t};return i&&uh(i)&&(l["aria-haspopup"]=!0),[l,{show:t,toggle:s}]}function ph(e){let{children:t}=e;const[s,n]=mh();return(0,sn.jsx)(sn.Fragment,{children:t(s,n)})}ph.displayName="DropdownToggle";const xh=ph,fh=["eventKey","disabled","onClick","active","as"];function gh(e){let{key:t,href:s,active:n,disabled:i,onClick:r}=e;const l=(0,a.useContext)(Po),o=(0,a.useContext)(Mo),{activeKey:c}=o||{},d=Io(t,s),u=null==n&&null!=t?Io(c)===d:n;return[{onClick:ua((e=>{i||(null==r||r(e),l&&!e.isPropagationStopped()&&l(d,e))})),"aria-disabled":i||void 0,"aria-selected":u,[Ro("dropdown-item")]:""},{isActive:u}]}const vh=a.forwardRef(((e,t)=>{let{eventKey:s,disabled:n,onClick:a,active:i,as:r=ja}=e,l=function(e,t){if(null==e)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;s[n]=e[n]}return s}(e,fh);const[o]=gh({key:s,href:l.href,disabled:n,onClick:a,active:i});return(0,sn.jsx)(r,Object.assign({},l,{ref:t},o))}));vh.displayName="DropdownItem";const jh=vh;function bh(){const e=Ao(),t=(0,a.useRef)(null),s=(0,a.useCallback)((s=>{t.current=s,e()}),[e]);return[t,s]}function yh(e){let{defaultShow:t,show:s,onSelect:n,onToggle:i,itemSelector:r=`* [${Ro("dropdown-item")}]`,focusFirstItemOnShow:l,placement:o="bottom-start",children:c}=e;const d=Sc(),[u,h]=vd(s,t,i),[m,p]=bh(),x=m.current,[f,g]=bh(),v=f.current,j=ma(u),b=(0,a.useRef)(null),y=(0,a.useRef)(!1),w=(0,a.useContext)(Po),N=(0,a.useCallback)((function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null==t?void 0:t.type;h(e,{originalEvent:t,source:s})}),[h]),C=ua(((e,t)=>{null==n||n(e,t),N(!1,t,"select"),t.isPropagationStopped()||null==w||w(e,t)})),S=(0,a.useMemo)((()=>({toggle:N,placement:o,show:u,menuElement:x,toggleElement:v,setMenu:p,setToggle:g})),[N,o,u,x,v,p,g]);x&&j&&!u&&(y.current=x.contains(x.ownerDocument.activeElement));const k=ua((()=>{v&&v.focus&&v.focus()})),D=ua((()=>{const e=b.current;let t=l;if(null==t&&(t=!(!m.current||!uh(m.current))&&"keyboard"),!1===t||"keyboard"===t&&!/^key.+$/.test(e))return;const s=_o(m.current,r)[0];s&&s.focus&&s.focus()}));(0,a.useEffect)((()=>{u?D():y.current&&(y.current=!1,k())}),[u,y,k,D]),(0,a.useEffect)((()=>{b.current=null}));const _=(e,t)=>{if(!m.current)return null;const s=_o(m.current,r);let n=s.indexOf(e)+t;return n=Math.max(0,Math.min(n,s.length)),s[n]};return function(e,t,s){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=ua(s);(0,a.useEffect)((()=>{const s="function"===typeof e?e():e;return s.addEventListener(t,i,n),()=>s.removeEventListener(t,i,n)}),[e])}((0,a.useCallback)((()=>d.document),[d]),"keydown",(e=>{var t,s;const{key:n}=e,a=e.target,i=null==(t=m.current)?void 0:t.contains(a),r=null==(s=f.current)?void 0:s.contains(a);if(/input|textarea/i.test(a.tagName)&&(" "===n||"Escape"!==n&&i||"Escape"===n&&"search"===a.type))return;if(!i&&!r)return;if("Tab"===n&&(!m.current||!u))return;b.current=e.type;const l={originalEvent:e,source:e.type};switch(n){case"ArrowUp":{const t=_(a,-1);return t&&t.focus&&t.focus(),void e.preventDefault()}case"ArrowDown":if(e.preventDefault(),u){const e=_(a,1);e&&e.focus&&e.focus()}else h(!0,l);return;case"Tab":Ka(a.ownerDocument,"keyup",(e=>{var t;("Tab"!==e.key||e.target)&&null!=(t=m.current)&&t.contains(e.target)||h(!1,l)}),{once:!0});break;case"Escape":"Escape"===n&&(e.preventDefault(),e.stopPropagation()),h(!1,l)}})),(0,sn.jsx)(Po.Provider,{value:C,children:(0,sn.jsx)(jd.Provider,{value:S,children:c})})}yh.displayName="Dropdown",yh.Menu=th,yh.Toggle=xh,yh.Item=jh;const wh=yh,Nh=a.createContext({});Nh.displayName="DropdownContext";const Ch=Nh,Sh=a.forwardRef(((e,t)=>{let{className:s,bsPrefix:n,as:a="hr",role:i="separator",...r}=e;return n=pn(n,"dropdown-divider"),(0,sn.jsx)(a,{ref:t,className:on()(s,n),role:i,...r})}));Sh.displayName="DropdownDivider";const kh=Sh,Dh=a.forwardRef(((e,t)=>{let{className:s,bsPrefix:n,as:a="div",role:i="heading",...r}=e;return n=pn(n,"dropdown-header"),(0,sn.jsx)(a,{ref:t,className:on()(s,n),role:i,...r})}));Dh.displayName="DropdownHeader";const _h=Dh,Ah=a.forwardRef(((e,t)=>{let{bsPrefix:s,className:n,eventKey:a,disabled:i=!1,onClick:r,active:l,as:o=wa,...c}=e;const d=pn(s,"dropdown-item"),[u,h]=gh({key:a,href:c.href,disabled:i,onClick:r,active:l});return(0,sn.jsx)(o,{...c,...u,ref:t,className:on()(n,d,h.isActive&&"active",i&&"disabled")})}));Ah.displayName="DropdownItem";const Th=Ah,Eh=a.forwardRef(((e,t)=>{let{className:s,bsPrefix:n,as:a="span",...i}=e;return n=pn(n,"dropdown-item-text"),(0,sn.jsx)(a,{ref:t,className:on()(s,n),...i})}));Eh.displayName="DropdownItemText";const Lh=Eh;function Mh(e,t){return e}function Ih(e,t,s){let n=e?s?"bottom-start":"bottom-end":s?"bottom-end":"bottom-start";return"up"===t?n=e?s?"top-start":"top-end":s?"top-end":"top-start":"end"===t?n=e?s?"left-end":"right-end":s?"left-start":"right-start":"start"===t?n=e?s?"right-end":"left-end":s?"right-start":"left-start":"down-centered"===t?n="bottom":"up-centered"===t&&(n="top"),n}const Ph=a.forwardRef(((e,t)=>{let{bsPrefix:s,className:n,align:i,rootCloseEvent:r,flip:l=!0,show:o,renderOnMount:c,as:d="div",popperConfig:u,variant:h,...m}=e,p=!1;const x=(0,a.useContext)(Yo),f=pn(s,"dropdown-menu"),{align:g,drop:v,isRTL:j}=(0,a.useContext)(Ch);i=i||g;const b=(0,a.useContext)(Qi),y=[];if(i)if("object"===typeof i){const e=Object.keys(i);if(e.length){const t=e[0],s=i[t];p="start"===s,y.push(`${f}-${t}-${s}`)}}else"end"===i&&(p=!0);const w=Ih(p,v,j),[N,{hasShown:C,popper:S,show:k,toggle:D}]=Qu({flip:l,rootCloseEvent:r,show:o,usePopper:!x&&0===y.length,offset:[0,2],popperConfig:u,placement:w});if(N.ref=ai(Mh(t),N.ref),mc((()=>{k&&(null==S||S.update())}),[k]),!C&&!c&&!b)return null;"string"!==typeof d&&(N.show=k,N.close=()=>null==D?void 0:D(!1),N.align=i);let _=m.style;return null!=S&&S.placement&&(_={...m.style,...N.style},m["x-placement"]=S.placement),(0,sn.jsx)(d,{...m,...N,style:_,...(y.length||x)&&{"data-bs-popper":"static"},className:on()(n,f,k&&"show",p&&`${f}-end`,h&&`${f}-${h}`,...y)})}));Ph.displayName="DropdownMenu";const Oh=Ph,Rh=a.forwardRef(((e,t)=>{let{bsPrefix:s,split:n,className:i,childBsPrefix:r,as:l=ir,...o}=e;const c=pn(s,"dropdown-toggle"),d=(0,a.useContext)(jd);void 0!==r&&(o.bsPrefix=r);const[u]=mh();return u.ref=ai(u.ref,Mh(t)),(0,sn.jsx)(l,{className:on()(i,c,n&&`${c}-split`,(null==d?void 0:d.show)&&"show"),...u,...o})}));Rh.displayName="DropdownToggle";const Fh=Rh,zh=a.forwardRef(((e,t)=>{const{bsPrefix:s,drop:n="down",show:i,className:r,align:l="start",onSelect:o,onToggle:c,focusFirstItemOnShow:d,as:u="div",navbar:h,autoClose:m=!0,...p}=ea(e,{show:"onToggle"}),x=(0,a.useContext)(Qi),f=pn(s,"dropdown"),g=gn(),v=ia(((e,t)=>{var s;var n;(null==(s=t.originalEvent)||null==(s=s.target)?void 0:s.classList.contains("dropdown-toggle"))&&"mousedown"===t.source||(t.originalEvent.currentTarget!==document||"keydown"===t.source&&"Escape"!==t.originalEvent.key||(t.source="rootClose"),n=t.source,(!1===m?"click"===n:"inside"===m?"rootClose"!==n:"outside"!==m||"select"!==n)&&(null==c||c(e,t)))})),j=Ih("end"===l,n,g),b=(0,a.useMemo)((()=>({align:l,drop:n,isRTL:g})),[l,n,g]),y={down:f,"down-centered":`${f}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return(0,sn.jsx)(Ch.Provider,{value:b,children:(0,sn.jsx)(wh,{placement:j,show:i,onSelect:o,onToggle:v,focusFirstItemOnShow:d,itemSelector:`.${f}-item:not(.disabled):not(:disabled)`,children:x?p.children:(0,sn.jsx)(u,{...p,ref:t,className:on()(r,i&&"show",y[n])})})})}));zh.displayName="Dropdown";const Bh=Object.assign(zh,{Toggle:Fh,Menu:Oh,Item:Th,ItemText:Lh,Divider:kh,Header:_h}),$h=()=>{const{token:e,user:t,appAuth:s}=(()=>{console.log("Attempting to restore tokens...");const e=localStorage.getItem("token"),t=localStorage.getItem("user"),s=localStorage.getItem("app:auth");if(!e&&s)try{const e=JSON.parse(s);e.token&&(localStorage.setItem("token",e.token),console.log("Restored token from app:auth"))}catch(ok){console.error("Failed to parse app:auth",ok)}if(!t&&s)try{const e=JSON.parse(s);e.user&&(localStorage.setItem("user",JSON.stringify(e.user)),console.log("Restored user from app:auth"))}catch(ok){console.error("Failed to parse app:auth for user",ok)}if(!s&&e&&t)try{const s=JSON.parse(t);localStorage.setItem("app:auth",JSON.stringify({token:e,user:s})),console.log("Created app:auth from token and user")}catch(ok){console.error("Failed to create app:auth",ok)}return{token:localStorage.getItem("token"),user:localStorage.getItem("user"),appAuth:localStorage.getItem("app:auth")}})();return!(!e&&!s)},Hh=()=>{const{currentUser:e,logout:t}=an(),[s,n]=(0,a.useState)(!1),i=Z(),r=ee();(0,a.useEffect)((()=>{const{pathname:e}=i;console.log("Dashboard: Current path is",e);return(()=>{console.log("Dashboard navigation auth check - raw storage state:"),console.log("token:",!!localStorage.getItem("token")),console.log("user:",!!localStorage.getItem("user")),console.log("app:auth:",!!localStorage.getItem("app:auth"));const e=$h();console.log("Dashboard navigation check - calculated loggedIn:",e),!!e||(console.log("Dashboard detected auth loss during navigation, redirecting to login"),r("/login"))})(),()=>{console.log("Dashboard component unmounting from path:",e)}}),[i.pathname,r]);const l=[{path:"/dashboard",label:"Dashboard",icon:(0,sn.jsx)(no,{color:"#4285F4"}),color:"#4285F4"},{path:"/leads",label:"Leads",icon:(0,sn.jsx)(bo,{color:"#EA4335"}),color:"#EA4335"},{path:"/lead-generator",label:"Lead Generator",icon:(0,sn.jsx)($l,{color:"#FF7043"}),color:"#FF7043"},{path:"/tasks",label:"Tasks",icon:(0,sn.jsx)(Ir,{color:"#FBBC05"}),color:"#FBBC05"},{path:"/contacts",label:"Contacts",icon:(0,sn.jsx)(wo,{color:"#34A853"}),color:"#34A853"},{path:"/companies",label:"Companies",icon:(0,sn.jsx)(Sr,{color:"#8E44AD"}),color:"#8E44AD"},{path:"/deliveries",label:"Deliveries",icon:(0,sn.jsx)(ho,{color:"#F4511E"}),color:"#F4511E"},{path:"/drivers",label:"Drivers",icon:(0,sn.jsx)(_r,{color:"#42A5F5"}),color:"#42A5F5"},{path:"/routes",label:"Routes",icon:(0,sn.jsx)(Hl,{color:"#7CB342"}),color:"#7CB342"},{path:"/financial",label:"Financial",icon:(0,sn.jsx)(Er,{color:"#00ACC1"}),color:"#00ACC1"},{path:"/reporting",label:"Reports",icon:(0,sn.jsx)(tl,{color:"#9CCC65"}),color:"#9CCC65"},{path:"/performance",label:"Performance",icon:(0,sn.jsx)(Tr,{color:"#EC407A"}),color:"#EC407A"},{path:"/settings",label:"Settings",icon:(0,sn.jsx)(Br,{color:"#78909C"}),color:"#78909C"}];return(0,sn.jsxs)("div",{className:"d-flex",style:{minHeight:"100vh",backgroundColor:"#f8f9fa"},children:[(0,sn.jsxs)("div",{className:"sidebar bg-dark text-white "+(s?"collapsed":""),style:{width:s?"70px":"250px",transition:"width 0.3s ease"},children:[(0,sn.jsxs)("div",{className:"sidebar-header p-3 border-bottom border-secondary d-flex align-items-center",children:[!s&&(0,sn.jsx)("h4",{className:"m-0",children:"Areti CRM"}),s&&(0,sn.jsx)("h4",{className:"m-0 text-center w-100",children:"A"})]}),(0,sn.jsx)("div",{className:"sidebar-content",children:(0,sn.jsx)(ec,{className:"flex-column",children:l.map((e=>(0,sn.jsx)(ec.Item,{children:(0,sn.jsxs)(ec.Link,{as:Le,to:e.path,className:"nav-link py-3 "+(i.pathname.startsWith(e.path)?"active":""),style:{borderLeft:i.pathname.startsWith(e.path)?`3px solid ${e.color}`:"3px solid transparent"},children:[(0,sn.jsx)("span",{className:"icon me-2",children:e.icon}),!s&&(0,sn.jsx)("span",{className:"label",children:e.label})]})},e.path)))})})]}),(0,sn.jsxs)("div",{className:"main-content flex-grow-1 bg-white",children:[(0,sn.jsx)(gd,{bg:"white",expand:"lg",className:"border-bottom",children:(0,sn.jsxs)(jn,{fluid:!0,children:[(0,sn.jsx)(ir,{variant:"light",className:"border-0 sidebar-toggle",onClick:()=>{n(!s),console.log("Sidebar toggled to:",!s),setTimeout((()=>{window.dispatchEvent(new Event("resize"))}),300)},children:(0,sn.jsx)(yr,{})}),(0,sn.jsx)(gd.Brand,{as:Le,to:"/dashboard",children:"Areti Alliance CRM"}),(0,sn.jsx)(gd.Toggle,{}),(0,sn.jsx)(gd.Collapse,{className:"justify-content-end",children:(0,sn.jsxs)(Bh,{align:"end",children:[(0,sn.jsxs)(Bh.Toggle,{variant:"light",id:"dropdown-user",className:"d-flex align-items-center",children:[(0,sn.jsx)(fo,{className:"me-2"}),(0,sn.jsx)("span",{children:e?`${e.firstName} ${e.lastName}`:"User"})]}),(0,sn.jsxs)(Bh.Menu,{children:[(0,sn.jsx)(Bh.Item,{as:Le,to:"/settings",children:"My Profile"}),(0,sn.jsx)(Bh.Item,{as:Le,to:"/settings",children:"Settings"}),(0,sn.jsx)(Bh.Divider,{}),(0,sn.jsxs)(Bh.Item,{onClick:async()=>{try{await t(),r("/login")}catch(e){console.error("Logout error:",e)}},children:[(0,sn.jsx)(Yl,{className:"me-2"})," Sign Out"]})]})]})})]})}),(0,sn.jsx)(jn,{fluid:!0,className:"p-0",children:(0,sn.jsx)("div",{className:"page-content p-3 p-md-4",children:(0,sn.jsx)(ve,{})})}),(0,sn.jsx)("footer",{className:"footer mt-auto py-3 bg-light",children:(0,sn.jsx)(jn,{fluid:!0,className:"text-center",children:(0,sn.jsxs)("span",{className:"text-muted",children:["\xa9 ",(new Date).getFullYear()," Areti Alliance CRM. All rights reserved."]})})})]})]})},Vh=a.forwardRef(((e,t)=>{let{bsPrefix:s,className:n,striped:a,bordered:i,borderless:r,hover:l,size:o,variant:c,responsive:d,...u}=e;const h=pn(s,"table"),m=on()(n,h,c&&`${h}-${c}`,o&&`${h}-${o}`,a&&`${h}-${"string"===typeof a?`striped-${a}`:"striped"}`,i&&`${h}-bordered`,r&&`${h}-borderless`,l&&`${h}-hover`),p=(0,sn.jsx)("table",{...u,className:m,ref:t});if(d){let e=`${h}-responsive`;return"string"===typeof d&&(e=`${e}-${d}`),(0,sn.jsx)("div",{className:e,children:p})}return p})),Uh=Vh;function Wh(e){return e+.5|0}const Gh=(e,t,s)=>Math.max(Math.min(e,s),t);function qh(e){return Gh(Wh(2.55*e),0,255)}function Yh(e){return Gh(Wh(255*e),0,255)}function Kh(e){return Gh(Wh(e/2.55)/100,0,1)}function Jh(e){return Gh(Wh(100*e),0,100)}const Xh={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Zh=[..."0123456789ABCDEF"],Qh=e=>Zh[15&e],em=e=>Zh[(240&e)>>4]+Zh[15&e],tm=e=>(240&e)>>4===(15&e);function sm(e){var t=(e=>tm(e.r)&&tm(e.g)&&tm(e.b)&&tm(e.a))(e)?Qh:em;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0}const nm=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function am(e,t,s){const n=t*Math.min(s,1-s),a=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+e/30)%12;return s-n*Math.max(Math.min(a-3,9-a,1),-1)};return[a(0),a(8),a(4)]}function im(e,t,s){const n=function(n){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(n+e/60)%6;return s-s*t*Math.max(Math.min(a,4-a,1),0)};return[n(5),n(3),n(1)]}function rm(e,t,s){const n=am(e,1,.5);let a;for(t+s>1&&(a=1/(t+s),t*=a,s*=a),a=0;a<3;a++)n[a]*=1-t-s,n[a]+=t;return n}function lm(e){const t=e.r/255,s=e.g/255,n=e.b/255,a=Math.max(t,s,n),i=Math.min(t,s,n),r=(a+i)/2;let l,o,c;return a!==i&&(c=a-i,o=r>.5?c/(2-a-i):c/(a+i),l=function(e,t,s,n,a){return e===a?(t-s)/n+(t<s?6:0):t===a?(s-e)/n+2:(e-t)/n+4}(t,s,n,c,a),l=60*l+.5),[0|l,o||0,r]}function om(e,t,s,n){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,s,n)).map(Yh)}function cm(e,t,s){return om(am,e,t,s)}function dm(e){return(e%360+360)%360}function um(e){const t=nm.exec(e);let s,n=255;if(!t)return;t[5]!==s&&(n=t[6]?qh(+t[5]):Yh(+t[5]));const a=dm(+t[2]),i=+t[3]/100,r=+t[4]/100;return s="hwb"===t[1]?function(e,t,s){return om(rm,e,t,s)}(a,i,r):"hsv"===t[1]?function(e,t,s){return om(im,e,t,s)}(a,i,r):cm(a,i,r),{r:s[0],g:s[1],b:s[2],a:n}}const hm={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},mm={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let pm;function xm(e){pm||(pm=function(){const e={},t=Object.keys(mm),s=Object.keys(hm);let n,a,i,r,l;for(n=0;n<t.length;n++){for(r=l=t[n],a=0;a<s.length;a++)i=s[a],l=l.replace(i,hm[i]);i=parseInt(mm[r],16),e[l]=[i>>16&255,i>>8&255,255&i]}return e}(),pm.transparent=[0,0,0,0]);const t=pm[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const fm=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const gm=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,vm=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function jm(e,t,s){if(e){let n=lm(e);n[t]=Math.max(0,Math.min(n[t]+n[t]*s,0===t?360:1)),n=cm(n),e.r=n[0],e.g=n[1],e.b=n[2]}}function bm(e,t){return e?Object.assign(t||{},e):e}function ym(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Yh(e[3]))):(t=bm(e,{r:0,g:0,b:0,a:1})).a=Yh(t.a),t}function wm(e){return"r"===e.charAt(0)?function(e){const t=fm.exec(e);let s,n,a,i=255;if(t){if(t[7]!==s){const e=+t[7];i=t[8]?qh(e):Gh(255*e,0,255)}return s=+t[1],n=+t[3],a=+t[5],s=255&(t[2]?qh(s):Gh(s,0,255)),n=255&(t[4]?qh(n):Gh(n,0,255)),a=255&(t[6]?qh(a):Gh(a,0,255)),{r:s,g:n,b:a,a:i}}}(e):um(e)}class Nm{constructor(e){if(e instanceof Nm)return e;const t=typeof e;let s;"object"===t?s=ym(e):"string"===t&&(s=function(e){var t,s=e.length;return"#"===e[0]&&(4===s||5===s?t={r:255&17*Xh[e[1]],g:255&17*Xh[e[2]],b:255&17*Xh[e[3]],a:5===s?17*Xh[e[4]]:255}:7!==s&&9!==s||(t={r:Xh[e[1]]<<4|Xh[e[2]],g:Xh[e[3]]<<4|Xh[e[4]],b:Xh[e[5]]<<4|Xh[e[6]],a:9===s?Xh[e[7]]<<4|Xh[e[8]]:255})),t}(e)||xm(e)||wm(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=bm(this._rgb);return e&&(e.a=Kh(e.a)),e}set rgb(e){this._rgb=ym(e)}rgbString(){return this._valid?(e=this._rgb)&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Kh(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`):void 0;var e}hexString(){return this._valid?sm(this._rgb):void 0}hslString(){return this._valid?function(e){if(!e)return;const t=lm(e),s=t[0],n=Jh(t[1]),a=Jh(t[2]);return e.a<255?`hsla(${s}, ${n}%, ${a}%, ${Kh(e.a)})`:`hsl(${s}, ${n}%, ${a}%)`}(this._rgb):void 0}mix(e,t){if(e){const s=this.rgb,n=e.rgb;let a;const i=t===a?.5:t,r=2*i-1,l=s.a-n.a,o=((r*l===-1?r:(r+l)/(1+r*l))+1)/2;a=1-o,s.r=255&o*s.r+a*n.r+.5,s.g=255&o*s.g+a*n.g+.5,s.b=255&o*s.b+a*n.b+.5,s.a=i*s.a+(1-i)*n.a,this.rgb=s}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,s){const n=vm(Kh(e.r)),a=vm(Kh(e.g)),i=vm(Kh(e.b));return{r:Yh(gm(n+s*(vm(Kh(t.r))-n))),g:Yh(gm(a+s*(vm(Kh(t.g))-a))),b:Yh(gm(i+s*(vm(Kh(t.b))-i))),a:e.a+s*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new Nm(this.rgb)}alpha(e){return this._rgb.a=Yh(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=Wh(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return jm(this._rgb,2,e),this}darken(e){return jm(this._rgb,2,-e),this}saturate(e){return jm(this._rgb,1,e),this}desaturate(e){return jm(this._rgb,1,-e),this}rotate(e){return function(e,t){var s=lm(e);s[0]=dm(s[0]+t),s=cm(s),e.r=s[0],e.g=s[1],e.b=s[2]}(this._rgb,e),this}}function Cm(){}const Sm=(()=>{let e=0;return()=>e++})();function km(e){return null===e||void 0===e}function Dm(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function _m(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function Am(e){return("number"===typeof e||e instanceof Number)&&isFinite(+e)}function Tm(e,t){return Am(e)?e:t}function Em(e,t){return"undefined"===typeof e?t:e}const Lm=(e,t)=>"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Mm(e,t,s){if(e&&"function"===typeof e.call)return e.apply(s,t)}function Im(e,t,s,n){let a,i,r;if(Dm(e))if(i=e.length,n)for(a=i-1;a>=0;a--)t.call(s,e[a],a);else for(a=0;a<i;a++)t.call(s,e[a],a);else if(_m(e))for(r=Object.keys(e),i=r.length,a=0;a<i;a++)t.call(s,e[r[a]],r[a])}function Pm(e,t){let s,n,a,i;if(!e||!t||e.length!==t.length)return!1;for(s=0,n=e.length;s<n;++s)if(a=e[s],i=t[s],a.datasetIndex!==i.datasetIndex||a.index!==i.index)return!1;return!0}function Om(e){if(Dm(e))return e.map(Om);if(_m(e)){const t=Object.create(null),s=Object.keys(e),n=s.length;let a=0;for(;a<n;++a)t[s[a]]=Om(e[s[a]]);return t}return e}function Rm(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function Fm(e,t,s,n){if(!Rm(e))return;const a=t[e],i=s[e];_m(a)&&_m(i)?zm(a,i,n):t[e]=Om(i)}function zm(e,t,s){const n=Dm(t)?t:[t],a=n.length;if(!_m(e))return e;const i=(s=s||{}).merger||Fm;let r;for(let l=0;l<a;++l){if(r=n[l],!_m(r))continue;const t=Object.keys(r);for(let n=0,a=t.length;n<a;++n)i(t[n],e,r,s)}return e}function Bm(e,t){return zm(e,t,{merger:$m})}function $m(e,t,s){if(!Rm(e))return;const n=t[e],a=s[e];_m(n)&&_m(a)?Bm(n,a):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Om(a))}const Hm={"":e=>e,x:e=>e.x,y:e=>e.y};function Vm(e,t){const s=Hm[t]||(Hm[t]=function(e){const t=function(e){const t=e.split("."),s=[];let n="";for(const a of t)n+=a,n.endsWith("\\")?n=n.slice(0,-1)+".":(s.push(n),n="");return s}(e);return e=>{for(const s of t){if(""===s)break;e=e&&e[s]}return e}}(t));return s(e)}function Um(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Wm=e=>"undefined"!==typeof e,Gm=e=>"function"===typeof e,qm=(e,t)=>{if(e.size!==t.size)return!1;for(const s of e)if(!t.has(s))return!1;return!0};const Ym=Math.PI,Km=2*Ym,Jm=Km+Ym,Xm=Number.POSITIVE_INFINITY,Zm=Ym/180,Qm=Ym/2,ep=Ym/4,tp=2*Ym/3,sp=Math.log10,np=Math.sign;function ap(e,t,s){return Math.abs(e-t)<s}function ip(e){const t=Math.round(e);e=ap(e,t,e/1e3)?t:e;const s=Math.pow(10,Math.floor(sp(e))),n=e/s;return(n<=1?1:n<=2?2:n<=5?5:10)*s}function rp(e){return!function(e){return"symbol"===typeof e||"object"===typeof e&&null!==e&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function lp(e,t,s){let n,a,i;for(n=0,a=e.length;n<a;n++)i=e[n][s],isNaN(i)||(t.min=Math.min(t.min,i),t.max=Math.max(t.max,i))}function op(e){return e*(Ym/180)}function cp(e){return e*(180/Ym)}function dp(e){if(!Am(e))return;let t=1,s=0;for(;Math.round(e*t)/t!==e;)t*=10,s++;return s}function up(e,t){const s=t.x-e.x,n=t.y-e.y,a=Math.sqrt(s*s+n*n);let i=Math.atan2(n,s);return i<-.5*Ym&&(i+=Km),{angle:i,distance:a}}function hp(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function mp(e,t){return(e-t+Jm)%Km-Ym}function pp(e){return(e%Km+Km)%Km}function xp(e,t,s,n){const a=pp(e),i=pp(t),r=pp(s),l=pp(i-a),o=pp(r-a),c=pp(a-i),d=pp(a-r);return a===i||a===r||n&&i===r||l>o&&c<d}function fp(e,t,s){return Math.max(t,Math.min(s,e))}function gp(e,t,s){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return e>=Math.min(t,s)-n&&e<=Math.max(t,s)+n}function vp(e,t,s){s=s||(s=>e[s]<t);let n,a=e.length-1,i=0;for(;a-i>1;)n=i+a>>1,s(n)?i=n:a=n;return{lo:i,hi:a}}const jp=(e,t,s,n)=>vp(e,s,n?n=>{const a=e[n][t];return a<s||a===s&&e[n+1][t]===s}:n=>e[n][t]<s),bp=(e,t,s)=>vp(e,s,(n=>e[n][t]>=s));const yp=["push","pop","shift","splice","unshift"];function wp(e,t){const s=e._chartjs;if(!s)return;const n=s.listeners,a=n.indexOf(t);-1!==a&&n.splice(a,1),n.length>0||(yp.forEach((t=>{delete e[t]})),delete e._chartjs)}function Np(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const Cp="undefined"===typeof window?function(e){return e()}:window.requestAnimationFrame;function Sp(e,t){let s=[],n=!1;return function(){for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];s=i,n||(n=!0,Cp.call(window,(()=>{n=!1,e.apply(t,s)})))}}const kp=e=>"start"===e?"left":"end"===e?"right":"center",Dp=(e,t,s)=>"start"===e?t:"end"===e?s:(t+s)/2;function _p(e,t,s){const n=t.length;let a=0,i=n;if(e._sorted){const{iScale:r,vScale:l,_parsed:o}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,d=r.axis,{min:u,max:h,minDefined:m,maxDefined:p}=r.getUserBounds();if(m){if(a=Math.min(jp(o,d,u).lo,s?n:jp(t,d,r.getPixelForValue(u)).lo),c){const e=o.slice(0,a+1).reverse().findIndex((e=>!km(e[l.axis])));a-=Math.max(0,e)}a=fp(a,0,n-1)}if(p){let e=Math.max(jp(o,r.axis,h,!0).hi+1,s?0:jp(t,d,r.getPixelForValue(h),!0).hi+1);if(c){const t=o.slice(e-1).findIndex((e=>!km(e[l.axis])));e+=Math.max(0,t)}i=fp(e,a,n)-a}else i=n-a}return{start:a,count:i}}function Ap(e){const{xScale:t,yScale:s,_scaleRanges:n}=e,a={xmin:t.min,xmax:t.max,ymin:s.min,ymax:s.max};if(!n)return e._scaleRanges=a,!0;const i=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==s.min||n.ymax!==s.max;return Object.assign(n,a),i}const Tp=e=>0===e||1===e,Ep=(e,t,s)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*Km/s),Lp=(e,t,s)=>Math.pow(2,-10*e)*Math.sin((e-t)*Km/s)+1,Mp={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*Qm),easeOutSine:e=>Math.sin(e*Qm),easeInOutSine:e=>-.5*(Math.cos(Ym*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>Tp(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Tp(e)?e:Ep(e,.075,.3),easeOutElastic:e=>Tp(e)?e:Lp(e,.075,.3),easeInOutElastic(e){const t=.1125;return Tp(e)?e:e<.5?.5*Ep(2*e,t,.45):.5+.5*Lp(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-Mp.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,s=2.75;return e<1/s?t*e*e:e<2/s?t*(e-=1.5/s)*e+.75:e<2.5/s?t*(e-=2.25/s)*e+.9375:t*(e-=2.625/s)*e+.984375},easeInOutBounce:e=>e<.5?.5*Mp.easeInBounce(2*e):.5*Mp.easeOutBounce(2*e-1)+.5};function Ip(e){if(e&&"object"===typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function Pp(e){return Ip(e)?e:new Nm(e)}function Op(e){return Ip(e)?e:new Nm(e).saturate(.5).darken(.1).hexString()}const Rp=["x","y","borderWidth","radius","tension"],Fp=["color","borderColor","backgroundColor"];const zp=new Map;function Bp(e,t,s){return function(e,t){t=t||{};const s=e+JSON.stringify(t);let n=zp.get(s);return n||(n=new Intl.NumberFormat(e,t),zp.set(s,n)),n}(t,s).format(e)}const $p={values:e=>Dm(e)?e:""+e,numeric(e,t,s){if(0===e)return"0";const n=this.chart.options.locale;let a,i=e;if(s.length>1){const t=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(t<1e-4||t>1e15)&&(a="scientific"),i=function(e,t){let s=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(s)>=1&&e!==Math.floor(e)&&(s=e-Math.floor(e));return s}(e,s)}const r=sp(Math.abs(i)),l=isNaN(r)?1:Math.max(Math.min(-1*Math.floor(r),20),0),o={notation:a,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(o,this.options.ticks.format),Bp(e,n,o)},logarithmic(e,t,s){if(0===e)return"0";const n=s[t].significand||e/Math.pow(10,Math.floor(sp(e)));return[1,2,3,5,10,15].includes(n)||t>.8*s.length?$p.numeric.call(this,e,t,s):""}};var Hp={formatters:$p};const Vp=Object.create(null),Up=Object.create(null);function Wp(e,t){if(!t)return e;const s=t.split(".");for(let n=0,a=s.length;n<a;++n){const t=s[n];e=e[t]||(e[t]=Object.create(null))}return e}function Gp(e,t,s){return"string"===typeof t?zm(Wp(e,t),s):zm(Wp(e,""),t)}class qp{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>Op(t.backgroundColor),this.hoverBorderColor=(e,t)=>Op(t.borderColor),this.hoverColor=(e,t)=>Op(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Gp(this,e,t)}get(e){return Wp(this,e)}describe(e,t){return Gp(Up,e,t)}override(e,t){return Gp(Vp,e,t)}route(e,t,s,n){const a=Wp(this,e),i=Wp(this,s),r="_"+t;Object.defineProperties(a,{[r]:{value:a[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[r],t=i[n];return _m(e)?Object.assign({},t,e):Em(e,t)},set(e){this[r]=e}}})}apply(e){e.forEach((e=>e(this)))}}var Yp=new qp({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:Fp},numbers:{type:"number",properties:Rp}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Hp.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function Kp(e,t,s,n,a){let i=t[a];return i||(i=t[a]=e.measureText(a).width,s.push(a)),i>n&&(n=i),n}function Jp(e,t,s,n){let a=(n=n||{}).data=n.data||{},i=n.garbageCollect=n.garbageCollect||[];n.font!==t&&(a=n.data={},i=n.garbageCollect=[],n.font=t),e.save(),e.font=t;let r=0;const l=s.length;let o,c,d,u,h;for(o=0;o<l;o++)if(u=s[o],void 0===u||null===u||Dm(u)){if(Dm(u))for(c=0,d=u.length;c<d;c++)h=u[c],void 0===h||null===h||Dm(h)||(r=Kp(e,a,i,r,h))}else r=Kp(e,a,i,r,u);e.restore();const m=i.length/2;if(m>s.length){for(o=0;o<m;o++)delete a[i[o]];i.splice(0,m)}return r}function Xp(e,t,s){const n=e.currentDevicePixelRatio,a=0!==s?Math.max(s/2,.5):0;return Math.round((t-a)*n)/n+a}function Zp(e,t){(t||e)&&((t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function Qp(e,t,s,n){ex(e,t,s,n,null)}function ex(e,t,s,n,a){let i,r,l,o,c,d,u,h;const m=t.pointStyle,p=t.rotation,x=t.radius;let f=(p||0)*Zm;if(m&&"object"===typeof m&&(i=m.toString(),"[object HTMLImageElement]"===i||"[object HTMLCanvasElement]"===i))return e.save(),e.translate(s,n),e.rotate(f),e.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),void e.restore();if(!(isNaN(x)||x<=0)){switch(e.beginPath(),m){default:a?e.ellipse(s,n,a/2,x,0,0,Km):e.arc(s,n,x,0,Km),e.closePath();break;case"triangle":d=a?a/2:x,e.moveTo(s+Math.sin(f)*d,n-Math.cos(f)*x),f+=tp,e.lineTo(s+Math.sin(f)*d,n-Math.cos(f)*x),f+=tp,e.lineTo(s+Math.sin(f)*d,n-Math.cos(f)*x),e.closePath();break;case"rectRounded":c=.516*x,o=x-c,r=Math.cos(f+ep)*o,u=Math.cos(f+ep)*(a?a/2-c:o),l=Math.sin(f+ep)*o,h=Math.sin(f+ep)*(a?a/2-c:o),e.arc(s-u,n-l,c,f-Ym,f-Qm),e.arc(s+h,n-r,c,f-Qm,f),e.arc(s+u,n+l,c,f,f+Qm),e.arc(s-h,n+r,c,f+Qm,f+Ym),e.closePath();break;case"rect":if(!p){o=Math.SQRT1_2*x,d=a?a/2:o,e.rect(s-d,n-o,2*d,2*o);break}f+=ep;case"rectRot":u=Math.cos(f)*(a?a/2:x),r=Math.cos(f)*x,l=Math.sin(f)*x,h=Math.sin(f)*(a?a/2:x),e.moveTo(s-u,n-l),e.lineTo(s+h,n-r),e.lineTo(s+u,n+l),e.lineTo(s-h,n+r),e.closePath();break;case"crossRot":f+=ep;case"cross":u=Math.cos(f)*(a?a/2:x),r=Math.cos(f)*x,l=Math.sin(f)*x,h=Math.sin(f)*(a?a/2:x),e.moveTo(s-u,n-l),e.lineTo(s+u,n+l),e.moveTo(s+h,n-r),e.lineTo(s-h,n+r);break;case"star":u=Math.cos(f)*(a?a/2:x),r=Math.cos(f)*x,l=Math.sin(f)*x,h=Math.sin(f)*(a?a/2:x),e.moveTo(s-u,n-l),e.lineTo(s+u,n+l),e.moveTo(s+h,n-r),e.lineTo(s-h,n+r),f+=ep,u=Math.cos(f)*(a?a/2:x),r=Math.cos(f)*x,l=Math.sin(f)*x,h=Math.sin(f)*(a?a/2:x),e.moveTo(s-u,n-l),e.lineTo(s+u,n+l),e.moveTo(s+h,n-r),e.lineTo(s-h,n+r);break;case"line":r=a?a/2:Math.cos(f)*x,l=Math.sin(f)*x,e.moveTo(s-r,n-l),e.lineTo(s+r,n+l);break;case"dash":e.moveTo(s,n),e.lineTo(s+Math.cos(f)*(a?a/2:x),n+Math.sin(f)*x);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function tx(e,t,s){return s=s||.5,!t||e&&e.x>t.left-s&&e.x<t.right+s&&e.y>t.top-s&&e.y<t.bottom+s}function sx(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function nx(e){e.restore()}function ax(e,t,s,n,a){if(!t)return e.lineTo(s.x,s.y);if("middle"===a){const n=(t.x+s.x)/2;e.lineTo(n,t.y),e.lineTo(n,s.y)}else"after"===a!==!!n?e.lineTo(t.x,s.y):e.lineTo(s.x,t.y);e.lineTo(s.x,s.y)}function ix(e,t,s,n){if(!t)return e.lineTo(s.x,s.y);e.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?s.cp2x:s.cp1x,n?s.cp2y:s.cp1y,s.x,s.y)}function rx(e,t,s,n,a){if(a.strikethrough||a.underline){const i=e.measureText(n),r=t-i.actualBoundingBoxLeft,l=t+i.actualBoundingBoxRight,o=s-i.actualBoundingBoxAscent,c=s+i.actualBoundingBoxDescent,d=a.strikethrough?(o+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=a.decorationWidth||2,e.moveTo(r,d),e.lineTo(l,d),e.stroke()}}function lx(e,t){const s=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=s}function ox(e,t,s,n,a){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const r=Dm(t)?t:[t],l=i.strokeWidth>0&&""!==i.strokeColor;let o,c;for(e.save(),e.font=a.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),km(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,i),o=0;o<r.length;++o)c=r[o],i.backdrop&&lx(e,i.backdrop),l&&(i.strokeColor&&(e.strokeStyle=i.strokeColor),km(i.strokeWidth)||(e.lineWidth=i.strokeWidth),e.strokeText(c,s,n,i.maxWidth)),e.fillText(c,s,n,i.maxWidth),rx(e,s,n,c,i),n+=Number(a.lineHeight);e.restore()}function cx(e,t){const{x:s,y:n,w:a,h:i,radius:r}=t;e.arc(s+r.topLeft,n+r.topLeft,r.topLeft,1.5*Ym,Ym,!0),e.lineTo(s,n+i-r.bottomLeft),e.arc(s+r.bottomLeft,n+i-r.bottomLeft,r.bottomLeft,Ym,Qm,!0),e.lineTo(s+a-r.bottomRight,n+i),e.arc(s+a-r.bottomRight,n+i-r.bottomRight,r.bottomRight,Qm,0,!0),e.lineTo(s+a,n+r.topRight),e.arc(s+a-r.topRight,n+r.topRight,r.topRight,0,-Qm,!0),e.lineTo(s+r.topLeft,n)}const dx=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,ux=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function hx(e,t){const s=(""+e).match(dx);if(!s||"normal"===s[1])return 1.2*t;switch(e=+s[2],s[3]){case"px":return e;case"%":e/=100}return t*e}function mx(e,t){const s={},n=_m(t),a=n?Object.keys(t):t,i=_m(e)?n?s=>Em(e[s],e[t[s]]):t=>e[t]:()=>e;for(const r of a)s[r]=+i(r)||0;return s}function px(e){return mx(e,{top:"y",right:"x",bottom:"y",left:"x"})}function xx(e){return mx(e,["topLeft","topRight","bottomLeft","bottomRight"])}function fx(e){const t=px(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function gx(e,t){e=e||{},t=t||Yp.font;let s=Em(e.size,t.size);"string"===typeof s&&(s=parseInt(s,10));let n=Em(e.style,t.style);n&&!(""+n).match(ux)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const a={family:Em(e.family,t.family),lineHeight:hx(Em(e.lineHeight,t.lineHeight),s),size:s,style:n,weight:Em(e.weight,t.weight),string:""};return a.string=function(e){return!e||km(e.size)||km(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(a),a}function vx(e,t,s,n){let a,i,r,l=!0;for(a=0,i=e.length;a<i;++a)if(r=e[a],void 0!==r&&(void 0!==t&&"function"===typeof r&&(r=r(t),l=!1),void 0!==s&&Dm(r)&&(r=r[s%r.length],l=!1),void 0!==r))return n&&!l&&(n.cacheable=!1),r}function jx(e,t){return Object.assign(Object.create(e),t)}function bx(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],s=arguments.length>3?arguments[3]:void 0,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>e[0];const a=(arguments.length>2?arguments[2]:void 0)||e;"undefined"===typeof s&&(s=Ex("_fallback",e));const i={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:a,_fallback:s,_getTarget:n,override:n=>bx([n,...e],t,a,s)};return new Proxy(i,{deleteProperty:(t,s)=>(delete t[s],delete t._keys,delete e[0][s],!0),get:(s,n)=>Sx(s,n,(()=>function(e,t,s,n){let a;for(const i of t)if(a=Ex(Nx(i,e),s),"undefined"!==typeof a)return Cx(e,a)?Ax(s,n,e,a):a}(n,t,e,s))),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>Lx(e).includes(t),ownKeys:e=>Lx(e),set(e,t,s){const a=e._storage||(e._storage=n());return e[t]=a[t]=s,delete e._keys,!0}})}function yx(e,t,s,n){const a={_cacheable:!1,_proxy:e,_context:t,_subProxy:s,_stack:new Set,_descriptors:wx(e,n),setContext:t=>yx(e,t,s,n),override:a=>yx(e.override(a),t,s,n)};return new Proxy(a,{deleteProperty:(t,s)=>(delete t[s],delete e[s],!0),get:(e,t,s)=>Sx(e,t,(()=>function(e,t,s){const{_proxy:n,_context:a,_subProxy:i,_descriptors:r}=e;let l=n[t];Gm(l)&&r.isScriptable(t)&&(l=function(e,t,s,n){const{_proxy:a,_context:i,_subProxy:r,_stack:l}=s;if(l.has(e))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+e);l.add(e);let o=t(i,r||n);l.delete(e),Cx(e,o)&&(o=Ax(a._scopes,a,e,o));return o}(t,l,e,s));Dm(l)&&l.length&&(l=function(e,t,s,n){const{_proxy:a,_context:i,_subProxy:r,_descriptors:l}=s;if("undefined"!==typeof i.index&&n(e))return t[i.index%t.length];if(_m(t[0])){const s=t,n=a._scopes.filter((e=>e!==s));t=[];for(const o of s){const s=Ax(n,a,e,o);t.push(yx(s,i,r&&r[e],l))}}return t}(t,l,e,r.isIndexable));Cx(t,l)&&(l=yx(l,a,i&&i[t],r));return l}(e,t,s))),getOwnPropertyDescriptor:(t,s)=>t._descriptors.allKeys?Reflect.has(e,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,s),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,s)=>Reflect.has(e,s),ownKeys:()=>Reflect.ownKeys(e),set:(t,s,n)=>(e[s]=n,delete t[s],!0)})}function wx(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:s=t.scriptable,_indexable:n=t.indexable,_allKeys:a=t.allKeys}=e;return{allKeys:a,scriptable:s,indexable:n,isScriptable:Gm(s)?s:()=>s,isIndexable:Gm(n)?n:()=>n}}const Nx=(e,t)=>e?e+Um(t):t,Cx=(e,t)=>_m(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function Sx(e,t,s){if(Object.prototype.hasOwnProperty.call(e,t)||"constructor"===t)return e[t];const n=s();return e[t]=n,n}function kx(e,t,s){return Gm(e)?e(t,s):e}const Dx=(e,t)=>!0===e?t:"string"===typeof e?Vm(t,e):void 0;function _x(e,t,s,n,a){for(const i of t){const t=Dx(s,i);if(t){e.add(t);const i=kx(t._fallback,s,a);if("undefined"!==typeof i&&i!==s&&i!==n)return i}else if(!1===t&&"undefined"!==typeof n&&s!==n)return null}return!1}function Ax(e,t,s,n){const a=t._rootScopes,i=kx(t._fallback,s,n),r=[...e,...a],l=new Set;l.add(n);let o=Tx(l,r,s,i||s,n);return null!==o&&(("undefined"===typeof i||i===s||(o=Tx(l,r,i,o,n),null!==o))&&bx(Array.from(l),[""],a,i,(()=>function(e,t,s){const n=e._getTarget();t in n||(n[t]={});const a=n[t];if(Dm(a)&&_m(s))return s;return a||{}}(t,s,n))))}function Tx(e,t,s,n,a){for(;s;)s=_x(e,t,s,n,a);return s}function Ex(e,t){for(const s of t){if(!s)continue;const t=s[e];if("undefined"!==typeof t)return t}}function Lx(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const s of e)for(const e of Object.keys(s).filter((e=>!e.startsWith("_"))))t.add(e);return Array.from(t)}(e._scopes)),t}function Mx(e,t,s,n){const{iScale:a}=e,{key:i="r"}=this._parsing,r=new Array(n);let l,o,c,d;for(l=0,o=n;l<o;++l)c=l+s,d=t[c],r[l]={r:a.parse(Vm(d,i),c)};return r}const Ix=Number.EPSILON||1e-14,Px=(e,t)=>t<e.length&&!e[t].skip&&e[t],Ox=e=>"x"===e?"y":"x";function Rx(e,t,s,n){const a=e.skip?t:e,i=t,r=s.skip?t:s,l=hp(i,a),o=hp(r,i);let c=l/(l+o),d=o/(l+o);c=isNaN(c)?0:c,d=isNaN(d)?0:d;const u=n*c,h=n*d;return{previous:{x:i.x-u*(r.x-a.x),y:i.y-u*(r.y-a.y)},next:{x:i.x+h*(r.x-a.x),y:i.y+h*(r.y-a.y)}}}function Fx(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const s=Ox(t),n=e.length,a=Array(n).fill(0),i=Array(n);let r,l,o,c=Px(e,0);for(r=0;r<n;++r)if(l=o,o=c,c=Px(e,r+1),o){if(c){const e=c[t]-o[t];a[r]=0!==e?(c[s]-o[s])/e:0}i[r]=l?c?np(a[r-1])!==np(a[r])?0:(a[r-1]+a[r])/2:a[r-1]:a[r]}!function(e,t,s){const n=e.length;let a,i,r,l,o,c=Px(e,0);for(let d=0;d<n-1;++d)o=c,c=Px(e,d+1),o&&c&&(ap(t[d],0,Ix)?s[d]=s[d+1]=0:(a=s[d]/t[d],i=s[d+1]/t[d],l=Math.pow(a,2)+Math.pow(i,2),l<=9||(r=3/Math.sqrt(l),s[d]=a*r*t[d],s[d+1]=i*r*t[d])))}(e,a,i),function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const n=Ox(s),a=e.length;let i,r,l,o=Px(e,0);for(let c=0;c<a;++c){if(r=l,l=o,o=Px(e,c+1),!l)continue;const a=l[s],d=l[n];r&&(i=(a-r[s])/3,l[`cp1${s}`]=a-i,l[`cp1${n}`]=d-i*t[c]),o&&(i=(o[s]-a)/3,l[`cp2${s}`]=a+i,l[`cp2${n}`]=d+i*t[c])}}(e,i,t)}function zx(e,t,s){return Math.max(Math.min(e,s),t)}function Bx(e,t,s,n,a){let i,r,l,o;if(t.spanGaps&&(e=e.filter((e=>!e.skip))),"monotone"===t.cubicInterpolationMode)Fx(e,a);else{let s=n?e[e.length-1]:e[0];for(i=0,r=e.length;i<r;++i)l=e[i],o=Rx(s,l,e[Math.min(i+1,r-(n?0:1))%r],t.tension),l.cp1x=o.previous.x,l.cp1y=o.previous.y,l.cp2x=o.next.x,l.cp2y=o.next.y,s=l}t.capBezierPoints&&function(e,t){let s,n,a,i,r,l=tx(e[0],t);for(s=0,n=e.length;s<n;++s)r=i,i=l,l=s<n-1&&tx(e[s+1],t),i&&(a=e[s],r&&(a.cp1x=zx(a.cp1x,t.left,t.right),a.cp1y=zx(a.cp1y,t.top,t.bottom)),l&&(a.cp2x=zx(a.cp2x,t.left,t.right),a.cp2y=zx(a.cp2y,t.top,t.bottom)))}(e,s)}function $x(){return"undefined"!==typeof window&&"undefined"!==typeof document}function Hx(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function Vx(e,t,s){let n;return"string"===typeof e?(n=parseInt(e,10),-1!==e.indexOf("%")&&(n=n/100*t.parentNode[s])):n=e,n}const Ux=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);const Wx=["top","right","bottom","left"];function Gx(e,t,s){const n={};s=s?"-"+s:"";for(let a=0;a<4;a++){const i=Wx[a];n[i]=parseFloat(e[t+"-"+i+s])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}function qx(e,t){if("native"in e)return e;const{canvas:s,currentDevicePixelRatio:n}=t,a=Ux(s),i="border-box"===a.boxSizing,r=Gx(a,"padding"),l=Gx(a,"border","width"),{x:o,y:c,box:d}=function(e,t){const s=e.touches,n=s&&s.length?s[0]:e,{offsetX:a,offsetY:i}=n;let r,l,o=!1;if(((e,t,s)=>(e>0||t>0)&&(!s||!s.shadowRoot))(a,i,e.target))r=a,l=i;else{const e=t.getBoundingClientRect();r=n.clientX-e.left,l=n.clientY-e.top,o=!0}return{x:r,y:l,box:o}}(e,s),u=r.left+(d&&l.left),h=r.top+(d&&l.top);let{width:m,height:p}=t;return i&&(m-=r.width+l.width,p-=r.height+l.height),{x:Math.round((o-u)/m*s.width/n),y:Math.round((c-h)/p*s.height/n)}}const Yx=e=>Math.round(10*e)/10;function Kx(e,t,s,n){const a=Ux(e),i=Gx(a,"margin"),r=Vx(a.maxWidth,e,"clientWidth")||Xm,l=Vx(a.maxHeight,e,"clientHeight")||Xm,o=function(e,t,s){let n,a;if(void 0===t||void 0===s){const i=e&&Hx(e);if(i){const e=i.getBoundingClientRect(),r=Ux(i),l=Gx(r,"border","width"),o=Gx(r,"padding");t=e.width-o.width-l.width,s=e.height-o.height-l.height,n=Vx(r.maxWidth,i,"clientWidth"),a=Vx(r.maxHeight,i,"clientHeight")}else t=e.clientWidth,s=e.clientHeight}return{width:t,height:s,maxWidth:n||Xm,maxHeight:a||Xm}}(e,t,s);let{width:c,height:d}=o;if("content-box"===a.boxSizing){const e=Gx(a,"border","width"),t=Gx(a,"padding");c-=t.width+e.width,d-=t.height+e.height}c=Math.max(0,c-i.width),d=Math.max(0,n?c/n:d-i.height),c=Yx(Math.min(c,r,o.maxWidth)),d=Yx(Math.min(d,l,o.maxHeight)),c&&!d&&(d=Yx(c/2));return(void 0!==t||void 0!==s)&&n&&o.height&&d>o.height&&(d=o.height,c=Yx(Math.floor(d*n))),{width:c,height:d}}function Jx(e,t,s){const n=t||1,a=Math.floor(e.height*n),i=Math.floor(e.width*n);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const r=e.canvas;return r.style&&(s||!r.style.height&&!r.style.width)&&(r.style.height=`${e.height}px`,r.style.width=`${e.width}px`),(e.currentDevicePixelRatio!==n||r.height!==a||r.width!==i)&&(e.currentDevicePixelRatio=n,r.height=a,r.width=i,e.ctx.setTransform(n,0,0,n,0,0),!0)}const Xx=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};$x()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(ok){}return e}();function Zx(e,t){const s=function(e,t){return Ux(e).getPropertyValue(t)}(e,t),n=s&&s.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function Qx(e,t,s,n){return{x:e.x+s*(t.x-e.x),y:e.y+s*(t.y-e.y)}}function ef(e,t,s,n){return{x:e.x+s*(t.x-e.x),y:"middle"===n?s<.5?e.y:t.y:"after"===n?s<1?e.y:t.y:s>0?t.y:e.y}}function tf(e,t,s,n){const a={x:e.cp2x,y:e.cp2y},i={x:t.cp1x,y:t.cp1y},r=Qx(e,a,s),l=Qx(a,i,s),o=Qx(i,t,s),c=Qx(r,l,s),d=Qx(l,o,s);return Qx(c,d,s)}function sf(e,t,s){return e?function(e,t){return{x:s=>e+e+t-s,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,s):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function nf(e,t){let s,n;"ltr"!==t&&"rtl"!==t||(s=e.canvas.style,n=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",t,"important"),e.prevTextDirection=n)}function af(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function rf(e){return"angle"===e?{between:xp,compare:mp,normalize:pp}:{between:gp,compare:(e,t)=>e-t,normalize:e=>e}}function lf(e){let{start:t,end:s,count:n,loop:a,style:i}=e;return{start:t%n,end:s%n,loop:a&&(s-t+1)%n===0,style:i}}function of(e,t,s){if(!s)return[e];const{property:n,start:a,end:i}=s,r=t.length,{compare:l,between:o,normalize:c}=rf(n),{start:d,end:u,loop:h,style:m}=function(e,t,s){const{property:n,start:a,end:i}=s,{between:r,normalize:l}=rf(n),o=t.length;let c,d,{start:u,end:h,loop:m}=e;if(m){for(u+=o,h+=o,c=0,d=o;c<d&&r(l(t[u%o][n]),a,i);++c)u--,h--;u%=o,h%=o}return h<u&&(h+=o),{start:u,end:h,loop:m,style:e.style}}(e,t,s),p=[];let x,f,g,v=!1,j=null;const b=()=>v||o(a,g,x)&&0!==l(a,g),y=()=>!v||0===l(i,x)||o(i,g,x);for(let w=d,N=d;w<=u;++w)f=t[w%r],f.skip||(x=c(f[n]),x!==g&&(v=o(x,a,i),null===j&&b()&&(j=0===l(x,a)?w:N),null!==j&&y()&&(p.push(lf({start:j,end:w,loop:h,count:r,style:m})),j=null),N=w,g=x));return null!==j&&p.push(lf({start:j,end:u,loop:h,count:r,style:m})),p}function cf(e,t){const s=[],n=e.segments;for(let a=0;a<n.length;a++){const i=of(n[a],e.points,t);i.length&&s.push(...i)}return s}function df(e,t,s,n){return n&&n.setContext&&s?function(e,t,s,n){const a=e._chart.getContext(),i=uf(e.options),{_datasetIndex:r,options:{spanGaps:l}}=e,o=s.length,c=[];let d=i,u=t[0].start,h=u;function m(e,t,n,a){const i=l?-1:1;if(e!==t){for(e+=o;s[e%o].skip;)e-=i;for(;s[t%o].skip;)t+=i;e%o!==t%o&&(c.push({start:e%o,end:t%o,loop:n,style:a}),d=a,u=t%o)}}for(const p of t){u=l?u:p.start;let e,t=s[u%o];for(h=u+1;h<=p.end;h++){const i=s[h%o];e=uf(n.setContext(jx(a,{type:"segment",p0:t,p1:i,p0DataIndex:(h-1)%o,p1DataIndex:h%o,datasetIndex:r}))),hf(e,d)&&m(u,h-1,p.loop,d),t=i,d=e}u<h-1&&m(u,h-1,p.loop,d)}return c}(e,t,s,n):t}function uf(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function hf(e,t){if(!t)return!1;const s=[],n=function(e,t){return Ip(t)?(s.includes(t)||s.push(t),s.indexOf(t)):t};return JSON.stringify(e,n)!==JSON.stringify(t,n)}function mf(e,t,s){return e.options.clip?e[s]:t[s]}function pf(e,t){const s=t._clip;if(s.disabled)return!1;const n=function(e,t){const{xScale:s,yScale:n}=e;return s&&n?{left:mf(s,t,"left"),right:mf(s,t,"right"),top:mf(n,t,"top"),bottom:mf(n,t,"bottom")}:t}(t,e.chartArea);return{left:!1===s.left?0:n.left-(!0===s.left?0:s.left),right:!1===s.right?e.width:n.right+(!0===s.right?0:s.right),top:!1===s.top?0:n.top-(!0===s.top?0:s.top),bottom:!1===s.bottom?e.height:n.bottom+(!0===s.bottom?0:s.bottom)}}class xf{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,s,n){const a=t.listeners[n],i=t.duration;a.forEach((n=>n({chart:e,initial:t.initial,numSteps:i,currentStep:Math.min(s-t.start,i)})))}_refresh(){this._request||(this._running=!0,this._request=Cp.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=0;this._charts.forEach(((s,n)=>{if(!s.running||!s.items.length)return;const a=s.items;let i,r=a.length-1,l=!1;for(;r>=0;--r)i=a[r],i._active?(i._total>s.duration&&(s.duration=i._total),i.tick(e),l=!0):(a[r]=a[a.length-1],a.pop());l&&(n.draw(),this._notify(n,s,e,"progress")),a.length||(s.running=!1,this._notify(n,s,e,"complete"),s.initial=!1),t+=a.length})),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let s=t.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,s)),s}listen(e,t,s){this._getAnims(e).listeners[t].push(s)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce(((e,t)=>Math.max(e,t._duration)),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const s=t.items;let n=s.length-1;for(;n>=0;--n)s[n].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var ff=new xf;const gf="transparent",vf={boolean:(e,t,s)=>s>.5?t:e,color(e,t,s){const n=Pp(e||gf),a=n.valid&&Pp(t||gf);return a&&a.valid?a.mix(n,s).hexString():t},number:(e,t,s)=>e+(t-e)*s};class jf{constructor(e,t,s,n){const a=t[s];n=vx([e.to,n,a,e.from]);const i=vx([e.from,a,n]);this._active=!0,this._fn=e.fn||vf[e.type||typeof i],this._easing=Mp[e.easing]||Mp.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=s,this._from=i,this._to=n,this._promises=void 0}active(){return this._active}update(e,t,s){if(this._active){this._notify(!1);const n=this._target[this._prop],a=s-this._start,i=this._duration-a;this._start=s,this._duration=Math.floor(Math.max(i,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=vx([e.to,t,n,e.from]),this._from=vx([e.from,n,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,s=this._duration,n=this._prop,a=this._from,i=this._loop,r=this._to;let l;if(this._active=a!==r&&(i||t<s),!this._active)return this._target[n]=r,void this._notify(!0);t<0?this._target[n]=a:(l=t/s%2,l=i&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[n]=this._fn(a,r,l))}wait(){const e=this._promises||(this._promises=[]);return new Promise(((t,s)=>{e.push({res:t,rej:s})}))}_notify(e){const t=e?"res":"rej",s=this._promises||[];for(let n=0;n<s.length;n++)s[n][t]()}}class bf{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!_m(e))return;const t=Object.keys(Yp.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach((n=>{const a=e[n];if(!_m(a))return;const i={};for(const e of t)i[e]=a[e];(Dm(a.properties)&&a.properties||[n]).forEach((e=>{e!==n&&s.has(e)||s.set(e,i)}))}))}_animateOptions(e,t){const s=t.options,n=function(e,t){if(!t)return;let s=e.options;if(!s)return void(e.options=t);s.$shared&&(e.options=s=Object.assign({},s,{$shared:!1,$animations:{}}));return s}(e,s);if(!n)return[];const a=this._createAnimations(n,s);return s.$shared&&function(e,t){const s=[],n=Object.keys(t);for(let a=0;a<n.length;a++){const t=e[n[a]];t&&t.active()&&s.push(t.wait())}return Promise.all(s)}(e.options.$animations,s).then((()=>{e.options=s}),(()=>{})),a}_createAnimations(e,t){const s=this._properties,n=[],a=e.$animations||(e.$animations={}),i=Object.keys(t),r=Date.now();let l;for(l=i.length-1;l>=0;--l){const o=i[l];if("$"===o.charAt(0))continue;if("options"===o){n.push(...this._animateOptions(e,t));continue}const c=t[o];let d=a[o];const u=s.get(o);if(d){if(u&&d.active()){d.update(u,c,r);continue}d.cancel()}u&&u.duration?(a[o]=d=new jf(u,e,o,c),n.push(d)):e[o]=c}return n}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const s=this._createAnimations(e,t);return s.length?(ff.add(this._chart,s),!0):void 0}}function yf(e,t){const s=e&&e.options||{},n=s.reverse,a=void 0===s.min?t:0,i=void 0===s.max?t:0;return{start:n?i:a,end:n?a:i}}function wf(e,t){const s=[],n=e._getSortedDatasetMetas(t);let a,i;for(a=0,i=n.length;a<i;++a)s.push(n[a].index);return s}function Nf(e,t,s){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const a=e.keys,i="single"===n.mode;let r,l,o,c;if(null===t)return;let d=!1;for(r=0,l=a.length;r<l;++r){if(o=+a[r],o===s){if(d=!0,n.all)continue;break}c=e.values[o],Am(c)&&(i||0===t||np(t)===np(c))&&(t+=c)}return d||n.all?t:0}function Cf(e,t){const s=e&&e.options.stacked;return s||void 0===s&&void 0!==t.stack}function Sf(e,t,s){const n=e[t]||(e[t]={});return n[s]||(n[s]={})}function kf(e,t,s,n){for(const a of t.getMatchingVisibleMetas(n).reverse()){const t=e[a.index];if(s&&t>0||!s&&t<0)return a.index}return null}function Df(e,t){const{chart:s,_cachedMeta:n}=e,a=s._stacks||(s._stacks={}),{iScale:i,vScale:r,index:l}=n,o=i.axis,c=r.axis,d=function(e,t,s){return`${e.id}.${t.id}.${s.stack||s.type}`}(i,r,n),u=t.length;let h;for(let m=0;m<u;++m){const e=t[m],{[o]:s,[c]:i}=e;h=(e._stacks||(e._stacks={}))[c]=Sf(a,d,s),h[l]=i,h._top=kf(h,r,!0,n.type),h._bottom=kf(h,r,!1,n.type);(h._visualValues||(h._visualValues={}))[l]=i}}function _f(e,t){const s=e.scales;return Object.keys(s).filter((e=>s[e].axis===t)).shift()}function Af(e,t){const s=e.controller.index,n=e.vScale&&e.vScale.axis;if(n){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[n]||void 0===t[n][s])return;delete t[n][s],void 0!==t[n]._visualValues&&void 0!==t[n]._visualValues[s]&&delete t[n]._visualValues[s]}}}const Tf=e=>"reset"===e||"none"===e,Ef=(e,t)=>t?e:Object.assign({},e);class Lf{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Cf(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Af(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,s=this.getDataset(),n=(e,t,s,n)=>"x"===e?t:"r"===e?n:s,a=t.xAxisID=Em(s.xAxisID,_f(e,"x")),i=t.yAxisID=Em(s.yAxisID,_f(e,"y")),r=t.rAxisID=Em(s.rAxisID,_f(e,"r")),l=t.indexAxis,o=t.iAxisID=n(l,a,i,r),c=t.vAxisID=n(l,i,a,r);t.xScale=this.getScaleForId(a),t.yScale=this.getScaleForId(i),t.rScale=this.getScaleForId(r),t.iScale=this.getScaleForId(o),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&wp(this._data,this),e._stacked&&Af(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),s=this._data;if(_m(t)){const e=this._cachedMeta;this._data=function(e,t){const{iScale:s,vScale:n}=t,a="x"===s.axis?"x":"y",i="x"===n.axis?"x":"y",r=Object.keys(e),l=new Array(r.length);let o,c,d;for(o=0,c=r.length;o<c;++o)d=r[o],l[o]={[a]:d,[i]:e[d]};return l}(t,e)}else if(s!==t){if(s){wp(s,this);const e=this._cachedMeta;Af(e),e._parsed=[]}t&&Object.isExtensible(t)&&(a=this,(n=t)._chartjs?n._chartjs.listeners.push(a):(Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[a]}}),yp.forEach((e=>{const t="_onData"+Um(e),s=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(){for(var e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];const r=s.apply(this,a);return n._chartjs.listeners.forEach((e=>{"function"===typeof e[t]&&e[t](...a)})),r}})})))),this._syncList=[],this._data=t}var n,a}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,s=this.getDataset();let n=!1;this._dataCheck();const a=t._stacked;t._stacked=Cf(t.vScale,t),t.stack!==s.stack&&(n=!0,Af(t),t.stack=s.stack),this._resyncElements(e),(n||a!==t._stacked)&&(Df(this,t._parsed),t._stacked=Cf(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:s,_data:n}=this,{iScale:a,_stacked:i}=s,r=a.axis;let l,o,c,d=0===e&&t===n.length||s._sorted,u=e>0&&s._parsed[e-1];if(!1===this._parsing)s._parsed=n,s._sorted=!0,c=n;else{c=Dm(n[e])?this.parseArrayData(s,n,e,t):_m(n[e])?this.parseObjectData(s,n,e,t):this.parsePrimitiveData(s,n,e,t);const a=()=>null===o[r]||u&&o[r]<u[r];for(l=0;l<t;++l)s._parsed[l+e]=o=c[l],d&&(a()&&(d=!1),u=o);s._sorted=d}i&&Df(this,c)}parsePrimitiveData(e,t,s,n){const{iScale:a,vScale:i}=e,r=a.axis,l=i.axis,o=a.getLabels(),c=a===i,d=new Array(n);let u,h,m;for(u=0,h=n;u<h;++u)m=u+s,d[u]={[r]:c||a.parse(o[m],m),[l]:i.parse(t[m],m)};return d}parseArrayData(e,t,s,n){const{xScale:a,yScale:i}=e,r=new Array(n);let l,o,c,d;for(l=0,o=n;l<o;++l)c=l+s,d=t[c],r[l]={x:a.parse(d[0],c),y:i.parse(d[1],c)};return r}parseObjectData(e,t,s,n){const{xScale:a,yScale:i}=e,{xAxisKey:r="x",yAxisKey:l="y"}=this._parsing,o=new Array(n);let c,d,u,h;for(c=0,d=n;c<d;++c)u=c+s,h=t[u],o[c]={x:a.parse(Vm(h,r),u),y:i.parse(Vm(h,l),u)};return o}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,s){const n=this.chart,a=this._cachedMeta,i=t[e.axis];return Nf({keys:wf(n,!0),values:t._stacks[e.axis]._visualValues},i,a.index,{mode:s})}updateRangeFromParsed(e,t,s,n){const a=s[t.axis];let i=null===a?NaN:a;const r=n&&s._stacks[t.axis];n&&r&&(n.values=r,i=Nf(n,a,this._cachedMeta.index)),e.min=Math.min(e.min,i),e.max=Math.max(e.max,i)}getMinMax(e,t){const s=this._cachedMeta,n=s._parsed,a=s._sorted&&e===s.iScale,i=n.length,r=this._getOtherScale(e),l=((e,t,s)=>e&&!t.hidden&&t._stacked&&{keys:wf(s,!0),values:null})(t,s,this.chart),o={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:d}=function(e){const{min:t,max:s,minDefined:n,maxDefined:a}=e.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:a?s:Number.POSITIVE_INFINITY}}(r);let u,h;function m(){h=n[u];const t=h[r.axis];return!Am(h[e.axis])||c>t||d<t}for(u=0;u<i&&(m()||(this.updateRangeFromParsed(o,e,h,l),!a));++u);if(a)for(u=i-1;u>=0;--u)if(!m()){this.updateRangeFromParsed(o,e,h,l);break}return o}getAllParsedValues(e){const t=this._cachedMeta._parsed,s=[];let n,a,i;for(n=0,a=t.length;n<a;++n)i=t[n][e.axis],Am(i)&&s.push(i);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,s=t.iScale,n=t.vScale,a=this.getParsed(e);return{label:s?""+s.getLabelForValue(a[s.axis]):"",value:n?""+n.getLabelForValue(a[n.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,s,n,a;return _m(e)?(t=e.top,s=e.right,n=e.bottom,a=e.left):t=s=n=a=e,{top:t,right:s,bottom:n,left:a,disabled:!1===e}}(Em(this.options.clip,function(e,t,s){if(!1===s)return!1;const n=yf(e,s),a=yf(t,s);return{top:a.end,right:n.end,bottom:a.start,left:n.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,s=this._cachedMeta,n=s.data||[],a=t.chartArea,i=[],r=this._drawStart||0,l=this._drawCount||n.length-r,o=this.options.drawActiveElementsOnTop;let c;for(s.dataset&&s.dataset.draw(e,a,r,l),c=r;c<r+l;++c){const t=n[c];t.hidden||(t.active&&o?i.push(t):t.draw(e,a))}for(c=0;c<i.length;++c)i[c].draw(e,a)}getStyle(e,t){const s=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,t,s){const n=this.getDataset();let a;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];a=t.$context||(t.$context=function(e,t,s){return jx(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:s,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),a.parsed=this.getParsed(e),a.raw=n.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=function(e,t){return jx(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),a.dataset=n,a.index=a.datasetIndex=this.index;return a.active=!!t,a.mode=s,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",s=arguments.length>2?arguments[2]:void 0;const n="active"===t,a=this._cachedDataOpts,i=e+"-"+t,r=a[i],l=this.enableOptionSharing&&Wm(s);if(r)return Ef(r,l);const o=this.chart.config,c=o.datasetElementScopeKeys(this._type,e),d=n?[`${e}Hover`,"hover",e,""]:[e,""],u=o.getOptionScopes(this.getDataset(),c),h=Object.keys(Yp.elements[e]),m=o.resolveNamedOptions(u,h,(()=>this.getContext(s,n,t)),d);return m.$shared&&(m.$shared=l,a[i]=Object.freeze(Ef(m,l))),m}_resolveAnimations(e,t,s){const n=this.chart,a=this._cachedDataOpts,i=`animation-${t}`,r=a[i];if(r)return r;let l;if(!1!==n.options.animation){const n=this.chart.config,a=n.datasetAnimationScopeKeys(this._type,t),i=n.getOptionScopes(this.getDataset(),a);l=n.createResolver(i,this.getContext(e,s,t))}const o=new bf(n,l&&l.animations);return l&&l._cacheable&&(a[i]=Object.freeze(o)),o}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Tf(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const s=this.resolveDataElementOptions(e,t),n=this._sharedOptions,a=this.getSharedOptions(s),i=this.includeOptions(t,a)||a!==n;return this.updateSharedOptions(a,t,s),{sharedOptions:a,includeOptions:i}}updateElement(e,t,s,n){Tf(n)?Object.assign(e,s):this._resolveAnimations(t,n).update(e,s)}updateSharedOptions(e,t,s){e&&!Tf(t)&&this._resolveAnimations(void 0,t).update(e,s)}_setStyle(e,t,s,n){e.active=n;const a=this.getStyle(t,n);this._resolveAnimations(t,s,n).update(e,{options:!n&&this.getSharedOptions(a)||a})}removeHoverStyle(e,t,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,t,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,s=this._cachedMeta.data;for(const[r,l,o]of this._syncList)this[r](l,o);this._syncList=[];const n=s.length,a=t.length,i=Math.min(a,n);i&&this.parse(0,i),a>n?this._insertElements(n,a-n,e):a<n&&this._removeElements(a,n-a)}_insertElements(e,t){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const n=this._cachedMeta,a=n.data,i=e+t;let r;const l=e=>{for(e.length+=t,r=e.length-1;r>=i;r--)e[r]=e[r-t]};for(l(a),r=e;r<i;++r)a[r]=new this.dataElementType;this._parsing&&l(n._parsed),this.parse(e,t),s&&this.updateElements(a,e,t,"reset")}updateElements(e,t,s,n){}_removeElements(e,t){const s=this._cachedMeta;if(this._parsing){const n=s._parsed.splice(e,t);s._stacked&&Af(s,n)}s.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,s,n]=e;this[t](s,n)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Mf(e){const t=e.iScale,s=function(e,t){if(!e._cache.$bar){const s=e.getMatchingVisibleMetas(t);let n=[];for(let t=0,a=s.length;t<a;t++)n=n.concat(s[t].controller.getAllParsedValues(e));e._cache.$bar=Np(n.sort(((e,t)=>e-t)))}return e._cache.$bar}(t,e.type);let n,a,i,r,l=t._length;const o=()=>{32767!==i&&-32768!==i&&(Wm(r)&&(l=Math.min(l,Math.abs(i-r)||l)),r=i)};for(n=0,a=s.length;n<a;++n)i=t.getPixelForValue(s[n]),o();for(r=void 0,n=0,a=t.ticks.length;n<a;++n)i=t.getPixelForTick(n),o();return l}function If(e,t,s,n){return Dm(e)?function(e,t,s,n){const a=s.parse(e[0],n),i=s.parse(e[1],n),r=Math.min(a,i),l=Math.max(a,i);let o=r,c=l;Math.abs(r)>Math.abs(l)&&(o=l,c=r),t[s.axis]=c,t._custom={barStart:o,barEnd:c,start:a,end:i,min:r,max:l}}(e,t,s,n):t[s.axis]=s.parse(e,n),t}function Pf(e,t,s,n){const a=e.iScale,i=e.vScale,r=a.getLabels(),l=a===i,o=[];let c,d,u,h;for(c=s,d=s+n;c<d;++c)h=t[c],u={},u[a.axis]=l||a.parse(r[c],c),o.push(If(h,u,i,c));return o}function Of(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function Rf(e,t,s,n){let a=t.borderSkipped;const i={};if(!a)return void(e.borderSkipped=i);if(!0===a)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:r,end:l,reverse:o,top:c,bottom:d}=function(e){let t,s,n,a,i;return e.horizontal?(t=e.base>e.x,s="left",n="right"):(t=e.base<e.y,s="bottom",n="top"),t?(a="end",i="start"):(a="start",i="end"),{start:s,end:n,reverse:t,top:a,bottom:i}}(e);"middle"===a&&s&&(e.enableBorderRadius=!0,(s._top||0)===n?a=c:(s._bottom||0)===n?a=d:(i[Ff(d,r,l,o)]=!0,a=c)),i[Ff(a,r,l,o)]=!0,e.borderSkipped=i}function Ff(e,t,s,n){var a,i,r;return n?(r=s,e=zf(e=(a=e)===(i=t)?r:a===r?i:a,s,t)):e=zf(e,t,s),e}function zf(e,t,s){return"start"===e?t:"end"===e?s:e}function Bf(e,t,s){let{inflateAmount:n}=t;e.inflateAmount="auto"===n?1===s?.33:0:n}class $f extends Lf{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,s,n){return Pf(e,t,s,n)}parseArrayData(e,t,s,n){return Pf(e,t,s,n)}parseObjectData(e,t,s,n){const{iScale:a,vScale:i}=e,{xAxisKey:r="x",yAxisKey:l="y"}=this._parsing,o="x"===a.axis?r:l,c="x"===i.axis?r:l,d=[];let u,h,m,p;for(u=s,h=s+n;u<h;++u)p=t[u],m={},m[a.axis]=a.parse(Vm(p,o),u),d.push(If(Vm(p,c),m,i,u));return d}updateRangeFromParsed(e,t,s,n){super.updateRangeFromParsed(e,t,s,n);const a=s._custom;a&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,a.min),e.max=Math.max(e.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:s,vScale:n}=t,a=this.getParsed(e),i=a._custom,r=Of(i)?"["+i.start+", "+i.end+"]":""+n.getLabelForValue(a[n.axis]);return{label:""+s.getLabelForValue(a[s.axis]),value:r}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,s,n){const a="reset"===n,{index:i,_cachedMeta:{vScale:r}}=this,l=r.getBasePixel(),o=r.isHorizontal(),c=this._getRuler(),{sharedOptions:d,includeOptions:u}=this._getSharedOptions(t,n);for(let h=t;h<t+s;h++){const t=this.getParsed(h),s=a||km(t[r.axis])?{base:l,head:l}:this._calculateBarValuePixels(h),m=this._calculateBarIndexPixels(h,c),p=(t._stacks||{})[r.axis],x={horizontal:o,base:s.base,enableBorderRadius:!p||Of(t._custom)||i===p._top||i===p._bottom,x:o?s.head:m.center,y:o?m.center:s.head,height:o?m.size:Math.abs(s.size),width:o?Math.abs(s.size):m.size};u&&(x.options=d||this.resolveDataElementOptions(h,e[h].active?"active":n));const f=x.options||e[h].options;Rf(x,f,p,i),Bf(x,f,c.ratio),this.updateElement(e[h],h,x,n)}}_getStacks(e,t){const{iScale:s}=this._cachedMeta,n=s.getMatchingVisibleMetas(this._type).filter((e=>e.controller.options.grouped)),a=s.options.stacked,i=[],r=this._cachedMeta.controller.getParsed(t),l=r&&r[s.axis],o=e=>{const t=e._parsed.find((e=>e[s.axis]===l)),n=t&&t[e.vScale.axis];if(km(n)||isNaN(n))return!0};for(const c of n)if((void 0===t||!o(c))&&((!1===a||-1===i.indexOf(c.stack)||void 0===a&&void 0===c.stack)&&i.push(c.stack),c.index===e))break;return i.length||i.push(void 0),i}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,s){const n=this._getStacks(e,s),a=void 0!==t?n.indexOf(t):-1;return-1===a?n.length-1:a}_getRuler(){const e=this.options,t=this._cachedMeta,s=t.iScale,n=[];let a,i;for(a=0,i=t.data.length;a<i;++a)n.push(s.getPixelForValue(this.getParsed(a)[s.axis],a));const r=e.barThickness;return{min:r||Mf(t),pixels:n,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:r?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:s,index:n},options:{base:a,minBarLength:i}}=this,r=a||0,l=this.getParsed(e),o=l._custom,c=Of(o);let d,u,h=l[t.axis],m=0,p=s?this.applyStack(t,l,s):h;p!==h&&(m=p-h,p=h),c&&(h=o.barStart,p=o.barEnd-o.barStart,0!==h&&np(h)!==np(o.barEnd)&&(m=0),m+=h);const x=km(a)||c?m:a;let f=t.getPixelForValue(x);if(d=this.chart.getDataVisibility(e)?t.getPixelForValue(m+p):f,u=d-f,Math.abs(u)<i){u=function(e,t,s){return 0!==e?np(e):(t.isHorizontal()?1:-1)*(t.min>=s?1:-1)}(u,t,r)*i,h===r&&(f-=u/2);const e=t.getPixelForDecimal(0),a=t.getPixelForDecimal(1),o=Math.min(e,a),m=Math.max(e,a);f=Math.max(Math.min(f,m),o),d=f+u,s&&!c&&(l._stacks[t.axis]._visualValues[n]=t.getValueForPixel(d)-t.getValueForPixel(f))}if(f===t.getPixelForValue(r)){const e=np(u)*t.getLineWidthForValue(r)/2;f+=e,u-=e}return{size:u,base:f,head:d,center:d+u/2}}_calculateBarIndexPixels(e,t){const s=t.scale,n=this.options,a=n.skipNull,i=Em(n.maxBarThickness,1/0);let r,l;if(t.grouped){const s=a?this._getStackCount(e):t.stackCount,o="flex"===n.barThickness?function(e,t,s,n){const a=t.pixels,i=a[e];let r=e>0?a[e-1]:null,l=e<a.length-1?a[e+1]:null;const o=s.categoryPercentage;null===r&&(r=i-(null===l?t.end-t.start:l-i)),null===l&&(l=i+i-r);const c=i-(i-Math.min(r,l))/2*o;return{chunk:Math.abs(l-r)/2*o/n,ratio:s.barPercentage,start:c}}(e,t,n,s):function(e,t,s,n){const a=s.barThickness;let i,r;return km(a)?(i=t.min*s.categoryPercentage,r=s.barPercentage):(i=a*n,r=1),{chunk:i/n,ratio:r,start:t.pixels[e]-i/2}}(e,t,n,s),c=this._getStackIndex(this.index,this._cachedMeta.stack,a?e:void 0);r=o.start+o.chunk*c+o.chunk/2,l=Math.min(i,o.chunk*o.ratio)}else r=s.getPixelForValue(this.getParsed(e)[s.axis],e),l=Math.min(i,t.min*t.ratio);return{base:r-l/2,head:r+l/2,center:r,size:l}}draw(){const e=this._cachedMeta,t=e.vScale,s=e.data,n=s.length;let a=0;for(;a<n;++a)null===this.getParsed(a)[t.axis]||s[a].hidden||s[a].draw(this._ctx)}}class Hf extends Lf{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:s,color:n}}=e.legend.options;return t.labels.map(((t,a)=>{const i=e.getDatasetMeta(0).controller.getStyle(a);return{text:t,fillStyle:i.backgroundColor,strokeStyle:i.borderColor,fontColor:n,lineWidth:i.borderWidth,pointStyle:s,hidden:!e.getDataVisibility(a),index:a}}))}return[]}},onClick(e,t,s){s.chart.toggleDataVisibility(t.index),s.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const s=this.getDataset().data,n=this._cachedMeta;if(!1===this._parsing)n._parsed=s;else{let a,i,r=e=>+s[e];if(_m(s[e])){const{key:e="value"}=this._parsing;r=t=>+Vm(s[t],e)}for(a=e,i=e+t;a<i;++a)n._parsed[a]=r(a)}}_getRotation(){return op(this.options.rotation-90)}_getCircumference(){return op(this.options.circumference)}_getRotationExtents(){let e=Km,t=-Km;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const n=this.chart.getDatasetMeta(s).controller,a=n._getRotation(),i=n._getCircumference();e=Math.min(e,a),t=Math.max(t,a+i)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:s}=t,n=this._cachedMeta,a=n.data,i=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,r=Math.max((Math.min(s.width,s.height)-i)/2,0),l=Math.min((o=this.options.cutout,c=r,"string"===typeof o&&o.endsWith("%")?parseFloat(o)/100:+o/c),1);var o,c;const d=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:m,ratioY:p,offsetX:x,offsetY:f}=function(e,t,s){let n=1,a=1,i=0,r=0;if(t<Km){const l=e,o=l+t,c=Math.cos(l),d=Math.sin(l),u=Math.cos(o),h=Math.sin(o),m=(e,t,n)=>xp(e,l,o,!0)?1:Math.max(t,t*s,n,n*s),p=(e,t,n)=>xp(e,l,o,!0)?-1:Math.min(t,t*s,n,n*s),x=m(0,c,u),f=m(Qm,d,h),g=p(Ym,c,u),v=p(Ym+Qm,d,h);n=(x-g)/2,a=(f-v)/2,i=-(x+g)/2,r=-(f+v)/2}return{ratioX:n,ratioY:a,offsetX:i,offsetY:r}}(h,u,l),g=(s.width-i)/m,v=(s.height-i)/p,j=Math.max(Math.min(g,v)/2,0),b=Lm(this.options.radius,j),y=(b-Math.max(b*l,0))/this._getVisibleDatasetWeightTotal();this.offsetX=x*b,this.offsetY=f*b,n.total=this.calculateTotal(),this.outerRadius=b-y*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-y*d,0),this.updateElements(a,0,a.length,e)}_circumference(e,t){const s=this.options,n=this._cachedMeta,a=this._getCircumference();return t&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||null===n._parsed[e]||n.data[e].hidden?0:this.calculateCircumference(n._parsed[e]*a/Km)}updateElements(e,t,s,n){const a="reset"===n,i=this.chart,r=i.chartArea,l=i.options.animation,o=(r.left+r.right)/2,c=(r.top+r.bottom)/2,d=a&&l.animateScale,u=d?0:this.innerRadius,h=d?0:this.outerRadius,{sharedOptions:m,includeOptions:p}=this._getSharedOptions(t,n);let x,f=this._getRotation();for(x=0;x<t;++x)f+=this._circumference(x,a);for(x=t;x<t+s;++x){const t=this._circumference(x,a),s=e[x],i={x:o+this.offsetX,y:c+this.offsetY,startAngle:f,endAngle:f+t,circumference:t,outerRadius:h,innerRadius:u};p&&(i.options=m||this.resolveDataElementOptions(x,s.active?"active":n)),f+=t,this.updateElement(s,x,i,n)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let s,n=0;for(s=0;s<t.length;s++){const a=e._parsed[s];null===a||isNaN(a)||!this.chart.getDataVisibility(s)||t[s].hidden||(n+=Math.abs(a))}return n}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?Km*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,s=this.chart,n=s.data.labels||[],a=Bp(t._parsed[e],s.options.locale);return{label:n[e]||"",value:a}}getMaxBorderWidth(e){let t=0;const s=this.chart;let n,a,i,r,l;if(!e)for(n=0,a=s.data.datasets.length;n<a;++n)if(s.isDatasetVisible(n)){i=s.getDatasetMeta(n),e=i.data,r=i.controller;break}if(!e)return 0;for(n=0,a=e.length;n<a;++n)l=r.resolveDataElementOptions(n),"inner"!==l.borderAlign&&(t=Math.max(t,l.borderWidth||0,l.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let s=0,n=e.length;s<n;++s){const e=this.resolveDataElementOptions(s);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(t+=this._getRingWeight(s));return t}_getRingWeight(e){return Math.max(Em(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class Vf extends Lf{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:s,data:n=[],_dataset:a}=t,i=this.chart._animationsDisabled;let{start:r,count:l}=_p(t,n,i);this._drawStart=r,this._drawCount=l,Ap(t)&&(r=0,l=n.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!a._decimated,s.points=n;const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0),o.segment=this.options.segment,this.updateElement(s,void 0,{animated:!i,options:o},e),this.updateElements(n,r,l,e)}updateElements(e,t,s,n){const a="reset"===n,{iScale:i,vScale:r,_stacked:l,_dataset:o}=this._cachedMeta,{sharedOptions:c,includeOptions:d}=this._getSharedOptions(t,n),u=i.axis,h=r.axis,{spanGaps:m,segment:p}=this.options,x=rp(m)?m:Number.POSITIVE_INFINITY,f=this.chart._animationsDisabled||a||"none"===n,g=t+s,v=e.length;let j=t>0&&this.getParsed(t-1);for(let b=0;b<v;++b){const s=e[b],m=f?s:{};if(b<t||b>=g){m.skip=!0;continue}const v=this.getParsed(b),y=km(v[h]),w=m[u]=i.getPixelForValue(v[u],b),N=m[h]=a||y?r.getBasePixel():r.getPixelForValue(l?this.applyStack(r,v,l):v[h],b);m.skip=isNaN(w)||isNaN(N)||y,m.stop=b>0&&Math.abs(v[u]-j[u])>x,p&&(m.parsed=v,m.raw=o.data[b]),d&&(m.options=c||this.resolveDataElementOptions(b,s.active?"active":n)),f||this.updateElement(s,b,m,n),j=v}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,s=t.options&&t.options.borderWidth||0,n=e.data||[];if(!n.length)return s;const a=n[0].size(this.resolveDataElementOptions(0)),i=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(s,a,i)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class Uf extends Hf{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class Wf extends Lf{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){const t=this._cachedMeta.vScale,s=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(s[t.axis])}}parseObjectData(e,t,s,n){return Mx.bind(this)(e,t,s,n)}update(e){const t=this._cachedMeta,s=t.dataset,n=t.data||[],a=t.iScale.getLabels();if(s.points=n,"resize"!==e){const t=this.resolveDatasetElementOptions(e);this.options.showLine||(t.borderWidth=0);const i={_loop:!0,_fullLoop:a.length===n.length,options:t};this.updateElement(s,void 0,i,e)}this.updateElements(n,0,n.length,e)}updateElements(e,t,s,n){const a=this._cachedMeta.rScale,i="reset"===n;for(let r=t;r<t+s;r++){const t=e[r],s=this.resolveDataElementOptions(r,t.active?"active":n),l=a.getPointPositionForValue(r,this.getParsed(r).r),o=i?a.xCenter:l.x,c=i?a.yCenter:l.y,d={x:o,y:c,angle:l.angle,skip:isNaN(o)||isNaN(c),options:s};this.updateElement(t,r,d,n)}}}function Gf(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class qf{static override(e){Object.assign(qf.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Gf()}parse(){return Gf()}format(){return Gf()}add(){return Gf()}diff(){return Gf()}startOf(){return Gf()}endOf(){return Gf()}}var Yf=qf;function Kf(e,t,s,n){const{controller:a,data:i,_sorted:r}=e,l=a._cachedMeta.iScale,o=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(l&&t===l.axis&&"r"!==t&&r&&i.length){const r=l._reversePixels?bp:jp;if(!n){const n=r(i,t,s);if(o){const{vScale:t}=a._cachedMeta,{_parsed:s}=e,i=s.slice(0,n.lo+1).reverse().findIndex((e=>!km(e[t.axis])));n.lo-=Math.max(0,i);const r=s.slice(n.hi).findIndex((e=>!km(e[t.axis])));n.hi+=Math.max(0,r)}return n}if(a._sharedOptions){const e=i[0],n="function"===typeof e.getRange&&e.getRange(t);if(n){const e=r(i,t,s-n),a=r(i,t,s+n);return{lo:e.lo,hi:a.hi}}}}return{lo:0,hi:i.length-1}}function Jf(e,t,s,n,a){const i=e.getSortedVisibleDatasetMetas(),r=s[t];for(let l=0,o=i.length;l<o;++l){const{index:e,data:s}=i[l],{lo:o,hi:c}=Kf(i[l],t,r,a);for(let t=o;t<=c;++t){const a=s[t];a.skip||n(a,e,t)}}}function Xf(e,t,s,n,a){const i=[];if(!a&&!e.isPointInArea(t))return i;return Jf(e,s,t,(function(s,r,l){(a||tx(s,e.chartArea,0))&&s.inRange(t.x,t.y,n)&&i.push({element:s,datasetIndex:r,index:l})}),!0),i}function Zf(e,t,s,n,a,i){let r=[];const l=function(e){const t=-1!==e.indexOf("x"),s=-1!==e.indexOf("y");return function(e,n){const a=t?Math.abs(e.x-n.x):0,i=s?Math.abs(e.y-n.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(i,2))}}(s);let o=Number.POSITIVE_INFINITY;return Jf(e,s,t,(function(s,c,d){const u=s.inRange(t.x,t.y,a);if(n&&!u)return;const h=s.getCenterPoint(a);if(!(!!i||e.isPointInArea(h))&&!u)return;const m=l(t,h);m<o?(r=[{element:s,datasetIndex:c,index:d}],o=m):m===o&&r.push({element:s,datasetIndex:c,index:d})})),r}function Qf(e,t,s,n,a,i){return i||e.isPointInArea(t)?"r"!==s||n?Zf(e,t,s,n,a,i):function(e,t,s,n){let a=[];return Jf(e,s,t,(function(e,s,i){const{startAngle:r,endAngle:l}=e.getProps(["startAngle","endAngle"],n),{angle:o}=up(e,{x:t.x,y:t.y});xp(o,r,l)&&a.push({element:e,datasetIndex:s,index:i})})),a}(e,t,s,a):[]}function eg(e,t,s,n,a){const i=[],r="x"===s?"inXRange":"inYRange";let l=!1;return Jf(e,s,t,((e,n,o)=>{e[r]&&e[r](t[s],a)&&(i.push({element:e,datasetIndex:n,index:o}),l=l||e.inRange(t.x,t.y,a))})),n&&!l?[]:i}var tg={evaluateInteractionItems:Jf,modes:{index(e,t,s,n){const a=qx(t,e),i=s.axis||"x",r=s.includeInvisible||!1,l=s.intersect?Xf(e,a,i,n,r):Qf(e,a,i,!1,n,r),o=[];return l.length?(e.getSortedVisibleDatasetMetas().forEach((e=>{const t=l[0].index,s=e.data[t];s&&!s.skip&&o.push({element:s,datasetIndex:e.index,index:t})})),o):[]},dataset(e,t,s,n){const a=qx(t,e),i=s.axis||"xy",r=s.includeInvisible||!1;let l=s.intersect?Xf(e,a,i,n,r):Qf(e,a,i,!1,n,r);if(l.length>0){const t=l[0].datasetIndex,s=e.getDatasetMeta(t).data;l=[];for(let e=0;e<s.length;++e)l.push({element:s[e],datasetIndex:t,index:e})}return l},point:(e,t,s,n)=>Xf(e,qx(t,e),s.axis||"xy",n,s.includeInvisible||!1),nearest(e,t,s,n){const a=qx(t,e),i=s.axis||"xy",r=s.includeInvisible||!1;return Qf(e,a,i,s.intersect,n,r)},x:(e,t,s,n)=>eg(e,qx(t,e),"x",s.intersect,n),y:(e,t,s,n)=>eg(e,qx(t,e),"y",s.intersect,n)}};const sg=["left","top","right","bottom"];function ng(e,t){return e.filter((e=>e.pos===t))}function ag(e,t){return e.filter((e=>-1===sg.indexOf(e.pos)&&e.box.axis===t))}function ig(e,t){return e.sort(((e,s)=>{const n=t?s:e,a=t?e:s;return n.weight===a.weight?n.index-a.index:n.weight-a.weight}))}function rg(e,t){const s=function(e){const t={};for(const s of e){const{stack:e,pos:n,stackWeight:a}=s;if(!e||!sg.includes(n))continue;const i=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});i.count++,i.weight+=a}return t}(e),{vBoxMaxWidth:n,hBoxMaxHeight:a}=t;let i,r,l;for(i=0,r=e.length;i<r;++i){l=e[i];const{fullSize:r}=l.box,o=s[l.stack],c=o&&l.stackWeight/o.weight;l.horizontal?(l.width=c?c*n:r&&t.availableWidth,l.height=a):(l.width=n,l.height=c?c*a:r&&t.availableHeight)}return s}function lg(e,t,s,n){return Math.max(e[s],t[s])+Math.max(e[n],t[n])}function og(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function cg(e,t,s,n){const{pos:a,box:i}=s,r=e.maxPadding;if(!_m(a)){s.size&&(e[a]-=s.size);const t=n[s.stack]||{size:0,count:1};t.size=Math.max(t.size,s.horizontal?i.height:i.width),s.size=t.size/t.count,e[a]+=s.size}i.getPadding&&og(r,i.getPadding());const l=Math.max(0,t.outerWidth-lg(r,e,"left","right")),o=Math.max(0,t.outerHeight-lg(r,e,"top","bottom")),c=l!==e.w,d=o!==e.h;return e.w=l,e.h=o,s.horizontal?{same:c,other:d}:{same:d,other:c}}function dg(e,t){const s=t.maxPadding;function n(e){const n={left:0,top:0,right:0,bottom:0};return e.forEach((e=>{n[e]=Math.max(t[e],s[e])})),n}return n(e?["left","right"]:["top","bottom"])}function ug(e,t,s,n){const a=[];let i,r,l,o,c,d;for(i=0,r=e.length,c=0;i<r;++i){l=e[i],o=l.box,o.update(l.width||t.w,l.height||t.h,dg(l.horizontal,t));const{same:r,other:u}=cg(t,s,l,n);c|=r&&a.length,d=d||u,o.fullSize||a.push(l)}return c&&ug(a,t,s,n)||d}function hg(e,t,s,n,a){e.top=s,e.left=t,e.right=t+n,e.bottom=s+a,e.width=n,e.height=a}function mg(e,t,s,n){const a=s.padding;let{x:i,y:r}=t;for(const l of e){const e=l.box,o=n[l.stack]||{count:1,placed:0,weight:1},c=l.stackWeight/o.weight||1;if(l.horizontal){const n=t.w*c,i=o.size||e.height;Wm(o.start)&&(r=o.start),e.fullSize?hg(e,a.left,r,s.outerWidth-a.right-a.left,i):hg(e,t.left+o.placed,r,n,i),o.start=r,o.placed+=n,r=e.bottom}else{const n=t.h*c,r=o.size||e.width;Wm(o.start)&&(i=o.start),e.fullSize?hg(e,i,a.top,r,s.outerHeight-a.bottom-a.top):hg(e,i,t.top+o.placed,r,n),o.start=i,o.placed+=n,i=e.right}}t.x=i,t.y=r}var pg={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const s=e.boxes?e.boxes.indexOf(t):-1;-1!==s&&e.boxes.splice(s,1)},configure(e,t,s){t.fullSize=s.fullSize,t.position=s.position,t.weight=s.weight},update(e,t,s,n){if(!e)return;const a=fx(e.options.layout.padding),i=Math.max(t-a.width,0),r=Math.max(s-a.height,0),l=function(e){const t=function(e){const t=[];let s,n,a,i,r,l;for(s=0,n=(e||[]).length;s<n;++s)a=e[s],({position:i,options:{stack:r,stackWeight:l=1}}=a),t.push({index:s,box:a,pos:i,horizontal:a.isHorizontal(),weight:a.weight,stack:r&&i+r,stackWeight:l});return t}(e),s=ig(t.filter((e=>e.box.fullSize)),!0),n=ig(ng(t,"left"),!0),a=ig(ng(t,"right")),i=ig(ng(t,"top"),!0),r=ig(ng(t,"bottom")),l=ag(t,"x"),o=ag(t,"y");return{fullSize:s,leftAndTop:n.concat(i),rightAndBottom:a.concat(o).concat(r).concat(l),chartArea:ng(t,"chartArea"),vertical:n.concat(a).concat(o),horizontal:i.concat(r).concat(l)}}(e.boxes),o=l.vertical,c=l.horizontal;Im(e.boxes,(e=>{"function"===typeof e.beforeLayout&&e.beforeLayout()}));const d=o.reduce(((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1),0)||1,u=Object.freeze({outerWidth:t,outerHeight:s,padding:a,availableWidth:i,availableHeight:r,vBoxMaxWidth:i/2/d,hBoxMaxHeight:r/2}),h=Object.assign({},a);og(h,fx(n));const m=Object.assign({maxPadding:h,w:i,h:r,x:a.left,y:a.top},a),p=rg(o.concat(c),u);ug(l.fullSize,m,u,p),ug(o,m,u,p),ug(c,m,u,p)&&ug(o,m,u,p),function(e){const t=e.maxPadding;function s(s){const n=Math.max(t[s]-e[s],0);return e[s]+=n,n}e.y+=s("top"),e.x+=s("left"),s("right"),s("bottom")}(m),mg(l.leftAndTop,m,u,p),m.x+=m.w,m.y+=m.h,mg(l.rightAndBottom,m,u,p),e.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},Im(l.chartArea,(t=>{const s=t.box;Object.assign(s,e.chartArea),s.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})}))}};class xg{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,s){}removeEventListener(e,t,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,s,n){return t=Math.max(0,t||e.width),s=s||e.height,{width:t,height:Math.max(0,n?Math.floor(t/n):s)}}isAttached(e){return!0}updateConfig(e){}}class fg extends xg{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const gg="$chartjs",vg={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},jg=e=>null===e||""===e;const bg=!!Xx&&{passive:!0};function yg(e,t,s){e&&e.canvas&&e.canvas.removeEventListener(t,s,bg)}function wg(e,t){for(const s of e)if(s===t||s.contains(t))return!0}function Ng(e,t,s){const n=e.canvas,a=new MutationObserver((e=>{let t=!1;for(const s of e)t=t||wg(s.addedNodes,n),t=t&&!wg(s.removedNodes,n);t&&s()}));return a.observe(document,{childList:!0,subtree:!0}),a}function Cg(e,t,s){const n=e.canvas,a=new MutationObserver((e=>{let t=!1;for(const s of e)t=t||wg(s.removedNodes,n),t=t&&!wg(s.addedNodes,n);t&&s()}));return a.observe(document,{childList:!0,subtree:!0}),a}const Sg=new Map;let kg=0;function Dg(){const e=window.devicePixelRatio;e!==kg&&(kg=e,Sg.forEach(((t,s)=>{s.currentDevicePixelRatio!==e&&t()})))}function _g(e,t,s){const n=e.canvas,a=n&&Hx(n);if(!a)return;const i=Sp(((e,t)=>{const n=a.clientWidth;s(e,t),n<a.clientWidth&&s()}),window),r=new ResizeObserver((e=>{const t=e[0],s=t.contentRect.width,n=t.contentRect.height;0===s&&0===n||i(s,n)}));return r.observe(a),function(e,t){Sg.size||window.addEventListener("resize",Dg),Sg.set(e,t)}(e,i),r}function Ag(e,t,s){s&&s.disconnect(),"resize"===t&&function(e){Sg.delete(e),Sg.size||window.removeEventListener("resize",Dg)}(e)}function Tg(e,t,s){const n=e.canvas,a=Sp((t=>{null!==e.ctx&&s(function(e,t){const s=vg[e.type]||e.type,{x:n,y:a}=qx(e,t);return{type:s,chart:t,native:e,x:void 0!==n?n:null,y:void 0!==a?a:null}}(t,e))}),e);return function(e,t,s){e&&e.addEventListener(t,s,bg)}(n,t,a),a}class Eg extends xg{acquireContext(e,t){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(function(e,t){const s=e.style,n=e.getAttribute("height"),a=e.getAttribute("width");if(e[gg]={initial:{height:n,width:a,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",jg(a)){const t=Zx(e,"width");void 0!==t&&(e.width=t)}if(jg(n))if(""===e.style.height)e.height=e.width/(t||2);else{const t=Zx(e,"height");void 0!==t&&(e.height=t)}}(e,t),s):null}releaseContext(e){const t=e.canvas;if(!t[gg])return!1;const s=t[gg].initial;["height","width"].forEach((e=>{const n=s[e];km(n)?t.removeAttribute(e):t.setAttribute(e,n)}));const n=s.style||{};return Object.keys(n).forEach((e=>{t.style[e]=n[e]})),t.width=t.width,delete t[gg],!0}addEventListener(e,t,s){this.removeEventListener(e,t);const n=e.$proxies||(e.$proxies={}),a={attach:Ng,detach:Cg,resize:_g}[t]||Tg;n[t]=a(e,t,s)}removeEventListener(e,t){const s=e.$proxies||(e.$proxies={}),n=s[t];if(!n)return;({attach:Ag,detach:Ag,resize:Ag}[t]||yg)(e,t,n),s[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,s,n){return Kx(e,t,s,n)}isAttached(e){const t=e&&Hx(e);return!(!t||!t.isConnected)}}class Lg{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:s}=this.getProps(["x","y"],e);return{x:t,y:s}}hasValue(){return rp(this.x)&&rp(this.y)}getProps(e,t){const s=this.$animations;if(!t||!s)return this;const n={};return e.forEach((e=>{n[e]=s[e]&&s[e].active()?s[e]._to:this[e]})),n}}function Mg(e,t){const s=e.options.ticks,n=function(e){const t=e.options.offset,s=e._tickSize(),n=e._length/s+(t?0:1),a=e._maxLength/s;return Math.floor(Math.min(n,a))}(e),a=Math.min(s.maxTicksLimit||n,n),i=s.major.enabled?function(e){const t=[];let s,n;for(s=0,n=e.length;s<n;s++)e[s].major&&t.push(s);return t}(t):[],r=i.length,l=i[0],o=i[r-1],c=[];if(r>a)return function(e,t,s,n){let a,i=0,r=s[0];for(n=Math.ceil(n),a=0;a<e.length;a++)a===r&&(t.push(e[a]),i++,r=s[i*n])}(t,c,i,r/a),c;const d=function(e,t,s){const n=function(e){const t=e.length;let s,n;if(t<2)return!1;for(n=e[0],s=1;s<t;++s)if(e[s]-e[s-1]!==n)return!1;return n}(e),a=t.length/s;if(!n)return Math.max(a,1);const i=function(e){const t=[],s=Math.sqrt(e);let n;for(n=1;n<s;n++)e%n===0&&(t.push(n),t.push(e/n));return s===(0|s)&&t.push(s),t.sort(((e,t)=>e-t)).pop(),t}(n);for(let r=0,l=i.length-1;r<l;r++){const e=i[r];if(e>a)return e}return Math.max(a,1)}(i,t,a);if(r>0){let e,s;const n=r>1?Math.round((o-l)/(r-1)):null;for(Ig(t,c,d,km(n)?0:l-n,l),e=0,s=r-1;e<s;e++)Ig(t,c,d,i[e],i[e+1]);return Ig(t,c,d,o,km(n)?t.length:o+n),c}return Ig(t,c,d),c}function Ig(e,t,s,n,a){const i=Em(n,0),r=Math.min(Em(a,e.length),e.length);let l,o,c,d=0;for(s=Math.ceil(s),a&&(l=a-n,s=l/Math.floor(l/s)),c=i;c<0;)d++,c=Math.round(i+d*s);for(o=Math.max(i,0);o<r;o++)o===c&&(t.push(e[o]),d++,c=Math.round(i+d*s))}const Pg=(e,t,s)=>"top"===t||"left"===t?e[t]+s:e[t]-s,Og=(e,t)=>Math.min(t||e,e);function Rg(e,t){const s=[],n=e.length/t,a=e.length;let i=0;for(;i<a;i+=n)s.push(e[Math.floor(i)]);return s}function Fg(e,t,s){const n=e.ticks.length,a=Math.min(t,n-1),i=e._startPixel,r=e._endPixel,l=1e-6;let o,c=e.getPixelForTick(a);if(!(s&&(o=1===n?Math.max(c-i,r-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(a-1))/2,c+=a<t?o:-o,c<i-l||c>r+l)))return c}function zg(e){return e.drawTicks?e.tickLength:0}function Bg(e,t){if(!e.display)return 0;const s=gx(e.font,t),n=fx(e.padding);return(Dm(e.text)?e.text.length:1)*s.lineHeight+n.height}function $g(e,t,s){let n=kp(e);return(s&&"right"!==t||!s&&"right"===t)&&(n=(e=>"left"===e?"right":"right"===e?"left":e)(n)),n}class Hg extends Lg{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:s,_suggestedMax:n}=this;return e=Tm(e,Number.POSITIVE_INFINITY),t=Tm(t,Number.NEGATIVE_INFINITY),s=Tm(s,Number.POSITIVE_INFINITY),n=Tm(n,Number.NEGATIVE_INFINITY),{min:Tm(e,s),max:Tm(t,n),minDefined:Am(e),maxDefined:Am(t)}}getMinMax(e){let t,{min:s,max:n,minDefined:a,maxDefined:i}=this.getUserBounds();if(a&&i)return{min:s,max:n};const r=this.getMatchingVisibleMetas();for(let l=0,o=r.length;l<o;++l)t=r[l].controller.getMinMax(this,e),a||(s=Math.min(s,t.min)),i||(n=Math.max(n,t.max));return s=i&&s>n?n:s,n=a&&s>n?s:n,{min:Tm(s,Tm(n,s)),max:Tm(n,Tm(s,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Mm(this.options.beforeUpdate,[this])}update(e,t,s){const{beginAtZero:n,grace:a,ticks:i}=this.options,r=i.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,s){const{min:n,max:a}=e,i=Lm(t,(a-n)/2),r=(e,t)=>s&&0===e?0:e+t;return{min:r(n,-Math.abs(i)),max:r(a,i)}}(this,a,n),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=r<this.ticks.length;this._convertTicksToLabels(l?Rg(this.ticks,r):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),i.display&&(i.autoSkip||"auto"===i.source)&&(this.ticks=Mg(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,s=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,s=!s),this._startPixel=e,this._endPixel=t,this._reversePixels=s,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Mm(this.options.afterUpdate,[this])}beforeSetDimensions(){Mm(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Mm(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Mm(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Mm(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let s,n,a;for(s=0,n=e.length;s<n;s++)a=e[s],a.label=Mm(t.callback,[a.value,s,e],this)}afterTickToLabelConversion(){Mm(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Mm(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,s=Og(this.ticks.length,e.ticks.maxTicksLimit),n=t.minRotation||0,a=t.maxRotation;let i,r,l,o=n;if(!this._isVisible()||!t.display||n>=a||s<=1||!this.isHorizontal())return void(this.labelRotation=n);const c=this._getLabelSizes(),d=c.widest.width,u=c.highest.height,h=fp(this.chart.width-d,0,this.maxWidth);i=e.offset?this.maxWidth/s:h/(s-1),d+6>i&&(i=h/(s-(e.offset?.5:1)),r=this.maxHeight-zg(e.grid)-t.padding-Bg(e.title,this.chart.options.font),l=Math.sqrt(d*d+u*u),o=cp(Math.min(Math.asin(fp((c.highest.height+6)/i,-1,1)),Math.asin(fp(r/l,-1,1))-Math.asin(fp(u/l,-1,1)))),o=Math.max(n,Math.min(a,o))),this.labelRotation=o}afterCalculateLabelRotation(){Mm(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Mm(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:s,title:n,grid:a}}=this,i=this._isVisible(),r=this.isHorizontal();if(i){const i=Bg(n,t.options.font);if(r?(e.width=this.maxWidth,e.height=zg(a)+i):(e.height=this.maxHeight,e.width=zg(a)+i),s.display&&this.ticks.length){const{first:t,last:n,widest:a,highest:i}=this._getLabelSizes(),l=2*s.padding,o=op(this.labelRotation),c=Math.cos(o),d=Math.sin(o);if(r){const t=s.mirror?0:d*a.width+c*i.height;e.height=Math.min(this.maxHeight,e.height+t+l)}else{const t=s.mirror?0:c*a.width+d*i.height;e.width=Math.min(this.maxWidth,e.width+t+l)}this._calculatePadding(t,n,d,c)}}this._handleMargins(),r?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,s,n){const{ticks:{align:a,padding:i},position:r}=this.options,l=0!==this.labelRotation,o="top"!==r&&"x"===this.axis;if(this.isHorizontal()){const r=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,u=0;l?o?(d=n*e.width,u=s*t.height):(d=s*e.height,u=n*t.width):"start"===a?u=t.width:"end"===a?d=e.width:"inner"!==a&&(d=e.width/2,u=t.width/2),this.paddingLeft=Math.max((d-r+i)*this.width/(this.width-r),0),this.paddingRight=Math.max((u-c+i)*this.width/(this.width-c),0)}else{let s=t.height/2,n=e.height/2;"start"===a?(s=0,n=e.height):"end"===a&&(s=t.height,n=0),this.paddingTop=s+i,this.paddingBottom=n+i}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Mm(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,s;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,s=e.length;t<s;t++)km(e[t].label)&&(e.splice(t,1),s--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let s=this.ticks;t<s.length&&(s=Rg(s,t)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,s){const{ctx:n,_longestTextCache:a}=this,i=[],r=[],l=Math.floor(t/Og(t,s));let o,c,d,u,h,m,p,x,f,g,v,j=0,b=0;for(o=0;o<t;o+=l){if(u=e[o].label,h=this._resolveTickFontOptions(o),n.font=m=h.string,p=a[m]=a[m]||{data:{},gc:[]},x=h.lineHeight,f=g=0,km(u)||Dm(u)){if(Dm(u))for(c=0,d=u.length;c<d;++c)v=u[c],km(v)||Dm(v)||(f=Kp(n,p.data,p.gc,f,v),g+=x)}else f=Kp(n,p.data,p.gc,f,u),g=x;i.push(f),r.push(g),j=Math.max(f,j),b=Math.max(g,b)}!function(e,t){Im(e,(e=>{const s=e.gc,n=s.length/2;let a;if(n>t){for(a=0;a<n;++a)delete e.data[s[a]];s.splice(0,n)}}))}(a,t);const y=i.indexOf(j),w=r.indexOf(b),N=e=>({width:i[e]||0,height:r[e]||0});return{first:N(0),last:N(t-1),widest:N(y),highest:N(w),widths:i,heights:r}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return fp(this._alignToPixels?Xp(this.chart,t,0):t,-32768,32767)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const s=t[e];return s.$context||(s.$context=function(e,t,s){return jx(e,{tick:s,index:t,type:"tick"})}(this.getContext(),e,s))}return this.$context||(this.$context=jx(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const e=this.options.ticks,t=op(this.labelRotation),s=Math.abs(Math.cos(t)),n=Math.abs(Math.sin(t)),a=this._getLabelSizes(),i=e.autoSkipPadding||0,r=a?a.widest.width+i:0,l=a?a.highest.height+i:0;return this.isHorizontal()?l*s>r*n?r/s:l/n:l*n<r*s?l/s:r/n}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,s=this.chart,n=this.options,{grid:a,position:i,border:r}=n,l=a.offset,o=this.isHorizontal(),c=this.ticks.length+(l?1:0),d=zg(a),u=[],h=r.setContext(this.getContext()),m=h.display?h.width:0,p=m/2,x=function(e){return Xp(s,e,m)};let f,g,v,j,b,y,w,N,C,S,k,D;if("top"===i)f=x(this.bottom),y=this.bottom-d,N=f-p,S=x(e.top)+p,D=e.bottom;else if("bottom"===i)f=x(this.top),S=e.top,D=x(e.bottom)-p,y=f+p,N=this.top+d;else if("left"===i)f=x(this.right),b=this.right-d,w=f-p,C=x(e.left)+p,k=e.right;else if("right"===i)f=x(this.left),C=e.left,k=x(e.right)-p,b=f+p,w=this.left+d;else if("x"===t){if("center"===i)f=x((e.top+e.bottom)/2+.5);else if(_m(i)){const e=Object.keys(i)[0],t=i[e];f=x(this.chart.scales[e].getPixelForValue(t))}S=e.top,D=e.bottom,y=f+p,N=y+d}else if("y"===t){if("center"===i)f=x((e.left+e.right)/2);else if(_m(i)){const e=Object.keys(i)[0],t=i[e];f=x(this.chart.scales[e].getPixelForValue(t))}b=f-p,w=b-d,C=e.left,k=e.right}const _=Em(n.ticks.maxTicksLimit,c),A=Math.max(1,Math.ceil(c/_));for(g=0;g<c;g+=A){const e=this.getContext(g),t=a.setContext(e),n=r.setContext(e),i=t.lineWidth,c=t.color,d=n.dash||[],h=n.dashOffset,m=t.tickWidth,p=t.tickColor,x=t.tickBorderDash||[],f=t.tickBorderDashOffset;v=Fg(this,g,l),void 0!==v&&(j=Xp(s,v,i),o?b=w=C=k=j:y=N=S=D=j,u.push({tx1:b,ty1:y,tx2:w,ty2:N,x1:C,y1:S,x2:k,y2:D,width:i,color:c,borderDash:d,borderDashOffset:h,tickWidth:m,tickColor:p,tickBorderDash:x,tickBorderDashOffset:f}))}return this._ticksLength=c,this._borderValue=f,u}_computeLabelItems(e){const t=this.axis,s=this.options,{position:n,ticks:a}=s,i=this.isHorizontal(),r=this.ticks,{align:l,crossAlign:o,padding:c,mirror:d}=a,u=zg(s.grid),h=u+c,m=d?-c:h,p=-op(this.labelRotation),x=[];let f,g,v,j,b,y,w,N,C,S,k,D,_="middle";if("top"===n)y=this.bottom-m,w=this._getXAxisLabelAlignment();else if("bottom"===n)y=this.top+m,w=this._getXAxisLabelAlignment();else if("left"===n){const e=this._getYAxisLabelAlignment(u);w=e.textAlign,b=e.x}else if("right"===n){const e=this._getYAxisLabelAlignment(u);w=e.textAlign,b=e.x}else if("x"===t){if("center"===n)y=(e.top+e.bottom)/2+h;else if(_m(n)){const e=Object.keys(n)[0],t=n[e];y=this.chart.scales[e].getPixelForValue(t)+h}w=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===n)b=(e.left+e.right)/2-h;else if(_m(n)){const e=Object.keys(n)[0],t=n[e];b=this.chart.scales[e].getPixelForValue(t)}w=this._getYAxisLabelAlignment(u).textAlign}"y"===t&&("start"===l?_="top":"end"===l&&(_="bottom"));const A=this._getLabelSizes();for(f=0,g=r.length;f<g;++f){v=r[f],j=v.label;const e=a.setContext(this.getContext(f));N=this.getPixelForTick(f)+a.labelOffset,C=this._resolveTickFontOptions(f),S=C.lineHeight,k=Dm(j)?j.length:1;const t=k/2,s=e.color,l=e.textStrokeColor,c=e.textStrokeWidth;let u,h=w;if(i?(b=N,"inner"===w&&(h=f===g-1?this.options.reverse?"left":"right":0===f?this.options.reverse?"right":"left":"center"),D="top"===n?"near"===o||0!==p?-k*S+S/2:"center"===o?-A.highest.height/2-t*S+S:-A.highest.height+S/2:"near"===o||0!==p?S/2:"center"===o?A.highest.height/2-t*S:A.highest.height-k*S,d&&(D*=-1),0===p||e.showLabelBackdrop||(b+=S/2*Math.sin(p))):(y=N,D=(1-k)*S/2),e.showLabelBackdrop){const t=fx(e.backdropPadding),s=A.heights[f],n=A.widths[f];let a=D-t.top,i=0-t.left;switch(_){case"middle":a-=s/2;break;case"bottom":a-=s}switch(w){case"center":i-=n/2;break;case"right":i-=n;break;case"inner":f===g-1?i-=n:f>0&&(i-=n/2)}u={left:i,top:a,width:n+t.width,height:s+t.height,color:e.backdropColor}}x.push({label:j,font:C,textOffset:D,options:{rotation:p,color:s,strokeColor:l,strokeWidth:c,textAlign:h,textBaseline:_,translation:[b,y],backdrop:u}})}return x}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-op(this.labelRotation))return"top"===e?"left":"right";let s="center";return"start"===t.align?s="left":"end"===t.align?s="right":"inner"===t.align&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:s,mirror:n,padding:a}}=this.options,i=e+a,r=this._getLabelSizes().widest.width;let l,o;return"left"===t?n?(o=this.right+a,"near"===s?l="left":"center"===s?(l="center",o+=r/2):(l="right",o+=r)):(o=this.right-i,"near"===s?l="right":"center"===s?(l="center",o-=r/2):(l="left",o=this.left)):"right"===t?n?(o=this.left+a,"near"===s?l="right":"center"===s?(l="center",o-=r/2):(l="left",o-=r)):(o=this.left+i,"near"===s?l="left":"center"===s?(l="center",o+=r/2):(l="right",o=this.right)):l="right",{textAlign:l,x:o}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:s,top:n,width:a,height:i}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(s,n,a,i),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const s=this.ticks.findIndex((t=>t.value===e));if(s>=0){return t.setContext(this.getContext(s)).lineWidth}return 0}drawGrid(e){const t=this.options.grid,s=this.ctx,n=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let a,i;const r=(e,t,n)=>{n.width&&n.color&&(s.save(),s.lineWidth=n.width,s.strokeStyle=n.color,s.setLineDash(n.borderDash||[]),s.lineDashOffset=n.borderDashOffset,s.beginPath(),s.moveTo(e.x,e.y),s.lineTo(t.x,t.y),s.stroke(),s.restore())};if(t.display)for(a=0,i=n.length;a<i;++a){const e=n[a];t.drawOnChartArea&&r({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&r({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:s,grid:n}}=this,a=s.setContext(this.getContext()),i=s.display?a.width:0;if(!i)return;const r=n.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let o,c,d,u;this.isHorizontal()?(o=Xp(e,this.left,i)-i/2,c=Xp(e,this.right,r)+r/2,d=u=l):(d=Xp(e,this.top,i)-i/2,u=Xp(e,this.bottom,r)+r/2,o=c=l),t.save(),t.lineWidth=a.width,t.strokeStyle=a.color,t.beginPath(),t.moveTo(o,d),t.lineTo(c,u),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,s=this._computeLabelArea();s&&sx(t,s);const n=this.getLabelItems(e);for(const a of n){const e=a.options,s=a.font;ox(t,a.label,0,a.textOffset,s,e)}s&&nx(t)}drawTitle(){const{ctx:e,options:{position:t,title:s,reverse:n}}=this;if(!s.display)return;const a=gx(s.font),i=fx(s.padding),r=s.align;let l=a.lineHeight/2;"bottom"===t||"center"===t||_m(t)?(l+=i.bottom,Dm(s.text)&&(l+=a.lineHeight*(s.text.length-1))):l+=i.top;const{titleX:o,titleY:c,maxWidth:d,rotation:u}=function(e,t,s,n){const{top:a,left:i,bottom:r,right:l,chart:o}=e,{chartArea:c,scales:d}=o;let u,h,m,p=0;const x=r-a,f=l-i;if(e.isHorizontal()){if(h=Dp(n,i,l),_m(s)){const e=Object.keys(s)[0],n=s[e];m=d[e].getPixelForValue(n)+x-t}else m="center"===s?(c.bottom+c.top)/2+x-t:Pg(e,s,t);u=l-i}else{if(_m(s)){const e=Object.keys(s)[0],n=s[e];h=d[e].getPixelForValue(n)-f+t}else h="center"===s?(c.left+c.right)/2-f+t:Pg(e,s,t);m=Dp(n,r,a),p="left"===s?-Qm:Qm}return{titleX:h,titleY:m,maxWidth:u,rotation:p}}(this,l,t,r);ox(e,s.text,0,0,a,{color:s.color,maxWidth:d,rotation:u,textAlign:$g(r,t,n),textBaseline:"middle",translation:[o,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,s=Em(e.grid&&e.grid.z,-1),n=Em(e.border&&e.border.z,0);return this._isVisible()&&this.draw===Hg.prototype.draw?[{z:s,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:n,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",n=[];let a,i;for(a=0,i=t.length;a<i;++a){const i=t[a];i[s]!==this.id||e&&i.type!==e||n.push(i)}return n}_resolveTickFontOptions(e){return gx(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Vg{constructor(e,t,s){this.type=e,this.scope=t,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let s;(function(e){return"id"in e&&"defaults"in e})(t)&&(s=this.register(t));const n=this.items,a=e.id,i=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in n||(n[a]=e,function(e,t,s){const n=zm(Object.create(null),[s?Yp.get(s):{},Yp.get(t),e.defaults]);Yp.set(t,n),e.defaultRoutes&&function(e,t){Object.keys(t).forEach((s=>{const n=s.split("."),a=n.pop(),i=[e].concat(n).join("."),r=t[s].split("."),l=r.pop(),o=r.join(".");Yp.route(i,a,o,l)}))}(t,e.defaultRoutes);e.descriptors&&Yp.describe(t,e.descriptors)}(e,i,s),this.override&&Yp.override(e.id,e.overrides)),i}get(e){return this.items[e]}unregister(e){const t=this.items,s=e.id,n=this.scope;s in t&&delete t[s],n&&s in Yp[n]&&(delete Yp[n][s],this.override&&delete Vp[s])}}class Ug{constructor(){this.controllers=new Vg(Lf,"datasets",!0),this.elements=new Vg(Lg,"elements"),this.plugins=new Vg(Object,"plugins"),this.scales=new Vg(Hg,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("register",t)}remove(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("unregister",t)}addControllers(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("register",t,this.controllers)}addElements(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("register",t,this.elements)}addPlugins(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("register",t,this.plugins)}addScales(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("register",t,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("unregister",t,this.controllers)}removeElements(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("unregister",t,this.elements)}removePlugins(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("unregister",t,this.plugins)}removeScales(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("unregister",t,this.scales)}_each(e,t,s){[...t].forEach((t=>{const n=s||this._getRegistryForType(t);s||n.isForType(t)||n===this.plugins&&t.id?this._exec(e,n,t):Im(t,(t=>{const n=s||this._getRegistryForType(t);this._exec(e,n,t)}))}))}_exec(e,t,s){const n=Um(e);Mm(s["before"+n],[],s),t[e](s),Mm(s["after"+n],[],s)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const s=this._typedRegistries[t];if(s.isForType(e))return s}return this.plugins}_get(e,t,s){const n=t.get(e);if(void 0===n)throw new Error('"'+e+'" is not a registered '+s+".");return n}}var Wg=new Ug;class Gg{constructor(){this._init=[]}notify(e,t,s,n){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const a=n?this._descriptors(e).filter(n):this._descriptors(e),i=this._notify(a,e,t,s);return"afterDestroy"===t&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall")),i}_notify(e,t,s,n){n=n||{};for(const a of e){const e=a.plugin;if(!1===Mm(e[s],[t,n,a.options],e)&&n.cancelable)return!1}return!0}invalidate(){km(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const s=e&&e.config,n=Em(s.options&&s.options.plugins,{}),a=function(e){const t={},s=[],n=Object.keys(Wg.plugins.items);for(let i=0;i<n.length;i++)s.push(Wg.getPlugin(n[i]));const a=e.plugins||[];for(let i=0;i<a.length;i++){const e=a[i];-1===s.indexOf(e)&&(s.push(e),t[e.id]=!0)}return{plugins:s,localIds:t}}(s);return!1!==n||t?function(e,t,s,n){let{plugins:a,localIds:i}=t;const r=[],l=e.getContext();for(const o of a){const t=o.id,a=qg(s[t],n);null!==a&&r.push({plugin:o,options:Yg(e.config,{plugin:o,local:i[t]},a,l)})}return r}(e,a,n,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],s=this._cache,n=(e,t)=>e.filter((e=>!t.some((t=>e.plugin.id===t.plugin.id))));this._notify(n(t,s),e,"stop"),this._notify(n(s,t),e,"start")}}function qg(e,t){return t||!1!==e?!0===e?{}:e:null}function Yg(e,t,s,n){let{plugin:a,local:i}=t;const r=e.pluginScopeKeys(a),l=e.getOptionScopes(s,r);return i&&a.defaults&&l.push(a.defaults),e.createResolver(l,n,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Kg(e,t){const s=Yp.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||s.indexAxis||"x"}function Jg(e){if("x"===e||"y"===e||"r"===e)return e}function Xg(e){if(Jg(e))return e;for(var t=arguments.length,s=new Array(t>1?t-1:0),n=1;n<t;n++)s[n-1]=arguments[n];for(const i of s){const t=i.axis||("top"===(a=i.position)||"bottom"===a?"x":"left"===a||"right"===a?"y":void 0)||e.length>1&&Jg(e[0].toLowerCase());if(t)return t}var a;throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function Zg(e,t,s){if(s[t+"AxisID"]===e)return{axis:t}}function Qg(e,t){const s=Vp[e.type]||{scales:{}},n=t.scales||{},a=Kg(e.type,t),i=Object.create(null);return Object.keys(n).forEach((t=>{const r=n[t];if(!_m(r))return console.error(`Invalid scale configuration for scale: ${t}`);if(r._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${t}`);const l=Xg(t,r,function(e,t){if(t.data&&t.data.datasets){const s=t.data.datasets.filter((t=>t.xAxisID===e||t.yAxisID===e));if(s.length)return Zg(e,"x",s[0])||Zg(e,"y",s[0])}return{}}(t,e),Yp.scales[r.type]),o=function(e,t){return e===t?"_index_":"_value_"}(l,a),c=s.scales||{};i[t]=Bm(Object.create(null),[{axis:l},r,c[l],c[o]])})),e.data.datasets.forEach((s=>{const a=s.type||e.type,r=s.indexAxis||Kg(a,t),l=(Vp[a]||{}).scales||{};Object.keys(l).forEach((e=>{const t=function(e,t){let s=e;return"_index_"===e?s=t:"_value_"===e&&(s="x"===t?"y":"x"),s}(e,r),a=s[t+"AxisID"]||t;i[a]=i[a]||Object.create(null),Bm(i[a],[{axis:t},n[a],l[e]])}))})),Object.keys(i).forEach((e=>{const t=i[e];Bm(t,[Yp.scales[t.type],Yp.scale])})),i}function ev(e){const t=e.options||(e.options={});t.plugins=Em(t.plugins,{}),t.scales=Qg(e,t)}function tv(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const sv=new Map,nv=new Set;function av(e,t){let s=sv.get(e);return s||(s=t(),sv.set(e,s),nv.add(s)),s}const iv=(e,t,s)=>{const n=Vm(t,s);void 0!==n&&e.add(n)};class rv{constructor(e){this._config=function(e){return(e=e||{}).data=tv(e.data),ev(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=tv(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),ev(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return av(e,(()=>[[`datasets.${e}`,""]]))}datasetAnimationScopeKeys(e,t){return av(`${e}.transition.${t}`,(()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]]))}datasetElementScopeKeys(e,t){return av(`${e}-${t}`,(()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]]))}pluginScopeKeys(e){const t=e.id;return av(`${this.type}-plugin-${t}`,(()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]]))}_cachedScopes(e,t){const s=this._scopeCache;let n=s.get(e);return n&&!t||(n=new Map,s.set(e,n)),n}getOptionScopes(e,t,s){const{options:n,type:a}=this,i=this._cachedScopes(e,s),r=i.get(t);if(r)return r;const l=new Set;t.forEach((t=>{e&&(l.add(e),t.forEach((t=>iv(l,e,t)))),t.forEach((e=>iv(l,n,e))),t.forEach((e=>iv(l,Vp[a]||{},e))),t.forEach((e=>iv(l,Yp,e))),t.forEach((e=>iv(l,Up,e)))}));const o=Array.from(l);return 0===o.length&&o.push(Object.create(null)),nv.has(t)&&i.set(t,o),o}chartOptionScopes(){const{options:e,type:t}=this;return[e,Vp[t]||{},Yp.datasets[t]||{},{type:t},Yp,Up]}resolveNamedOptions(e,t,s){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const a={$shared:!0},{resolver:i,subPrefixes:r}=lv(this._resolverCache,e,n);let l=i;if(function(e,t){const{isScriptable:s,isIndexable:n}=wx(e);for(const a of t){const t=s(a),i=n(a),r=(i||t)&&e[a];if(t&&(Gm(r)||ov(r))||i&&Dm(r))return!0}return!1}(i,t)){a.$shared=!1;l=yx(i,s=Gm(s)?s():s,this.createResolver(e,s,r))}for(const o of t)a[o]=l[o];return a}createResolver(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],n=arguments.length>3?arguments[3]:void 0;const{resolver:a}=lv(this._resolverCache,e,s);return _m(t)?yx(a,t,void 0,n):a}}function lv(e,t,s){let n=e.get(t);n||(n=new Map,e.set(t,n));const a=s.join();let i=n.get(a);if(!i){i={resolver:bx(t,s),subPrefixes:s.filter((e=>!e.toLowerCase().includes("hover")))},n.set(a,i)}return i}const ov=e=>_m(e)&&Object.getOwnPropertyNames(e).some((t=>Gm(e[t])));const cv=["top","bottom","left","right","chartArea"];function dv(e,t){return"top"===e||"bottom"===e||-1===cv.indexOf(e)&&"x"===t}function uv(e,t){return function(s,n){return s[e]===n[e]?s[t]-n[t]:s[e]-n[e]}}function hv(e){const t=e.chart,s=t.options.animation;t.notifyPlugins("afterRender"),Mm(s&&s.onComplete,[e],t)}function mv(e){const t=e.chart,s=t.options.animation;Mm(s&&s.onProgress,[e],t)}function pv(e){return $x()&&"string"===typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const xv={},fv=e=>{const t=pv(e);return Object.values(xv).filter((e=>e.canvas===t)).pop()};function gv(e,t,s){const n=Object.keys(e);for(const a of n){const n=+a;if(n>=t){const i=e[a];delete e[a],(s>0||n>t)&&(e[n+s]=i)}}}class vv{static defaults=(()=>Yp)();static instances=(()=>xv)();static overrides=(()=>Vp)();static registry=(()=>Wg)();static version="4.4.9";static getChart=(()=>fv)();static register(){Wg.add(...arguments),jv()}static unregister(){Wg.remove(...arguments),jv()}constructor(e,t){const s=this.config=new rv(t),n=pv(e),a=fv(n);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const i=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||function(e){return!$x()||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?fg:Eg}(n)),this.platform.updateConfig(s);const r=this.platform.acquireContext(n,i.aspectRatio),l=r&&r.canvas,o=l&&l.height,c=l&&l.width;this.id=Sm(),this.ctx=r,this.canvas=l,this.width=c,this.height=o,this._options=i,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Gg,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let s;return function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t?(clearTimeout(s),s=setTimeout(e,t,a)):e.apply(this,a),t}}((e=>this.update(e)),i.resizeDelay||0),this._dataChanges=[],xv[this.id]=this,r&&l?(ff.listen(this,"complete",hv),ff.listen(this,"progress",mv),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:s,height:n,_aspectRatio:a}=this;return km(e)?t&&a?a:n?s/n:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Wg}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Jx(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Zp(this.canvas,this.ctx),this}stop(){return ff.stop(this),this}resize(e,t){ff.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const s=this.options,n=this.canvas,a=s.maintainAspectRatio&&this.aspectRatio,i=this.platform.getMaximumSize(n,e,t,a),r=s.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=i.width,this.height=i.height,this._aspectRatio=this.aspectRatio,Jx(this,r,!0)&&(this.notifyPlugins("resize",{size:i}),Mm(s.onResize,[this,i],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){Im(this.options.scales||{},((e,t)=>{e.id=t}))}buildOrUpdateScales(){const e=this.options,t=e.scales,s=this.scales,n=Object.keys(s).reduce(((e,t)=>(e[t]=!1,e)),{});let a=[];t&&(a=a.concat(Object.keys(t).map((e=>{const s=t[e],n=Xg(e,s),a="r"===n,i="x"===n;return{options:s,dposition:a?"chartArea":i?"bottom":"left",dtype:a?"radialLinear":i?"category":"linear"}})))),Im(a,(t=>{const a=t.options,i=a.id,r=Xg(i,a),l=Em(a.type,t.dtype);void 0!==a.position&&dv(a.position,r)===dv(t.dposition)||(a.position=t.dposition),n[i]=!0;let o=null;if(i in s&&s[i].type===l)o=s[i];else{o=new(Wg.getScale(l))({id:i,type:l,ctx:this.ctx,chart:this}),s[o.id]=o}o.init(a,e)})),Im(n,((e,t)=>{e||delete s[t]})),Im(s,(e=>{pg.configure(this,e,e.options),pg.addBox(this,e)}))}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,s=e.length;if(e.sort(((e,t)=>e.index-t.index)),s>t){for(let e=t;e<s;++e)this._destroyDatasetMeta(e);e.splice(t,s-t)}this._sortedMetasets=e.slice(0).sort(uv("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach(((e,s)=>{0===t.filter((t=>t===e._dataset)).length&&this._destroyDatasetMeta(s)}))}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let s,n;for(this._removeUnreferencedMetasets(),s=0,n=t.length;s<n;s++){const n=t[s];let a=this.getDatasetMeta(s);const i=n.type||this.config.type;if(a.type&&a.type!==i&&(this._destroyDatasetMeta(s),a=this.getDatasetMeta(s)),a.type=i,a.indexAxis=n.indexAxis||Kg(i,this.options),a.order=n.order||0,a.index=s,a.label=""+n.label,a.visible=this.isDatasetVisible(s),a.controller)a.controller.updateIndex(s),a.controller.linkScales();else{const t=Wg.getController(i),{datasetElementType:n,dataElementType:r}=Yp.datasets[i];Object.assign(t,{dataElementType:Wg.getElement(r),datasetElementType:n&&Wg.getElement(n)}),a.controller=new t(this,s),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){Im(this.data.datasets,((e,t)=>{this.getDatasetMeta(t).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const s=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),n=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let i=0;for(let o=0,c=this.data.datasets.length;o<c;o++){const{controller:e}=this.getDatasetMeta(o),t=!n&&-1===a.indexOf(e);e.buildOrUpdateElements(t),i=Math.max(+e.getMaxOverflow(),i)}i=this._minPadding=s.layout.autoPadding?i:0,this._updateLayout(i),n||Im(a,(e=>{e.reset()})),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(uv("z","_idx"));const{_active:r,_lastEvent:l}=this;l?this._eventHandler(l,!0):r.length&&this._updateHoverStyles(r,r,!0),this.render()}_updateScales(){Im(this.scales,(e=>{pg.removeBox(this,e)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),s=new Set(e.events);qm(t,s)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:s,start:n,count:a}of t){gv(e,n,"_removeElements"===s?-a:a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,s=t=>new Set(e.filter((e=>e[0]===t)).map(((e,t)=>t+","+e.splice(1).join(",")))),n=s(0);for(let a=1;a<t;a++)if(!qm(n,s(a)))return;return Array.from(n).map((e=>e.split(","))).map((e=>({method:e[1],start:+e[2],count:+e[3]})))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;pg.update(this,this.width,this.height,e);const t=this.chartArea,s=t.width<=0||t.height<=0;this._layers=[],Im(this.boxes,(e=>{s&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))}),this),this._layers.forEach(((e,t)=>{e._idx=t})),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,s=this.data.datasets.length;t<s;++t)this._updateDataset(t,Gm(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const s=this.getDatasetMeta(e),n={meta:s,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",n)&&(s.controller._update(t),n.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",n))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(ff.has(this)?this.attached&&!ff.running(this)&&ff.start(this):(this.draw(),hv({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(e,t)}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,s=[];let n,a;for(n=0,a=t.length;n<a;++n){const a=t[n];e&&!a.visible||s.push(a)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,s={meta:e,index:e.index,cancelable:!0},n=pf(this,e);!1!==this.notifyPlugins("beforeDatasetDraw",s)&&(n&&sx(t,n),e.controller.draw(),n&&nx(t),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return tx(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,s,n){const a=tg.modes[t];return"function"===typeof a?a(this,e,s,n):[]}getDatasetMeta(e){const t=this.data.datasets[e],s=this._metasets;let n=s.filter((e=>e&&e._dataset===t)).pop();return n||(n={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},s.push(n)),n}getContext(){return this.$context||(this.$context=jx(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const s=this.getDatasetMeta(e);return"boolean"===typeof s.hidden?!s.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,s){const n=s?"show":"hide",a=this.getDatasetMeta(e),i=a.controller._resolveAnimations(void 0,n);Wm(t)?(a.data[t].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),i.update(a,{visible:s}),this.update((t=>t.datasetIndex===e?n:void 0)))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),ff.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Zp(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete xv[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,s=(s,n)=>{t.addEventListener(this,s,n),e[s]=n},n=(e,t,s)=>{e.offsetX=t,e.offsetY=s,this._eventHandler(e)};Im(this.options.events,(e=>s(e,n)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,s=(s,n)=>{t.addEventListener(this,s,n),e[s]=n},n=(s,n)=>{e[s]&&(t.removeEventListener(this,s,n),delete e[s])},a=(e,t)=>{this.canvas&&this.resize(e,t)};let i;const r=()=>{n("attach",r),this.attached=!0,this.resize(),s("resize",a),s("detach",i)};i=()=>{this.attached=!1,n("resize",a),this._stop(),this._resize(0,0),s("attach",r)},t.isAttached(this.canvas)?r():i()}unbindEvents(){Im(this._listeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._listeners={},Im(this._responsiveListeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._responsiveListeners=void 0}updateHoverStyle(e,t,s){const n=s?"set":"remove";let a,i,r,l;for("dataset"===t&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+n+"DatasetHoverStyle"]()),r=0,l=e.length;r<l;++r){i=e[r];const t=i&&this.getDatasetMeta(i.datasetIndex).controller;t&&t[n+"HoverStyle"](i.element,i.datasetIndex,i.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],s=e.map((e=>{let{datasetIndex:t,index:s}=e;const n=this.getDatasetMeta(t);if(!n)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:n.data[s],index:s}}));!Pm(s,t)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,t))}notifyPlugins(e,t,s){return this._plugins.notify(this,e,t,s)}isPluginEnabled(e){return 1===this._plugins._cache.filter((t=>t.plugin.id===e)).length}_updateHoverStyles(e,t,s){const n=this.options.hover,a=(e,t)=>e.filter((e=>!t.some((t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)))),i=a(t,e),r=s?e:a(e,t);i.length&&this.updateHoverStyle(i,n.mode,!1),r.length&&n.mode&&this.updateHoverStyle(r,n.mode,!0)}_eventHandler(e,t){const s={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},n=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",s,n))return;const a=this._handleEvent(e,t,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,n),(a||s.changed)&&this.render(),this}_handleEvent(e,t,s){const{_active:n=[],options:a}=this,i=t,r=this._getActiveElements(e,n,s,i),l=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),o=function(e,t,s,n){return s&&"mouseout"!==e.type?n?t:e:null}(e,this._lastEvent,s,l);s&&(this._lastEvent=null,Mm(a.onHover,[e,r,this],this),l&&Mm(a.onClick,[e,r,this],this));const c=!Pm(r,n);return(c||t)&&(this._active=r,this._updateHoverStyles(r,n,t)),this._lastEvent=o,c}_getActiveElements(e,t,s,n){if("mouseout"===e.type)return[];if(!s)return t;const a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,n)}}function jv(){return Im(vv.instances,(e=>e._plugins.invalidate()))}function bv(e,t,s,n){const a=mx(e.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const i=(s-t)/2,r=Math.min(i,n*t/2),l=e=>{const t=(s-Math.min(i,e))*n/2;return fp(e,0,Math.min(i,t))};return{outerStart:l(a.outerStart),outerEnd:l(a.outerEnd),innerStart:fp(a.innerStart,0,r),innerEnd:fp(a.innerEnd,0,r)}}function yv(e,t,s,n){return{x:s+e*Math.cos(t),y:n+e*Math.sin(t)}}function wv(e,t,s,n,a,i){const{x:r,y:l,startAngle:o,pixelMargin:c,innerRadius:d}=t,u=Math.max(t.outerRadius+n+s-c,0),h=d>0?d+n+s+c:0;let m=0;const p=a-o;if(n){const e=((d>0?d-n:0)+(u>0?u-n:0))/2;m=(p-(0!==e?p*e/(e+n):p))/2}const x=(p-Math.max(.001,p*u-s/Ym)/u)/2,f=o+x+m,g=a-x-m,{outerStart:v,outerEnd:j,innerStart:b,innerEnd:y}=bv(t,h,u,g-f),w=u-v,N=u-j,C=f+v/w,S=g-j/N,k=h+b,D=h+y,_=f+b/k,A=g-y/D;if(e.beginPath(),i){const t=(C+S)/2;if(e.arc(r,l,u,C,t),e.arc(r,l,u,t,S),j>0){const t=yv(N,S,r,l);e.arc(t.x,t.y,j,S,g+Qm)}const s=yv(D,g,r,l);if(e.lineTo(s.x,s.y),y>0){const t=yv(D,A,r,l);e.arc(t.x,t.y,y,g+Qm,A+Math.PI)}const n=(g-y/h+(f+b/h))/2;if(e.arc(r,l,h,g-y/h,n,!0),e.arc(r,l,h,n,f+b/h,!0),b>0){const t=yv(k,_,r,l);e.arc(t.x,t.y,b,_+Math.PI,f-Qm)}const a=yv(w,f,r,l);if(e.lineTo(a.x,a.y),v>0){const t=yv(w,C,r,l);e.arc(t.x,t.y,v,f-Qm,C)}}else{e.moveTo(r,l);const t=Math.cos(C)*u+r,s=Math.sin(C)*u+l;e.lineTo(t,s);const n=Math.cos(S)*u+r,a=Math.sin(S)*u+l;e.lineTo(n,a)}e.closePath()}function Nv(e,t,s,n,a){const{fullCircles:i,startAngle:r,circumference:l,options:o}=t,{borderWidth:c,borderJoinStyle:d,borderDash:u,borderDashOffset:h}=o,m="inner"===o.borderAlign;if(!c)return;e.setLineDash(u||[]),e.lineDashOffset=h,m?(e.lineWidth=2*c,e.lineJoin=d||"round"):(e.lineWidth=c,e.lineJoin=d||"bevel");let p=t.endAngle;if(i){wv(e,t,s,n,p,a);for(let t=0;t<i;++t)e.stroke();isNaN(l)||(p=r+(l%Km||Km))}m&&function(e,t,s){const{startAngle:n,pixelMargin:a,x:i,y:r,outerRadius:l,innerRadius:o}=t;let c=a/l;e.beginPath(),e.arc(i,r,l,n-c,s+c),o>a?(c=a/o,e.arc(i,r,o,s+c,n-c,!0)):e.arc(i,r,a,s+Qm,n-Qm),e.closePath(),e.clip()}(e,t,p),i||(wv(e,t,s,n,p,a),e.stroke())}class Cv extends Lg{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,s){const n=this.getProps(["x","y"],s),{angle:a,distance:i}=up(n,{x:e,y:t}),{startAngle:r,endAngle:l,innerRadius:o,outerRadius:c,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),u=(this.options.spacing+this.options.borderWidth)/2,h=Em(d,l-r),m=xp(a,r,l)&&r!==l,p=h>=Km||m,x=gp(i,o+u,c+u);return p&&x}getCenterPoint(e){const{x:t,y:s,startAngle:n,endAngle:a,innerRadius:i,outerRadius:r}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:l,spacing:o}=this.options,c=(n+a)/2,d=(i+r+o+l)/2;return{x:t+Math.cos(c)*d,y:s+Math.sin(c)*d}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:s}=this,n=(t.offset||0)/4,a=(t.spacing||0)/2,i=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=s>Km?Math.floor(s/Km):0,0===s||this.innerRadius<0||this.outerRadius<0)return;e.save();const r=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(r)*n,Math.sin(r)*n);const l=n*(1-Math.sin(Math.min(Ym,s||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,s,n,a){const{fullCircles:i,startAngle:r,circumference:l}=t;let o=t.endAngle;if(i){wv(e,t,s,n,o,a);for(let t=0;t<i;++t)e.fill();isNaN(l)||(o=r+(l%Km||Km))}wv(e,t,s,n,o,a),e.fill()}(e,this,l,a,i),Nv(e,this,l,a,i),e.restore()}}function Sv(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;e.lineCap=Em(s.borderCapStyle,t.borderCapStyle),e.setLineDash(Em(s.borderDash,t.borderDash)),e.lineDashOffset=Em(s.borderDashOffset,t.borderDashOffset),e.lineJoin=Em(s.borderJoinStyle,t.borderJoinStyle),e.lineWidth=Em(s.borderWidth,t.borderWidth),e.strokeStyle=Em(s.borderColor,t.borderColor)}function kv(e,t,s){e.lineTo(s.x,s.y)}function Dv(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=e.length,{start:a=0,end:i=n-1}=s,{start:r,end:l}=t,o=Math.max(a,r),c=Math.min(i,l),d=a<r&&i<r||a>l&&i>l;return{count:n,start:o,loop:t.loop,ilen:c<o&&!d?n+c-o:c-o}}function _v(e,t,s,n){const{points:a,options:i}=t,{count:r,start:l,loop:o,ilen:c}=Dv(a,s,n),d=function(e){return e.stepped?ax:e.tension||"monotone"===e.cubicInterpolationMode?ix:kv}(i);let u,h,m,{move:p=!0,reverse:x}=n||{};for(u=0;u<=c;++u)h=a[(l+(x?c-u:u))%r],h.skip||(p?(e.moveTo(h.x,h.y),p=!1):d(e,m,h,x,i.stepped),m=h);return o&&(h=a[(l+(x?c:0))%r],d(e,m,h,x,i.stepped)),!!o}function Av(e,t,s,n){const a=t.points,{count:i,start:r,ilen:l}=Dv(a,s,n),{move:o=!0,reverse:c}=n||{};let d,u,h,m,p,x,f=0,g=0;const v=e=>(r+(c?l-e:e))%i,j=()=>{m!==p&&(e.lineTo(f,p),e.lineTo(f,m),e.lineTo(f,x))};for(o&&(u=a[v(0)],e.moveTo(u.x,u.y)),d=0;d<=l;++d){if(u=a[v(d)],u.skip)continue;const t=u.x,s=u.y,n=0|t;n===h?(s<m?m=s:s>p&&(p=s),f=(g*f+t)/++g):(j(),e.lineTo(t,s),h=n,g=0,m=p=s),x=s}j()}function Tv(e){const t=e.options,s=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&"monotone"!==t.cubicInterpolationMode&&!t.stepped&&!s?Av:_v}const Ev="function"===typeof Path2D;function Lv(e,t,s,n){Ev&&!t.options.segment?function(e,t,s,n){let a=t._path;a||(a=t._path=new Path2D,t.path(a,s,n)&&a.closePath()),Sv(e,t.options),e.stroke(a)}(e,t,s,n):function(e,t,s,n){const{segments:a,options:i}=t,r=Tv(t);for(const l of a)Sv(e,i,l.style),e.beginPath(),r(e,t,l,{start:s,end:s+n-1})&&e.closePath(),e.stroke()}(e,t,s,n)}class Mv extends Lg{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const s=this.options;if((s.tension||"monotone"===s.cubicInterpolationMode)&&!s.stepped&&!this._pointsUpdated){const n=s.spanGaps?this._loop:this._fullLoop;Bx(this._points,s,e,n,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){const s=e.points,n=e.options.spanGaps,a=s.length;if(!a)return[];const i=!!e._loop,{start:r,end:l}=function(e,t,s,n){let a=0,i=t-1;if(s&&!n)for(;a<t&&!e[a].skip;)a++;for(;a<t&&e[a].skip;)a++;for(a%=t,s&&(i+=a);i>a&&e[i%t].skip;)i--;return i%=t,{start:a,end:i}}(s,a,i,n);return df(e,!0===n?[{start:r,end:l,loop:i}]:function(e,t,s,n){const a=e.length,i=[];let r,l=t,o=e[t];for(r=t+1;r<=s;++r){const s=e[r%a];s.skip||s.stop?o.skip||(n=!1,i.push({start:t%a,end:(r-1)%a,loop:n}),t=l=s.stop?r:null):(l=r,o.skip&&(t=r)),o=s}return null!==l&&i.push({start:t%a,end:l%a,loop:n}),i}(s,r,l<r?l+a:l,!!e._fullLoop&&0===r&&l===a-1),s,t)}(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,s=e.length;return s&&t[e[s-1].end]}interpolate(e,t){const s=this.options,n=e[t],a=this.points,i=cf(this,{property:t,start:n,end:n});if(!i.length)return;const r=[],l=function(e){return e.stepped?ef:e.tension||"monotone"===e.cubicInterpolationMode?tf:Qx}(s);let o,c;for(o=0,c=i.length;o<c;++o){const{start:c,end:d}=i[o],u=a[c],h=a[d];if(u===h){r.push(u);continue}const m=l(u,h,Math.abs((n-u[t])/(h[t]-u[t])),s.stepped);m[t]=e[t],r.push(m)}return 1===r.length?r[0]:r}pathSegment(e,t,s){return Tv(this)(e,this,t,s)}path(e,t,s){const n=this.segments,a=Tv(this);let i=this._loop;t=t||0,s=s||this.points.length-t;for(const r of n)i&=a(e,this,r,{start:t,end:t+s-1});return!!i}draw(e,t,s,n){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(e.save(),Lv(e,this,s,n),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Iv(e,t,s,n){const a=e.options,{[s]:i}=e.getProps([s],n);return Math.abs(t-i)<a.radius+a.hitRadius}class Pv extends Lg{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,s){const n=this.options,{x:a,y:i}=this.getProps(["x","y"],s);return Math.pow(e-a,2)+Math.pow(t-i,2)<Math.pow(n.hitRadius+n.radius,2)}inXRange(e,t){return Iv(this,e,"x",t)}inYRange(e,t){return Iv(this,e,"y",t)}getCenterPoint(e){const{x:t,y:s}=this.getProps(["x","y"],e);return{x:t,y:s}}size(e){let t=(e=e||this.options||{}).radius||0;t=Math.max(t,t&&e.hoverRadius||0);return 2*(t+(t&&e.borderWidth||0))}draw(e,t){const s=this.options;this.skip||s.radius<.1||!tx(this,t,this.size(s)/2)||(e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.fillStyle=s.backgroundColor,Qp(e,s,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function Ov(e,t){const{x:s,y:n,base:a,width:i,height:r}=e.getProps(["x","y","base","width","height"],t);let l,o,c,d,u;return e.horizontal?(u=r/2,l=Math.min(s,a),o=Math.max(s,a),c=n-u,d=n+u):(u=i/2,l=s-u,o=s+u,c=Math.min(n,a),d=Math.max(n,a)),{left:l,top:c,right:o,bottom:d}}function Rv(e,t,s,n){return e?0:fp(t,s,n)}function Fv(e){const t=Ov(e),s=t.right-t.left,n=t.bottom-t.top,a=function(e,t,s){const n=e.options.borderWidth,a=e.borderSkipped,i=px(n);return{t:Rv(a.top,i.top,0,s),r:Rv(a.right,i.right,0,t),b:Rv(a.bottom,i.bottom,0,s),l:Rv(a.left,i.left,0,t)}}(e,s/2,n/2),i=function(e,t,s){const{enableBorderRadius:n}=e.getProps(["enableBorderRadius"]),a=e.options.borderRadius,i=xx(a),r=Math.min(t,s),l=e.borderSkipped,o=n||_m(a);return{topLeft:Rv(!o||l.top||l.left,i.topLeft,0,r),topRight:Rv(!o||l.top||l.right,i.topRight,0,r),bottomLeft:Rv(!o||l.bottom||l.left,i.bottomLeft,0,r),bottomRight:Rv(!o||l.bottom||l.right,i.bottomRight,0,r)}}(e,s/2,n/2);return{outer:{x:t.left,y:t.top,w:s,h:n,radius:i},inner:{x:t.left+a.l,y:t.top+a.t,w:s-a.l-a.r,h:n-a.t-a.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,i.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(a.b,a.r))}}}}function zv(e,t,s,n){const a=null===t,i=null===s,r=e&&!(a&&i)&&Ov(e,n);return r&&(a||gp(t,r.left,r.right))&&(i||gp(s,r.top,r.bottom))}function Bv(e,t){e.rect(t.x,t.y,t.w,t.h)}function $v(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=e.x!==s.x?-t:0,a=e.y!==s.y?-t:0,i=(e.x+e.w!==s.x+s.w?t:0)-n,r=(e.y+e.h!==s.y+s.h?t:0)-a;return{x:e.x+n,y:e.y+a,w:e.w+i,h:e.h+r,radius:e.radius}}class Hv extends Lg{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:s,backgroundColor:n}}=this,{inner:a,outer:i}=Fv(this),r=(l=i.radius).topLeft||l.topRight||l.bottomLeft||l.bottomRight?cx:Bv;var l;e.save(),i.w===a.w&&i.h===a.h||(e.beginPath(),r(e,$v(i,t,a)),e.clip(),r(e,$v(a,-t,i)),e.fillStyle=s,e.fill("evenodd")),e.beginPath(),r(e,$v(a,t)),e.fillStyle=n,e.fill(),e.restore()}inRange(e,t,s){return zv(this,e,t,s)}inXRange(e,t){return zv(this,e,null,t)}inYRange(e,t){return zv(this,null,e,t)}getCenterPoint(e){const{x:t,y:s,base:n,horizontal:a}=this.getProps(["x","y","base","horizontal"],e);return{x:a?(t+n)/2:t,y:a?s:(s+n)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}function Vv(e,t,s,n){if(n)return;let a=t[e],i=s[e];return"angle"===e&&(a=pp(a),i=pp(i)),{property:e,start:a,end:i}}function Uv(e,t,s){for(;t>e;t--){const e=s[t];if(!isNaN(e.x)&&!isNaN(e.y))break}return t}function Wv(e,t,s,n){return e&&t?n(e[s],t[s]):e?e[s]:t?t[s]:0}function Gv(e,t){let s=[],n=!1;return Dm(e)?(n=!0,s=e):s=function(e,t){const{x:s=null,y:n=null}=e||{},a=t.points,i=[];return t.segments.forEach((e=>{let{start:t,end:r}=e;r=Uv(t,r,a);const l=a[t],o=a[r];null!==n?(i.push({x:l.x,y:n}),i.push({x:o.x,y:n})):null!==s&&(i.push({x:s,y:l.y}),i.push({x:s,y:o.y}))})),i}(e,t),s.length?new Mv({points:s,options:{tension:0},_loop:n,_fullLoop:n}):null}function qv(e){return e&&!1!==e.fill}function Yv(e,t,s){let n=e[t].fill;const a=[t];let i;if(!s)return n;for(;!1!==n&&-1===a.indexOf(n);){if(!Am(n))return n;if(i=e[n],!i)return!1;if(i.visible)return n;a.push(n),n=i.fill}return!1}function Kv(e,t,s){const n=function(e){const t=e.options,s=t.fill;let n=Em(s&&s.target,s);void 0===n&&(n=!!t.backgroundColor);if(!1===n||null===n)return!1;if(!0===n)return"origin";return n}(e);if(_m(n))return!isNaN(n.value)&&n;let a=parseFloat(n);return Am(a)&&Math.floor(a)===a?function(e,t,s,n){"-"!==e&&"+"!==e||(s=t+s);if(s===t||s<0||s>=n)return!1;return s}(n[0],t,a,s):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function Jv(e,t,s){const n=[];for(let a=0;a<s.length;a++){const i=s[a],{first:r,last:l,point:o}=Xv(i,t,"x");if(!(!o||r&&l))if(r)n.unshift(o);else if(e.push(o),!l)break}e.push(...n)}function Xv(e,t,s){const n=e.interpolate(t,s);if(!n)return{};const a=n[s],i=e.segments,r=e.points;let l=!1,o=!1;for(let c=0;c<i.length;c++){const e=i[c],t=r[e.start][s],n=r[e.end][s];if(gp(a,t,n)){l=a===t,o=a===n;break}}return{first:l,last:o,point:n}}class Zv{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,s){const{x:n,y:a,radius:i}=this;return t=t||{start:0,end:Km},e.arc(n,a,i,t.end,t.start,!0),!s.bounds}interpolate(e){const{x:t,y:s,radius:n}=this,a=e.angle;return{x:t+Math.cos(a)*n,y:s+Math.sin(a)*n,angle:a}}}function Qv(e){const{chart:t,fill:s,line:n}=e;if(Am(s))return function(e,t){const s=e.getDatasetMeta(t),n=s&&e.isDatasetVisible(t);return n?s.dataset:null}(t,s);if("stack"===s)return function(e){const{scale:t,index:s,line:n}=e,a=[],i=n.segments,r=n.points,l=function(e,t){const s=[],n=e.getMatchingVisibleMetas("line");for(let a=0;a<n.length;a++){const e=n[a];if(e.index===t)break;e.hidden||s.unshift(e.dataset)}return s}(t,s);l.push(Gv({x:null,y:t.bottom},n));for(let o=0;o<i.length;o++){const e=i[o];for(let t=e.start;t<=e.end;t++)Jv(a,r[t],l)}return new Mv({points:a,options:{}})}(e);if("shape"===s)return!0;const a=function(e){const t=e.scale||{};if(t.getPointPositionForValue)return function(e){const{scale:t,fill:s}=e,n=t.options,a=t.getLabels().length,i=n.reverse?t.max:t.min,r=function(e,t,s){let n;return n="start"===e?s:"end"===e?t.options.reverse?t.min:t.max:_m(e)?e.value:t.getBaseValue(),n}(s,t,i),l=[];if(n.grid.circular){const e=t.getPointPositionForValue(0,i);return new Zv({x:e.x,y:e.y,radius:t.getDistanceFromCenterForValue(r)})}for(let o=0;o<a;++o)l.push(t.getPointPositionForValue(o,r));return l}(e);return function(e){const{scale:t={},fill:s}=e,n=function(e,t){let s=null;return"start"===e?s=t.bottom:"end"===e?s=t.top:_m(e)?s=t.getPixelForValue(e.value):t.getBasePixel&&(s=t.getBasePixel()),s}(s,t);if(Am(n)){const e=t.isHorizontal();return{x:e?n:null,y:e?null:n}}return null}(e)}(e);return a instanceof Zv?a:Gv(a,n)}function ej(e,t,s){const n=Qv(t),{chart:a,index:i,line:r,scale:l,axis:o}=t,c=r.options,d=c.fill,u=c.backgroundColor,{above:h=u,below:m=u}=d||{},p=a.getDatasetMeta(i),x=pf(a,p);n&&r.points.length&&(sx(e,s),function(e,t){const{line:s,target:n,above:a,below:i,area:r,scale:l,clip:o}=t,c=s._loop?"angle":t.axis;e.save(),"x"===c&&i!==a&&(tj(e,n,r.top),sj(e,{line:s,target:n,color:a,scale:l,property:c,clip:o}),e.restore(),e.save(),tj(e,n,r.bottom));sj(e,{line:s,target:n,color:i,scale:l,property:c,clip:o}),e.restore()}(e,{line:r,target:n,above:h,below:m,area:s,scale:l,axis:o,clip:x}),nx(e))}function tj(e,t,s){const{segments:n,points:a}=t;let i=!0,r=!1;e.beginPath();for(const l of n){const{start:n,end:o}=l,c=a[n],d=a[Uv(n,o,a)];i?(e.moveTo(c.x,c.y),i=!1):(e.lineTo(c.x,s),e.lineTo(c.x,c.y)),r=!!t.pathSegment(e,l,{move:r}),r?e.closePath():e.lineTo(d.x,s)}e.lineTo(t.first().x,s),e.closePath(),e.clip()}function sj(e,t){const{line:s,target:n,property:a,color:i,scale:r,clip:l}=t,o=function(e,t,s){const n=e.segments,a=e.points,i=t.points,r=[];for(const l of n){let{start:e,end:n}=l;n=Uv(e,n,a);const o=Vv(s,a[e],a[n],l.loop);if(!t.segments){r.push({source:l,target:o,start:a[e],end:a[n]});continue}const c=cf(t,o);for(const t of c){const e=Vv(s,i[t.start],i[t.end],t.loop),n=of(l,a,e);for(const a of n)r.push({source:a,target:t,start:{[s]:Wv(o,e,"start",Math.max)},end:{[s]:Wv(o,e,"end",Math.min)}})}}return r}(s,n,a);for(const{source:c,target:d,start:u,end:h}of o){const{style:{backgroundColor:t=i}={}}=c,o=!0!==n;e.save(),e.fillStyle=t,nj(e,r,l,o&&Vv(a,u,h)),e.beginPath();const m=!!s.pathSegment(e,c);let p;if(o){m?e.closePath():aj(e,n,h,a);const t=!!n.pathSegment(e,d,{move:m,reverse:!0});p=m&&t,p||aj(e,n,u,a)}e.closePath(),e.fill(p?"evenodd":"nonzero"),e.restore()}}function nj(e,t,s,n){const a=t.chart.chartArea,{property:i,start:r,end:l}=n||{};if("x"===i||"y"===i){let t,n,o,c;"x"===i?(t=r,n=a.top,o=l,c=a.bottom):(t=a.left,n=r,o=a.right,c=l),e.beginPath(),s&&(t=Math.max(t,s.left),o=Math.min(o,s.right),n=Math.max(n,s.top),c=Math.min(c,s.bottom)),e.rect(t,n,o-t,c-n),e.clip()}}function aj(e,t,s,n){const a=t.interpolate(s,n);a&&e.lineTo(a.x,a.y)}var ij={id:"filler",afterDatasetsUpdate(e,t,s){const n=(e.data.datasets||[]).length,a=[];let i,r,l,o;for(r=0;r<n;++r)i=e.getDatasetMeta(r),l=i.dataset,o=null,l&&l.options&&l instanceof Mv&&(o={visible:e.isDatasetVisible(r),index:r,fill:Kv(l,r,n),chart:e,axis:i.controller.options.indexAxis,scale:i.vScale,line:l}),i.$filler=o,a.push(o);for(r=0;r<n;++r)o=a[r],o&&!1!==o.fill&&(o.fill=Yv(a,r,s.propagate))},beforeDraw(e,t,s){const n="beforeDraw"===s.drawTime,a=e.getSortedVisibleDatasetMetas(),i=e.chartArea;for(let r=a.length-1;r>=0;--r){const t=a[r].$filler;t&&(t.line.updateControlPoints(i,t.axis),n&&t.fill&&ej(e.ctx,t,i))}},beforeDatasetsDraw(e,t,s){if("beforeDatasetsDraw"!==s.drawTime)return;const n=e.getSortedVisibleDatasetMetas();for(let a=n.length-1;a>=0;--a){const t=n[a].$filler;qv(t)&&ej(e.ctx,t,e.chartArea)}},beforeDatasetDraw(e,t,s){const n=t.meta.$filler;qv(n)&&"beforeDatasetDraw"===s.drawTime&&ej(e.ctx,n,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const rj=(e,t)=>{let{boxHeight:s=t,boxWidth:n=t}=e;return e.usePointStyle&&(s=Math.min(s,t),n=e.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:s,itemHeight:Math.max(t,s)}};class lj extends Lg{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,s){this.maxWidth=e,this.maxHeight=t,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Mm(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter((t=>e.filter(t,this.chart.data)))),e.sort&&(t=t.sort(((t,s)=>e.sort(t,s,this.chart.data)))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const s=e.labels,n=gx(s.font),a=n.size,i=this._computeTitleHeight(),{boxWidth:r,itemHeight:l}=rj(s,a);let o,c;t.font=n.string,this.isHorizontal()?(o=this.maxWidth,c=this._fitRows(i,a,r,l)+10):(c=this.maxHeight,o=this._fitCols(i,n,r,l)+10),this.width=Math.min(o,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,s,n){const{ctx:a,maxWidth:i,options:{labels:{padding:r}}}=this,l=this.legendHitBoxes=[],o=this.lineWidths=[0],c=n+r;let d=e;a.textAlign="left",a.textBaseline="middle";let u=-1,h=-c;return this.legendItems.forEach(((e,m)=>{const p=s+t/2+a.measureText(e.text).width;(0===m||o[o.length-1]+p+2*r>i)&&(d+=c,o[o.length-(m>0?0:1)]=0,h+=c,u++),l[m]={left:0,top:h,row:u,width:p,height:n},o[o.length-1]+=p+r})),d}_fitCols(e,t,s,n){const{ctx:a,maxHeight:i,options:{labels:{padding:r}}}=this,l=this.legendHitBoxes=[],o=this.columnSizes=[],c=i-e;let d=r,u=0,h=0,m=0,p=0;return this.legendItems.forEach(((e,i)=>{const{itemWidth:x,itemHeight:f}=function(e,t,s,n,a){const i=function(e,t,s,n){let a=e.text;a&&"string"!==typeof a&&(a=a.reduce(((e,t)=>e.length>t.length?e:t)));return t+s.size/2+n.measureText(a).width}(n,e,t,s),r=function(e,t,s){let n=e;"string"!==typeof t.text&&(n=oj(t,s));return n}(a,n,t.lineHeight);return{itemWidth:i,itemHeight:r}}(s,t,a,e,n);i>0&&h+f+2*r>c&&(d+=u+r,o.push({width:u,height:h}),m+=u+r,p++,u=h=0),l[i]={left:m,top:h,col:p,width:x,height:f},u=Math.max(u,x),h+=f+r})),d+=u,o.push({width:u,height:h}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:s,labels:{padding:n},rtl:a}}=this,i=sf(a,this.left,this.width);if(this.isHorizontal()){let a=0,r=Dp(s,this.left+n,this.right-this.lineWidths[a]);for(const l of t)a!==l.row&&(a=l.row,r=Dp(s,this.left+n,this.right-this.lineWidths[a])),l.top+=this.top+e+n,l.left=i.leftForLtr(i.x(r),l.width),r+=l.width+n}else{let a=0,r=Dp(s,this.top+e+n,this.bottom-this.columnSizes[a].height);for(const l of t)l.col!==a&&(a=l.col,r=Dp(s,this.top+e+n,this.bottom-this.columnSizes[a].height)),l.top=r,l.left+=this.left+n,l.left=i.leftForLtr(i.x(l.left),l.width),r+=l.height+n}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;sx(e,this),this._draw(),nx(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:s,ctx:n}=this,{align:a,labels:i}=e,r=Yp.color,l=sf(e.rtl,this.left,this.width),o=gx(i.font),{padding:c}=i,d=o.size,u=d/2;let h;this.drawTitle(),n.textAlign=l.textAlign("left"),n.textBaseline="middle",n.lineWidth=.5,n.font=o.string;const{boxWidth:m,boxHeight:p,itemHeight:x}=rj(i,d),f=this.isHorizontal(),g=this._computeTitleHeight();h=f?{x:Dp(a,this.left+c,this.right-s[0]),y:this.top+c+g,line:0}:{x:this.left+c,y:Dp(a,this.top+g+c,this.bottom-t[0].height),line:0},nf(this.ctx,e.textDirection);const v=x+c;this.legendItems.forEach(((j,b)=>{n.strokeStyle=j.fontColor,n.fillStyle=j.fontColor;const y=n.measureText(j.text).width,w=l.textAlign(j.textAlign||(j.textAlign=i.textAlign)),N=m+u+y;let C=h.x,S=h.y;l.setWidth(this.width),f?b>0&&C+N+c>this.right&&(S=h.y+=v,h.line++,C=h.x=Dp(a,this.left+c,this.right-s[h.line])):b>0&&S+v>this.bottom&&(C=h.x=C+t[h.line].width+c,h.line++,S=h.y=Dp(a,this.top+g+c,this.bottom-t[h.line].height));if(function(e,t,s){if(isNaN(m)||m<=0||isNaN(p)||p<0)return;n.save();const a=Em(s.lineWidth,1);if(n.fillStyle=Em(s.fillStyle,r),n.lineCap=Em(s.lineCap,"butt"),n.lineDashOffset=Em(s.lineDashOffset,0),n.lineJoin=Em(s.lineJoin,"miter"),n.lineWidth=a,n.strokeStyle=Em(s.strokeStyle,r),n.setLineDash(Em(s.lineDash,[])),i.usePointStyle){const r={radius:p*Math.SQRT2/2,pointStyle:s.pointStyle,rotation:s.rotation,borderWidth:a},o=l.xPlus(e,m/2);ex(n,r,o,t+u,i.pointStyleWidth&&m)}else{const i=t+Math.max((d-p)/2,0),r=l.leftForLtr(e,m),o=xx(s.borderRadius);n.beginPath(),Object.values(o).some((e=>0!==e))?cx(n,{x:r,y:i,w:m,h:p,radius:o}):n.rect(r,i,m,p),n.fill(),0!==a&&n.stroke()}n.restore()}(l.x(C),S,j),C=((e,t,s,n)=>e===(n?"left":"right")?s:"center"===e?(t+s)/2:t)(w,C+m+u,f?C+N:this.right,e.rtl),function(e,t,s){ox(n,s.text,e,t+x/2,o,{strikethrough:s.hidden,textAlign:l.textAlign(s.textAlign)})}(l.x(C),S,j),f)h.x+=N+c;else if("string"!==typeof j.text){const e=o.lineHeight;h.y+=oj(j,e)+c}else h.y+=v})),af(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,s=gx(t.font),n=fx(t.padding);if(!t.display)return;const a=sf(e.rtl,this.left,this.width),i=this.ctx,r=t.position,l=s.size/2,o=n.top+l;let c,d=this.left,u=this.width;if(this.isHorizontal())u=Math.max(...this.lineWidths),c=this.top+o,d=Dp(e.align,d,this.right-u);else{const t=this.columnSizes.reduce(((e,t)=>Math.max(e,t.height)),0);c=o+Dp(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const h=Dp(r,d,d+u);i.textAlign=a.textAlign(kp(r)),i.textBaseline="middle",i.strokeStyle=t.color,i.fillStyle=t.color,i.font=s.string,ox(i,t.text,h,c,s)}_computeTitleHeight(){const e=this.options.title,t=gx(e.font),s=fx(e.padding);return e.display?t.lineHeight+s.height:0}_getLegendItemAt(e,t){let s,n,a;if(gp(e,this.left,this.right)&&gp(t,this.top,this.bottom))for(a=this.legendHitBoxes,s=0;s<a.length;++s)if(n=a[s],gp(e,n.left,n.left+n.width)&&gp(t,n.top,n.top+n.height))return this.legendItems[s];return null}handleEvent(e){const t=this.options;if(!function(e,t){if(("mousemove"===e||"mouseout"===e)&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t))return;const s=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const i=this._hoveredItem,r=(a=s,null!==(n=i)&&null!==a&&n.datasetIndex===a.datasetIndex&&n.index===a.index);i&&!r&&Mm(t.onLeave,[e,i,this],this),this._hoveredItem=s,s&&!r&&Mm(t.onHover,[e,s,this],this)}else s&&Mm(t.onClick,[e,s,this],this);var n,a}}function oj(e,t){return t*(e.text?e.text.length:0)}var cj={id:"legend",_element:lj,start(e,t,s){const n=e.legend=new lj({ctx:e.ctx,options:s,chart:e});pg.configure(e,n,s),pg.addBox(e,n)},stop(e){pg.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,s){const n=e.legend;pg.configure(e,n,s),n.options=s},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,s){const n=t.datasetIndex,a=s.chart;a.isDatasetVisible(n)?(a.hide(n),t.hidden=!0):(a.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:s,pointStyle:n,textAlign:a,color:i,useBorderRadius:r,borderRadius:l}}=e.legend.options;return e._getSortedDatasetMetas().map((e=>{const o=e.controller.getStyle(s?0:void 0),c=fx(o.borderWidth);return{text:t[e.index].label,fillStyle:o.backgroundColor,fontColor:i,hidden:!e.visible,lineCap:o.borderCapStyle,lineDash:o.borderDash,lineDashOffset:o.borderDashOffset,lineJoin:o.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:o.borderColor,pointStyle:n||o.pointStyle,rotation:o.rotation,textAlign:a||o.textAlign,borderRadius:r&&(l||o.borderRadius),datasetIndex:e.index}}),this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class dj extends Lg{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const s=this.options;if(this.left=0,this.top=0,!s.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const n=Dm(s.text)?s.text.length:1;this._padding=fx(s.padding);const a=n*gx(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:s,bottom:n,right:a,options:i}=this,r=i.align;let l,o,c,d=0;return this.isHorizontal()?(o=Dp(r,s,a),c=t+e,l=a-s):("left"===i.position?(o=s+e,c=Dp(r,n,t),d=-.5*Ym):(o=a-e,c=Dp(r,t,n),d=.5*Ym),l=n-t),{titleX:o,titleY:c,maxWidth:l,rotation:d}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const s=gx(t.font),n=s.lineHeight/2+this._padding.top,{titleX:a,titleY:i,maxWidth:r,rotation:l}=this._drawArgs(n);ox(e,t.text,0,0,s,{color:t.color,maxWidth:r,rotation:l,textAlign:kp(t.align),textBaseline:"middle",translation:[a,i]})}}var uj={id:"title",_element:dj,start(e,t,s){!function(e,t){const s=new dj({ctx:e.ctx,options:t,chart:e});pg.configure(e,s,t),pg.addBox(e,s),e.titleBlock=s}(e,s)},stop(e){const t=e.titleBlock;pg.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,s){const n=e.titleBlock;pg.configure(e,n,s),n.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};new WeakMap;const hj={average(e){if(!e.length)return!1;let t,s,n=new Set,a=0,i=0;for(t=0,s=e.length;t<s;++t){const s=e[t].element;if(s&&s.hasValue()){const e=s.tooltipPosition();n.add(e.x),a+=e.y,++i}}if(0===i||0===n.size)return!1;return{x:[...n].reduce(((e,t)=>e+t))/n.size,y:a/i}},nearest(e,t){if(!e.length)return!1;let s,n,a,i=t.x,r=t.y,l=Number.POSITIVE_INFINITY;for(s=0,n=e.length;s<n;++s){const n=e[s].element;if(n&&n.hasValue()){const e=hp(t,n.getCenterPoint());e<l&&(l=e,a=n)}}if(a){const e=a.tooltipPosition();i=e.x,r=e.y}return{x:i,y:r}}};function mj(e,t){return t&&(Dm(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function pj(e){return("string"===typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function xj(e,t){const{element:s,datasetIndex:n,index:a}=t,i=e.getDatasetMeta(n).controller,{label:r,value:l}=i.getLabelAndValue(a);return{chart:e,label:r,parsed:i.getParsed(a),raw:e.data.datasets[n].data[a],formattedValue:l,dataset:i.getDataset(),dataIndex:a,datasetIndex:n,element:s}}function fj(e,t){const s=e.chart.ctx,{body:n,footer:a,title:i}=e,{boxWidth:r,boxHeight:l}=t,o=gx(t.bodyFont),c=gx(t.titleFont),d=gx(t.footerFont),u=i.length,h=a.length,m=n.length,p=fx(t.padding);let x=p.height,f=0,g=n.reduce(((e,t)=>e+t.before.length+t.lines.length+t.after.length),0);if(g+=e.beforeBody.length+e.afterBody.length,u&&(x+=u*c.lineHeight+(u-1)*t.titleSpacing+t.titleMarginBottom),g){x+=m*(t.displayColors?Math.max(l,o.lineHeight):o.lineHeight)+(g-m)*o.lineHeight+(g-1)*t.bodySpacing}h&&(x+=t.footerMarginTop+h*d.lineHeight+(h-1)*t.footerSpacing);let v=0;const j=function(e){f=Math.max(f,s.measureText(e).width+v)};return s.save(),s.font=c.string,Im(e.title,j),s.font=o.string,Im(e.beforeBody.concat(e.afterBody),j),v=t.displayColors?r+2+t.boxPadding:0,Im(n,(e=>{Im(e.before,j),Im(e.lines,j),Im(e.after,j)})),v=0,s.font=d.string,Im(e.footer,j),s.restore(),f+=p.width,{width:f,height:x}}function gj(e,t,s,n){const{x:a,width:i}=s,{width:r,chartArea:{left:l,right:o}}=e;let c="center";return"center"===n?c=a<=(l+o)/2?"left":"right":a<=i/2?c="left":a>=r-i/2&&(c="right"),function(e,t,s,n){const{x:a,width:i}=n,r=s.caretSize+s.caretPadding;return"left"===e&&a+i+r>t.width||"right"===e&&a-i-r<0||void 0}(c,e,t,s)&&(c="center"),c}function vj(e,t,s){const n=s.yAlign||t.yAlign||function(e,t){const{y:s,height:n}=t;return s<n/2?"top":s>e.height-n/2?"bottom":"center"}(e,s);return{xAlign:s.xAlign||t.xAlign||gj(e,t,s,n),yAlign:n}}function jj(e,t,s,n){const{caretSize:a,caretPadding:i,cornerRadius:r}=e,{xAlign:l,yAlign:o}=s,c=a+i,{topLeft:d,topRight:u,bottomLeft:h,bottomRight:m}=xx(r);let p=function(e,t){let{x:s,width:n}=e;return"right"===t?s-=n:"center"===t&&(s-=n/2),s}(t,l);const x=function(e,t,s){let{y:n,height:a}=e;return"top"===t?n+=s:n-="bottom"===t?a+s:a/2,n}(t,o,c);return"center"===o?"left"===l?p+=c:"right"===l&&(p-=c):"left"===l?p-=Math.max(d,h)+a:"right"===l&&(p+=Math.max(u,m)+a),{x:fp(p,0,n.width-t.width),y:fp(x,0,n.height-t.height)}}function bj(e,t,s){const n=fx(s.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-n.right:e.x+n.left}function yj(e){return mj([],pj(e))}function wj(e,t){const s=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return s?e.override(s):e}const Nj={beforeTitle:Cm,title(e){if(e.length>0){const t=e[0],s=t.chart.data.labels,n=s?s.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return s[t.dataIndex]}return""},afterTitle:Cm,beforeBody:Cm,beforeLabel:Cm,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const s=e.formattedValue;return km(s)||(t+=s),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Cm,afterBody:Cm,beforeFooter:Cm,footer:Cm,afterFooter:Cm};function Cj(e,t,s,n){const a=e[t].call(s,n);return"undefined"===typeof a?Nj[t].call(s,n):a}class Sj extends Lg{static positioners=(()=>hj)();constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,s=this.options.setContext(this.getContext()),n=s.enabled&&t.options.animation&&s.animations,a=new bf(this.chart,n);return n._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=(e=this.chart.getContext(),t=this,s=this._tooltipItems,jx(e,{tooltip:t,tooltipItems:s,type:"tooltip"})));var e,t,s}getTitle(e,t){const{callbacks:s}=t,n=Cj(s,"beforeTitle",this,e),a=Cj(s,"title",this,e),i=Cj(s,"afterTitle",this,e);let r=[];return r=mj(r,pj(n)),r=mj(r,pj(a)),r=mj(r,pj(i)),r}getBeforeBody(e,t){return yj(Cj(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:s}=t,n=[];return Im(e,(e=>{const t={before:[],lines:[],after:[]},a=wj(s,e);mj(t.before,pj(Cj(a,"beforeLabel",this,e))),mj(t.lines,Cj(a,"label",this,e)),mj(t.after,pj(Cj(a,"afterLabel",this,e))),n.push(t)})),n}getAfterBody(e,t){return yj(Cj(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:s}=t,n=Cj(s,"beforeFooter",this,e),a=Cj(s,"footer",this,e),i=Cj(s,"afterFooter",this,e);let r=[];return r=mj(r,pj(n)),r=mj(r,pj(a)),r=mj(r,pj(i)),r}_createItems(e){const t=this._active,s=this.chart.data,n=[],a=[],i=[];let r,l,o=[];for(r=0,l=t.length;r<l;++r)o.push(xj(this.chart,t[r]));return e.filter&&(o=o.filter(((t,n,a)=>e.filter(t,n,a,s)))),e.itemSort&&(o=o.sort(((t,n)=>e.itemSort(t,n,s)))),Im(o,(t=>{const s=wj(e.callbacks,t);n.push(Cj(s,"labelColor",this,t)),a.push(Cj(s,"labelPointStyle",this,t)),i.push(Cj(s,"labelTextColor",this,t))})),this.labelColors=n,this.labelPointStyles=a,this.labelTextColors=i,this.dataPoints=o,o}update(e,t){const s=this.options.setContext(this.getContext()),n=this._active;let a,i=[];if(n.length){const e=hj[s.position].call(this,n,this._eventPosition);i=this._createItems(s),this.title=this.getTitle(i,s),this.beforeBody=this.getBeforeBody(i,s),this.body=this.getBody(i,s),this.afterBody=this.getAfterBody(i,s),this.footer=this.getFooter(i,s);const t=this._size=fj(this,s),r=Object.assign({},e,t),l=vj(this.chart,s,r),o=jj(s,r,l,this.chart);this.xAlign=l.xAlign,this.yAlign=l.yAlign,a={opacity:1,x:o.x,y:o.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(a={opacity:0});this._tooltipItems=i,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,s,n){const a=this.getCaretPosition(e,s,n);t.lineTo(a.x1,a.y1),t.lineTo(a.x2,a.y2),t.lineTo(a.x3,a.y3)}getCaretPosition(e,t,s){const{xAlign:n,yAlign:a}=this,{caretSize:i,cornerRadius:r}=s,{topLeft:l,topRight:o,bottomLeft:c,bottomRight:d}=xx(r),{x:u,y:h}=e,{width:m,height:p}=t;let x,f,g,v,j,b;return"center"===a?(j=h+p/2,"left"===n?(x=u,f=x-i,v=j+i,b=j-i):(x=u+m,f=x+i,v=j-i,b=j+i),g=x):(f="left"===n?u+Math.max(l,c)+i:"right"===n?u+m-Math.max(o,d)-i:this.caretX,"top"===a?(v=h,j=v-i,x=f-i,g=f+i):(v=h+p,j=v+i,x=f+i,g=f-i),b=v),{x1:x,x2:f,x3:g,y1:v,y2:j,y3:b}}drawTitle(e,t,s){const n=this.title,a=n.length;let i,r,l;if(a){const o=sf(s.rtl,this.x,this.width);for(e.x=bj(this,s.titleAlign,s),t.textAlign=o.textAlign(s.titleAlign),t.textBaseline="middle",i=gx(s.titleFont),r=s.titleSpacing,t.fillStyle=s.titleColor,t.font=i.string,l=0;l<a;++l)t.fillText(n[l],o.x(e.x),e.y+i.lineHeight/2),e.y+=i.lineHeight+r,l+1===a&&(e.y+=s.titleMarginBottom-r)}}_drawColorBox(e,t,s,n,a){const i=this.labelColors[s],r=this.labelPointStyles[s],{boxHeight:l,boxWidth:o}=a,c=gx(a.bodyFont),d=bj(this,"left",a),u=n.x(d),h=l<c.lineHeight?(c.lineHeight-l)/2:0,m=t.y+h;if(a.usePointStyle){const t={radius:Math.min(o,l)/2,pointStyle:r.pointStyle,rotation:r.rotation,borderWidth:1},s=n.leftForLtr(u,o)+o/2,c=m+l/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,Qp(e,t,s,c),e.strokeStyle=i.borderColor,e.fillStyle=i.backgroundColor,Qp(e,t,s,c)}else{e.lineWidth=_m(i.borderWidth)?Math.max(...Object.values(i.borderWidth)):i.borderWidth||1,e.strokeStyle=i.borderColor,e.setLineDash(i.borderDash||[]),e.lineDashOffset=i.borderDashOffset||0;const t=n.leftForLtr(u,o),s=n.leftForLtr(n.xPlus(u,1),o-2),r=xx(i.borderRadius);Object.values(r).some((e=>0!==e))?(e.beginPath(),e.fillStyle=a.multiKeyBackground,cx(e,{x:t,y:m,w:o,h:l,radius:r}),e.fill(),e.stroke(),e.fillStyle=i.backgroundColor,e.beginPath(),cx(e,{x:s,y:m+1,w:o-2,h:l-2,radius:r}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(t,m,o,l),e.strokeRect(t,m,o,l),e.fillStyle=i.backgroundColor,e.fillRect(s,m+1,o-2,l-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,t,s){const{body:n}=this,{bodySpacing:a,bodyAlign:i,displayColors:r,boxHeight:l,boxWidth:o,boxPadding:c}=s,d=gx(s.bodyFont);let u=d.lineHeight,h=0;const m=sf(s.rtl,this.x,this.width),p=function(s){t.fillText(s,m.x(e.x+h),e.y+u/2),e.y+=u+a},x=m.textAlign(i);let f,g,v,j,b,y,w;for(t.textAlign=i,t.textBaseline="middle",t.font=d.string,e.x=bj(this,x,s),t.fillStyle=s.bodyColor,Im(this.beforeBody,p),h=r&&"right"!==x?"center"===i?o/2+c:o+2+c:0,j=0,y=n.length;j<y;++j){for(f=n[j],g=this.labelTextColors[j],t.fillStyle=g,Im(f.before,p),v=f.lines,r&&v.length&&(this._drawColorBox(t,e,j,m,s),u=Math.max(d.lineHeight,l)),b=0,w=v.length;b<w;++b)p(v[b]),u=d.lineHeight;Im(f.after,p)}h=0,u=d.lineHeight,Im(this.afterBody,p),e.y-=a}drawFooter(e,t,s){const n=this.footer,a=n.length;let i,r;if(a){const l=sf(s.rtl,this.x,this.width);for(e.x=bj(this,s.footerAlign,s),e.y+=s.footerMarginTop,t.textAlign=l.textAlign(s.footerAlign),t.textBaseline="middle",i=gx(s.footerFont),t.fillStyle=s.footerColor,t.font=i.string,r=0;r<a;++r)t.fillText(n[r],l.x(e.x),e.y+i.lineHeight/2),e.y+=i.lineHeight+s.footerSpacing}}drawBackground(e,t,s,n){const{xAlign:a,yAlign:i}=this,{x:r,y:l}=e,{width:o,height:c}=s,{topLeft:d,topRight:u,bottomLeft:h,bottomRight:m}=xx(n.cornerRadius);t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.beginPath(),t.moveTo(r+d,l),"top"===i&&this.drawCaret(e,t,s,n),t.lineTo(r+o-u,l),t.quadraticCurveTo(r+o,l,r+o,l+u),"center"===i&&"right"===a&&this.drawCaret(e,t,s,n),t.lineTo(r+o,l+c-m),t.quadraticCurveTo(r+o,l+c,r+o-m,l+c),"bottom"===i&&this.drawCaret(e,t,s,n),t.lineTo(r+h,l+c),t.quadraticCurveTo(r,l+c,r,l+c-h),"center"===i&&"left"===a&&this.drawCaret(e,t,s,n),t.lineTo(r,l+d),t.quadraticCurveTo(r,l,r+d,l),t.closePath(),t.fill(),n.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,s=this.$animations,n=s&&s.x,a=s&&s.y;if(n||a){const s=hj[e.position].call(this,this._active,this._eventPosition);if(!s)return;const i=this._size=fj(this,e),r=Object.assign({},s,this._size),l=vj(t,e,r),o=jj(e,r,l,t);n._to===o.x&&a._to===o.y||(this.xAlign=l.xAlign,this.yAlign=l.yAlign,this.width=i.width,this.height=i.height,this.caretX=s.x,this.caretY=s.y,this._resolveAnimations().update(this,o))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(t);const n={width:this.width,height:this.height},a={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const i=fx(t.padding),r=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&r&&(e.save(),e.globalAlpha=s,this.drawBackground(a,e,n,t),nf(e,t.textDirection),a.y+=i.top,this.drawTitle(a,e,t),this.drawBody(a,e,t),this.drawFooter(a,e,t),af(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const s=this._active,n=e.map((e=>{let{datasetIndex:t,index:s}=e;const n=this.chart.getDatasetMeta(t);if(!n)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:n.data[s],index:s}})),a=!Pm(s,n),i=this._positionChanged(n,t);(a||i)&&(this._active=n,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const n=this.options,a=this._active||[],i=this._getActiveElements(e,a,t,s),r=this._positionChanged(i,e),l=t||!Pm(i,a)||r;return l&&(this._active=i,(n.enabled||n.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),l}_getActiveElements(e,t,s,n){const a=this.options;if("mouseout"===e.type)return[];if(!n)return t.filter((e=>this.chart.data.datasets[e.datasetIndex]&&void 0!==this.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index)));const i=this.chart.getElementsAtEventForMode(e,a.mode,a,s);return a.reverse&&i.reverse(),i}_positionChanged(e,t){const{caretX:s,caretY:n,options:a}=this,i=hj[a.position].call(this,e,t);return!1!==i&&(s!==i.x||n!==i.y)}}var kj={id:"tooltip",_element:Sj,positioners:hj,afterInit(e,t,s){s&&(e.tooltip=new Sj({chart:e,options:s}))},beforeUpdate(e,t,s){e.tooltip&&e.tooltip.initialize(s)},reset(e,t,s){e.tooltip&&e.tooltip.initialize(s)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const s={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",{...s,cancelable:!0}))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",s)}},afterEvent(e,t){if(e.tooltip){const s=t.replay;e.tooltip.handleEvent(t.event,s,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Nj},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function Dj(e,t,s,n){const a=e.indexOf(t);if(-1===a)return((e,t,s,n)=>("string"===typeof t?(s=e.push(t)-1,n.unshift({index:s,label:t})):isNaN(t)&&(s=null),s))(e,t,s,n);return a!==e.lastIndexOf(t)?s:a}function _j(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class Aj extends Hg{static id="category";static defaults=(()=>({ticks:{callback:_j}}))();constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:s,label:n}of t)e[s]===n&&e.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(km(e))return null;const s=this.getLabels();return((e,t)=>null===e?null:fp(Math.round(e),0,t))(t=isFinite(t)&&s[t]===e?t:Dj(s,e,Em(t,e),this._addedLabels),s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:s,max:n}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(s=0),t||(n=this.getLabels().length-1)),this.min=s,this.max=n}buildTicks(){const e=this.min,t=this.max,s=this.options.offset,n=[];let a=this.getLabels();a=0===e&&t===a.length-1?a:a.slice(e,t+1),this._valueRange=Math.max(a.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let i=e;i<=t;i++)n.push({value:i});return n}getLabelForValue(e){return _j.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!==typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function Tj(e,t){const s=[],{bounds:n,step:a,min:i,max:r,precision:l,count:o,maxTicks:c,maxDigits:d,includeBounds:u}=e,h=a||1,m=c-1,{min:p,max:x}=t,f=!km(i),g=!km(r),v=!km(o),j=(x-p)/(d+1);let b,y,w,N,C=ip((x-p)/m/h)*h;if(C<1e-14&&!f&&!g)return[{value:p},{value:x}];N=Math.ceil(x/C)-Math.floor(p/C),N>m&&(C=ip(N*C/m/h)*h),km(l)||(b=Math.pow(10,l),C=Math.ceil(C*b)/b),"ticks"===n?(y=Math.floor(p/C)*C,w=Math.ceil(x/C)*C):(y=p,w=x),f&&g&&a&&function(e,t){const s=Math.round(e);return s-t<=e&&s+t>=e}((r-i)/a,C/1e3)?(N=Math.round(Math.min((r-i)/C,c)),C=(r-i)/N,y=i,w=r):v?(y=f?i:y,w=g?r:w,N=o-1,C=(w-y)/N):(N=(w-y)/C,N=ap(N,Math.round(N),C/1e3)?Math.round(N):Math.ceil(N));const S=Math.max(dp(C),dp(y));b=Math.pow(10,km(l)?S:l),y=Math.round(y*b)/b,w=Math.round(w*b)/b;let k=0;for(f&&(u&&y!==i?(s.push({value:i}),y<i&&k++,ap(Math.round((y+k*C)*b)/b,i,Ej(i,j,e))&&k++):y<i&&k++);k<N;++k){const e=Math.round((y+k*C)*b)/b;if(g&&e>r)break;s.push({value:e})}return g&&u&&w!==r?s.length&&ap(s[s.length-1].value,r,Ej(r,j,e))?s[s.length-1].value=r:s.push({value:r}):g&&w!==r||s.push({value:w}),s}function Ej(e,t,s){let{horizontal:n,minRotation:a}=s;const i=op(a),r=(n?Math.sin(i):Math.cos(i))||.001,l=.75*t*(""+e).length;return Math.min(t/r,l)}class Lj extends Hg{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return km(e)||("number"===typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:s}=this.getUserBounds();let{min:n,max:a}=this;const i=e=>n=t?n:e,r=e=>a=s?a:e;if(e){const e=np(n),t=np(a);e<0&&t<0?r(0):e>0&&t>0&&i(0)}if(n===a){let t=0===a?1:Math.abs(.05*a);r(a+t),e||i(n-t)}this.min=n,this.max=a}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:s,stepSize:n}=e;return n?(t=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,t>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${t} ticks. Limiting to 1000.`),t=1e3)):(t=this.computeTickLimit(),s=s||11),s&&(t=Math.min(s,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const n=Tj({maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&lp(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}configure(){const e=this.ticks;let t=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const n=(s-t)/Math.max(e.length-1,1)/2;t-=n,s+=n}this._startValue=t,this._endValue=s,this._valueRange=s-t}getLabelForValue(e){return Bp(e,this.chart.options.locale,this.options.ticks.format)}}class Mj extends Lj{static id="linear";static defaults=(()=>({ticks:{callback:Hp.formatters.numeric}}))();determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Am(e)?e:0,this.max=Am(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,s=op(this.options.ticks.minRotation),n=(e?Math.sin(s):Math.cos(s))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,a.lineHeight/n))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Hp.formatters.logarithmic;function Ij(e){const t=e.ticks;if(t.display&&e.display){const e=fx(t.backdropPadding);return Em(t.font&&t.font.size,Yp.font.size)+e.height}return 0}function Pj(e,t,s,n,a){return e===n||e===a?{start:t-s/2,end:t+s/2}:e<n||e>a?{start:t-s,end:t}:{start:t,end:t+s}}function Oj(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},s=Object.assign({},t),n=[],a=[],i=e._pointLabels.length,r=e.options.pointLabels,l=r.centerPointLabels?Ym/i:0;for(let u=0;u<i;u++){const i=r.setContext(e.getPointLabelContext(u));a[u]=i.padding;const h=e.getPointPosition(u,e.drawingArea+a[u],l),m=gx(i.font),p=(o=e.ctx,c=m,d=Dm(d=e._pointLabels[u])?d:[d],{w:Jp(o,c.string,d),h:d.length*c.lineHeight});n[u]=p;const x=pp(e.getIndexAngle(u)+l),f=Math.round(cp(x));Rj(s,t,x,Pj(f,h.x,p.w,0,180),Pj(f,h.y,p.h,90,270))}var o,c,d;e.setCenterPoint(t.l-s.l,s.r-t.r,t.t-s.t,s.b-t.b),e._pointLabelItems=function(e,t,s){const n=[],a=e._pointLabels.length,i=e.options,{centerPointLabels:r,display:l}=i.pointLabels,o={extra:Ij(i)/2,additionalAngle:r?Ym/a:0};let c;for(let d=0;d<a;d++){o.padding=s[d],o.size=t[d];const a=Fj(e,d,o);n.push(a),"auto"===l&&(a.visible=zj(a,c),a.visible&&(c=a))}return n}(e,n,a)}function Rj(e,t,s,n,a){const i=Math.abs(Math.sin(s)),r=Math.abs(Math.cos(s));let l=0,o=0;n.start<t.l?(l=(t.l-n.start)/i,e.l=Math.min(e.l,t.l-l)):n.end>t.r&&(l=(n.end-t.r)/i,e.r=Math.max(e.r,t.r+l)),a.start<t.t?(o=(t.t-a.start)/r,e.t=Math.min(e.t,t.t-o)):a.end>t.b&&(o=(a.end-t.b)/r,e.b=Math.max(e.b,t.b+o))}function Fj(e,t,s){const n=e.drawingArea,{extra:a,additionalAngle:i,padding:r,size:l}=s,o=e.getPointPosition(t,n+a+r,i),c=Math.round(cp(pp(o.angle+Qm))),d=function(e,t,s){90===s||270===s?e-=t/2:(s>270||s<90)&&(e-=t);return e}(o.y,l.h,c),u=function(e){if(0===e||180===e)return"center";if(e<180)return"left";return"right"}(c),h=function(e,t,s){"right"===s?e-=t:"center"===s&&(e-=t/2);return e}(o.x,l.w,u);return{visible:!0,x:o.x,y:d,textAlign:u,left:h,top:d,right:h+l.w,bottom:d+l.h}}function zj(e,t){if(!t)return!0;const{left:s,top:n,right:a,bottom:i}=e;return!(tx({x:s,y:n},t)||tx({x:s,y:i},t)||tx({x:a,y:n},t)||tx({x:a,y:i},t))}function Bj(e,t,s){const{left:n,top:a,right:i,bottom:r}=s,{backdropColor:l}=t;if(!km(l)){const s=xx(t.borderRadius),o=fx(t.backdropPadding);e.fillStyle=l;const c=n-o.left,d=a-o.top,u=i-n+o.width,h=r-a+o.height;Object.values(s).some((e=>0!==e))?(e.beginPath(),cx(e,{x:c,y:d,w:u,h:h,radius:s}),e.fill()):e.fillRect(c,d,u,h)}}function $j(e,t,s,n){const{ctx:a}=e;if(s)a.arc(e.xCenter,e.yCenter,t,0,Km);else{let s=e.getPointPosition(0,t);a.moveTo(s.x,s.y);for(let i=1;i<n;i++)s=e.getPointPosition(i,t),a.lineTo(s.x,s.y)}}class Hj extends Lj{static id="radialLinear";static defaults=(()=>({display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Hp.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}}))();static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=fx(Ij(this.options)/2),t=this.width=this.maxWidth-e.width,s=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+s/2+e.top),this.drawingArea=Math.floor(Math.min(t,s)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=Am(e)&&!isNaN(e)?e:0,this.max=Am(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Ij(this.options))}generateTickLabels(e){Lj.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map(((e,t)=>{const s=Mm(this.options.pointLabels.callback,[e,t],this);return s||0===s?s:""})).filter(((e,t)=>this.chart.getDataVisibility(t)))}fit(){const e=this.options;e.display&&e.pointLabels.display?Oj(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,s,n){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((s-n)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,s,n))}getIndexAngle(e){return pp(e*(Km/(this._pointLabels.length||1))+op(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(km(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(km(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const s=t[e];return function(e,t,s){return jx(e,{label:s,index:t,type:"pointLabel"})}(this.getContext(),e,s)}}getPointPosition(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=this.getIndexAngle(e)-Qm+s;return{x:Math.cos(n)*t+this.xCenter,y:Math.sin(n)*t+this.yCenter,angle:n}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:s,right:n,bottom:a}=this._pointLabelItems[e];return{left:t,top:s,right:n,bottom:a}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const s=this.ctx;s.save(),s.beginPath(),$j(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),s.closePath(),s.fillStyle=e,s.fill(),s.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:s,grid:n,border:a}=t,i=this._pointLabels.length;let r,l,o;if(t.pointLabels.display&&function(e,t){const{ctx:s,options:{pointLabels:n}}=e;for(let a=t-1;a>=0;a--){const t=e._pointLabelItems[a];if(!t.visible)continue;const i=n.setContext(e.getPointLabelContext(a));Bj(s,i,t);const r=gx(i.font),{x:l,y:o,textAlign:c}=t;ox(s,e._pointLabels[a],l,o+r.lineHeight/2,r,{color:i.color,textAlign:c,textBaseline:"middle"})}}(this,i),n.display&&this.ticks.forEach(((e,t)=>{if(0!==t||0===t&&this.min<0){l=this.getDistanceFromCenterForValue(e.value);const s=this.getContext(t),r=n.setContext(s),o=a.setContext(s);!function(e,t,s,n,a){const i=e.ctx,r=t.circular,{color:l,lineWidth:o}=t;!r&&!n||!l||!o||s<0||(i.save(),i.strokeStyle=l,i.lineWidth=o,i.setLineDash(a.dash||[]),i.lineDashOffset=a.dashOffset,i.beginPath(),$j(e,s,r,n),i.closePath(),i.stroke(),i.restore())}(this,r,l,i,o)}})),s.display){for(e.save(),r=i-1;r>=0;r--){const n=s.setContext(this.getPointLabelContext(r)),{color:a,lineWidth:i}=n;i&&a&&(e.lineWidth=i,e.strokeStyle=a,e.setLineDash(n.borderDash),e.lineDashOffset=n.borderDashOffset,l=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),o=this.getPointPosition(r,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(o.x,o.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,s=t.ticks;if(!s.display)return;const n=this.getIndexAngle(0);let a,i;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(n),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach(((n,r)=>{if(0===r&&this.min>=0&&!t.reverse)return;const l=s.setContext(this.getContext(r)),o=gx(l.font);if(a=this.getDistanceFromCenterForValue(this.ticks[r].value),l.showLabelBackdrop){e.font=o.string,i=e.measureText(n.label).width,e.fillStyle=l.backdropColor;const t=fx(l.backdropPadding);e.fillRect(-i/2-t.left,-a-o.size/2-t.top,i+t.width,o.size+t.height)}ox(e,n.label,0,-a,o,{color:l.color,strokeColor:l.textStrokeColor,strokeWidth:l.textStrokeWidth})})),e.restore()}drawTitle(){}}const Vj={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Uj=Object.keys(Vj);function Wj(e,t){return e-t}function Gj(e,t){if(km(t))return null;const s=e._adapter,{parser:n,round:a,isoWeekday:i}=e._parseOpts;let r=t;return"function"===typeof n&&n(r),Am(r)||("string"===typeof n?s.parse(r,n):s.parse(r)),null===r?null:(a&&("week"!==a||!rp(i)&&!0!==i?s.startOf(r,a):s.startOf(r,"isoWeek",i)),+r)}function qj(e,t,s,n){const a=Uj.length;for(let i=Uj.indexOf(e);i<a-1;++i){const e=Vj[Uj[i]],a=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((s-t)/(a*e.size))<=n)return Uj[i]}return Uj[a-1]}function Yj(e,t,s){if(s){if(s.length){const{lo:n,hi:a}=vp(s,t);e[s[n]>=t?s[n]:s[a]]=!0}}else e[t]=!0}function Kj(e,t,s){const n=[],a={},i=t.length;let r,l;for(0;r<i;++r)t[r],a[l]=r,n.push({value:l,major:!1});return 0!==i&&s?function(e,t,s,n){const a=e._adapter,i=+a.startOf(t[0].value,n),r=t[t.length-1].value;let l,o;for(i;l<=r;+a.add(l,1,n))s[l],o>=0&&(t[o].major=!0);return t}(e,n,a,s):n}class Jj extends Hg{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=e.time||(e.time={}),n=this._adapter=new Yf(e.adapters.date);n.init(t),Bm(s.displayFormats,n.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:Gj(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,s=e.time.unit||"day";let{min:n,max:a,minDefined:i,maxDefined:r}=this.getUserBounds();function l(e){i||isNaN(e.min)||Math.min(n,e.min),r||isNaN(e.max)||Math.max(a,e.max)}i&&r||(l(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||l(this.getMinMax(!1))),Am(n)&&!isNaN(n)?n:+t.startOf(Date.now(),s),Am(a)&&!isNaN(a)?a:+t.endOf(Date.now(),s)+1,this.min=Math.min(n,a-1),this.max=Math.max(n+1,a)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(e[0],e[e.length-1]),{min:t,max:s}}buildTicks(){const e=this.options,t=e.time,s=e.ticks,n="labels"===s.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&n.length&&(this.min=this._userMin||n[0],this.max=this._userMax||n[n.length-1]);const a=this.min,i=function(e,t,s){let n=0,a=e.length;for(;n<a&&e[n]<t;)0;for(;a>n&&e[a-1]>s;)0;return n>0||a<e.length?e.slice(n,a):e}(n,a,this.max);return this._unit=t.unit||(s.autoSkip?qj(t.minUnit,this.min,this.max,this._getLabelCapacity(a)):function(e,t,s,n,a){for(let i=Uj.length-1;i>=Uj.indexOf(s);i--){const s=Uj[i];if(Vj[s].common&&e._adapter.diff(a,n,s)>=t-1)return s}return Uj[s?Uj.indexOf(s):0]}(this,i.length,t.minUnit,this.min,this.max)),this._majorUnit=s.major.enabled&&"year"!==this._unit?function(e){for(let t=Uj.indexOf(e)+1,s=Uj.length;t<s;++t)if(Vj[Uj[t]].common)return Uj[t]}(this._unit):void 0,this.initOffsets(n),e.reverse&&i.reverse(),Kj(this,i,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((e=>+e.value)))}initOffsets(){let e,t,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=0,a=0;this.options.offset&&s.length&&(this.getDecimalForValue(s[0]),1===s.length?1-e:(this.getDecimalForValue(s[1])-e)/2,this.getDecimalForValue(s[s.length-1]),1===s.length?t:(t-this.getDecimalForValue(s[s.length-2]))/2);const i=s.length<3?.5:.25;fp(n,0,i),fp(a,0,i),this._offsets={start:n,end:a,factor:1/(n+1+a)}}_generate(){const e=this._adapter,t=this.min,s=this.max,n=this.options,a=n.time,i=a.unit||qj(a.minUnit,t,s,this._getLabelCapacity(t)),r=Em(n.ticks.stepSize,1),l="week"===i&&a.isoWeekday,o=rp(l)||!0===l,c={};let d,u,h=t;if(o&&+e.startOf(h,"isoWeek",l),+e.startOf(h,o?"day":i),e.diff(s,t,i)>1e5*r)throw new Error(t+" and "+s+" are too far apart with stepSize of "+r+" "+i);const m="data"===n.ticks.source&&this.getDataTimestamps();for(0;d<s;+e.add(d,r,i),u++)Yj(c,d,m);return d!==s&&"ticks"!==n.bounds&&1!==u||Yj(c,d,m),Object.keys(c).sort(Wj).map((e=>+e))}getLabelForValue(e){const t=this._adapter,s=this.options.time;return s.tooltipFormat?t.format(e,s.tooltipFormat):t.format(e,s.displayFormats.datetime)}format(e,t){const s=this.options.time.displayFormats,n=this._unit,a=t||s[n];return this._adapter.format(e,a)}_tickFormatFunction(e,t,s,n){const a=this.options,i=a.ticks.callback;if(i)return Mm(i,[e,t,s],this);const r=a.time.displayFormats,l=this._unit,o=this._majorUnit,c=l&&r[l],d=o&&r[o],u=s[t],h=o&&d&&u&&u.major;return this._adapter.format(e,n||(h?d:c))}generateTickLabels(e){let t,s,n;for(e.length;t<s;++t)e[t],n.label=this._tickFormatFunction(n.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+s)*t.factor)}getValueForPixel(e){const t=this._offsets,s=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,s=this.ctx.measureText(e).width,n=op(this.isHorizontal()?t.maxRotation:t.minRotation),a=Math.cos(n),i=Math.sin(n),r=this._resolveTickFontOptions(0).size;return{w:s*a+r*i,h:s*i+r*a}}_getLabelCapacity(e){const t=this.options.time,s=t.displayFormats,n=s[t.unit]||s.millisecond,a=this._tickFormatFunction(e,0,Kj(this,[e],this._majorUnit),n),i=this._getLabelSize(a),r=Math.floor(this.isHorizontal()?this.width/i.w:this.height/i.h)-1;return r>0?r:1}getDataTimestamps(){let e,t,s=this._cache.data||[];if(s.length)return s;const n=this.getMatchingVisibleMetas();if(this._normalized&&n.length)return this._cache.data=n[0].controller.getAllParsedValues(this);for(n.length;e<t;++e)s.concat(n[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(s)}getLabelTimestamps(){const e=this._cache.labels||[];let t,s;if(e.length)return e;const n=this.getLabels();for(n.length;t<s;++t)e.push(Gj(this,n[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Np(e.sort(Wj))}}const Xj="label";function Zj(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function Qj(e,t){e.labels=t}function eb(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xj;const n=[];e.datasets=t.map((t=>{const a=e.datasets.find((e=>e[s]===t[s]));return a&&t.data&&!n.includes(a)?(n.push(a),Object.assign(a,t),a):{...t}}))}function tb(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xj;const s={labels:[],datasets:[]};return Qj(s,e.labels),eb(s,e.datasets,t),s}function sb(e,t){const{height:s=150,width:n=300,redraw:i=!1,datasetIdKey:r,type:l,data:o,options:c,plugins:d=[],fallbackContent:u,updateMode:h,...m}=e,p=(0,a.useRef)(null),x=(0,a.useRef)(null),f=()=>{p.current&&(x.current=new vv(p.current,{type:l,data:tb(o,r),options:c&&{...c},plugins:d}),Zj(t,x.current))},g=()=>{Zj(t,null),x.current&&(x.current.destroy(),x.current=null)};return(0,a.useEffect)((()=>{!i&&x.current&&c&&function(e,t){const s=e.options;s&&t&&Object.assign(s,t)}(x.current,c)}),[i,c]),(0,a.useEffect)((()=>{!i&&x.current&&Qj(x.current.config.data,o.labels)}),[i,o.labels]),(0,a.useEffect)((()=>{!i&&x.current&&o.datasets&&eb(x.current.config.data,o.datasets,r)}),[i,o.datasets]),(0,a.useEffect)((()=>{x.current&&(i?(g(),setTimeout(f)):x.current.update(h))}),[i,c,o.labels,o.datasets,h]),(0,a.useEffect)((()=>{x.current&&(g(),setTimeout(f))}),[l]),(0,a.useEffect)((()=>(f(),()=>g())),[]),a.createElement("canvas",{ref:p,role:"img",height:s,width:n,...m},u)}const nb=(0,a.forwardRef)(sb);function ab(e,t){return vv.register(t),(0,a.forwardRef)(((t,s)=>a.createElement(nb,{...t,ref:s,type:e})))}const ib=ab("line",Vf),rb=ab("bar",$f),lb=ab("radar",Wf),ob=ab("doughnut",Hf),cb=ab("pie",Uf),db=a.forwardRef(((e,t)=>{let{bsPrefix:s,active:n,disabled:a,eventKey:i,className:r,variant:l,action:o,as:c,...d}=e;s=pn(s,"list-group-item");const[u,h]=zo({key:Io(i,d.href),active:n,...d}),m=ia((e=>{if(a)return e.preventDefault(),void e.stopPropagation();u.onClick(e)}));a&&void 0===d.tabIndex&&(d.tabIndex=-1,d["aria-disabled"]=!0);const p=c||(o?d.href?"a":"button":"div");return(0,sn.jsx)(p,{ref:t,...d,...u,onClick:m,className:on()(r,s,h.isActive&&"active",a&&"disabled",l&&`${s}-${l}`,o&&`${s}-action`)})}));db.displayName="ListGroupItem";const ub=db,hb=a.forwardRef(((e,t)=>{const{className:s,bsPrefix:n,variant:a,horizontal:i,numbered:r,as:l="div",...o}=ea(e,{activeKey:"onSelect"}),c=pn(n,"list-group");let d;return i&&(d=!0===i?"horizontal":`horizontal-${i}`),(0,sn.jsx)(Go,{ref:t,...o,as:l,className:on()(s,c,a&&`${c}-${a}`,d&&`${c}-${d}`,r&&`${c}-numbered`)})}));hb.displayName="ListGroup";const mb=Object.assign(hb,{Item:ub}),pb=()=>{const e=[{id:1,type:"lead",description:"New lead created: Michael Johnson",time:"10 minutes ago",icon:(0,sn.jsx)(yo,{className:"text-primary"})},{id:2,type:"delivery",description:"Delivery DEL-1002 marked as completed",time:"45 minutes ago",icon:(0,sn.jsx)(mo,{className:"text-success"})},{id:3,type:"document",description:"Invoice #INV-2023-05-12 generated",time:"2 hours ago",icon:(0,sn.jsx)(tl,{className:"text-info"})},{id:4,type:"call",description:"Phone call with ABC Corp scheduled",time:"3 hours ago",icon:(0,sn.jsx)(Ml,{className:"text-warning"})},{id:5,type:"email",description:"Follow-up email sent to Jane Smith",time:"5 hours ago",icon:(0,sn.jsx)(Kr,{className:"text-secondary"})}];return(0,sn.jsx)(mb,{variant:"flush",children:e.map((e=>(0,sn.jsx)(mb.Item,{className:"px-0 py-3 border-bottom",children:(0,sn.jsxs)("div",{className:"d-flex",children:[(0,sn.jsx)("div",{className:"me-3",children:(0,sn.jsx)("div",{className:"bg-light rounded-circle p-2",children:e.icon})}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("p",{className:"mb-1",children:e.description}),(0,sn.jsx)("small",{className:"text-muted",children:e.time})]})]})},e.id)))})};vv.register(Aj,Mj,Pv,Mv,uj,kj,cj,Cv);const xb=e=>{switch(e){case"new":return"primary";case"contacted":return"info";case"qualified":return"warning";case"proposal":return"secondary";case"closed-won":case"won":return"success";case"closed-lost":case"lost":return"danger";default:return"light"}},fb=e=>{switch(e){case"scheduled":return"warning";case"in-progress":return"info";case"completed":return"success";case"cancelled":return"danger";case"delayed":return"secondary";default:return"light"}},gb=e=>{switch(e){case"high":return"danger";case"medium":return"warning";case"low":return"info";default:return"secondary"}},vb=e=>{switch(e){case"Active":return"success";case"En Route":return"primary";case"Break":return"warning";case"Off Duty":return"secondary";default:return"light"}},jb=e=>{switch(e){case"Active":return"success";case"Scheduled":return"primary";case"Complete":return"secondary";case"Delayed":return"warning";default:return"light"}},bb=e=>e?new Date(e).toLocaleDateString():"N/A",yb=()=>{console.log("DashboardHome is rendering!");const{currentUser:e}=(0,a.useContext)(nn),[t,s]=(0,a.useState)(!0),[n,i]=(0,a.useState)({leadStats:{total:86,new:12,contacted:24,qualified:18,proposal:15,won:10,lost:7},deliveryStats:{total:152,completed:125,inProgress:15,scheduled:12},recentLeads:[{_id:"1",firstName:"John",lastName:"Doe",company:"ABC Corp",status:"new",createdAt:new Date("2025-04-28")},{_id:"2",firstName:"Jane",lastName:"Smith",company:"XYZ Inc",status:"contacted",createdAt:new Date("2025-04-27")},{_id:"3",firstName:"Mike",lastName:"Johnson",company:"Acme LLC",status:"qualified",createdAt:new Date("2025-04-26")}],upcomingDeliveries:[{_id:"1",deliveryId:"DEL-1001",customer:{name:"ABC Corp"},scheduledDate:new Date("2025-05-15"),status:"scheduled"},{_id:"2",deliveryId:"DEL-1002",customer:{name:"XYZ Inc"},scheduledDate:new Date("2025-05-16"),status:"scheduled"},{_id:"3",deliveryId:"DEL-1003",customer:{name:"Acme LLC"},scheduledDate:new Date("2025-05-17"),status:"scheduled"}],tasks:[{_id:"1",title:"Follow up with client",dueDate:new Date("2025-05-14"),priority:"high"},{_id:"2",title:"Prepare proposal",dueDate:new Date("2025-05-15"),priority:"medium"},{_id:"3",title:"Send invoice",dueDate:new Date("2025-05-16"),priority:"low"}],drivers:[{_id:"1",name:"David Miller",status:"Active",deliveries:8},{_id:"2",name:"Sarah Wilson",status:"En Route",deliveries:5},{_id:"3",name:"James Thompson",status:"Break",deliveries:6}],routes:[{_id:"1",name:"Downtown Route",deliveries:12,status:"Active"},{_id:"2",name:"North Zone",deliveries:8,status:"Scheduled"},{_id:"3",name:"South Metro",deliveries:10,status:"Complete"}]});if((0,a.useEffect)((()=>{console.log("DashboardHome component mounted");const e=setTimeout((()=>{s(!1),console.log("DashboardHome: Loading complete")}),1e3);return()=>clearTimeout(e)}),[]),console.log("DashboardHome rendering, isLoading:",t),t)return(0,sn.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{height:"100vh"},children:(0,sn.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,sn.jsx)("span",{className:"visually-hidden",children:"Loading dashboard data..."})})});const r={labels:["New","Contacted","Qualified","Proposal","Won","Lost"],datasets:[{label:"Lead Status",data:[n.leadStats.new,n.leadStats.contacted,n.leadStats.qualified,n.leadStats.proposal,n.leadStats.won,n.leadStats.lost],backgroundColor:["rgba(75, 192, 192, 0.6)","rgba(54, 162, 235, 0.6)","rgba(255, 206, 86, 0.6)","rgba(153, 102, 255, 0.6)","rgba(39, 174, 96, 0.6)","rgba(255, 99, 132, 0.6)"],borderWidth:1}]},l={labels:["Completed","In Progress","Scheduled"],datasets:[{label:"Delivery Status",data:[n.deliveryStats.completed,n.deliveryStats.inProgress,n.deliveryStats.scheduled],backgroundColor:["rgba(39, 174, 96, 0.6)","rgba(54, 162, 235, 0.6)","rgba(255, 206, 86, 0.6)"],borderWidth:1}]};return(0,sn.jsxs)(jn,{fluid:!0,className:"py-4",children:[(0,sn.jsx)("h1",{className:"mb-4",children:"Dashboard"}),(0,sn.jsxs)(yn,{className:"mb-4",children:[(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsx)(Yn,{className:"h-100 border-0 shadow-sm",children:(0,sn.jsxs)(Yn.Body,{className:"d-flex align-items-center",children:[(0,sn.jsx)("div",{className:"icon-wrapper bg-primary bg-opacity-10 rounded p-3 me-3",children:(0,sn.jsx)(jo,{className:"text-primary",size:24})}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("h6",{className:"text-muted mb-1",children:"Total Leads"}),(0,sn.jsx)("h3",{className:"mb-0",children:n.leadStats.total})]})]})})}),(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsx)(Yn,{className:"h-100 border-0 shadow-sm",children:(0,sn.jsxs)(Yn.Body,{className:"d-flex align-items-center",children:[(0,sn.jsx)("div",{className:"icon-wrapper bg-success bg-opacity-10 rounded p-3 me-3",children:(0,sn.jsx)(Mr,{className:"text-success",size:24})}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("h6",{className:"text-muted mb-1",children:"Qualified Leads"}),(0,sn.jsx)("h3",{className:"mb-0",children:n.leadStats.qualified})]})]})})}),(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsx)(Yn,{className:"h-100 border-0 shadow-sm",children:(0,sn.jsxs)(Yn.Body,{className:"d-flex align-items-center",children:[(0,sn.jsx)("div",{className:"icon-wrapper bg-info bg-opacity-10 rounded p-3 me-3",children:(0,sn.jsx)(mo,{className:"text-info",size:24})}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("h6",{className:"text-muted mb-1",children:"Total Deliveries"}),(0,sn.jsx)("h3",{className:"mb-0",children:n.deliveryStats.total})]})]})})}),(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsx)(Yn,{className:"h-100 border-0 shadow-sm",children:(0,sn.jsxs)(Yn.Body,{className:"d-flex align-items-center",children:[(0,sn.jsx)("div",{className:"icon-wrapper bg-warning bg-opacity-10 rounded p-3 me-3",children:(0,sn.jsx)(zr,{className:"text-warning",size:24})}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("h6",{className:"text-muted mb-1",children:"Pending Deliveries"}),(0,sn.jsx)("h3",{className:"mb-0",children:n.deliveryStats.scheduled})]})]})})})]}),(0,sn.jsxs)(yn,{className:"mb-4",children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Yn,{className:"border-0 shadow-sm h-100",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white border-0 pt-4 pb-0",children:(0,sn.jsx)("h5",{className:"mb-0",children:"Lead Pipeline"})}),(0,sn.jsx)(Yn.Body,{children:(0,sn.jsx)("div",{style:{height:"300px"},children:(0,sn.jsx)(ob,{data:r,options:{maintainAspectRatio:!1,plugins:{legend:{position:"bottom"}}}})})})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Yn,{className:"border-0 shadow-sm h-100",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white border-0 pt-4 pb-0",children:(0,sn.jsx)("h5",{className:"mb-0",children:"Delivery Status"})}),(0,sn.jsx)(Yn.Body,{children:(0,sn.jsx)("div",{style:{height:"300px"},children:(0,sn.jsx)(ob,{data:l,options:{maintainAspectRatio:!1,plugins:{legend:{position:"bottom"}}}})})})]})})]}),(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Yn,{className:"border-0 shadow-sm mb-4",children:[(0,sn.jsxs)(Yn.Header,{className:"bg-white border-0 pt-4 pb-0 d-flex justify-content-between align-items-center",children:[(0,sn.jsx)("h5",{className:"mb-0",children:"Recent Leads"}),(0,sn.jsx)(ir,{as:Le,to:"/leads",variant:"outline-primary",size:"sm",children:"View All"})]}),(0,sn.jsx)(Yn.Body,{children:(0,sn.jsxs)(Uh,{hover:!0,responsive:!0,className:"align-middle",children:[(0,sn.jsx)("thead",{className:"bg-light",children:(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("th",{children:"Name"}),(0,sn.jsx)("th",{children:"Company"}),(0,sn.jsx)("th",{children:"Status"}),(0,sn.jsx)("th",{children:"Date"})]})}),(0,sn.jsx)("tbody",{children:n.recentLeads.map((e=>(0,sn.jsxs)("tr",{children:[(0,sn.jsxs)("td",{children:[e.firstName," ",e.lastName]}),(0,sn.jsx)("td",{children:e.company}),(0,sn.jsx)("td",{children:(0,sn.jsx)("span",{className:`badge bg-${xb(e.status)}`,children:e.status})}),(0,sn.jsx)("td",{children:bb(e.createdAt)})]},e._id)))})]})})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Yn,{className:"border-0 shadow-sm mb-4",children:[(0,sn.jsxs)(Yn.Header,{className:"bg-white border-0 pt-4 pb-0 d-flex justify-content-between align-items-center",children:[(0,sn.jsx)("h5",{className:"mb-0",children:"Upcoming Deliveries"}),(0,sn.jsx)(ir,{as:Le,to:"/deliveries",variant:"outline-primary",size:"sm",children:"View All"})]}),(0,sn.jsx)(Yn.Body,{children:(0,sn.jsxs)(Uh,{hover:!0,responsive:!0,className:"align-middle",children:[(0,sn.jsx)("thead",{className:"bg-light",children:(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("th",{children:"ID"}),(0,sn.jsx)("th",{children:"Customer"}),(0,sn.jsx)("th",{children:"Date"}),(0,sn.jsx)("th",{children:"Status"})]})}),(0,sn.jsx)("tbody",{children:n.upcomingDeliveries.map((e=>(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("td",{children:e.deliveryId}),(0,sn.jsx)("td",{children:e.customer.name}),(0,sn.jsx)("td",{children:bb(e.scheduledDate)}),(0,sn.jsx)("td",{children:(0,sn.jsx)("span",{className:`badge bg-${fb(e.status)}`,children:e.status})})]},e._id)))})]})})]})})]}),(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Yn,{className:"border-0 shadow-sm mb-4",children:[(0,sn.jsxs)(Yn.Header,{className:"bg-white border-0 pt-4 pb-0 d-flex justify-content-between align-items-center",children:[(0,sn.jsx)("h5",{className:"mb-0",children:"Upcoming Tasks"}),(0,sn.jsx)(ir,{as:Le,to:"/tasks",variant:"outline-primary",size:"sm",children:"View All"})]}),(0,sn.jsx)(Yn.Body,{children:(0,sn.jsxs)(Uh,{hover:!0,responsive:!0,className:"align-middle",children:[(0,sn.jsx)("thead",{className:"bg-light",children:(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("th",{children:"Task"}),(0,sn.jsx)("th",{children:"Due Date"}),(0,sn.jsx)("th",{children:"Priority"})]})}),(0,sn.jsx)("tbody",{children:n.tasks.map((e=>(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("td",{children:e.title}),(0,sn.jsx)("td",{children:bb(e.dueDate)}),(0,sn.jsx)("td",{children:(0,sn.jsx)("span",{className:`badge bg-${gb(e.priority)}`,children:e.priority})})]},e._id)))})]})})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Yn,{className:"border-0 shadow-sm mb-4",children:[(0,sn.jsxs)(Yn.Header,{className:"bg-white border-0 pt-4 pb-0 d-flex justify-content-between align-items-center",children:[(0,sn.jsx)("h5",{className:"mb-0",children:"Active Drivers"}),(0,sn.jsx)(ir,{as:Le,to:"/drivers",variant:"outline-primary",size:"sm",children:"View All"})]}),(0,sn.jsx)(Yn.Body,{children:(0,sn.jsxs)(Uh,{hover:!0,responsive:!0,className:"align-middle",children:[(0,sn.jsx)("thead",{className:"bg-light",children:(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("th",{children:"Name"}),(0,sn.jsx)("th",{children:"Status"}),(0,sn.jsx)("th",{children:"Deliveries"})]})}),(0,sn.jsx)("tbody",{children:n.drivers.map((e=>(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("td",{children:e.name}),(0,sn.jsx)("td",{children:(0,sn.jsx)("span",{className:`badge bg-${vb(e.status)}`,children:e.status})}),(0,sn.jsx)("td",{children:e.deliveries})]},e._id)))})]})})]})})]}),(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Yn,{className:"border-0 shadow-sm mb-4",children:[(0,sn.jsxs)(Yn.Header,{className:"bg-white border-0 pt-4 pb-0 d-flex justify-content-between align-items-center",children:[(0,sn.jsx)("h5",{className:"mb-0",children:"Current Routes"}),(0,sn.jsx)(ir,{as:Le,to:"/routes",variant:"outline-primary",size:"sm",children:"View All"})]}),(0,sn.jsx)(Yn.Body,{children:(0,sn.jsxs)(Uh,{hover:!0,responsive:!0,className:"align-middle",children:[(0,sn.jsx)("thead",{className:"bg-light",children:(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("th",{children:"Route Name"}),(0,sn.jsx)("th",{children:"Deliveries"}),(0,sn.jsx)("th",{children:"Status"})]})}),(0,sn.jsx)("tbody",{children:n.routes.map((e=>(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("td",{children:e.name}),(0,sn.jsx)("td",{children:e.deliveries}),(0,sn.jsx)("td",{children:(0,sn.jsx)("span",{className:`badge bg-${jb(e.status)}`,children:e.status})})]},e._id)))})]})})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Yn,{className:"border-0 shadow-sm mb-4",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white border-0 pt-4 pb-0",children:(0,sn.jsx)("h5",{className:"mb-0",children:"Recent Activity"})}),(0,sn.jsx)(Yn.Body,{children:(0,sn.jsx)(pb,{})})]})})]})]})},wb=()=>{const e=Z(),{currentUser:t,loading:s,checkAuthState:n}=an();if((0,a.useEffect)((()=>{console.log("PrivateRoute mounted at path:",e.pathname),tn();const a=localStorage.getItem("token"),i=localStorage.getItem("user"),r=localStorage.getItem("app:auth");console.log("Raw localStorage state in PrivateRoute:"),console.log("token exists:",!!a),console.log("user exists:",!!i),console.log("app:auth exists:",!!r),n(),console.log("Auth state:",{currentUser:!!t,loading:s,storedUser:!!Qs(),token:!!localStorage.getItem("token"),appAuth:!!localStorage.getItem("app:auth"),isLoggedIn:en()})}),[e.pathname,n,t,s]),s)return(0,sn.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{height:"100vh"},children:(0,sn.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,sn.jsx)("span",{className:"visually-hidden",children:"Loading..."})})});return en()||t||Qs()?(console.log("PrivateRoute: User authenticated, rendering route"),(0,sn.jsx)(ve,{})):(console.log("PrivateRoute: No authentication, redirecting to login"),(0,sn.jsx)(ge,{to:"/login",state:{from:e}}))},Nb=a.forwardRef(((e,t)=>{let{bsPrefix:s,bg:n="primary",pill:a=!1,text:i,className:r,as:l="span",...o}=e;const c=pn(s,"badge");return(0,sn.jsx)(l,{ref:t,...o,className:on()(r,c,a&&"rounded-pill",i&&`text-${i}`,n&&`bg-${n}`)})}));Nb.displayName="Badge";const Cb=Nb,Sb=a.forwardRef(((e,t)=>{let{active:s=!1,disabled:n=!1,className:a,style:i,activeLabel:r="(current)",children:l,linkStyle:o,linkClassName:c,as:d=wa,...u}=e;const h=s||n?"span":d;return(0,sn.jsx)("li",{ref:t,style:i,className:on()(a,"page-item",{active:s,disabled:n}),children:(0,sn.jsxs)(h,{className:on()("page-link",c),style:o,...u,children:[l,s&&r&&(0,sn.jsx)("span",{className:"visually-hidden",children:r})]})})}));Sb.displayName="PageItem";const kb=Sb;function Db(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;const n=a.forwardRef(((e,n)=>{let{children:a,...i}=e;return(0,sn.jsxs)(Sb,{...i,ref:n,children:[(0,sn.jsx)("span",{"aria-hidden":"true",children:a||t}),(0,sn.jsx)("span",{className:"visually-hidden",children:s})]})}));return n.displayName=e,n}const _b=Db("First","\xab"),Ab=Db("Prev","\u2039","Previous"),Tb=Db("Ellipsis","\u2026","More"),Eb=Db("Next","\u203a"),Lb=Db("Last","\xbb"),Mb=a.forwardRef(((e,t)=>{let{bsPrefix:s,className:n,size:a,...i}=e;const r=pn(s,"pagination");return(0,sn.jsx)("ul",{ref:t,...i,className:on()(n,r,a&&`${r}-${a}`)})}));Mb.displayName="Pagination";const Ib=Object.assign(Mb,{First:_b,Prev:Ab,Ellipsis:Tb,Item:kb,Next:Eb,Last:Lb}),Pb=e=>{let{label:t="Back",variant:s="outline-secondary",className:n="mb-3"}=e;const a=ee(),i=Z();return(0,sn.jsxs)(ir,{variant:s,className:n,onClick:()=>{i.state&&i.state.from?a(i.state.from):a(-1)},size:"sm",children:[(0,sn.jsx)(vr,{className:"me-1"})," ",t]})},Ob=e=>{let{title:t,subtitle:s,backButton:n=!0,actionButton:a=null,actionButtonLink:i="",actionButtonText:r="Add New",actionButtonIcon:l=null}=e;return(0,sn.jsxs)(yn,{className:"mb-4 align-items-center",children:[(0,sn.jsx)(Nn,{children:(0,sn.jsxs)("div",{className:"d-flex align-items-center",children:[n&&(0,sn.jsx)(Pb,{className:"me-3"}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("h1",{className:"mb-0",children:t}),s&&(0,sn.jsx)("p",{className:"text-muted mb-0",children:s})]})]})}),a&&(0,sn.jsx)(Nn,{xs:"auto",children:(0,sn.jsxs)(ir,{as:Le,to:i,variant:"primary",children:[l&&(0,sn.jsx)("span",{className:"me-1",children:l}),r]})})]})},Rb=Xs.create({baseURL:"/api",headers:{"Content-Type":"application/json"}});Rb.interceptors.request.use((e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e}),(e=>Promise.reject(e))),Rb.interceptors.response.use((e=>(console.log("API Response success:",e.config.url),e)),(e=>{var t,s;return console.error("API Response error:",null===(t=e.config)||void 0===t?void 0:t.url,null===(s=e.response)||void 0===s?void 0:s.status),e.response&&401===e.response.status&&console.warn("Unauthorized access detected (401), but maintaining session"),Promise.reject(e)}));const Fb=()=>Rb.get("/leads"),zb=e=>Rb.get(`/leads/${e}`),Bb=e=>Rb.post("/leads",e),$b=(e,t)=>Rb.put(`/leads/${e}`,t),Hb=e=>Rb.delete(`/leads/${e}`),Vb=(e,t)=>Rb.post(`/leads/${e}/notes`,{note:t}),Ub=(e,t)=>Rb.post(`/leads/${e}/tasks`,t),Wb=(e,t,s)=>Rb.put(`/leads/${e}/tasks/${t}`,s),Gb=()=>{try{const e=localStorage.getItem("token"),t=localStorage.getItem("app:auth");if(e&&!t){const t=localStorage.getItem("user"),s=t?JSON.parse(t):{};localStorage.setItem("app:auth",JSON.stringify({token:e,user:s})),console.log("API client: Created app:auth from standard token")}else if(!e&&t)try{const e=JSON.parse(t);e.token&&(localStorage.setItem("token",e.token),console.log("API client: Created standard token from app:auth"))}catch(ok){console.error("Error parsing app:auth",ok)}}catch(ok){console.error("Error in ensureAuthPersistence",ok)}};Gb(),setInterval(Gb,5e3);Xs.interceptors.request.use((e=>{const t=localStorage.getItem("authToken");return t&&(e.headers.Authorization=`Bearer ${t}`),e}),(e=>Promise.reject(e)));const qb=async()=>{try{return(await Fb()).data}catch(e){return console.error("Error fetching leads:",e),[]}},Yb=async e=>{try{return(await zb(e)).data}catch(t){return console.error(`Error fetching lead with ID ${e}:`,t),null}},Kb=async e=>{try{return(await Bb(e)).data}catch(t){throw console.error("Error creating lead:",t),t}},Jb=async(e,t)=>{try{return(await $b(e,t)).data}catch(s){throw console.error(`Error updating lead with ID ${e}:`,s),s}},Xb=async e=>{try{return await Hb(e),!0}catch(t){throw console.error(`Error deleting lead with ID ${e}:`,t),t}},Zb=async(e,t)=>{try{return(await Vb(e,t)).data}catch(s){throw console.error(`Error adding note to lead with ID ${e}:`,s),s}},Qb=async(e,t)=>{try{return(await Ub(e,t)).data}catch(s){throw console.error(`Error adding task to lead with ID ${e}:`,s),s}},ey=async(e,t,s)=>{try{return(await Wb(e,t,s)).data}catch(n){throw console.error(`Error updating task for lead with ID ${e}:`,n),n}},ty=async()=>{try{return(await Fb()).data}catch(e){return console.error("Error fetching leads:",e),[]}},sy=()=>{try{return JSON.parse(localStorage.getItem("appLeads")||"[]")}catch(e){return console.error("Error loading leads from localStorage:",e),[]}},ny=e=>{try{return localStorage.setItem("appLeads",JSON.stringify(e)),!0}catch(t){return console.error("Error saving leads to localStorage:",t),!1}};var ay;function iy(e){if((!ay&&0!==ay||e)&&Wa){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),ay=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return ay}function ry(e){const t=function(e){const t=(0,a.useRef)(e);return t.current=e,t}(e);(0,a.useEffect)((()=>()=>t.current()),[])}const ly=a.forwardRef(((e,t)=>{let{className:s,bsPrefix:n,as:a="div",...i}=e;return n=pn(n,"modal-body"),(0,sn.jsx)(a,{ref:t,className:on()(s,n),...i})}));ly.displayName="ModalBody";const oy=ly,cy=a.forwardRef(((e,t)=>{let{bsPrefix:s,className:n,contentClassName:a,centered:i,size:r,fullscreen:l,children:o,scrollable:c,...d}=e;s=pn(s,"modal");const u=`${s}-dialog`,h="string"===typeof l?`${s}-fullscreen-${l}`:`${s}-fullscreen`;return(0,sn.jsx)("div",{...d,ref:t,className:on()(u,n,r&&`${s}-${r}`,i&&`${u}-centered`,c&&`${u}-scrollable`,l&&h),children:(0,sn.jsx)("div",{className:on()(`${s}-content`,a),children:o})})}));cy.displayName="ModalDialog";const dy=cy,uy=a.forwardRef(((e,t)=>{let{className:s,bsPrefix:n,as:a="div",...i}=e;return n=pn(n,"modal-footer"),(0,sn.jsx)(a,{ref:t,className:on()(s,n),...i})}));uy.displayName="ModalFooter";const hy=uy,my=a.forwardRef(((e,t)=>{let{bsPrefix:s,className:n,closeLabel:a="Close",closeButton:i=!1,...r}=e;return s=pn(s,"modal-header"),(0,sn.jsx)(qc,{ref:t,...r,className:on()(n,s),closeLabel:a,closeButton:i})}));my.displayName="ModalHeader";const py=my,xy=Fn("h4"),fy=a.forwardRef(((e,t)=>{let{className:s,bsPrefix:n,as:a=xy,...i}=e;return n=pn(n,"modal-title"),(0,sn.jsx)(a,{ref:t,className:on()(s,n),...i})}));fy.displayName="ModalTitle";const gy=fy;function vy(e){return(0,sn.jsx)(di,{...e,timeout:null})}function jy(e){return(0,sn.jsx)(di,{...e,timeout:null})}const by=a.forwardRef(((e,t)=>{let{bsPrefix:s,className:n,style:i,dialogClassName:r,contentClassName:l,children:o,dialogAs:c=dy,"data-bs-theme":d,"aria-labelledby":u,"aria-describedby":h,"aria-label":m,show:p=!1,animation:x=!0,backdrop:f=!0,keyboard:g=!0,onEscapeKeyDown:v,onShow:j,onHide:b,container:y,autoFocus:w=!0,enforceFocus:N=!0,restoreFocus:C=!0,restoreFocusOptions:S,onEntered:k,onExit:D,onExiting:_,onEnter:A,onEntering:T,onExited:E,backdropClassName:L,manager:M,...I}=e;const[P,O]=(0,a.useState)({}),[R,F]=(0,a.useState)(!1),z=(0,a.useRef)(!1),B=(0,a.useRef)(!1),$=(0,a.useRef)(null),[H,V]=(0,a.useState)(null),U=ai(t,V),W=ia(b),G=gn();s=pn(s,"modal");const q=(0,a.useMemo)((()=>({onHide:W})),[W]);function Y(){return M||rd({isRTL:G})}function K(e){if(!Wa)return;const t=Y().getScrollbarWidth()>0,s=e.scrollHeight>Fa(e).documentElement.clientHeight;O({paddingRight:t&&!s?iy():void 0,paddingLeft:!t&&s?iy():void 0})}const J=ia((()=>{H&&K(H.dialog)}));ry((()=>{Ja(window,"resize",J),null==$.current||$.current()}));const X=()=>{z.current=!0},Z=e=>{z.current&&H&&e.target===H.dialog&&(B.current=!0),z.current=!1},Q=()=>{F(!0),$.current=Qa(H.dialog,(()=>{F(!1)}))},ee=e=>{"static"!==f?B.current||e.target!==e.currentTarget?B.current=!1:null==b||b():(e=>{e.target===e.currentTarget&&Q()})(e)},te=(0,a.useCallback)((e=>(0,sn.jsx)("div",{...e,className:on()(`${s}-backdrop`,L,!x&&"show")})),[x,L,s]),se={...i,...P};se.display="block";return(0,sn.jsx)(Wc.Provider,{value:q,children:(0,sn.jsx)(zc,{show:p,ref:U,backdrop:f,container:y,keyboard:!0,autoFocus:w,enforceFocus:N,restoreFocus:C,restoreFocusOptions:S,onEscapeKeyDown:e=>{g?null==v||v(e):(e.preventDefault(),"static"===f&&Q())},onShow:j,onHide:b,onEnter:(e,t)=>{e&&K(e),null==A||A(e,t)},onEntering:(e,t)=>{null==T||T(e,t),Ka(window,"resize",J)},onEntered:k,onExit:e=>{null==$.current||$.current(),null==D||D(e)},onExiting:_,onExited:e=>{e&&(e.style.display=""),null==E||E(e),Ja(window,"resize",J)},manager:Y(),transition:x?vy:void 0,backdropTransition:x?jy:void 0,renderBackdrop:te,renderDialog:e=>(0,sn.jsx)("div",{role:"dialog",...e,style:se,className:on()(n,s,R&&`${s}-static`,!x&&"show"),onClick:f?ee:void 0,onMouseUp:Z,"data-bs-theme":d,"aria-label":m,"aria-labelledby":u,"aria-describedby":h,children:(0,sn.jsx)(c,{...I,onMouseDown:X,className:r,contentClassName:l,children:o})})})})}));by.displayName="Modal";const yy=Object.assign(by,{Body:oy,Header:py,Title:gy,Footer:hy,Dialog:dy,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),wy=e=>{let{show:t,onHide:s,onConfirm:n,title:a,message:i,confirmButtonText:r="Confirm",confirmButtonVariant:l="primary",cancelButtonText:o="Cancel"}=e;return(0,sn.jsxs)(yy,{show:t,onHide:s,centered:!0,children:[(0,sn.jsx)(yy.Header,{closeButton:!0,children:(0,sn.jsx)(yy.Title,{children:a})}),(0,sn.jsx)(yy.Body,{children:(0,sn.jsx)("p",{children:i})}),(0,sn.jsxs)(yy.Footer,{children:[(0,sn.jsx)(ir,{variant:"secondary",onClick:s,children:o}),(0,sn.jsx)(ir,{variant:l,onClick:n,children:r})]})]})},Ny=e=>{let{message:t="Loading..."}=e;return(0,sn.jsx)("div",{className:"container-fluid py-4",children:(0,sn.jsxs)("div",{className:"text-center py-5",children:[(0,sn.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,sn.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,sn.jsx)("p",{className:"mt-3",children:t})]})})},Cy=e=>{let{message:t,backUrl:s=-1}=e;const n=ee();return(0,sn.jsx)("div",{className:"container-fluid py-4",children:(0,sn.jsxs)(gi,{variant:"danger",className:"mb-4",children:[(0,sn.jsx)(gi.Heading,{children:"Error"}),(0,sn.jsx)("p",{children:t}),(0,sn.jsx)("div",{className:"d-flex justify-content-end",children:(0,sn.jsx)(ir,{variant:"outline-danger",onClick:()=>n(s),children:"Go Back"})})]})})},Sy=()=>{const e=ee(),{checkAuthState:t}=an(),[s,n]=(0,a.useState)([]),[i,r]=(0,a.useState)([]),[l,o]=(0,a.useState)(!0),[c,d]=(0,a.useState)(null),[u,h]=(0,a.useState)(""),[m,p]=(0,a.useState)("all"),[x,f]=(0,a.useState)("all"),[g,v]=(0,a.useState)("createdAt"),[j,b]=(0,a.useState)("desc"),[y,w]=(0,a.useState)(1),[N]=(0,a.useState)(10),[C,S]=(0,a.useState)(!1),[k,D]=(0,a.useState)(null),_=[{value:"all",label:"All Statuses"},{value:"new",label:"New",color:"primary"},{value:"contacted",label:"Contacted",color:"info"},{value:"qualified",label:"Qualified",color:"warning"},{value:"proposal",label:"Proposal",color:"secondary"},{value:"negotiation",label:"Negotiation",color:"dark"},{value:"closed-won",label:"Closed (Won)",color:"success"},{value:"closed-lost",label:"Closed (Lost)",color:"danger"}],A=[{value:"all",label:"All Sources"},{value:"website",label:"Website"},{value:"referral",label:"Referral"},{value:"social-media",label:"Social Media"},{value:"email-campaign",label:"Email Campaign"},{value:"cold-call",label:"Cold Call"},{value:"lead-generator",label:"Lead Generator"},{value:"event",label:"Event/Trade Show"},{value:"other",label:"Other"}];(0,a.useEffect)((()=>{if(!(en()?(t(),!0):(console.log("LeadsList: Auth missing, redirecting to login"),e("/login"),!1)))return;(async()=>{o(!0);try{const e=await qb();n(e||[]),r(e||[]),o(!1)}catch(c){console.error("Error fetching leads:",c),n([]),r([]),d("Failed to load leads: "+(c.message||c)),o(!1)}})()}),[e,t]),(0,a.useEffect)((()=>{(async()=>{try{if("true"==={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"\\https://areti-crm-api-29b79be1eacc.herokuapp.com/api"}.REACT_APP_USE_API){const e=await Xs.get("/api/leads");n(e.data),r(e.data)}else{const e=localStorage.getItem("crmLeads");if(e){const t=JSON.parse(e);n(t),r(t)}}o(!1)}catch(c){console.error("Error loading leads:",c);try{const e=localStorage.getItem("crmLeads");if(e){const t=JSON.parse(e);n(t),r(t)}}catch(e){console.error("Error loading from localStorage:",e)}o(!1)}})()}),[]),(0,a.useEffect)((()=>{if(!Array.isArray(s))return console.error("Leads is not an array:",s),void r([]);let e=[...s];if(u.trim()){const t=u.toLowerCase();e=e.filter((e=>{if(!e)return!1;const s=`${e.firstName||""} ${e.lastName||""}`.toLowerCase(),n=(e.company||"").toLowerCase(),a=(e.email||"").toLowerCase();return s.includes(t)||n.includes(t)||a.includes(t)}))}m&&"all"!==m&&(e=e.filter((e=>e&&e.status===m))),x&&"all"!==x&&(e=e.filter((e=>e&&e.source===x))),e.sort(((e,t)=>{if(!e||!t)return 0;let s=e[g],n=t[g];if("firstName"===g)s=e.firstName||"",n=t.firstName||"";else if("lastName"===g)s=e.lastName||"",n=t.lastName||"";else if("assignedTo"===g){var a,i;s=(null===(a=e.assignedTo)||void 0===a?void 0:a.firstName)||"",n=(null===(i=t.assignedTo)||void 0===i?void 0:i.firstName)||""}return s instanceof Date&&n instanceof Date?"asc"===j?s-n:n-s:"string"===typeof s&&"string"===typeof n?"asc"===j?s.localeCompare(n):n.localeCompare(s):null!==s&&void 0!==s||null!==n&&void 0!==n?null===s||void 0===s?"asc"===j?-1:1:null===n||void 0===n?"asc"===j?1:-1:"asc"===j?s-n:n-s:0})),r(e)}),[s,u,m,x,g,j]);const T=(e,t)=>{w(1),"status"===e?p(t):"source"===e?f(t):"search"===e&&h(t)},E=e=>{g===e?b("asc"===j?"desc":"asc"):(v(e),b("asc"))},L=e=>{const t=_.find((t=>t.value===e));return t?(0,sn.jsx)(Cb,{bg:t.color,children:t.label}):null},M=y*N,I=M-N,P=Array.isArray(i)?i.slice(I,M):[],O=Math.ceil(((null===i||void 0===i?void 0:i.length)||0)/N),R=e=>w(e);return l?(0,sn.jsx)(Ny,{message:"Loading leads..."}):c?(0,sn.jsx)(Cy,{message:c}):(0,sn.jsxs)("div",{className:"container-fluid py-4",children:[(0,sn.jsx)(Ob,{title:"Leads",subtitle:"Manage and track sales leads",backButton:!1}),(0,sn.jsxs)("div",{className:"d-flex justify-content-between mb-4",children:[(0,sn.jsxs)("div",{children:[(0,sn.jsxs)(ir,{variant:"outline-secondary",className:"me-2",as:Le,to:"/leads/stats",children:[(0,sn.jsx)(Tr,{className:"me-1"})," Statistics"]}),(0,sn.jsxs)(ir,{variant:"outline-info",className:"me-2",as:Le,to:"/lead-generator",children:[(0,sn.jsx)(gl,{className:"me-1"})," Lead Generator"]}),(0,sn.jsxs)(ir,{variant:"outline-warning",as:Le,to:"/leads/script",children:[(0,sn.jsx)(Pl,{className:"me-1"})," Script Navigator"]})]}),(0,sn.jsxs)("div",{className:"d-flex align-items-center",children:[!1,(0,sn.jsxs)(ir,{variant:"primary",as:Le,to:"/leads/new",children:[(0,sn.jsx)(Ol,{className:"me-1"})," Add New Lead"]})]})]}),(0,sn.jsx)(Yn,{className:"shadow-sm mb-4",children:(0,sn.jsxs)(Yn.Body,{children:[(0,sn.jsxs)(yn,{className:"mb-3",children:[(0,sn.jsx)(Nn,{md:4,children:(0,sn.jsxs)(nr,{children:[(0,sn.jsx)(nr.Text,{children:(0,sn.jsx)(Ul,{})}),(0,sn.jsx)(Xi.Control,{placeholder:"Search leads...",value:u,onChange:e=>T("search",e.target.value)})]})}),(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsxs)(nr,{children:[(0,sn.jsx)(nr.Text,{children:(0,sn.jsx)(ol,{})}),(0,sn.jsx)(Xi.Select,{value:m,onChange:e=>T("status",e.target.value),children:_.map((e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value)))})]})}),(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsxs)(nr,{children:[(0,sn.jsx)(nr.Text,{children:(0,sn.jsx)(ol,{})}),(0,sn.jsx)(Xi.Select,{value:x,onChange:e=>T("source",e.target.value),children:A.map((e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value)))})]})}),(0,sn.jsx)(Nn,{md:2,children:(0,sn.jsx)(ir,{variant:"outline-secondary",className:"w-100",onClick:()=>{h(""),p("all"),f("all"),w(1)},children:"Clear Filters"})})]}),Array.isArray(i)&&0!==i.length?(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("div",{className:"table-responsive",children:(0,sn.jsxs)(Uh,{hover:!0,className:"align-middle",children:[(0,sn.jsx)("thead",{children:(0,sn.jsxs)("tr",{children:[(0,sn.jsxs)("th",{onClick:()=>E("firstName"),style:{cursor:"pointer"},children:["Name ","firstName"===g&&(0,sn.jsx)(Jl,{className:"ms-1 text-"+("asc"===j?"muted":"dark")})]}),(0,sn.jsxs)("th",{onClick:()=>E("company"),style:{cursor:"pointer"},children:["Company ","company"===g&&(0,sn.jsx)(Jl,{className:"ms-1 text-"+("asc"===j?"muted":"dark")})]}),(0,sn.jsx)("th",{children:"Contact"}),(0,sn.jsxs)("th",{onClick:()=>E("status"),style:{cursor:"pointer"},children:["Status ","status"===g&&(0,sn.jsx)(Jl,{className:"ms-1 text-"+("asc"===j?"muted":"dark")})]}),(0,sn.jsxs)("th",{onClick:()=>E("source"),style:{cursor:"pointer"},children:["Source ","source"===g&&(0,sn.jsx)(Jl,{className:"ms-1 text-"+("asc"===j?"muted":"dark")})]}),(0,sn.jsxs)("th",{onClick:()=>E("value"),style:{cursor:"pointer"},children:["Value ","value"===g&&(0,sn.jsx)(Jl,{className:"ms-1 text-"+("asc"===j?"muted":"dark")})]}),(0,sn.jsxs)("th",{onClick:()=>E("createdAt"),style:{cursor:"pointer"},children:["Created ","createdAt"===g&&(0,sn.jsx)(Jl,{className:"ms-1 text-"+("asc"===j?"muted":"dark")})]}),(0,sn.jsx)("th",{children:"Actions"})]})}),(0,sn.jsx)("tbody",{children:P.map((t=>{var s,n;return(0,sn.jsxs)("tr",{onClick:()=>e(`/leads/${t._id}`),style:{cursor:"pointer"},className:"hover-highlight",children:[(0,sn.jsx)("td",{children:(0,sn.jsxs)("div",{className:"d-flex align-items-center",children:[(0,sn.jsx)(fo,{className:"me-2 text-secondary",size:24}),(0,sn.jsx)("div",{children:(0,sn.jsxs)(Le,{to:`/leads/${t._id}`,className:"fw-bold text-decoration-none",onClick:e=>e.stopPropagation(),children:[t.firstName," ",t.lastName]})})]})}),(0,sn.jsx)("td",{children:t.company}),(0,sn.jsx)("td",{children:(0,sn.jsxs)("div",{className:"small",children:[(0,sn.jsx)("div",{children:t.email}),(0,sn.jsx)("div",{children:t.phone})]})}),(0,sn.jsx)("td",{children:L(t.status)}),(0,sn.jsx)("td",{children:(null===(s=A.find((e=>e.value===t.source)))||void 0===s?void 0:s.label)||t.source}),(0,sn.jsxs)("td",{children:["$",t.value?t.value.toLocaleString():"0"]}),(0,sn.jsx)("td",{children:(n=t.createdAt,n?new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A")}),(0,sn.jsx)("td",{onClick:e=>e.stopPropagation(),children:(0,sn.jsxs)(Bh,{children:[(0,sn.jsx)(Bh.Toggle,{variant:"light",size:"sm",id:`dropdown-${t._id}`,children:(0,sn.jsx)(Yr,{})}),(0,sn.jsxs)(Bh.Menu,{children:[(0,sn.jsxs)(Bh.Item,{as:Le,to:`/leads/${t._id}`,children:[(0,sn.jsx)(fo,{className:"me-2"})," View Details"]}),(0,sn.jsxs)(Bh.Item,{as:Le,to:`/leads/${t._id}/edit`,children:[(0,sn.jsx)(Ll,{className:"me-2"})," Edit"]}),(0,sn.jsx)(Bh.Divider,{}),(0,sn.jsxs)(Bh.Item,{className:"text-danger",onClick:()=>(e=>{D(e),S(!0)})(t),children:[(0,sn.jsx)(uo,{className:"me-2"})," Delete"]})]})]})})]},t._id)}))})]})}),O>1&&(0,sn.jsx)("div",{className:"d-flex justify-content-center mt-4",children:(0,sn.jsxs)(Ib,{children:[(0,sn.jsx)(Ib.Prev,{onClick:()=>R(Math.max(1,y-1)),disabled:1===y}),Array.from({length:O},((e,t)=>(0,sn.jsx)(Ib.Item,{active:t+1===y,onClick:()=>R(t+1),children:t+1},t+1))),(0,sn.jsx)(Ib.Next,{onClick:()=>R(Math.min(O,y+1)),disabled:y===O})]})})]}):(0,sn.jsxs)("div",{className:"text-center py-5",children:[(0,sn.jsx)("p",{className:"text-muted mb-3",children:"No leads found matching your filters."}),(0,sn.jsxs)(ir,{variant:"primary",as:Le,to:"/leads/new",children:[(0,sn.jsx)(Ol,{className:"me-1"})," Add New Lead"]})]})]})}),(0,sn.jsx)(wy,{show:C,onHide:()=>S(!1),onConfirm:async()=>{if(k)try{if(!en())return void e("/login");await Xb(k._id),n(s.filter((e=>e._id!==k._id))),S(!1),D(null)}catch(a){if(a.response&&401===a.response.status&&(console.error("Authentication error deleting lead"),t(),!en()))return void e("/login");d("Failed to delete lead: "+(a.message||a)),S(!1)}},title:"Delete Lead",message:`Are you sure you want to delete ${null===k||void 0===k?void 0:k.firstName} ${null===k||void 0===k?void 0:k.lastName} from ${null===k||void 0===k?void 0:k.company}? This action cannot be undone.`,confirmButtonText:"Delete",confirmButtonVariant:"danger"})]})},ky=["active","eventKey","mountOnEnter","transition","unmountOnExit","role","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],Dy=["activeKey","getControlledId","getControllerId"],_y=["as"];function Ay(e,t){if(null==e)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;s[n]=e[n]}return s}function Ty(e){let{active:t,eventKey:s,mountOnEnter:n,transition:i,unmountOnExit:r,role:l="tabpanel",onEnter:o,onEntering:c,onEntered:d,onExit:u,onExiting:h,onExited:m}=e,p=Ay(e,ky);const x=(0,a.useContext)(Oo);if(!x)return[Object.assign({},p,{role:l}),{eventKey:s,isActive:t,mountOnEnter:n,transition:i,unmountOnExit:r,onEnter:o,onEntering:c,onEntered:d,onExit:u,onExiting:h,onExited:m}];const{activeKey:f,getControlledId:g,getControllerId:v}=x,j=Ay(x,Dy),b=Io(s);return[Object.assign({},p,{role:l,id:g(s),"aria-labelledby":v(s)}),{eventKey:s,isActive:null==t&&null!=b?Io(f)===b:t,transition:i||j.transition,mountOnEnter:null!=n?n:j.mountOnEnter,unmountOnExit:null!=r?r:j.unmountOnExit,onEnter:o,onEntering:c,onEntered:d,onExit:u,onExiting:h,onExited:m}]}const Ey=a.forwardRef(((e,t)=>{let{as:s="div"}=e,n=Ay(e,_y);const[a,{isActive:i,onEnter:r,onEntering:l,onEntered:o,onExit:c,onExiting:d,onExited:u,mountOnEnter:h,unmountOnExit:m,transition:p=_c}]=Ty(n);return(0,sn.jsx)(Oo.Provider,{value:null,children:(0,sn.jsx)(Po.Provider,{value:null,children:(0,sn.jsx)(p,{in:i,onEnter:r,onEntering:l,onEntered:o,onExit:c,onExiting:d,onExited:u,mountOnEnter:h,unmountOnExit:m,children:(0,sn.jsx)(s,Object.assign({},a,{ref:t,hidden:!i,"aria-hidden":!i}))})})})}));Ey.displayName="TabPanel";const Ly=e=>{const{id:t,generateChildId:s,onSelect:n,activeKey:i,defaultActiveKey:r,transition:l,mountOnEnter:o,unmountOnExit:c,children:d}=e,[u,h]=vd(i,r,n),m=lh(t),p=(0,a.useMemo)((()=>s||((e,t)=>m?`${m}-${t}-${e}`:null)),[m,s]),x=(0,a.useMemo)((()=>({onSelect:h,activeKey:u,transition:l,mountOnEnter:o||!1,unmountOnExit:c||!1,getControlledId:e=>p(e,"tabpane"),getControllerId:e=>p(e,"tab")})),[h,u,l,o,c,p]);return(0,sn.jsx)(Oo.Provider,{value:x,children:(0,sn.jsx)(Po.Provider,{value:h||null,children:d})})};Ly.Panel=Ey;const My=Ly,Iy=a.forwardRef(((e,t)=>{let{className:s,bsPrefix:n,as:a="div",...i}=e;return n=pn(n,"tab-content"),(0,sn.jsx)(a,{ref:t,className:on()(s,n),...i})}));Iy.displayName="TabContent";const Py=Iy;function Oy(e){return"boolean"===typeof e?e?di:_c:e}const Ry=a.forwardRef(((e,t)=>{let{bsPrefix:s,transition:n,...a}=e;const[{className:i,as:r="div",...l},{isActive:o,onEnter:c,onEntering:d,onEntered:u,onExit:h,onExiting:m,onExited:p,mountOnEnter:x,unmountOnExit:f,transition:g=di}]=Ty({...a,transition:Oy(n)}),v=pn(s,"tab-pane");return(0,sn.jsx)(Oo.Provider,{value:null,children:(0,sn.jsx)(Po.Provider,{value:null,children:(0,sn.jsx)(g,{in:o,onEnter:c,onEntering:d,onEntered:u,onExit:h,onExiting:m,onExited:p,mountOnEnter:x,unmountOnExit:f,children:(0,sn.jsx)(r,{...l,ref:t,className:on()(i,v,o&&"active")})})})})}));Ry.displayName="TabPane";const Fy=Ry;function zy(e){let t;return function(e,t){let s=0;a.Children.forEach(e,(e=>{a.isValidElement(e)&&t(e,s++)}))}(e,(e=>{null==t&&(t=e.props.eventKey)})),t}function By(e){const{title:t,eventKey:s,disabled:n,tabClassName:a,tabAttrs:i,id:r}=e.props;return null==t?null:(0,sn.jsx)(Jo,{as:"li",role:"presentation",children:(0,sn.jsx)(Zo,{as:"button",type:"button",eventKey:s,disabled:n,id:r,className:a,...i,children:t})})}const $y=e=>{const{id:t,onSelect:s,transition:n,mountOnEnter:a=!1,unmountOnExit:i=!1,variant:r="tabs",children:l,activeKey:o=zy(l),...c}=ea(e,{activeKey:"onSelect"});return(0,sn.jsxs)(My,{id:t,activeKey:o,onSelect:s,transition:Oy(n),mountOnEnter:a,unmountOnExit:i,children:[(0,sn.jsx)(ec,{id:t,...c,role:"tablist",as:"ul",variant:r,children:ki(l,By)}),(0,sn.jsx)(Py,{children:ki(l,(e=>{const t={...e.props};return delete t.title,delete t.disabled,delete t.tabClassName,delete t.tabAttrs,(0,sn.jsx)(Fy,{...t})}))})]})};$y.displayName="Tabs";const Hy=$y,Vy=e=>{let{transition:t,...s}=e;return(0,sn.jsx)(My,{...s,transition:Oy(t)})};Vy.displayName="TabContainer";const Uy=Vy,Wy={eventKey:hi().oneOfType([hi().string,hi().number]),title:hi().node.isRequired,disabled:hi().bool,tabClassName:hi().string,tabAttrs:hi().object},Gy=()=>{throw new Error("ReactBootstrap: The `Tab` component is not meant to be rendered! It's an abstract component that is only valid as a direct Child of the `Tabs` Component. For custom tabs components use TabPane and TabsContainer directly")};Gy.propTypes=Wy;const qy=Object.assign(Gy,{Container:Uy,Content:Py,Pane:Fy}),Yy={company:{name:"Areti Alliance",phone:"(855) 818-3278",grasshopperNumber:"8558183278",website:"www.aretialliance.com",address:"1201 W. Peachtree St., NW, Ste. 2300",city:"Atlanta",state:"GA",zip:"30309"}},Ky=e=>{const t=e.replace(/\D/g,"");return 10===t.length?`(${t.slice(0,3)}) ${t.slice(3,6)}-${t.slice(6)}`:e},Jy=e=>{if(!e)return"#";return`tel:${Yy.company.grasshopperNumber.replace(/\D/g,"")},${e.toString().replace(/\D/g,"")}`},Xy=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!e)return"#";const s=Yy.company.grasshopperNumber.replace(/\D/g,"");e.toString().replace(/\D/g,"");return`sms:${s}?body=${encodeURIComponent(t||"Hello from Areti Alliance!")}`},Zy=e=>{let{phoneNumber:t,showSms:s=!0,buttonVariant:n="outline-primary"}=e;return t?(0,sn.jsxs)("div",{className:"d-flex align-items-center",children:[(0,sn.jsx)("span",{className:"me-2",children:Ky(t)}),(0,sn.jsx)("a",{href:Jy(t),className:"me-1",children:(0,sn.jsxs)(ir,{size:"sm",variant:n,children:[(0,sn.jsx)(Pl,{className:"me-1"})," Call"]})}),s&&(0,sn.jsx)("a",{href:Xy(t),children:(0,sn.jsxs)(ir,{size:"sm",variant:n,children:[(0,sn.jsx)(Vr,{className:"me-1"})," Text"]})})]}):null},Qy=()=>{const e=ee(),{id:t}=se(),[s,n]=(0,a.useState)(null),[i,r]=(0,a.useState)(!0),[l,o]=(0,a.useState)(null),[c,d]=(0,a.useState)(""),[u,h]=(0,a.useState)({title:"",dueDate:"",completed:!1}),[m,p]=(0,a.useState)(!1),x=[{value:"new",label:"New",color:"primary"},{value:"contacted",label:"Contacted",color:"info"},{value:"qualified",label:"Qualified",color:"warning"},{value:"proposal",label:"Proposal",color:"secondary"},{value:"negotiation",label:"Negotiation",color:"dark"},{value:"closed-won",label:"Closed (Won)",color:"success"},{value:"closed-lost",label:"Closed (Lost)",color:"danger"}],f=[{value:"website",label:"Website"},{value:"referral",label:"Referral"},{value:"social-media",label:"Social Media"},{value:"email-campaign",label:"Email Campaign"},{value:"cold-call",label:"Cold Call"},{value:"lead-generator",label:"Lead Generator"},{value:"event",label:"Event/Trade Show"},{value:"other",label:"Other"}];(0,a.useEffect)((()=>{(async()=>{r(!0);try{const e=await Yb(t);n(e.data)}catch(e){o("Failed to load lead: "+(e.message||e))}finally{r(!1)}})()}),[t]);const g=e=>e?new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",v=async e=>{if(e.preventDefault(),c.trim()){p(!0);try{const e=await Zb(t,c);n(e.data),d("")}catch(s){o("Failed to add note: "+(s.message||s))}finally{p(!1)}}},j=async e=>{const a=s.tasks.find((t=>t._id===e));if(a){p(!0);try{const s=await ey(t,e,{completed:!a.completed});n(s.data)}catch(i){o("Failed to update task: "+(i.message||i))}finally{p(!1)}}};return i?(0,sn.jsx)(Ny,{message:"Loading lead details..."}):l?(0,sn.jsx)(Cy,{message:l}):s?(0,sn.jsxs)("div",{className:"container-fluid py-4",children:[(0,sn.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,sn.jsxs)("div",{className:"d-flex align-items-center",children:[(0,sn.jsxs)(ir,{variant:"outline-secondary",className:"me-3",onClick:()=>e("/leads"),children:[(0,sn.jsx)(vr,{})," ",(0,sn.jsx)("span",{className:"d-none d-md-inline ms-1",children:"Back to Leads"})]}),(0,sn.jsxs)("h1",{className:"mb-0",children:[s.firstName," ",s.lastName]})]}),(0,sn.jsxs)("div",{children:[(0,sn.jsxs)(ir,{variant:"outline-primary",className:"me-2",as:Le,to:`/leads/${t}/edit`,children:[(0,sn.jsx)(qr,{className:"me-1"})," Edit Lead"]}),(0,sn.jsx)(ir,{variant:"primary",onClick:()=>e(`/leads/script?lead=${t}`),children:"\ud83d\udcde Start Call Script"})]})]}),(0,sn.jsxs)(yn,{children:[(0,sn.jsxs)(Nn,{lg:4,children:[(0,sn.jsxs)(Yn,{className:"shadow-sm mb-4",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white py-3",children:(0,sn.jsx)("h5",{className:"mb-0",children:"Lead Information"})}),(0,sn.jsxs)(Yn.Body,{children:[(0,sn.jsxs)("div",{className:"mb-4",children:[(0,sn.jsxs)("div",{className:"d-flex align-items-center mb-3",children:[(0,sn.jsx)("div",{className:"bg-light rounded-circle p-3 me-3",children:(0,sn.jsx)(yo,{className:"text-primary",size:24})}),(0,sn.jsxs)("div",{children:[(0,sn.jsxs)("h5",{className:"mb-0",children:[s.firstName," ",s.lastName]}),(0,sn.jsx)("p",{className:"text-muted mb-0",children:s.company})]})]}),(0,sn.jsxs)("div",{className:"mb-1",children:[(0,sn.jsx)("strong",{children:"Status:"})," ",(e=>{const t=x.find((t=>t.value===e));return t?(0,sn.jsx)(Cb,{bg:t.color,className:"text-uppercase",children:t.label}):null})(s.status)]}),(0,sn.jsxs)("div",{className:"mb-1",children:[(0,sn.jsx)("strong",{children:"Source:"})," ",(e=>{const t=f.find((t=>t.value===e));return t?t.label:e})(s.source)]}),(0,sn.jsxs)("div",{className:"mb-1",children:[(0,sn.jsx)("strong",{children:"Value:"})," $",s.value?s.value.toLocaleString():"0"]})]}),(0,sn.jsx)("hr",{}),(0,sn.jsx)("h6",{className:"mb-3",children:"Contact Information"}),(0,sn.jsxs)("div",{className:"mb-2",children:[(0,sn.jsx)(Kr,{className:"me-2 text-muted"}),(0,sn.jsx)("a",{href:`mailto:${s.email}`,children:s.email})]}),(0,sn.jsxs)("div",{className:"mb-2",children:[(0,sn.jsx)(Pl,{className:"me-2 text-muted"}),(0,sn.jsx)(Zy,{phoneNumber:s.phone,buttonVariant:"outline-secondary"})]}),(0,sn.jsxs)("div",{className:"mb-2",children:[(0,sn.jsx)(Sr,{className:"me-2 text-muted"}),s.company]}),s.address&&(0,sn.jsxs)("div",{className:"mb-2",children:[(0,sn.jsx)(Cl,{className:"me-2 text-muted"}),s.address]}),(0,sn.jsx)("hr",{}),(0,sn.jsx)("h6",{className:"mb-3",children:"Dates"}),(0,sn.jsxs)("div",{className:"mb-2",children:[(0,sn.jsx)("strong",{children:"Created:"})," ",g(s.createdAt)]}),(0,sn.jsxs)("div",{className:"mb-2",children:[(0,sn.jsx)("strong",{children:"Last Updated:"})," ",g(s.updatedAt)]}),(0,sn.jsxs)("div",{className:"mb-2",children:[(0,sn.jsx)("strong",{children:"Last Contact:"})," ",g(s.lastContact)]}),s.nextFollowUp&&(0,sn.jsxs)("div",{className:"mb-2",children:[(0,sn.jsx)("strong",{children:"Next Follow-up:"})," ",g(s.nextFollowUp)]})]})]}),(0,sn.jsxs)(Yn,{className:"shadow-sm mb-4",children:[(0,sn.jsxs)(Yn.Header,{className:"bg-white py-3 d-flex justify-content-between align-items-center",children:[(0,sn.jsx)("h5",{className:"mb-0",children:"Documents"}),(0,sn.jsxs)(ir,{variant:"outline-primary",size:"sm",children:[(0,sn.jsx)(Ol,{className:"me-1"})," Upload"]})]}),(0,sn.jsx)(Yn.Body,{children:s.documents&&s.documents.length>0?(0,sn.jsxs)(Uh,{hover:!0,size:"sm",children:[(0,sn.jsx)("thead",{children:(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("th",{children:"Name"}),(0,sn.jsx)("th",{children:"Date"}),(0,sn.jsx)("th",{children:"Size"})]})}),(0,sn.jsx)("tbody",{children:s.documents.map((e=>{return(0,sn.jsxs)("tr",{children:[(0,sn.jsxs)("td",{children:[(0,sn.jsx)(tl,{className:"me-2 text-muted"}),(0,sn.jsx)("a",{href:e.fileURL,target:"_blank",rel:"noopener noreferrer",children:e.name})]}),(0,sn.jsx)("td",{children:(t=e.uploadedAt,t?new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A")}),(0,sn.jsx)("td",{children:e.size})]},e._id);var t}))})]}):(0,sn.jsx)("p",{className:"text-muted mb-0",children:"No documents yet."})})]})]}),(0,sn.jsx)(Nn,{lg:8,children:(0,sn.jsx)(Yn,{className:"shadow-sm mb-4",children:(0,sn.jsx)(Yn.Body,{children:(0,sn.jsxs)(Hy,{defaultActiveKey:"activity",className:"mb-4",children:[(0,sn.jsxs)(qy,{eventKey:"activity",title:"Activity",children:[(0,sn.jsx)(Xi,{onSubmit:v,className:"mb-4",children:(0,sn.jsxs)(Xi.Group,{children:[(0,sn.jsx)(Xi.Label,{children:"Add a Note"}),(0,sn.jsxs)("div",{className:"d-flex",children:[(0,sn.jsx)(Xi.Control,{as:"textarea",rows:2,placeholder:"Add a note about this lead...",value:c,onChange:e=>d(e.target.value),className:"me-2",disabled:m}),(0,sn.jsxs)(ir,{variant:"primary",type:"submit",disabled:!c.trim()||m,children:[m?(0,sn.jsx)("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}):(0,sn.jsx)(Ol,{className:"me-1"})," ","Add"]})]})]})}),(0,sn.jsx)("div",{className:"timeline",children:s.history&&s.history.length>0?s.history.map((e=>(0,sn.jsx)("div",{className:"timeline-item mb-3",children:(0,sn.jsxs)("div",{className:"d-flex",children:[(0,sn.jsxs)("div",{className:"timeline-icon me-3",children:["note"===e.type&&(0,sn.jsx)(eo,{className:"text-info"}),"status_change"===e.type&&(0,sn.jsx)(Er,{className:"text-warning"}),"call"===e.type&&(0,sn.jsx)(Pl,{className:"text-success"}),"email"===e.type&&(0,sn.jsx)(Kr,{className:"text-primary"}),"task"===e.type&&(0,sn.jsx)(ro,{className:"text-secondary"})]}),(0,sn.jsxs)("div",{className:"timeline-content flex-grow-1",children:[(0,sn.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,sn.jsxs)("strong",{children:["note"===e.type&&"Note","status_change"===e.type&&"Status Change","call"===e.type&&"Call","email"===e.type&&"Email","task"===e.type&&"Task"]}),(0,sn.jsx)("small",{className:"text-muted",children:g(e.timestamp)})]}),(0,sn.jsx)("p",{className:"mb-0",children:e.content}),(0,sn.jsxs)("small",{className:"text-muted",children:["By ",e.userName||e.user&&e.user.firstName+" "+e.user.lastName||"System"]})]})]})},e._id))):(0,sn.jsx)("p",{className:"text-muted",children:"No activity recorded yet."})})]}),(0,sn.jsxs)(qy,{eventKey:"tasks",title:"Tasks",children:[(0,sn.jsx)(Xi,{onSubmit:async e=>{if(e.preventDefault(),u.title.trim()&&u.dueDate){p(!0);try{const e=await Qb(t,u);n(e.data),h({title:"",dueDate:"",completed:!1})}catch(s){o("Failed to add task: "+(s.message||s))}finally{p(!1)}}},className:"mb-4",children:(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-2",children:[(0,sn.jsx)(Xi.Label,{children:"Task Title"}),(0,sn.jsx)(Xi.Control,{type:"text",placeholder:"Enter task title",value:u.title,onChange:e=>h({...u,title:e.target.value}),disabled:m})]})}),(0,sn.jsx)(Nn,{md:4,children:(0,sn.jsxs)(Xi.Group,{className:"mb-2",children:[(0,sn.jsx)(Xi.Label,{children:"Due Date"}),(0,sn.jsx)(Xi.Control,{type:"datetime-local",value:u.dueDate,onChange:e=>h({...u,dueDate:e.target.value}),disabled:m})]})}),(0,sn.jsx)(Nn,{md:2,className:"d-flex align-items-end",children:(0,sn.jsxs)(ir,{variant:"primary",type:"submit",className:"w-100 mb-2",disabled:!u.title.trim()||!u.dueDate||m,children:[m?(0,sn.jsx)("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}):(0,sn.jsx)(Ol,{className:"me-1"})," ","Add"]})})]})}),(0,sn.jsxs)("div",{className:"task-list",children:[(0,sn.jsx)("h6",{className:"mb-3",children:"Open Tasks"}),s.tasks&&s.tasks.filter((e=>!e.completed)).length>0?(0,sn.jsxs)(Uh,{hover:!0,children:[(0,sn.jsx)("thead",{children:(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("th",{style:{width:"5%"}}),(0,sn.jsx)("th",{children:"Task"}),(0,sn.jsx)("th",{style:{width:"25%"},children:"Due Date"})]})}),(0,sn.jsx)("tbody",{children:s.tasks.filter((e=>!e.completed)).map((e=>(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("td",{children:(0,sn.jsx)(Xi.Check,{type:"checkbox",checked:e.completed,onChange:()=>j(e._id),disabled:m})}),(0,sn.jsx)("td",{children:e.title}),(0,sn.jsx)("td",{children:(0,sn.jsxs)("div",{className:"d-flex align-items-center "+(new Date(e.dueDate)<new Date?"text-danger":""),children:[(0,sn.jsx)(kr,{className:"me-2"}),g(e.dueDate)]})})]},e._id)))})]}):(0,sn.jsx)("p",{className:"text-muted",children:"No open tasks."}),(0,sn.jsx)("h6",{className:"mb-3 mt-4",children:"Completed Tasks"}),s.tasks&&s.tasks.filter((e=>e.completed)).length>0?(0,sn.jsxs)(Uh,{hover:!0,children:[(0,sn.jsx)("thead",{children:(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("th",{style:{width:"5%"}}),(0,sn.jsx)("th",{children:"Task"}),(0,sn.jsx)("th",{style:{width:"25%"},children:"Completed On"})]})}),(0,sn.jsx)("tbody",{children:s.tasks.filter((e=>e.completed)).map((e=>(0,sn.jsxs)("tr",{className:"text-muted",children:[(0,sn.jsx)("td",{children:(0,sn.jsx)(Xi.Check,{type:"checkbox",checked:e.completed,onChange:()=>j(e._id),disabled:m})}),(0,sn.jsx)("td",{children:(0,sn.jsx)("s",{children:e.title})}),(0,sn.jsx)("td",{children:(0,sn.jsxs)("div",{className:"d-flex align-items-center",children:[(0,sn.jsx)(zr,{className:"me-2"}),g(e.completedAt)]})})]},e._id)))})]}):(0,sn.jsx)("p",{className:"text-muted",children:"No completed tasks."})]})]}),(0,sn.jsxs)(qy,{eventKey:"notes",title:"Notes",children:[(0,sn.jsx)(Xi,{onSubmit:v,className:"mb-4",children:(0,sn.jsxs)(Xi.Group,{children:[(0,sn.jsx)(Xi.Label,{children:"Add a Note"}),(0,sn.jsxs)("div",{className:"d-flex",children:[(0,sn.jsx)(Xi.Control,{as:"textarea",rows:3,placeholder:"Add a note about this lead...",value:c,onChange:e=>d(e.target.value),className:"me-2",disabled:m}),(0,sn.jsxs)(ir,{variant:"primary",type:"submit",disabled:!c.trim()||m,children:[m?(0,sn.jsx)("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}):(0,sn.jsx)(Ol,{className:"me-1"})," ","Add"]})]})]})}),(0,sn.jsx)("div",{className:"notes-list",children:s.history&&s.history.filter((e=>"note"===e.type)).length>0?s.history.filter((e=>"note"===e.type)).map((e=>(0,sn.jsx)(Yn,{className:"mb-3",children:(0,sn.jsxs)(Yn.Body,{children:[(0,sn.jsxs)("div",{className:"d-flex justify-content-between mb-2",children:[(0,sn.jsx)("strong",{children:e.userName||e.user&&e.user.firstName+" "+e.user.lastName||"System"}),(0,sn.jsx)("small",{className:"text-muted",children:g(e.timestamp)})]}),(0,sn.jsx)("p",{className:"mb-0",children:e.content})]})},e._id))):(0,sn.jsx)("p",{className:"text-muted",children:"No notes yet."})})]})]})})})})]})]}):(0,sn.jsx)(Cy,{message:"Lead not found"})},ew=()=>{const e=ee(),{id:t}=se(),s=!!t,[n,i]=(0,a.useState)(!1),[r,l]=(0,a.useState)(!1),[o,c]=(0,a.useState)(""),[d,u]=(0,a.useState)(""),[h,m]=(0,a.useState)(!1),[p,x]=(0,a.useState)({firstName:"",lastName:"",company:"",email:"",phone:"",status:"new",source:"website",notes:"",value:"",address:"",nextFollowUp:""});(0,a.useEffect)((()=>{if(s){(async()=>{i(!0);try{try{const e=await Yb(t);x(e.data)}catch(e){console.warn("API fetch failed, falling back to localStorage:",e);const s=localStorage.getItem("crmLeads");if(!s)throw new Error("No leads found in localStorage");{const e=JSON.parse(s).find((e=>e.id===t));if(!e)throw new Error("Lead not found in localStorage");x(e),m(!0)}}}catch(s){c("Failed to load lead data: "+s.message)}finally{i(!1)}})()}}),[t,s]);const f=e=>{const{name:t,value:s}=e.target;"nextFollowUp"===t&&u(""),x({...p,[t]:s})};return(0,sn.jsxs)("div",{className:"container-fluid py-4",children:[(0,sn.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,sn.jsxs)("div",{className:"d-flex align-items-center",children:[(0,sn.jsx)(Pb,{}),(0,sn.jsx)("h1",{className:"mb-0 ms-3",children:s?"Edit Lead":"Add New Lead"})]}),(0,sn.jsxs)(ir,{variant:"outline-secondary",onClick:()=>e("/leads"),children:[(0,sn.jsx)(co,{className:"me-1"})," Cancel"]})]}),(0,sn.jsx)(Yn,{className:"shadow-sm mb-4",children:(0,sn.jsx)(Yn.Body,{children:n&&!p.id?(0,sn.jsxs)("div",{className:"text-center py-5",children:[(0,sn.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,sn.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,sn.jsx)("p",{className:"mt-3",children:"Loading lead data..."})]}):(0,sn.jsxs)(Xi,{onSubmit:async n=>{if(n.preventDefault(),!(p.nextFollowUp&&new Date(p.nextFollowUp)<=new Date&&(u("Next follow-up date must be in the future"),1))){i(!0),c("");try{if(!p.firstName||!p.lastName||!p.company)throw new Error("Please fill in all required fields (First Name, Last Name, and Company)");const n={...p};n.value&&(n.value=Number(n.value));let i=!1;n.updatedAt=(new Date).toISOString(),s||(n.createdAt=(new Date).toISOString());try{s?await Jb(t,n):await Kb(n),i=!0}catch(a){if(console.warn("API save failed, falling back to localStorage:",a),!await(async e=>{try{const n=localStorage.getItem("crmLeads");let a=n?JSON.parse(n):[];if(s){const s=a.findIndex((e=>e.id===t));-1!==s?a[s]={...e,id:t}:a.push({...e,id:t||Date.now().toString()})}else a.push({...e,id:Date.now().toString()});return localStorage.setItem("crmLeads",JSON.stringify(a)),!0}catch(n){throw console.error("Error saving to localStorage:",n),new Error("Failed to save to localStorage: "+n.message)}})(n))throw new Error("Failed to save to localStorage");i=!0,m(!0)}i&&(l(!0),setTimeout((()=>{e("/leads")}),1500))}catch(r){c(r.toString())}finally{i(!1)}}},children:[r&&(0,sn.jsxs)(gi,{variant:"success",className:"mb-4",children:["Lead ",s?"updated":"created"," successfully!",h&&(0,sn.jsxs)("div",{className:"mt-2 small",children:[(0,sn.jsx)("strong",{children:"Note:"})," Data was saved to local storage because the API was not available. Your changes will persist in this browser but won't sync with the server until the API is working."]})]}),o&&(0,sn.jsx)(gi,{variant:"danger",className:"mb-4",children:o}),h&&!r&&(0,sn.jsxs)(gi,{variant:"info",className:"mb-4",children:[(0,sn.jsx)("strong",{children:"Note:"})," You are currently working with locally stored data because the API is not available. Changes will be saved to your browser's local storage."]}),(0,sn.jsxs)(yn,{children:[(0,sn.jsxs)(Nn,{md:6,children:[(0,sn.jsx)("h5",{className:"mb-3",children:"Contact Information"}),(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:["First Name ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsx)(Xi.Control,{type:"text",name:"firstName",value:p.firstName,onChange:f,required:!0})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:["Last Name ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsx)(Xi.Control,{type:"text",name:"lastName",value:p.lastName,onChange:f,required:!0})]})})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:["Company ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsx)(Xi.Control,{type:"text",name:"company",value:p.company,onChange:f,required:!0})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Email"}),(0,sn.jsx)(Xi.Control,{type:"email",name:"email",value:p.email||"",onChange:f})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Phone"}),(0,sn.jsxs)("div",{className:"d-flex align-items-center",children:[(0,sn.jsx)(Xi.Control,{type:"text",name:"phone",value:p.phone||"",onChange:f,placeholder:"Enter phone number"}),s&&p.phone&&(0,sn.jsx)("div",{className:"ms-2",children:(0,sn.jsx)(Zy,{phoneNumber:p.phone,buttonVariant:"outline-secondary"})})]})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Address"}),(0,sn.jsx)(Xi.Control,{type:"text",name:"address",value:p.address||"",onChange:f})]})]}),(0,sn.jsxs)(Nn,{md:6,children:[(0,sn.jsx)("h5",{className:"mb-3",children:"Lead Details"}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Status"}),(0,sn.jsx)(Xi.Select,{name:"status",value:p.status,onChange:f,children:[{value:"new",label:"New",color:"primary"},{value:"contacted",label:"Contacted",color:"info"},{value:"qualified",label:"Qualified",color:"warning"},{value:"proposal",label:"Proposal",color:"secondary"},{value:"negotiation",label:"Negotiation",color:"light"},{value:"closed-won",label:"Closed (Won)",color:"success"},{value:"closed-lost",label:"Closed (Lost)",color:"danger"}].map((e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value)))})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Source"}),(0,sn.jsx)(Xi.Select,{name:"source",value:p.source,onChange:f,children:[{value:"website",label:"Website"},{value:"referral",label:"Referral"},{value:"social-media",label:"Social Media"},{value:"email-campaign",label:"Email Campaign"},{value:"cold-call",label:"Cold Call"},{value:"lead-generator",label:"Lead Generator"},{value:"event",label:"Event/Trade Show"},{value:"other",label:"Other"}].map((e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value)))})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Value ($)"}),(0,sn.jsx)(Xi.Control,{type:"number",name:"value",value:p.value||"",onChange:f})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Next Follow-up"}),(0,sn.jsx)(Xi.Control,{type:"datetime-local",name:"nextFollowUp",value:(e=>{if(!e)return"";const t=new Date(e);if(isNaN(t.getTime()))return"";return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}T${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}`})(p.nextFollowUp),onChange:f,isInvalid:!!d}),d&&(0,sn.jsxs)(Xi.Control.Feedback,{type:"invalid",children:[(0,sn.jsx)(Xr,{className:"me-1"}),d]}),(0,sn.jsx)(Xi.Text,{className:"text-muted",children:"The follow-up date and time must be in the future."})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Notes"}),(0,sn.jsx)(Xi.Control,{as:"textarea",rows:4,name:"notes",value:p.notes||"",onChange:f})]})]})]}),(0,sn.jsxs)("div",{className:"d-flex justify-content-between mt-4",children:[s&&(0,sn.jsxs)(ir,{variant:"outline-danger",onClick:async()=>{if(window.confirm("Are you sure you want to delete this lead?")){i(!0);try{let n=!1;try{await Xb(t),n=!0}catch(s){console.warn("API delete failed, falling back to localStorage:",s);const e=localStorage.getItem("crmLeads");if(e){const s=JSON.parse(e).filter((e=>e.id!==t));localStorage.setItem("crmLeads",JSON.stringify(s)),n=!0}}if(!n)throw new Error("Failed to delete lead");e("/leads")}catch(n){c("Failed to delete lead: "+n.message)}finally{i(!1)}}},children:[(0,sn.jsx)(uo,{className:"me-1"})," Delete Lead"]}),(0,sn.jsxs)("div",{className:"ms-auto",children:[(0,sn.jsx)(ir,{variant:"outline-secondary",className:"me-2",onClick:()=>e("/leads"),children:"Cancel"}),(0,sn.jsx)(ir,{variant:"primary",type:"submit",disabled:n||!!d,children:n?(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Saving..."]}):(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(Vl,{className:"me-1"})," ",s?"Update Lead":"Create Lead"]})})]})]})]})})})]})},tw=a.forwardRef(((e,t)=>{let{bsPrefix:s,size:n,vertical:a=!1,className:i,role:r="group",as:l="div",...o}=e;const c=pn(s,"btn-group");let d=c;return a&&(d=`${c}-vertical`),(0,sn.jsx)(l,{...o,ref:t,role:r,className:on()(i,d,n&&`${c}-${n}`)})}));tw.displayName="ButtonGroup";const sw=tw;function nw(e,t,s){const n=(e-t)/(s-t)*100;return Math.round(1e3*n)/1e3}function aw(e,t){let{min:s,now:n,max:a,label:i,visuallyHidden:r,striped:l,animated:o,className:c,style:d,variant:u,bsPrefix:h,...m}=e;return(0,sn.jsx)("div",{ref:t,...m,role:"progressbar",className:on()(c,`${h}-bar`,{[`bg-${u}`]:u,[`${h}-bar-animated`]:o,[`${h}-bar-striped`]:o||l}),style:{width:`${nw(n,s,a)}%`,...d},"aria-valuenow":n,"aria-valuemin":s,"aria-valuemax":a,children:r?(0,sn.jsx)("span",{className:"visually-hidden",children:i}):i})}const iw=a.forwardRef(((e,t)=>{let{isChild:s=!1,...n}=e;const i={min:0,max:100,animated:!1,visuallyHidden:!1,striped:!1,...n};if(i.bsPrefix=pn(i.bsPrefix,"progress"),s)return aw(i,t);const{min:r,now:l,max:o,label:c,visuallyHidden:d,striped:u,animated:h,bsPrefix:m,variant:p,className:x,children:f,...g}=i;return(0,sn.jsx)("div",{ref:t,...g,className:on()(x,m),children:f?ki(f,(e=>(0,a.cloneElement)(e,{isChild:!0}))):aw({min:r,now:l,max:o,label:c,visuallyHidden:d,striped:u,animated:h,bsPrefix:m,variant:p},t)})}));iw.displayName="ProgressBar";const rw=iw;function lw(e,t){return Array.isArray(e)?e.includes(t):e===t}const ow=a.createContext({});ow.displayName="AccordionContext";const cw=ow,dw=a.forwardRef(((e,t)=>{let{as:s="div",bsPrefix:n,className:i,children:r,eventKey:l,...o}=e;const{activeEventKey:c}=(0,a.useContext)(cw);return n=pn(n,"accordion-collapse"),(0,sn.jsx)(lc,{ref:t,in:lw(c,l),...o,className:on()(i,n),children:(0,sn.jsx)(s,{children:a.Children.only(r)})})}));dw.displayName="AccordionCollapse";const uw=dw,hw=a.createContext({eventKey:""});hw.displayName="AccordionItemContext";const mw=hw,pw=a.forwardRef(((e,t)=>{let{as:s="div",bsPrefix:n,className:i,onEnter:r,onEntering:l,onEntered:o,onExit:c,onExiting:d,onExited:u,...h}=e;n=pn(n,"accordion-body");const{eventKey:m}=(0,a.useContext)(mw);return(0,sn.jsx)(uw,{eventKey:m,onEnter:r,onEntering:l,onEntered:o,onExit:c,onExiting:d,onExited:u,children:(0,sn.jsx)(s,{ref:t,...h,className:on()(i,n)})})}));pw.displayName="AccordionBody";const xw=pw;const fw=a.forwardRef(((e,t)=>{let{as:s="button",bsPrefix:n,className:i,onClick:r,...l}=e;n=pn(n,"accordion-button");const{eventKey:o}=(0,a.useContext)(mw),c=function(e,t){const{activeEventKey:s,onSelect:n,alwaysOpen:i}=(0,a.useContext)(cw);return a=>{let r=e===s?null:e;i&&(r=Array.isArray(s)?s.includes(e)?s.filter((t=>t!==e)):[...s,e]:[e]),null==n||n(r,a),null==t||t(a)}}(o,r),{activeEventKey:d}=(0,a.useContext)(cw);return"button"===s&&(l.type="button"),(0,sn.jsx)(s,{ref:t,onClick:c,...l,"aria-expanded":Array.isArray(d)?d.includes(o):o===d,className:on()(i,n,!lw(d,o)&&"collapsed")})}));fw.displayName="AccordionButton";const gw=fw,vw=a.forwardRef(((e,t)=>{let{as:s="h2","aria-controls":n,bsPrefix:a,className:i,children:r,onClick:l,...o}=e;return a=pn(a,"accordion-header"),(0,sn.jsx)(s,{ref:t,...o,className:on()(i,a),children:(0,sn.jsx)(gw,{onClick:l,"aria-controls":n,children:r})})}));vw.displayName="AccordionHeader";const jw=vw,bw=a.forwardRef(((e,t)=>{let{as:s="div",bsPrefix:n,className:i,eventKey:r,...l}=e;n=pn(n,"accordion-item");const o=(0,a.useMemo)((()=>({eventKey:r})),[r]);return(0,sn.jsx)(mw.Provider,{value:o,children:(0,sn.jsx)(s,{ref:t,...l,className:on()(i,n)})})}));bw.displayName="AccordionItem";const yw=bw,ww=a.forwardRef(((e,t)=>{const{as:s="div",activeKey:n,bsPrefix:i,className:r,onSelect:l,flush:o,alwaysOpen:c,...d}=ea(e,{activeKey:"onSelect"}),u=pn(i,"accordion"),h=(0,a.useMemo)((()=>({activeEventKey:n,onSelect:l,alwaysOpen:c})),[n,l,c]);return(0,sn.jsx)(cw.Provider,{value:h,children:(0,sn.jsx)(s,{ref:t,...d,className:on()(r,u,o&&`${u}-flush`)})})}));ww.displayName="Accordion";const Nw=Object.assign(ww,{Button:gw,Collapse:uw,Item:yw,Header:jw,Body:xw}),Cw=a.forwardRef(((e,t)=>{let{bsPrefix:s,variant:n,animation:a="border",size:i,as:r="div",className:l,...o}=e;s=pn(s,"spinner");const c=`${s}-${a}`;return(0,sn.jsx)(r,{ref:t,...o,className:on()(l,c,i&&`${c}-${i}`,n&&`text-${n}`)})}));Cw.displayName="Spinner";const Sw=Cw,kw=e=>{let{data:t}=e;return t&&0!==t.length?(0,sn.jsxs)("div",{className:"conversation-path-chart",children:[(0,sn.jsxs)("div",{className:"alert alert-info",children:[(0,sn.jsx)("h6",{children:"Conversation Path Visualization"}),(0,sn.jsx)("p",{className:"mb-0",children:"Shows how calls flow through different script sections and objection points."})]}),(0,sn.jsx)("div",{className:"table-responsive",children:(0,sn.jsxs)("table",{className:"table table-sm",children:[(0,sn.jsx)("thead",{children:(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("th",{children:"From"}),(0,sn.jsx)("th",{children:"To"}),(0,sn.jsx)("th",{children:"Volume"})]})}),(0,sn.jsx)("tbody",{children:t.map(((e,t)=>(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("td",{children:e.from}),(0,sn.jsx)("td",{children:e.to}),(0,sn.jsx)("td",{children:(0,sn.jsxs)("div",{className:"d-flex align-items-center",children:[(0,sn.jsx)("div",{className:"me-2",children:e.value}),(0,sn.jsx)("div",{className:"bg-primary",style:{height:"10px",width:`${Math.min(100,2*e.value)}px`,borderRadius:"5px"}})]})})]},t)))})]})})]}):(0,sn.jsx)("div",{className:"text-center p-4 border rounded",children:(0,sn.jsx)("p",{className:"text-muted",children:"No conversation path data available"})})},Dw=e=>{let{data:t}=e;if(!t||0===t.length)return(0,sn.jsx)("div",{className:"text-center p-4 border rounded",children:(0,sn.jsx)("p",{className:"text-muted",children:"No script section data available"})});const s=Object.keys(t[0]).filter((e=>"section"!==e));return(0,sn.jsx)("div",{className:"script-section-heatmap",children:(0,sn.jsx)("div",{className:"table-responsive",children:(0,sn.jsxs)(Uh,{bordered:!0,hover:!0,size:"sm",children:[(0,sn.jsx)("thead",{children:(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("th",{children:"Script Section"}),s.map((e=>(0,sn.jsx)("th",{children:e},e)))]})}),(0,sn.jsx)("tbody",{children:t.map(((e,t)=>(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("td",{children:(0,sn.jsx)("strong",{children:e.section})}),s.map((s=>{return(0,sn.jsxs)("td",{className:(n=e[s],n>=90?"bg-success text-white":n>=75?"bg-info text-white":n>=60?"bg-primary text-white":n>=40?"bg-warning":"bg-danger text-white"),style:{textAlign:"center"},children:[e[s],"%"]},`${t}-${s}`);var n}))]},t)))})]})})})},_w=e=>{let{title:t,value:s,target:n,icon:a,variant:i,unit:r,trend:l,description:o}=e;const c=Math.min(100,Math.round(s/n*100));return(0,sn.jsxs)("div",{className:"border rounded p-3 mb-3 h-100",children:[(0,sn.jsx)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:(0,sn.jsxs)("div",{className:"d-flex align-items-center",children:[(0,sn.jsx)("span",{className:`text-${i} me-2`,children:a}),(0,sn.jsx)("h6",{className:"mb-0",children:t})]})}),(0,sn.jsxs)("h3",{className:"mb-1",children:[s,r,0!==l&&(0,sn.jsxs)("small",{className:"ms-2 "+(l>0?"text-success":"text-danger"),style:{fontSize:"0.6em"},children:[l>0?(0,sn.jsx)(jr,{}):(0,sn.jsx)(gr,{})," ",Math.abs(l),"%"]})]}),(0,sn.jsxs)("div",{className:"text-muted mb-2",children:["Target: ",n,r]}),(0,sn.jsx)(rw,{variant:c>=100?"success":c>=75?"info":c>=50?"warning":"danger",now:c,max:100}),(0,sn.jsx)("small",{className:"text-muted d-block mt-2",children:o})]})},Aw=e=>{let{data:t}=e;return t&&0!==t.length?(0,sn.jsx)("div",{className:"top-performers-table",children:(0,sn.jsxs)(Uh,{hover:!0,size:"sm",children:[(0,sn.jsx)("thead",{children:(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("th",{children:"Rep"}),(0,sn.jsx)("th",{children:"Conv. Rate"}),(0,sn.jsx)("th",{children:"Calls"})]})}),(0,sn.jsx)("tbody",{children:t.map(((e,t)=>(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("td",{children:(0,sn.jsxs)("div",{className:"d-flex align-items-center",children:[(0,sn.jsx)("div",{className:"rounded-circle bg-secondary text-white d-flex align-items-center justify-content-center me-2",style:{width:"28px",height:"28px",fontSize:"0.8em"},children:e.avatar}),e.name]})}),(0,sn.jsx)("td",{children:(0,sn.jsxs)(Cb,{bg:e.conversionRate>=75?"success":e.conversionRate>=60?"primary":"warning",children:[e.conversionRate,"%"]})}),(0,sn.jsx)("td",{children:e.callsCompleted})]},t)))})]})}):(0,sn.jsx)("div",{className:"text-center p-4 border rounded",children:(0,sn.jsx)("p",{className:"text-muted",children:"No top performers data available"})})},Tw=e=>{let{data:t}=e;return t&&0!==t.length?(0,sn.jsx)("div",{className:"objection-handling-chart",children:(0,sn.jsxs)(Uh,{hover:!0,size:"sm",children:[(0,sn.jsx)("thead",{children:(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("th",{children:"Objection"}),(0,sn.jsx)("th",{children:"Success Rate"}),(0,sn.jsx)("th",{children:"Count"})]})}),(0,sn.jsx)("tbody",{children:t.map(((e,t)=>(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("td",{children:e.name}),(0,sn.jsx)("td",{style:{width:"40%"},children:(0,sn.jsx)(rw,{variant:e.successRate>=70?"success":e.successRate>=50?"info":"warning",now:e.successRate,max:100,label:`${e.successRate}%`})}),(0,sn.jsxs)("td",{children:[e.overcame," / ",e.total]})]},t)))})]})}):(0,sn.jsx)("div",{className:"text-center p-4 border rounded",children:(0,sn.jsx)("p",{className:"text-muted",children:"No objection handling data available"})})},Ew=e=>{let{activeFilter:t,onFilterChange:s}=e;return(0,sn.jsxs)(sw,{size:"sm",className:"me-2",children:[(0,sn.jsx)(ir,{variant:"today"===t?"primary":"outline-primary",onClick:()=>s("today"),children:"Today"}),(0,sn.jsx)(ir,{variant:"week"===t?"primary":"outline-primary",onClick:()=>s("week"),children:"Week"}),(0,sn.jsx)(ir,{variant:"month"===t?"primary":"outline-primary",onClick:()=>s("month"),children:"Month"}),(0,sn.jsx)(ir,{variant:"quarter"===t?"primary":"outline-primary",onClick:()=>s("quarter"),children:"Quarter"})]})},Lw=e=>{let{selectedLeadId:t,scriptNavigatorRef:s}=e;const[n,i]=(0,a.useState)("month"),[r,l]=(0,a.useState)({startDate:new Date((new Date).setDate((new Date).getDate()-30)),endDate:new Date}),[o,c]=(0,a.useState)({showConversionMetrics:!0,showPathAnalysis:!0,showPerformanceMetrics:!0,showObjectionHandling:!0}),{data:d,isLoading:u,error:h,refresh:m}=(e=>{let{startDate:t,endDate:s,leadId:n,timeframe:i}=e;const[r,l]=(0,a.useState)(null),[o,c]=(0,a.useState)(!0),[d,u]=(0,a.useState)(null),h=async()=>{c(!0),u(null);try{{const e=await fetch("/api/metrics",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({startDate:t,endDate:s,leadId:n,timeframe:i})});if(!e.ok)throw new Error(`API error: ${e.status}`);const a=await e.json();l(a)}}catch(e){console.error("Error fetching metrics data:",e),u(e.message)}finally{c(!1)}};return(0,a.useEffect)((()=>{h()}),[t,s,n,i]),{data:r,isLoading:o,error:d,refresh:h}})({startDate:r.startDate,endDate:r.endDate,leadId:t,timeframe:n}),p=e=>{c((t=>({...t,[e]:!t[e]})))};return(0,a.useEffect)((()=>{m()}),[n,r]),(0,sn.jsxs)("div",{className:"lead-script-metrics mb-4",children:[(0,sn.jsx)(Yn,{className:"border-0 shadow-sm mb-4",children:(0,sn.jsx)(Yn.Header,{className:"bg-white",children:(0,sn.jsxs)("div",{className:"d-flex justify-content-between align-items-center flex-wrap",children:[(0,sn.jsx)("h5",{className:"mb-0",children:"Script Performance Dashboard"}),(0,sn.jsxs)("div",{className:"d-flex align-items-center mt-2 mt-md-0",children:[(0,sn.jsx)(Ew,{activeFilter:n,onFilterChange:e=>{i(e);const t=new Date;let s=t;switch(e){case"today":s=new Date(t.setHours(0,0,0,0));break;case"week":s=new Date(t.setDate(t.getDate()-7));break;case"month":default:s=new Date(t.setDate(t.getDate()-30));break;case"quarter":s=new Date(t.setDate(t.getDate()-90));break;case"year":s=new Date(t.setDate(t.getDate()-365))}l({startDate:s,endDate:new Date})}}),(0,sn.jsxs)(Bh,{children:[(0,sn.jsxs)(Bh.Toggle,{variant:"outline-secondary",size:"sm",id:"display-options-dropdown",children:[(0,sn.jsx)(ol,{className:"me-1"})," Display Options"]}),(0,sn.jsxs)(Bh.Menu,{children:[(0,sn.jsx)(Bh.Item,{onClick:()=>p("showConversionMetrics"),active:o.showConversionMetrics,children:"Conversion Metrics"}),(0,sn.jsx)(Bh.Item,{onClick:()=>p("showPathAnalysis"),active:o.showPathAnalysis,children:"Conversation Path Analysis"}),(0,sn.jsx)(Bh.Item,{onClick:()=>p("showPerformanceMetrics"),active:o.showPerformanceMetrics,children:"Performance Metrics"}),(0,sn.jsx)(Bh.Item,{onClick:()=>p("showObjectionHandling"),active:o.showObjectionHandling,children:"Objection Handling"})]})]}),(0,sn.jsx)(ir,{variant:"outline-primary",size:"sm",className:"ms-2",onClick:m,disabled:u,children:(0,sn.jsx)(to,{className:u?"spinner-border spinner-border-sm":""})})]})]})})}),u&&(0,sn.jsxs)("div",{className:"text-center my-4",children:[(0,sn.jsx)(Sw,{animation:"border",variant:"primary",role:"status",children:(0,sn.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,sn.jsx)("p",{className:"mt-2",children:"Loading metrics data..."})]}),h&&(0,sn.jsxs)(gi,{variant:"danger",children:[(0,sn.jsx)(Xr,{className:"me-2"}),"Error loading metrics data: ",h]}),!u&&!h&&d&&(0,sn.jsxs)(sn.Fragment,{children:[o.showConversionMetrics&&(0,sn.jsxs)(yn,{className:"mb-4",children:[(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsx)(_w,{title:"Conversion Rate",value:d.conversionRate||0,target:25,icon:(0,sn.jsx)(Ml,{}),variant:"primary",unit:"%",trend:d.conversionTrend||0,description:"Calls resulting in next steps"})}),(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsx)(_w,{title:"Script Adherence",value:d.scriptAdherence||0,target:95,icon:(0,sn.jsx)(Pr,{}),variant:"success",unit:"%",trend:d.adherenceTrend||0,description:"Following recommended script"})}),(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsx)(_w,{title:"Avg. Call Duration",value:d.avgCallDuration||0,target:8,icon:(0,sn.jsx)(zr,{}),variant:"warning",unit:"min",trend:d.durationTrend||0,description:"Time spent on each call"})}),(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsx)(_w,{title:"Key Points Covered",value:d.keyPointsCovered||0,target:90,icon:(0,sn.jsx)(vl,{}),variant:"info",unit:"%",trend:d.keyPointsTrend||0,description:"Essential points delivered"})})]}),o.showPathAnalysis&&(0,sn.jsxs)(Yn,{className:"border-0 shadow-sm mb-4",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white",children:(0,sn.jsxs)("h5",{className:"mb-0",children:[(0,sn.jsx)(Hl,{className:"me-2"}),"Conversation Path Analysis"]})}),(0,sn.jsx)(Yn.Body,{children:(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{lg:8,children:(0,sn.jsx)(kw,{data:d.conversationPathData||[]})}),(0,sn.jsx)(Nn,{lg:4,children:(0,sn.jsxs)(Yn,{children:[(0,sn.jsx)(Yn.Header,{children:(0,sn.jsx)("h6",{className:"mb-0",children:"Common Drop-off Points"})}),(0,sn.jsx)(Yn.Body,{children:(0,sn.jsx)("ul",{className:"list-group",children:(d.dropOffPoints||[]).map(((e,t)=>(0,sn.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[e.name,(0,sn.jsx)("span",{className:"badge bg-danger rounded-pill",children:e.count})]},t)))})})]})})]})})]}),o.showPerformanceMetrics&&(0,sn.jsxs)(yn,{className:"mb-4",children:[(0,sn.jsx)(Nn,{lg:8,children:(0,sn.jsxs)(Yn,{className:"border-0 shadow-sm h-100",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white",children:(0,sn.jsxs)("h5",{className:"mb-0",children:[(0,sn.jsx)(Er,{className:"me-2"}),"Script Section Performance"]})}),(0,sn.jsx)(Yn.Body,{children:(0,sn.jsx)(Dw,{data:d.scriptSectionData||[]})})]})}),(0,sn.jsx)(Nn,{lg:4,children:(0,sn.jsxs)(Yn,{className:"border-0 shadow-sm h-100",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white",children:(0,sn.jsxs)("h5",{className:"mb-0",children:[(0,sn.jsx)(xo,{className:"me-2"}),"Top Performers"]})}),(0,sn.jsx)(Yn.Body,{children:(0,sn.jsx)(Aw,{data:d.topPerformers||[]})})]})})]}),o.showObjectionHandling&&(0,sn.jsxs)(Yn,{className:"border-0 shadow-sm mb-4",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white",children:(0,sn.jsxs)("h5",{className:"mb-0",children:[(0,sn.jsx)(Lr,{className:"me-2"}),"Objection Handling Analysis"]})}),(0,sn.jsx)(Yn.Body,{children:(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsx)(Tw,{data:d.objectionHandlingData||[]})}),(0,sn.jsxs)(Nn,{md:6,children:[(0,sn.jsx)("h6",{children:"Most Effective Responses"}),(0,sn.jsxs)("table",{className:"table table-sm",children:[(0,sn.jsx)("thead",{children:(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("th",{children:"Objection Type"}),(0,sn.jsx)("th",{children:"Best Response"}),(0,sn.jsx)("th",{children:"Success Rate"})]})}),(0,sn.jsx)("tbody",{children:(d.bestResponses||[]).map(((e,t)=>(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("td",{children:e.objectionType}),(0,sn.jsx)("td",{children:e.responseTitle}),(0,sn.jsx)("td",{children:(0,sn.jsxs)(Cb,{bg:e.successRate>70?"success":"warning",children:[e.successRate,"%"]})})]},t)))})]})]})]})})]})]})]})},Mw=[{id:1,title:"Introduction",content:"Hello, my name is [Your Name] from [Your Company]. We help businesses like yours to [brief value proposition]. Do you have a few minutes to chat?\n\nI noticed that your company is [observation about prospect's business]. I'd love to learn more about your [relevant department] operations.",responseOptions:[{id:1,label:"Yes, I have time to talk",nextScript:2},{id:2,label:"What is this regarding?",nextScript:"clarify"},{id:3,label:"I'm not interested",nextScript:"objection"},{id:4,label:"Call me back later",nextScript:"callback"}]},{id:"clarify",title:"Clarify Purpose",content:"I'm calling because we've helped companies similar to yours [specific result] by [how you achieve it]. I'd love to see if we could do the same for you.\n\nWould you be open to a brief conversation about your current [relevant process/challenge]?",responseOptions:[{id:1,label:"Yes, let's talk",nextScript:2},{id:2,label:"Still not interested",nextScript:"close"},{id:3,label:"Tell me more first",nextScript:"more_info"}]},{id:"more_info",title:"Provide More Information",content:"Certainly! Our [product/service] has helped companies in your industry with [specific pain point] by [unique solution approach]. For example, [brief customer success story].\n\nUnlike other solutions, we [key differentiator]. Would you be interested in learning how this could work specifically for your situation?",responseOptions:[{id:1,label:"Yes, now I'm interested",nextScript:2},{id:2,label:"Need more specific examples",nextScript:"case_studies"},{id:3,label:"Still not a good fit",nextScript:"close"}]},{id:"case_studies",title:"Share Case Studies",content:"I'd be happy to share more specific examples. [Company A] in your industry was struggling with [specific problem]. After implementing our solution, they saw [specific measurable result] within [timeframe].\n\nSimilarly, [Company B] was able to [achievement] which resulted in [business impact].\n\nBased on these examples, do you see potential value for your company?",responseOptions:[{id:1,label:"Yes, sounds applicable to us",nextScript:2},{id:2,label:"Somewhat interested",nextScript:"email_info"},{id:3,label:"Not convinced",nextScript:"close"}]},{id:2,title:"Needs Assessment",content:"Great! To make this conversation valuable for you, I'd love to learn about your current situation.\n\n1. What are your biggest challenges with [relevant process]?\n2. How are you currently handling [specific task/challenge]?\n3. What would be most helpful for you to improve in this area?",responseOptions:[{id:1,label:"Shares challenges openly",nextScript:3},{id:2,label:"Minimal sharing",nextScript:"probing"},{id:3,label:"Not experiencing challenges",nextScript:"create_need"}]},{id:"probing",title:"Probing Questions",content:"I understand you might be hesitant to share too much detail. Let me ask more specifically:\n\n\u2022 What tools or systems are you currently using for [specific process]?\n\u2022 How much time does your team typically spend on [related task]?\n\u2022 Have you considered how [industry trend] might affect your operations in the coming year?",responseOptions:[{id:1,label:"Opens up more",nextScript:3},{id:2,label:"Acknowledges some pain points",nextScript:"pain_exploration"},{id:3,label:"Still reserved",nextScript:"build_trust"}]},{id:"pain_exploration",title:"Pain Point Exploration",content:"Thank you for sharing that. It sounds like [paraphrase their challenge] is creating some difficulties. Many businesses we work with find that this leads to [consequent problems]. Has your team experienced any of these downstream effects?\n\nOn a scale of 1-10, how urgent is finding a solution to this challenge?",responseOptions:[{id:1,label:"High urgency (7-10)",nextScript:3},{id:2,label:"Moderate urgency (4-6)",nextScript:"roi_discussion"},{id:3,label:"Low urgency (1-3)",nextScript:"future_planning"}]},{id:"build_trust",title:"Build Trust",content:"I understand your caution. Building trust is important to us, and I appreciate your time today. Perhaps I can share how we've helped similar businesses without requiring detailed information from you first.\n\n[Share brief industry insights or anonymized case study]\n\nWould you be comfortable sharing just one area where you think there might be room for improvement?",responseOptions:[{id:1,label:"Shares one pain point",nextScript:"focused_solution"},{id:2,label:"Requests more information first",nextScript:"competitor_comparison"},{id:3,label:"Not ready to share",nextScript:"nurture"}]},{id:"create_need",title:"Create Awareness of Need",content:"I appreciate your confidence in your current processes. Many businesses we speak with initially feel the same way until they discover the potential improvements they hadn't considered.\n\nFor example, did you know that [industry statistic or insight]? Or that [relevant trend] is affecting companies like yours?\n\nHave you ever wondered if there might be opportunities to [potential benefit] that you haven't explored yet?",responseOptions:[{id:1,label:"Shows interest in possibilities",nextScript:3},{id:2,label:"Acknowledges some curiosity",nextScript:"roi_discussion"},{id:3,label:"Firmly satisfied with status quo",nextScript:"plant_seed"}]},{id:"plant_seed",title:"Plant Seed for Future",content:"I respect that you're satisfied with your current approach. That's certainly a good position to be in. If I may, I'd like to leave you with something to consider.\n\nMany of our current clients were initially in similar situations, but found that [unexpected benefit] made exploring options worthwhile.\n\nWould it be alright if I reached out in a few months to check in? Industry needs evolve quickly, and I'd value staying connected.",responseOptions:[{id:1,label:"Agrees to future contact",nextScript:"schedule_followup"},{id:2,label:"Requests information by email",nextScript:"email_info"},{id:3,label:"Not interested in future contact",nextScript:"close"}]},{id:3,title:"Solution Overview",content:"Based on what you've shared, I think we can help in a few specific ways:\n\n1. [Benefit 1] which addresses your challenge of [mentioned challenge]\n2. [Benefit 2] which would improve your [mentioned area]\n3. [Benefit 3] which many of our clients have found valuable for [common pain point]\n\nDoes this sound like something that would be valuable to you?",responseOptions:[{id:1,label:"Yes, sounds valuable",nextScript:4},{id:2,label:"Maybe, need more details",nextScript:"details"},{id:3,label:"Not sure if it's a fit",nextScript:"objection_fit"}]},{id:"details",title:"Provide Solution Details",content:"I'd be happy to go into more detail. Here's specifically how our solution addresses your needs:\n\nFor [mentioned challenge 1], our [specific feature] allows you to [specific benefit], which results in [tangible outcome].\n\nRegarding [mentioned challenge 2], you'll be able to [capability], which typically improves [relevant metric] by [percentage or value].\n\nDoes that clarify how we could help your specific situation?",responseOptions:[{id:1,label:"Yes, that's helpful",nextScript:4},{id:2,label:"Questions about implementation",nextScript:"implementation"},{id:3,label:"Concerns about adoption",nextScript:"adoption"}]},{id:"implementation",title:"Implementation Process",content:"That's a great question about implementation. Our process is designed to be minimally disruptive to your operations. Here's how it typically works:\n\n1. Initial setup and configuration: [timeframe and requirements]\n2. Data migration and integration: [approach and timeline]\n3. Training and onboarding: [process and support provided]\n4. Ongoing support: [what's included]\n\nThe entire process usually takes [timeframe], and we assign a dedicated implementation specialist to guide you through each step. Does this address your concerns about implementation?",responseOptions:[{id:1,label:"Yes, sounds manageable",nextScript:4},{id:2,label:"Concerns about timeline",nextScript:"timeline_discussion"},{id:3,label:"Concerns about resources needed",nextScript:"resource_discussion"}]},{id:"adoption",title:"Address Adoption Concerns",content:"I understand your concerns about team adoption. This is something many of our clients initially worry about, but we've developed a proven approach to ensure successful adoption:\n\n\u2022 Intuitive user interface designed for minimal training\n\u2022 Role-based training sessions tailored to different user needs\n\u2022 Champions program to build internal expertise and advocacy\n\u2022 Ready-made communication templates to announce and explain changes\n\u2022 24/7 support during the transition period\n\nOn average, our clients see [X]% adoption within [timeframe]. Does this help address your concerns?",responseOptions:[{id:1,label:"Yes, that's reassuring",nextScript:4},{id:2,label:"Request customer references",nextScript:"references"},{id:3,label:"Still concerned",nextScript:"pilot_program"}]},{id:"objection_fit",title:"Address Fit Concerns",content:"I understand your hesitation about whether this is the right fit. That's a valid concern.\n\nBased on what you've shared about [specific situation], here's why I believe we could be a good match: [specific reasons tailored to their business].\n\nWe've worked with companies that [similar characteristic] and were able to [specific achievement].\n\nWhat specific aspect makes you unsure about the fit?",responseOptions:[{id:1,label:"Shares specific concerns",nextScript:"address_specific_concerns"},{id:2,label:"Industry-specific requirements",nextScript:"industry_solution"},{id:3,label:"Too small/large for solution",nextScript:"scale_discussion"}]},{id:4,title:"Pricing & Proposal",content:"Great! Based on your needs, our [appropriate package/solution] would be the best fit, which is an investment of [price range].\n\nThis includes:\n- [Feature 1]\n- [Feature 2]\n- [Feature 3]\n\nMany of our clients see ROI within [timeframe] through [specific outcome].",responseOptions:[{id:1,label:"Sounds reasonable",nextScript:"schedule"},{id:2,label:"That's more than expected",nextScript:"objection_price"},{id:3,label:"Need to think about it",nextScript:"stall"}]},{id:"objection_price",title:"Handle Price Objection",content:"I understand that the investment is an important consideration. When looking at pricing, many of our clients find it helpful to consider the ROI rather than just the upfront cost.\n\nFor example, [customer example] invested [amount] and saw [specific return] within [timeframe], which meant a [X]% return on their investment.\n\nWe also offer [payment options/tiers] which might better align with your budget while still delivering key value. What kind of investment range were you expecting?",responseOptions:[{id:1,label:"Shares budget expectations",nextScript:"value_justification"},{id:2,label:"Interested in payment options",nextScript:"payment_flexibility"},{id:3,label:"Still too expensive",nextScript:"downsell"}]},{id:"value_justification",title:"Justify Value Proposition",content:"Thank you for sharing your budget expectations. Let me show you how our solution provides value that justifies the investment:\n\n1. Direct cost savings: [specific calculation]\n2. Productivity improvements: [specific calculation]\n3. Revenue opportunity: [specific calculation]\n\nWhen you factor in these benefits, the effective cost is actually [adjusted figure], which I believe aligns more closely with your expectations. How does that sound?",responseOptions:[{id:1,label:"Value proposition makes sense",nextScript:"schedule"},{id:2,label:"Request written ROI analysis",nextScript:"send_roi"},{id:3,label:"Still not convinced",nextScript:"escalate_decision"}]},{id:"stall",title:"Handle Stalling",content:"I completely understand the need to give this proper consideration. It's an important decision. To help you in your decision-making process:\n\n1. What additional information would be helpful?\n2. Are there specific concerns you'd like me to address?\n3. Who else will be involved in making this decision?\n\nMany clients find it helpful to schedule a follow-up call after they've had time to review the information. Would it make sense to schedule that now?",responseOptions:[{id:1,label:"Agrees to scheduled follow-up",nextScript:"confirm_callback"},{id:2,label:"Needs to discuss with team",nextScript:"team_discussion"},{id:3,label:"Wants additional materials",nextScript:"send_materials"}]},{id:"schedule",title:"Schedule Next Steps",content:"I'm glad to hear this sounds like a good fit! Let's schedule a [demo/follow-up meeting] to go deeper into how this would work for your specific situation.\n\nHow does [propose date/time] work for you? I'll send a calendar invite with all the details.",responseOptions:[{id:1,label:"Agrees to meeting",nextScript:6},{id:2,label:"Suggests alternate time",nextScript:"reschedule"},{id:3,label:"Not ready to meet yet",nextScript:"nurture"}]},{id:"reschedule",title:"Reschedule Meeting",content:"I appreciate you suggesting an alternative time. Let's make sure we find a slot that works well for you.\n\nYou suggested [their suggested time]. That [works/doesn't work] for me. [If doesn't work: How about [alternative time/date]?]\n\nI'll make sure to send over a calendar invitation with all the details, and I'll include some preliminary information for you to review before our conversation.",responseOptions:[{id:1,label:"Confirms rescheduled time",nextScript:6},{id:2,label:"Needs to check calendar",nextScript:"follow_up_later"},{id:3,label:"Wants to push meeting further out",nextScript:"long_term_nurture"}]},{id:6,title:"Close and Next Steps",content:"Excellent! I've scheduled our [meeting type] for [confirmed date/time]. You'll receive a calendar invitation shortly with all the details.\n\nBefore we wrap up, do you have any other questions I can answer for you today?",responseOptions:[{id:1,label:"No questions, all set",nextScript:"success"},{id:2,label:"Has specific questions",nextScript:"questions"}]},{id:"questions",title:"Address Questions",content:"I'm happy to address your questions.\n\n[For each question, provide a clear, concise answer]\n\nDoes that help clarify things? Is there anything else you'd like to know before our scheduled meeting?",responseOptions:[{id:1,label:"All questions answered",nextScript:"success"},{id:2,label:"Has more questions",nextScript:"more_questions"},{id:3,label:"Raises new concern",nextScript:"new_objection"}]},{id:"objection",title:"Handle Objection - Not Interested",content:"I understand. Many of our current clients initially felt the same way until they learned how we [unique value proposition].\n\nMay I ask what specifically makes you feel this isn't a good fit right now?",responseOptions:[{id:1,label:"Shares specific concern",nextScript:"address_concern"},{id:2,label:"No budget/resources now",nextScript:"future_follow_up"},{id:3,label:"Using competitor",nextScript:"competitor"},{id:4,label:"Still not interested",nextScript:"close"}]},{id:"address_concern",title:"Address Specific Concern",content:"Thank you for sharing that concern. It's completely valid.\n\n[Acknowledge their specific concern and provide a thoughtful response that addresses it directly]\n\nMany of our clients had similar concerns before working with us, but found that [how the concern was resolved in practice].\n\nDoes that help address your concern, or is there another aspect you'd like me to elaborate on?",responseOptions:[{id:1,label:"Concern addressed, more open now",nextScript:"clarify"},{id:2,label:"Partially addressed",nextScript:"additional_information"},{id:3,label:"Still concerned",nextScript:"suggest_alternative"}]},{id:"competitor",title:"Handle Competitor Objection",content:"I appreciate you letting me know you're working with [competitor if mentioned, or 'another provider']. They offer a good solution as well.\n\nIf you don't mind me asking, what aspects of their service have worked well for you? And are there any areas where you'd like to see improvements?\n\nThe reason I ask is that our solution specifically excels at [key differentiators], which some [competitor] customers have found valuable as a complement or alternative.",responseOptions:[{id:1,label:"Shares pain points with competitor",nextScript:"differentiate"},{id:2,label:"Happy with competitor",nextScript:"future_follow_up"},{id:3,label:"Open to hearing differences",nextScript:"competitive_comparison"}]},{id:"competitive_comparison",title:"Competitive Comparison",content:"I'd be happy to highlight some key differences between our solution and others in the market:\n\n1. [Key differentiator 1] - Unlike many competitors, we [specific advantage]\n2. [Key differentiator 2] - Our approach to [feature/aspect] provides [unique benefit]\n3. [Key differentiator 3] - Customers who switch to us often mention [specific advantage]\n\nWould any of these differences be particularly valuable for your specific needs?",responseOptions:[{id:1,label:"Interested in specific differentiator",nextScript:"focused_solution"},{id:2,label:"Interested in side-by-side comparison",nextScript:"send_comparison"},{id:3,label:"Not compelling enough",nextScript:"close"}]},{id:"callback",title:"Schedule Callback",content:"I understand you're busy right now. When would be a better time for us to have a brief conversation about how we might help with [value proposition]?",responseOptions:[{id:1,label:"Provides specific time",nextScript:"confirm_callback"},{id:2,label:"Suggests email instead",nextScript:"email_info"},{id:3,label:"Not interested",nextScript:"close"}]},{id:"confirm_callback",title:"Confirm Callback Time",content:"Perfect! I've noted [specific time/date] for our follow-up conversation. I'll give you a call then to discuss how we can [value proposition].\n\nIn the meantime, would it be helpful if I sent over some brief information about how we've helped similar businesses in your industry?",responseOptions:[{id:1,label:"Yes, send information",nextScript:"send_materials"},{id:2,label:"No additional information needed",nextScript:"simple_callback"}]},{id:"email_info",title:"Send Email Information",content:"I'd be happy to send you information by email. Could you confirm the best email address to reach you at?\n\nI'll send over a concise overview of how we've helped businesses like yours, along with some specific results our clients have achieved. Would you be interested in any specific aspect of our [product/service] that I should make sure to include?",responseOptions:[{id:1,label:"Provides email and preferences",nextScript:"confirm_email_followup"},{id:2,label:"Just wants basic info",nextScript:"basic_email_followup"}]},{id:"success",title:"Successful Close",content:"Wonderful! I'm looking forward to our conversation on [scheduled date]. In the meantime, I'll send you an email with a brief overview of what we discussed today and some information that might be helpful before our meeting.\n\nThank you for your time today, and please reach out if you think of any questions before our meeting.",responseOptions:[{id:1,label:"End call successfully",nextScript:"end"}]},{id:"close",title:"End Call - Not Proceeding",content:"I understand. Thank you for taking the time to speak with me today. If your situation changes or you'd like to learn more about how we could help with [relevant challenge], please don't hesitate to reach out.\n\nEnjoy the rest of your day!",responseOptions:[{id:1,label:"End call",nextScript:"end"}]},{id:"end",title:"Call Complete",content:"This call has been completed. You can now save your progress, update the lead status, or start a new call.",responseOptions:[]}],Iw=[{key:"introduction",title:"Introduction"},{key:"assessment",title:"Needs Assessment"},{key:"solution",title:"Solution"},{key:"objections",title:"Objections"},{key:"closing",title:"Closing"}],Pw=e=>1===e||"clarify"===e||"more_info"===e||"case_studies"===e?"introduction":2===e||"probing"===e||"create_need"===e||"pain_exploration"===e||"build_trust"===e||"plant_seed"===e?"assessment":3===e||4===e||"details"===e||"implementation"===e||"adoption"===e||"objection_fit"===e?"solution":"objection"===e||"objection_price"===e||"address_concern"===e||"competitor"===e||"competitive_comparison"===e||"stall"===e||"value_justification"===e?"objections":"schedule"===e||"reschedule"===e||6===e||"success"===e||"close"===e||"end"===e||"questions"===e||"callback"===e||"confirm_callback"===e||"email_info"===e?"closing":"introduction",Ow=e=>{var t,s,n,i;let{leadData:r={},onSaveLead:l}=e;const[o,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(1),[h,m]=(0,a.useState)(!1),[p,x]=(0,a.useState)(""),[f,g]=(0,a.useState)({}),[v,j]=(0,a.useState)("introduction"),[b,y]=(0,a.useState)([1]),[w,N]=(0,a.useState)(0),[C,S]=(0,a.useState)(!0),[k,D]=(0,a.useState)(""),[_,A]=(0,a.useState)([]),[T,E]=(0,a.useState)([]),[L,M]=(0,a.useState)(!1),[I,P]=(0,a.useState)(!1),[O,R]=(0,a.useState)({pointsCovered:0,totalPoints:0,objections:{},avgResponseTime:0,conversionPath:[]}),[F,z]=(0,a.useState)(!1),[B,$]=(0,a.useState)(r||{id:null,firstName:"",lastName:"",company:"",email:"",phone:"",title:"",type:"prospect",source:"cold-call",status:"new",notes:"",tags:[],assignedTo:"Admin User",lastContact:new Date,createdAt:new Date,updatedAt:new Date}),[H,V]=(0,a.useState)(!1),[U,W]=(0,a.useState)(!1),G=[{value:"prospect",label:"Prospect"},{value:"qualified",label:"Qualified Lead"},{value:"opportunity",label:"Opportunity"},{value:"customer",label:"Customer"},{value:"partner",label:"Partner"}],q=[{value:"new",label:"New"},{value:"contacted",label:"Contacted"},{value:"meeting-scheduled",label:"Meeting Scheduled"},{value:"proposal-sent",label:"Proposal Sent"},{value:"negotiation",label:"Negotiation"},{value:"won",label:"Won"},{value:"lost",label:"Lost"},{value:"inactive",label:"Inactive"}];(0,a.useEffect)((()=>{const e=async()=>{try{let t=[];try{t=await ty()}catch(e){console.warn("Error fetching leads from API, falling back to localStorage:",e),t=sy()}E(t)}catch(e){console.error("Error loading leads:",e),E([])}};e();const t=setInterval(e,6e4);return()=>clearInterval(t)}),[]);(0,a.useEffect)((()=>{const e=localStorage.getItem("leadScriptProgress");if(e)try{const t=JSON.parse(e);u(t.currentScriptIndex),x(t.notes||""),g(t.userResponses||{});const s="end"===t.currentScriptIndex;S(!s),t.scriptHistory&&void 0!==t.historyIndex?(y(t.scriptHistory),N(t.historyIndex)):(y([t.currentScriptIndex]),N(0)),j(Pw(t.currentScriptIndex)),t.conversationMetrics&&R(t.conversationMetrics),console.log("Loaded progress from",new Date(t.timestamp).toLocaleString())}catch(t){console.error("Error loading saved progress:",t)}r&&r.id&&($(r),x(r.notes||"")),Y()}),[r]);const Y=()=>{const e=Mw.length,t=new Set(b).size,s={};Object.entries(f).forEach((e=>{let[t,n]=e;const a=Mw.find((e=>e.id.toString()===t.toString()));if(a){const e=a.responseOptions.find((e=>e.nextScript.toString()===n.toString()));(e&&e.label.toLowerCase().includes("not interested")||e.label.toLowerCase().includes("concern")||e.label.toLowerCase().includes("objection"))&&(s[t]||(s[t]=[]),s[t].push(e.label))}}));const n=b.map((e=>{const t=Mw.find((t=>t.id.toString()===e.toString()));return t?t.title:"Unknown"}));R({pointsCovered:t,totalPoints:e,objections:s,conversionPath:n})},K=e=>{$(e),D(""),A([]),P(!1),x(e.notes||"")},J=e=>{const{name:t,value:s}=e.target;$((e=>({...e,[t]:s,updatedAt:new Date})))},X=async()=>{if(B.id)try{await X(B.id);const e=await ty();E(e),$({id:null,firstName:"",lastName:"",company:"",email:"",phone:"",title:"",type:"prospect",source:"cold-call",status:"new",notes:"",tags:[],assignedTo:"Admin User",lastContact:new Date,createdAt:new Date,updatedAt:new Date}),W(!1),z(!1),alert("Lead deleted successfully!")}catch(e){console.error("Error deleting lead:",e);try{console.warn("API delete failed. Falling back to localStorage...");const e=sy().filter((e=>e.id!==B.id));ny(e),E(e),$({id:null,firstName:"",lastName:"",company:"",email:"",phone:"",title:"",type:"prospect",source:"cold-call",status:"new",notes:"",tags:[],assignedTo:"Admin User",lastContact:new Date,createdAt:new Date,updatedAt:new Date}),W(!1),z(!1),alert("Lead deleted from localStorage (offline mode).")}catch(t){console.error("LocalStorage fallback also failed:",t),alert("Error deleting lead. Please try again.")}}},Z=Mw.find((e=>e.id===d))||Mw[0];(0,a.useEffect)((()=>{if(Z){const e=Pw(Z.id);j(e)}}),[d,Z]);const Q=e=>{const t=(new Date).getTime(),s=localStorage.getItem("lastResponseTime");if(s){const e=t-parseInt(s);R((t=>({...t,avgResponseTime:t.avgResponseTime?(t.avgResponseTime+e)/2:e})))}localStorage.setItem("lastResponseTime",t.toString());let n=e;if("string"===typeof e){const t=Mw.findIndex((t=>t.id===e));-1!==t&&(n=Mw[t].id)}u(n);const a=[...b.slice(0,w+1),n];y(a),N(a.length-1),g({...f,[Z.id]:e}),ee(e),Y()},ee=e=>{if(!B.id)return;let t=B.status;switch(e){case 2:t="contacted";break;case"schedule":case"reschedule":case"confirm_callback":t="meeting-scheduled";break;case 4:case"value_justification":t="negotiation";break;case 6:t="proposal-sent";break;case"success":t="won";break;case"close":case"close_followup":t="inactive"}t!==B.status&&$((e=>({...e,status:t,updatedAt:new Date,lastContact:new Date})))},te=()=>{const e=Mw.findIndex((e=>e.id===Z.id));e<Mw.length-1&&Q(Mw[e+1].id)},se=()=>{const e=Mw.findIndex((e=>e.id===Z.id));e>0&&Q(Mw[e-1].id)};return(0,sn.jsxs)("div",{children:[(0,sn.jsx)("div",{className:"d-flex align-items-center mb-2",children:(0,sn.jsx)(Pb,{})}),(0,sn.jsx)("div",{className:"mb-3",children:(0,sn.jsx)("p",{className:"lead-script-description text-muted mb-4",children:"Guide your sales conversations with structured scripts"})}),(0,sn.jsx)(Lw,{selectedLeadId:null===B||void 0===B?void 0:B.id}),(0,sn.jsx)(Yn,{className:"border-0 shadow-sm mb-3",children:(0,sn.jsx)(Yn.Header,{className:"bg-primary text-white",children:(0,sn.jsx)(ec,{variant:"tabs",className:"border-bottom-0",children:Iw.map((e=>(0,sn.jsx)(ec.Item,{children:(0,sn.jsx)(ec.Link,{className:v===e.key?"active bg-white text-primary":"text-white",onClick:()=>(e=>{j(e);const t=Mw.find((t=>Pw(t.id)===e));t&&Q(t.id)})(e.key),children:e.title})},e.key)))})})}),(0,sn.jsx)("nav",{"aria-label":"breadcrumb",className:"mb-3",children:(0,sn.jsxs)("ol",{className:"breadcrumb",children:[(0,sn.jsx)("li",{className:"breadcrumb-item",children:(0,sn.jsxs)("a",{href:"#home",onClick:e=>{e.preventDefault(),u(1)},children:[(0,sn.jsx)(hl,{})," Home"]})}),(0,sn.jsx)("li",{className:"breadcrumb-item",children:(0,sn.jsx)("a",{href:"#category",onClick:e=>e.preventDefault(),children:(null===(t=Iw.find((e=>e.key===v)))||void 0===t?void 0:t.title)||"Script"})}),(0,sn.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:Z.title})]})}),(0,sn.jsxs)(Yn,{className:"border-0 shadow-sm mb-3",children:[(0,sn.jsxs)(Yn.Header,{className:"bg-light d-flex justify-content-between align-items-center py-2",children:[(0,sn.jsx)("span",{className:"fs-6",children:"Script Progress"}),(0,sn.jsxs)(sw,{size:"sm",children:[(0,sn.jsx)(ir,{variant:"outline-secondary",title:"Move to Earlier Script",onClick:se,disabled:1===Z.id,children:(0,sn.jsx)(jr,{})}),(0,sn.jsx)(ir,{variant:"outline-secondary",title:"Move to Later Script",onClick:te,disabled:"end"===Z.id,children:(0,sn.jsx)(gr,{})})]})]}),(0,sn.jsxs)(Yn.Body,{className:"py-2",children:[(0,sn.jsx)(rw,{now:Mw.findIndex((e=>e.id===Z.id))/(Mw.length-1)*100,variant:"end"===Z.id?"success":"primary",className:"mt-1"}),(0,sn.jsxs)("div",{className:"d-flex justify-content-between mt-1",children:[(0,sn.jsx)("small",{className:"text-muted",children:"Start"}),(0,sn.jsxs)("small",{className:"text-muted",children:[(0,sn.jsx)(kr,{className:"me-1"}),"Next Follow-up: ",B.id?new Date((new Date).getTime()+6048e5).toLocaleDateString():"N/A"]}),(0,sn.jsx)("small",{className:"text-muted",children:"End"})]})]})]}),(0,sn.jsxs)(Yn,{className:"border-0 shadow-sm mb-3",children:[(0,sn.jsxs)(Yn.Header,{className:"bg-primary text-white d-flex justify-content-between align-items-center py-2",children:[(0,sn.jsx)("div",{className:"d-flex align-items-center",children:(0,sn.jsx)("span",{className:"fs-6 fw-bold m-0",children:"Lead Selection"})}),(0,sn.jsxs)(ir,{variant:"outline-light",size:"sm",onClick:()=>M(!0),children:[(0,sn.jsx)(Ul,{})," Browse All Leads"]})]}),(0,sn.jsxs)(Yn.Body,{className:"py-2",children:[(0,sn.jsxs)("div",{className:"position-relative",children:[(0,sn.jsx)(Xi.Control,{type:"text",placeholder:"Search leads by name, company, or email...",value:k,onChange:e=>(e=>{if(D(e),!e.trim())return void A([]);const t=T.filter((t=>{const s=`${t.firstName} ${t.lastName}`.toLowerCase(),n=(t.company||"").toLowerCase(),a=(t.email||"").toLowerCase(),i=e.toLowerCase();return s.includes(i)||n.includes(i)||a.includes(i)}));A(t.slice(0,5))})(e.target.value),onFocus:()=>P(!0),onBlur:()=>setTimeout((()=>P(!1)),200),className:"border-primary"}),I&&_.length>0&&(0,sn.jsx)("div",{className:"position-absolute w-100 mt-1 shadow-sm border rounded bg-white z-index-dropdown",children:(0,sn.jsx)(mb,{children:_.map((e=>{var t;return(0,sn.jsxs)(mb.Item,{action:!0,onClick:()=>K(e),className:"py-2 d-flex justify-content-between align-items-center",children:[(0,sn.jsxs)("div",{children:[(0,sn.jsxs)("div",{className:"fw-bold",children:[e.firstName," ",e.lastName]}),(0,sn.jsxs)("small",{className:"text-muted",children:[e.company," \u2022 ",(null===(t=q.find((t=>t.value===e.status)))||void 0===t?void 0:t.label)||e.status]})]}),(0,sn.jsx)(Cb,{bg:"won"===e.status?"success":"lost"===e.status?"danger":"primary",children:e.type})]},e.id)}))})}),I&&k&&0===_.length&&(0,sn.jsxs)("div",{className:"position-absolute w-100 mt-1 shadow-sm border rounded bg-white p-3 text-center",children:['No leads found matching "',k,'"']})]}),B.id&&(0,sn.jsxs)("div",{className:"mt-2 d-flex justify-content-between align-items-center",children:[(0,sn.jsxs)("small",{children:[(0,sn.jsx)("span",{className:"text-muted",children:"Selected lead:"}),(0,sn.jsxs)("span",{className:"fw-bold ms-1",children:[B.firstName," ",B.lastName]}),(0,sn.jsxs)("span",{className:"ms-1 text-muted",children:["(",B.company||"No company",")"]})]}),(0,sn.jsx)(ir,{variant:"outline-secondary",size:"sm",onClick:()=>{$({id:null,firstName:"",lastName:"",company:"",email:"",phone:"",title:"",type:"prospect",source:"cold-call",status:"new",notes:"",tags:[],assignedTo:"Admin User",lastContact:new Date,createdAt:new Date,updatedAt:new Date}),x("")},children:"Clear Selection"})]})]})]}),(0,sn.jsxs)(Yn,{className:"border-0 shadow-sm mb-4",children:[(0,sn.jsxs)("div",{className:"d-flex justify-content-between align-items-center bg-primary text-white p-2 rounded-top",children:[(0,sn.jsx)("span",{className:"fw-bold",children:"Lead Data"}),(0,sn.jsx)("div",{children:B.id?(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsxs)(ir,{variant:"outline-light",size:"sm",className:"me-2",onClick:()=>{c(!0),z(!0)},children:[(0,sn.jsx)(qr,{})," Edit"]}),(0,sn.jsxs)(ir,{variant:"outline-light",size:"sm",onClick:()=>V(!0),children:[(0,sn.jsx)(Vl,{})," Save"]})]}):(0,sn.jsxs)(ir,{variant:"outline-light",size:"sm",onClick:()=>{c(!1),z(!0)},children:[(0,sn.jsx)(jo,{})," Create Lead"]})})]}),(0,sn.jsx)(Yn.Body,{className:"p-3",children:B.id?(0,sn.jsxs)(yn,{children:[(0,sn.jsxs)(Nn,{md:6,children:[(0,sn.jsxs)("p",{children:[(0,sn.jsx)("strong",{children:"Name:"})," ",B.firstName," ",B.lastName]}),(0,sn.jsxs)("p",{children:[(0,sn.jsx)("strong",{children:"Company:"})," ",B.company||"Not specified"]}),(0,sn.jsxs)("p",{children:[(0,sn.jsx)("strong",{children:"Contact:"})," ",B.email||"No email"," | ",B.phone||"No phone"]})]}),(0,sn.jsxs)(Nn,{md:6,children:[(0,sn.jsxs)("p",{children:[(0,sn.jsx)("strong",{children:"Status:"})," ",(null===(s=q.find((e=>e.value===B.status)))||void 0===s?void 0:s.label)||B.status]}),(0,sn.jsxs)("p",{children:[(0,sn.jsx)("strong",{children:"Type:"})," ",(null===(n=G.find((e=>e.value===B.type)))||void 0===n?void 0:n.label)||B.type]}),(0,sn.jsxs)("p",{children:[(0,sn.jsx)("strong",{children:"Tags:"})," ",B.tags&&B.tags.length>0?B.tags.join(", "):"None"]})]})]}):(0,sn.jsx)("p",{className:"text-center text-muted my-2",children:"No lead data. Create a lead to track this conversation."})})]}),(0,sn.jsxs)(Yn,{className:"border-0 shadow-sm",children:[(0,sn.jsxs)("div",{className:"d-flex justify-content-between align-items-center bg-primary text-white p-2 rounded-top",children:[(0,sn.jsx)("span",{className:"fw-bold",children:"Script Navigator"}),(0,sn.jsxs)("div",{children:[(0,sn.jsxs)(ir,{variant:"outline-light",size:"sm",className:"me-2",onClick:()=>m(!h),children:[(0,sn.jsx)(Tl,{})," ",h?"Hide Notes":"Show Notes"]}),(0,sn.jsxs)(ir,{variant:"outline-light",size:"sm",onClick:()=>{Y();const e={currentScriptIndex:d,notes:p,userResponses:f,scriptHistory:b,historyIndex:w,conversationMetrics:O,timestamp:(new Date).toISOString()};localStorage.setItem("leadScriptProgress",JSON.stringify(e)),alert("Progress saved successfully!")},disabled:!C,children:[(0,sn.jsx)(Nr,{})," Save Progress"]})]})]}),(0,sn.jsxs)(Yn.Body,{children:[h&&(0,sn.jsx)(Xi,{className:"mb-4",children:(0,sn.jsxs)(Xi.Group,{children:[(0,sn.jsx)(Xi.Label,{children:"Call Notes"}),(0,sn.jsx)(Xi.Control,{as:"textarea",rows:3,value:p,onChange:e=>{const t=e.target.value;x(t),B.id&&$((e=>({...e,notes:t,updatedAt:new Date})))},placeholder:"Add notes about this call here..."})]})}),(0,sn.jsxs)("div",{className:"script-navigator",children:[(0,sn.jsx)("h4",{className:"script-title",children:Z.title}),(0,sn.jsx)("div",{className:"script-content p-3 bg-light rounded mb-4",children:Z.content.split("\n").map(((e,t)=>(0,sn.jsx)("p",{children:e},t)))}),Z.responseOptions&&Z.responseOptions.length>0&&(0,sn.jsxs)("div",{className:"response-options mb-4",children:[(0,sn.jsx)("h6",{children:"Select Customer Response:"}),(0,sn.jsx)(mb,{children:Z.responseOptions.map((e=>(0,sn.jsxs)(mb.Item,{action:!0,onClick:()=>Q(e.nextScript),className:"d-flex justify-content-between align-items-center",children:[e.label,(0,sn.jsx)(Rr,{size:14})]},e.id)))})]}),(0,sn.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,sn.jsxs)("div",{children:[(0,sn.jsxs)(ir,{variant:"secondary",size:"sm",className:"me-2",onClick:()=>{if(w>0){const e=w-1,t=b[e];u(t),N(e)}},disabled:w<=0,title:"Go back to previous script section",children:[(0,sn.jsx)(Zl,{})," Back in History"]}),(0,sn.jsxs)(ir,{variant:"secondary",size:"sm",onClick:()=>{if(w<b.length-1){const e=w+1,t=b[e];u(t),N(e)}},disabled:w>=b.length-1,title:"Go forward in script history",children:[(0,sn.jsx)(Ql,{})," Forward in History"]})]}),(0,sn.jsxs)("div",{children:[(0,sn.jsxs)(ir,{variant:"outline-secondary",className:"me-2",onClick:se,disabled:1===Z.id,children:[(0,sn.jsx)(Or,{})," Previous"]}),(0,sn.jsxs)(ir,{variant:"outline-primary",onClick:te,disabled:"end"===Z.id||!Z.responseOptions||0===Z.responseOptions.length,children:["Next ",(0,sn.jsx)(Rr,{})]})]})]})]})]}),(0,sn.jsx)(Yn.Footer,{className:"bg-white",children:(0,sn.jsx)(Nw,{children:(0,sn.jsxs)(Nw.Item,{eventKey:"0",children:[(0,sn.jsx)(Nw.Header,{children:"Script Navigation"}),(0,sn.jsx)(Nw.Body,{children:(0,sn.jsx)(mb,{style:{maxHeight:"300px",overflowY:"auto"},children:Mw.map((e=>(0,sn.jsx)(mb.Item,{action:!0,active:Z.id===e.id,onClick:()=>u(e.id),children:e.title},e.id)))})})]})})})]}),(0,sn.jsxs)(yy,{show:F,onHide:()=>{z(!1),c(!1)},size:"lg",backdrop:"static",children:[(0,sn.jsx)(yy.Header,{closeButton:!0,children:(0,sn.jsx)(yy.Title,{children:B.id?"Edit Lead":"Create New Lead"})}),(0,sn.jsx)(yy.Body,{children:(0,sn.jsxs)(Xi,{children:[(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"First Name*"}),(0,sn.jsx)(Xi.Control,{type:"text",name:"firstName",value:B.firstName,onChange:J,required:!0})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Last Name*"}),(0,sn.jsx)(Xi.Control,{type:"text",name:"lastName",value:B.lastName,onChange:J,required:!0})]})})]}),(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Email"}),(0,sn.jsx)(Xi.Control,{type:"email",name:"email",value:B.email,onChange:J})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{as:yn,className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{column:!0,sm:3,children:"Phone"}),(0,sn.jsx)(Nn,{sm:9,children:(0,sn.jsxs)("div",{className:"d-flex align-items-center",children:[(0,sn.jsx)(Xi.Control,{type:"text",name:"phone",value:B.phone,onChange:J,placeholder:"Enter phone number"}),o&&B.phone&&(0,sn.jsx)("div",{className:"ms-2",children:(0,sn.jsx)(Zy,{phoneNumber:B.phone,buttonVariant:"outline-secondary"})})]})})]})})]}),(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Company"}),(0,sn.jsx)(Xi.Control,{type:"text",name:"company",value:B.company,onChange:J})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Title"}),(0,sn.jsx)(Xi.Control,{type:"text",name:"title",value:B.title,onChange:J})]})})]}),(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:4,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Lead Type"}),(0,sn.jsx)(Xi.Select,{name:"type",value:B.type,onChange:J,children:G.map((e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value)))})]})}),(0,sn.jsx)(Nn,{md:4,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Source"}),(0,sn.jsx)(Xi.Select,{name:"source",value:B.source,onChange:J,children:[{value:"cold-call",label:"Cold Call"},{value:"website",label:"Website"},{value:"referral",label:"Referral"},{value:"event",label:"Event"},{value:"social-media",label:"Social Media"},{value:"other",label:"Other"}].map((e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value)))})]})}),(0,sn.jsx)(Nn,{md:4,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Status"}),(0,sn.jsx)(Xi.Select,{name:"status",value:B.status,onChange:J,children:q.map((e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value)))})]})})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Tags (comma separated)"}),(0,sn.jsx)(Xi.Control,{type:"text",value:B.tags&&B.tags.length>0?B.tags.join(", "):"",onChange:e=>{const t=e.target.value.split(",").map((e=>e.trim().toLowerCase().replace(/\s+/g,"-"))).filter((e=>""!==e));$((e=>({...e,tags:t,updatedAt:new Date})))},placeholder:"e.g. important, follow-up, interested"})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Assigned To"}),(0,sn.jsx)(Xi.Control,{type:"text",name:"assignedTo",value:B.assignedTo,onChange:J})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Notes"}),(0,sn.jsx)(Xi.Control,{as:"textarea",rows:3,name:"notes",value:B.notes||p,onChange:J})]})]})}),(0,sn.jsxs)(yy.Footer,{children:[B.id&&(0,sn.jsxs)(ir,{variant:"danger",className:"me-auto",onClick:()=>{z(!1),W(!0)},children:[(0,sn.jsx)(uo,{})," Delete Lead"]}),(0,sn.jsx)(ir,{variant:"secondary",onClick:()=>{z(!1),c(!1)},children:"Cancel"}),(0,sn.jsx)(ir,{variant:"primary",onClick:()=>{z(!1),V(!0)},disabled:!B.firstName||!B.lastName,children:B.id?"Update Lead":"Create Lead"})]})]}),(0,sn.jsxs)(yy,{show:H,onHide:()=>V(!1),children:[(0,sn.jsx)(yy.Header,{closeButton:!0,children:(0,sn.jsx)(yy.Title,{children:B.id?"Update Lead":"Create Lead"})}),(0,sn.jsxs)(yy.Body,{children:["Are you sure you want to ",B.id?"update":"create"," this lead?",(0,sn.jsxs)("div",{className:"mt-3",children:[(0,sn.jsx)("strong",{children:"Name:"})," ",B.firstName," ",B.lastName,(0,sn.jsx)("br",{}),(0,sn.jsx)("strong",{children:"Company:"})," ",B.company||"Not specified",(0,sn.jsx)("br",{}),(0,sn.jsx)("strong",{children:"Status:"})," ",(null===(i=q.find((e=>e.value===B.status)))||void 0===i?void 0:i.label)||B.status]})]}),(0,sn.jsxs)(yy.Footer,{children:[(0,sn.jsx)(ir,{variant:"secondary",onClick:()=>V(!1),children:"Cancel"}),(0,sn.jsx)(ir,{variant:"primary",onClick:async()=>{try{Y();const e={...B,notes:p,lastContact:new Date,updatedAt:new Date,conversationMetrics:O};let t;if(e.id)t=await Jb(e.id,e);else{const{id:s,...n}=e;t=await Kb(n)}const s=await ty();E(s),$(t),V(!1),z(!1),l&&l(t),alert(`Lead ${t.firstName} ${t.lastName} saved successfully!`)}catch(e){console.error("Error saving lead:",e);try{console.warn("API save failed. Falling back to localStorage...");const e={...B,notes:p,lastContact:new Date,updatedAt:new Date,conversationMetrics:O};e.id||(e.id=Date.now(),e.createdAt=new Date);const t=sy();if(e.id){const s=t.findIndex((t=>t.id===e.id));s>=0?t[s]=e:t.push(e)}else t.push(e);ny(t),E(t),$(e),V(!1),z(!1),l&&l(e),alert(`Lead ${e.firstName} ${e.lastName} saved to localStorage (offline mode).`)}catch(t){console.error("LocalStorage fallback also failed:",t),alert("Error saving lead. Please try again.")}}},children:B.id?"Update":"Create"})]})]}),(0,sn.jsxs)(yy,{show:U,onHide:()=>W(!1),children:[(0,sn.jsx)(yy.Header,{closeButton:!0,children:(0,sn.jsx)(yy.Title,{children:"Delete Lead"})}),(0,sn.jsxs)(yy.Body,{children:[(0,sn.jsxs)("div",{className:"text-danger",children:[(0,sn.jsx)("strong",{children:"Warning:"})," This action cannot be undone."]}),(0,sn.jsxs)("p",{className:"mt-3",children:["Are you sure you want to delete the lead for ",B.firstName," ",B.lastName,B.company?` from ${B.company}`:"","?"]})]}),(0,sn.jsxs)(yy.Footer,{children:[(0,sn.jsx)(ir,{variant:"secondary",onClick:()=>W(!1),children:"Cancel"}),(0,sn.jsx)(ir,{variant:"danger",onClick:X,children:"Delete Lead"})]})]}),(0,sn.jsxs)(yy,{show:L,onHide:()=>{M(!1),D(""),A([])},size:"lg",backdrop:"static",children:[(0,sn.jsx)(yy.Header,{closeButton:!0,children:(0,sn.jsx)(yy.Title,{children:"Browse Leads"})}),(0,sn.jsxs)(yy.Body,{children:[(0,sn.jsx)(Xi.Control,{type:"text",placeholder:"Filter leads...",className:"mb-3",value:k,onChange:e=>{const t=e.target.value;D(t),t.trim()?A(T.filter((e=>{const s=`${e.firstName} ${e.lastName}`.toLowerCase(),n=(e.company||"").toLowerCase(),a=(e.email||"").toLowerCase(),i=t.toLowerCase();return s.includes(i)||n.includes(i)||a.includes(i)}))):A(T)}}),(0,sn.jsx)("div",{style:{maxHeight:"50vh",overflowY:"auto"},children:(0,sn.jsxs)(Uh,{hover:!0,responsive:!0,children:[(0,sn.jsx)("thead",{className:"bg-light",children:(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("th",{children:"Name"}),(0,sn.jsx)("th",{children:"Company"}),(0,sn.jsx)("th",{children:"Status"}),(0,sn.jsx)("th",{children:"Type"}),(0,sn.jsx)("th",{children:"Last Contact"}),(0,sn.jsx)("th",{children:"Actions"})]})}),(0,sn.jsx)("tbody",{children:(k?_:T).length>0?(k?_:T).map((e=>{var t,s;return(0,sn.jsxs)("tr",{children:[(0,sn.jsxs)("td",{children:[e.firstName," ",e.lastName]}),(0,sn.jsx)("td",{children:e.company||"-"}),(0,sn.jsx)("td",{children:(0,sn.jsx)(Cb,{bg:"won"===e.status?"success":"lost"===e.status?"danger":"negotiation"===e.status?"warning":"primary",children:(null===(t=q.find((t=>t.value===e.status)))||void 0===t?void 0:t.label)||e.status})}),(0,sn.jsx)("td",{children:(null===(s=G.find((t=>t.value===e.type)))||void 0===s?void 0:s.label)||e.type}),(0,sn.jsx)("td",{children:e.lastContact?new Date(e.lastContact).toLocaleDateString():"-"}),(0,sn.jsx)("td",{children:(0,sn.jsx)(ir,{variant:"primary",size:"sm",onClick:()=>{K(e),M(!1),D("")},children:"Select"})})]},e.id)})):(0,sn.jsx)("tr",{children:(0,sn.jsxs)("td",{colSpan:"6",className:"text-center py-3",children:["No leads found. ",k?`No results for "${k}"`:"Create a new lead to get started."]})})})]})})]}),(0,sn.jsxs)(yy.Footer,{children:[(0,sn.jsx)(ir,{variant:"secondary",onClick:()=>{M(!1),D(""),A([])},children:"Cancel"}),(0,sn.jsxs)(ir,{variant:"primary",onClick:()=>{M(!1),D(""),A([]),z(!0),c(!1)},children:[(0,sn.jsx)(Ol,{})," Create New Lead"]})]})]})]})},Rw=[{id:1,title:"Independent Contract Driver - Last Mile Delivery",company:"Express Logistics",location:"Atlanta, GA",description:"Looking for independent contractors with their own cargo vans or sprinter vans for last mile delivery services. Competitive pay, flexible schedule.",requirements:["Own vehicle (Cargo Van, Sprinter, or Box Truck)","Valid driver's license","Insurance","Clean driving record"],pay:"$25-35/hour",source:"indeed",url:"https://www.indeed.com/job/independent-contract-driver",postedDate:"2 days ago",rating:4,phone:"(404) 555-1234"},{id:2,title:"Owner Operator - Box Truck Delivery",company:"Southern Freight Solutions",location:"Marietta, GA",description:"Owner Operators needed for regional delivery routes. Box truck owners preferred. Daily routes available with consistent work.",requirements:["Box truck ownership","DOT compliance","Minimum 1 year experience","Ability to lift 50 lbs"],pay:"$1,200-1,800/week",source:"ziprecruiter",url:"https://www.ziprecruiter.com/job/owner-operator-box-truck",postedDate:"Today",rating:5,phone:"(678) 555-2345"},{id:3,title:"1099 Courier - Medical Deliveries",company:"MedEx Delivery Services",location:"Decatur, GA",description:"Immediate openings for 1099 couriers to handle sensitive medical deliveries. Consistent routes, same-day scheduling.",requirements:["Reliable vehicle","Smartphone with data plan","Ability to pass background check","Professional appearance"],pay:"$20-30/hour",source:"craigslist",url:"https://atlanta.craigslist.org/job/1099-courier-medical-deliveries",postedDate:"3 days ago",rating:3,phone:"(770) 555-3456"},{id:4,title:"Delivery Service Provider - Amazon DSP Program",company:"Amazon Delivery Service Partner",location:"Atlanta, GA",description:"Become a Delivery Service Provider for Amazon. Opportunities to build your own delivery business with 20-40 vans.",requirements:["Business experience","Liquid assets of $30k+","Strong leadership","Commitment to success"],pay:"$75,000-300,000/year potential",source:"linkedin",url:"https://www.linkedin.com/jobs/view/amazon-dsp-program",postedDate:"1 week ago",rating:5,phone:"(404) 555-4567"},{id:5,title:"Owner Operator Sprinter Van Drivers",company:"Prime Delivery Co.",location:"Alpharetta, GA",description:"Looking for owner operators with Sprinter vans for dedicated routes. Weekly settlements, fuel cards available.",requirements:["Sprinter van (2015 or newer)","Clean MVR","Smartphone","Able to work weekends"],pay:"$900-1,400/week",source:"glassdoor",url:"https://www.glassdoor.com/job/owner-operator-sprinter",postedDate:"3 days ago",rating:4,phone:"(470) 555-5678"},{id:6,title:"Independent Contractor - Final Mile Delivery",company:"Last Mile Experts",location:"Lawrenceville, GA",description:"Independent contractors needed for home delivery of appliances and furniture. Great earning potential.",requirements:["Box truck or cargo van","2+ years experience","Ability to install appliances a plus","Customer service skills"],pay:"$1,000-1,500/week",source:"indeed",url:"https://www.indeed.com/job/independent-contractor-final-mile",postedDate:"1 day ago",rating:4,phone:"(678) 555-6789"},{id:7,title:"1099 Driver - Food Delivery",company:"Metro Meal Delivery",location:"Atlanta, GA",description:"Drivers needed for restaurant delivery service. Be your own boss, work when you want. High demand in Atlanta area.",requirements:["Any vehicle","Valid license and insurance","Smartphone","18+ years old"],pay:"$15-25/hour + tips",source:"monster",url:"https://www.monster.com/jobs/1099-driver-food-delivery",postedDate:"Today",rating:3,phone:"(404) 555-7890"},{id:8,title:"Contract Route Driver - Package Delivery",company:"Regional Delivery Systems",location:"Smyrna, GA",description:"Contract drivers needed for dedicated package delivery routes. Monday-Friday schedule with consistent territory.",requirements:["Cargo van or larger","Clean driving record","Background check","Reliable transportation"],pay:"$200-250/day",source:"careerbuilder",url:"https://www.careerbuilder.com/job/contract-route-driver",postedDate:"5 days ago",rating:4,phone:"(770) 555-8901"}],Fw=()=>{const[e,t]=(0,a.useState)(!1),[s,n]=(0,a.useState)(""),[i,r]=(0,a.useState)(["Independent Contract Driver"]),[l,o]=(0,a.useState)("Atlanta, GA"),[c,d]=(0,a.useState)("all"),[u,h]=(0,a.useState)([]),[m,p]=(0,a.useState)([]),[x,f]=(0,a.useState)("search"),[g,v]=(0,a.useState)("all"),[j,b]=(0,a.useState)("all"),[y,w]=(0,a.useState)([]),[N,C]=(0,a.useState)([]),[S,k]=(0,a.useState)(""),[D,_]=(0,a.useState)(!1),[A,T]=(0,a.useState)(null),[E,L]=(0,a.useState)({firstName:"",lastName:"",company:"",email:"",phone:"",title:"",type:"prospect",source:"job-board",status:"new",notes:"",tags:[]}),[M,I]=(0,a.useState)(!1),P=[{id:"all",name:"All Sources"},{id:"indeed",name:"Indeed"},{id:"ziprecruiter",name:"ZipRecruiter"},{id:"linkedin",name:"LinkedIn"},{id:"craigslist",name:"Craigslist"},{id:"glassdoor",name:"Glassdoor"},{id:"monster",name:"Monster"},{id:"careerbuilder",name:"CareerBuilder"},{id:"google",name:"Google Jobs"},{id:"github",name:"GitHub Jobs"},{id:"usajobs",name:"USA Jobs"}];(0,a.useEffect)((()=>{(()=>{try{const e=localStorage.getItem("savedLeads");e&&p(JSON.parse(e));const t=localStorage.getItem("favoriteKeywords");t&&C(JSON.parse(t))}catch(e){console.error("Error loading saved data from localStorage:",e)}})();(async()=>{try{const e=await Xs.get("/api/health");console.log("API Status:",e.status)}catch(e){console.warn("API health check failed. Using mock data:",e)}})()}),[]),(0,a.useEffect)((()=>{localStorage.setItem("savedLeads",JSON.stringify(m))}),[m]),(0,a.useEffect)((()=>{localStorage.setItem("favoriteKeywords",JSON.stringify(N))}),[N]);const O=()=>{if(t(!0),"true"==={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"\\https://areti-crm-api-29b79be1eacc.herokuapp.com/api"}.REACT_APP_USE_API){const e=new URLSearchParams;i.length>0&&e.append("keywords",JSON.stringify(i)),l&&e.append("location",l),"all"!==c&&e.append("source",c),Xs.get(`/api/jobs/search?${e.toString()}`).then((e=>{h(e.data),F(e.data.length)})).catch((e=>{console.error("Error searching for jobs:",e),alert("An error occurred while searching for jobs. Please try again later."),R()})).finally((()=>{t(!1)}))}else R()},R=()=>{setTimeout((()=>{const e=Rw.filter((e=>{const t=e.location.toLowerCase().includes(l.toLowerCase()),s=i.some((t=>e.title.toLowerCase().includes(t.toLowerCase())||e.description.toLowerCase().includes(t.toLowerCase()))),n="all"===c||e.source===c;return t&&s&&n}));h(e),F(e.length),t(!1)}),1500)},F=e=>{w((t=>[{id:Date.now(),keywords:[...i],location:l,source:c,resultsCount:e,date:(new Date).toLocaleString()},...t].slice(0,10)))},z=e=>{p(m.filter((t=>t.id!==e)))},B=m.filter((e=>{const t="all"===g||e.rating>=parseInt(g),n="all"===j||e.source===j,a=""===s||e.title.toLowerCase().includes(s.toLowerCase())||e.company.toLowerCase().includes(s.toLowerCase())||e.description.toLowerCase().includes(s.toLowerCase());return t&&n&&a})),$=e=>[...Array(5)].map(((t,s)=>(0,sn.jsx)(Xl,{className:s<e?"text-warning":"text-muted",style:{marginRight:"2px"}},s))),H=e=>{const t=P.find((t=>t.id===e));return t?t.name:e},V=()=>{S&&!i.includes(S)&&(r([...i,S]),k(""))},U=e=>{const{name:t,value:s}=e.target;L((e=>({...e,[t]:s})))};return(0,sn.jsxs)(jn,{fluid:!0,className:"py-4",children:[(0,sn.jsxs)("div",{className:"d-flex align-items-center mb-3",children:[(0,sn.jsx)(Pb,{}),(0,sn.jsxs)("div",{className:"ms-3",children:[(0,sn.jsx)("h1",{className:"mb-0",children:"Lead Generator"}),(0,sn.jsx)("p",{className:"text-muted",children:"Find and qualify new leads"})]})]}),(0,sn.jsxs)(Hy,{activeKey:x,onSelect:e=>f(e),className:"mb-4",children:[(0,sn.jsxs)(qy,{eventKey:"search",title:"Search Leads",children:[(0,sn.jsx)(Yn,{className:"border-0 shadow-sm mb-4",children:(0,sn.jsx)(Yn.Body,{children:(0,sn.jsxs)(Xi,{children:[(0,sn.jsxs)(yn,{className:"mb-4",children:[(0,sn.jsx)(Nn,{md:5,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Keywords (select one or more)"}),(0,sn.jsx)("div",{className:"d-flex flex-wrap",children:["Independent Contract Driver","Owner Operator","Owner Operator Cargo Van","Owner Operator Sprinter","Owner Operator Box Truck","1099 Courier","1099 Driver","Delivery Service Provider","Last Mile Delivery","Contract Delivery Driver","Independent Contractor Route"].map(((e,t)=>(0,sn.jsxs)(ir,{variant:i.includes(e)?"primary":"outline-secondary",size:"sm",className:"me-2 mb-2",onClick:()=>(e=>{i.includes(e)?r(i.filter((t=>t!==e))):r([...i,e])})(e),children:[e,N.includes(e)&&(0,sn.jsx)(Xl,{className:"ms-1 text-warning"})]},t)))}),(0,sn.jsxs)(nr,{className:"mt-2",children:[(0,sn.jsx)(Xi.Control,{placeholder:"Add custom keyword...",value:S,onChange:e=>k(e.target.value),onKeyPress:e=>"Enter"===e.key&&V()}),(0,sn.jsxs)(ir,{variant:"outline-secondary",onClick:V,disabled:!S,children:[(0,sn.jsx)(Ol,{})," Add"]})]})]})}),(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Location"}),(0,sn.jsx)(Xi.Select,{value:l,onChange:e=>o(e.target.value),children:["Atlanta, GA","McDonough, GA","Columbus, GA","Savannah, GA","Macon, GA","Augusta, GA","Athens, GA","Marietta, GA","Roswell, GA","Albany, GA"].map(((e,t)=>(0,sn.jsx)("option",{value:e,children:e},t)))})]})}),(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Source"}),(0,sn.jsx)(Xi.Select,{value:c,onChange:e=>d(e.target.value),children:P.map((e=>(0,sn.jsx)("option",{value:e.id,children:e.name},e.id)))})]})}),(0,sn.jsx)(Nn,{md:1,className:"d-flex align-items-end mb-3",children:(0,sn.jsx)(ir,{variant:"outline-secondary",size:"sm",onClick:()=>{r(["Independent Contract Driver"]),o("Atlanta, GA"),d("all")},children:"Clear"})})]}),(0,sn.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,sn.jsx)("div",{className:"selected-filters",children:(0,sn.jsxs)("p",{className:"mb-0",children:[(0,sn.jsx)("strong",{children:"Selected:"})," ",i.join(", ")," in ",l]})}),(0,sn.jsx)(ir,{variant:"primary",onClick:O,disabled:e||0===i.length,children:e?(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(Sw,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-2"}),"Searching..."]}):(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(Ul,{className:"me-2"})," Search for Leads"]})})]})]})})}),u.length>0&&(0,sn.jsxs)(Yn,{className:"border-0 shadow-sm mb-4",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white border-0 py-3",children:(0,sn.jsxs)("h5",{className:"mb-0",children:["Search Results (",u.length,")"]})}),(0,sn.jsx)(Yn.Body,{className:"p-0",children:u.map((e=>(0,sn.jsx)("div",{className:"lead-card p-3 border-bottom",children:(0,sn.jsxs)(yn,{children:[(0,sn.jsxs)(Nn,{md:8,children:[(0,sn.jsx)("h5",{className:"mb-1",children:e.title}),(0,sn.jsxs)("p",{className:"mb-1",children:[(0,sn.jsx)("strong",{children:e.company})," - ",e.location]}),(0,sn.jsxs)("div",{className:"mb-2 text-muted small",children:[(0,sn.jsxs)("span",{className:"me-3",children:["Source: ",H(e.source)]}),(0,sn.jsxs)("span",{className:"me-3",children:["Posted: ",e.postedDate]}),(0,sn.jsxs)("span",{children:[$(e.rating),(0,sn.jsx)(ir,{variant:"link",className:"p-0 ms-2",onClick:()=>{return t=e.title.split(" ")[0],void(N.includes(t)?C(N.filter((e=>e!==t))):C([...N,t]));var t},title:"Add keyword to favorites",children:(0,sn.jsx)(Xl,{className:N.includes(e.title.split(" ")[0])?"text-warning":"text-muted",size:12})})]})]}),(0,sn.jsx)("p",{className:"mb-2",children:e.description}),(0,sn.jsxs)("div",{className:"mb-2",children:[(0,sn.jsx)("strong",{children:"Pay:"})," ",e.pay]}),(0,sn.jsxs)("div",{className:"mb-2",children:[(0,sn.jsx)("strong",{children:"Requirements:"}),(0,sn.jsx)("ul",{className:"mb-0 ps-3",children:e.requirements.map(((e,t)=>(0,sn.jsx)("li",{children:e},t)))})]})]}),(0,sn.jsxs)(Nn,{md:4,className:"d-flex flex-column justify-content-between",children:[(0,sn.jsxs)("div",{className:"d-flex justify-content-end mb-3",children:[(0,sn.jsxs)(ir,{variant:"outline-primary",size:"sm",href:e.url,target:"_blank",className:"me-2",children:[(0,sn.jsx)(Zr,{className:"me-1"})," View Original"]}),(0,sn.jsxs)(ir,{variant:"primary",size:"sm",onClick:()=>{return t=e,void(m.some((e=>e.id===t.id))||p([...m,{...t,savedDate:(new Date).toLocaleString()}]));var t},disabled:m.some((t=>t.id===e.id)),children:[(0,sn.jsx)(Vl,{className:"me-1"})," ",m.some((t=>t.id===e.id))?"Saved":"Save Lead"]})]}),(0,sn.jsxs)("div",{className:"d-flex mt-3 justify-content-end",children:[(0,sn.jsxs)(ir,{variant:"outline-success",size:"sm",className:"me-2",children:[(0,sn.jsx)(Kr,{className:"me-1"})," Email"]}),e.phone&&(0,sn.jsx)(Zy,{phoneNumber:e.phone,buttonVariant:"outline-info"})]})]})]})},e.id)))})]}),y.length>0&&(0,sn.jsxs)(Yn,{className:"border-0 shadow-sm",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white border-0 py-3",children:(0,sn.jsx)("h5",{className:"mb-0",children:"Recent Searches"})}),(0,sn.jsx)(Yn.Body,{className:"p-0",children:(0,sn.jsxs)(Uh,{hover:!0,responsive:!0,className:"mb-0",children:[(0,sn.jsx)("thead",{className:"bg-light",children:(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("th",{children:"Date"}),(0,sn.jsx)("th",{children:"Keywords"}),(0,sn.jsx)("th",{children:"Location"}),(0,sn.jsx)("th",{children:"Source"}),(0,sn.jsx)("th",{children:"Results"}),(0,sn.jsx)("th",{children:"Actions"})]})}),(0,sn.jsx)("tbody",{children:y.map((e=>(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("td",{children:e.date}),(0,sn.jsx)("td",{children:e.keywords.join(", ")}),(0,sn.jsx)("td",{children:e.location}),(0,sn.jsx)("td",{children:H(e.source)}),(0,sn.jsx)("td",{children:e.resultsCount}),(0,sn.jsx)("td",{children:(0,sn.jsx)(ir,{variant:"link",size:"sm",className:"p-0",onClick:()=>{r(e.keywords),o(e.location),d(e.source),O()},children:"Run Again"})})]},e.id)))})]})})]})]}),(0,sn.jsxs)(qy,{eventKey:"saved",title:`Saved Leads (${m.length})`,children:[(0,sn.jsx)(Yn,{className:"border-0 shadow-sm mb-4",children:(0,sn.jsx)(Yn.Body,{children:(0,sn.jsxs)(yn,{className:"mb-3",children:[(0,sn.jsx)(Nn,{md:4,children:(0,sn.jsxs)(nr,{children:[(0,sn.jsx)(nr.Text,{children:(0,sn.jsx)(Ul,{})}),(0,sn.jsx)(Xi.Control,{placeholder:"Search saved leads...",value:s,onChange:e=>n(e.target.value)})]})}),(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsxs)(nr,{children:[(0,sn.jsx)(nr.Text,{children:(0,sn.jsx)(ol,{})}),(0,sn.jsxs)(Xi.Select,{value:g,onChange:e=>v(e.target.value),children:[(0,sn.jsx)("option",{value:"all",children:"All Ratings"}),(0,sn.jsx)("option",{value:"5",children:"5 Stars"}),(0,sn.jsx)("option",{value:"4",children:"4+ Stars"}),(0,sn.jsx)("option",{value:"3",children:"3+ Stars"})]})]})}),(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsxs)(nr,{children:[(0,sn.jsx)(nr.Text,{children:(0,sn.jsx)(ol,{})}),(0,sn.jsxs)(Xi.Select,{value:j,onChange:e=>b(e.target.value),children:[(0,sn.jsx)("option",{value:"all",children:"All Sources"}),P.filter((e=>"all"!==e.id)).map((e=>(0,sn.jsx)("option",{value:e.id,children:e.name},e.id)))]})]})}),(0,sn.jsx)(Nn,{md:2,children:(0,sn.jsx)(ir,{variant:"outline-primary",className:"w-100",onClick:()=>{n(""),v("all"),b("all")},children:"Clear Filters"})})]})})}),B.length>0?(0,sn.jsxs)(Yn,{className:"border-0 shadow-sm",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white border-0 py-3",children:(0,sn.jsxs)("h5",{className:"mb-0",children:["Saved Leads (",B.length,")"]})}),(0,sn.jsx)(Yn.Body,{className:"p-0",children:B.map((e=>(0,sn.jsx)("div",{className:"lead-card p-3 border-bottom",children:(0,sn.jsxs)(yn,{children:[(0,sn.jsxs)(Nn,{md:8,children:[(0,sn.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,sn.jsx)("h5",{className:"mb-1",children:e.title}),(0,sn.jsxs)(Cb,{bg:"primary",children:["Saved ",e.savedDate]})]}),(0,sn.jsxs)("p",{className:"mb-1",children:[(0,sn.jsx)("strong",{children:e.company})," - ",e.location]}),(0,sn.jsxs)("div",{className:"mb-2 text-muted small",children:[(0,sn.jsxs)("span",{className:"me-3",children:["Source: ",H(e.source)]}),(0,sn.jsxs)("span",{className:"me-3",children:["Posted: ",e.postedDate]}),(0,sn.jsx)("span",{children:$(e.rating)})]}),(0,sn.jsx)("p",{className:"mb-2",children:e.description}),(0,sn.jsxs)("div",{className:"mb-2",children:[(0,sn.jsx)("strong",{children:"Pay:"})," ",e.pay]}),(0,sn.jsxs)("div",{className:"mb-2",children:[(0,sn.jsx)("strong",{children:"Requirements:"}),(0,sn.jsx)("ul",{className:"mb-0 ps-3",children:e.requirements.map(((e,t)=>(0,sn.jsx)("li",{children:e},t)))})]})]}),(0,sn.jsxs)(Nn,{md:4,className:"d-flex flex-column justify-content-between",children:[(0,sn.jsxs)("div",{className:"d-flex justify-content-end mb-3",children:[(0,sn.jsxs)(ir,{variant:"outline-primary",size:"sm",href:e.url,target:"_blank",className:"me-2",children:[(0,sn.jsx)(Zr,{className:"me-1"})," View Original"]}),(0,sn.jsx)(ir,{variant:"outline-danger",size:"sm",onClick:()=>z(e.id),children:"Remove"})]}),(0,sn.jsxs)("div",{className:"d-flex mt-3 justify-content-end",children:[(0,sn.jsxs)(ir,{variant:"outline-success",size:"sm",className:"me-2",children:[(0,sn.jsx)(Kr,{className:"me-1"})," Contact"]}),e.phone&&(0,sn.jsx)(Zy,{phoneNumber:e.phone,buttonVariant:"outline-info"}),(0,sn.jsxs)(ir,{variant:"success",size:"sm",className:"ms-2",onClick:()=>(e=>{T(e),L({firstName:"",lastName:"",company:e.company,email:"",phone:e.phone||"",title:e.title,type:"prospect",source:e.source,status:"new",notes:`Job Description: ${e.description}\n\nRequirements: ${e.requirements.join(", ")}\n\nPay: ${e.pay}\n\nOriginal posting: ${e.url}`,tags:[e.source,"job-lead",...i.slice(0,3)]}),_(!0),I(!1)})(e),children:[(0,sn.jsx)(jo,{className:"me-1"})," Convert to Lead"]})]})]})]})},e.id)))})]}):(0,sn.jsx)(Yn,{className:"border-0 shadow-sm",children:(0,sn.jsxs)(Yn.Body,{className:"text-center py-5",children:[(0,sn.jsx)("h5",{className:"text-muted mb-3",children:"No saved leads found"}),(0,sn.jsx)("p",{children:"Save leads from your search results to view them here."}),(0,sn.jsxs)(ir,{variant:"primary",onClick:()=>f("search"),children:[(0,sn.jsx)(Ul,{className:"me-2"})," Search for Leads"]})]})})]})]}),(0,sn.jsxs)(yy,{show:D,onHide:()=>!M&&_(!1),backdrop:"static",size:"lg",children:[(0,sn.jsx)(yy.Header,{closeButton:!M,children:(0,sn.jsx)(yy.Title,{children:M?"Lead Created Successfully!":"Convert to CRM Lead"})}),(0,sn.jsx)(yy.Body,{children:M?(0,sn.jsxs)("div",{className:"text-center py-4",children:[(0,sn.jsx)("div",{className:"mb-3 text-success",style:{fontSize:"3rem"},children:(0,sn.jsx)(jo,{})}),(0,sn.jsx)("h4",{children:"Lead Created Successfully!"}),(0,sn.jsx)("p",{children:"The job lead has been converted and added to your CRM system."}),(0,sn.jsx)(ir,{variant:"primary",onClick:()=>_(!1),className:"mt-3",children:"Close"})]}):(0,sn.jsxs)(Xi,{children:[(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"First Name*"}),(0,sn.jsx)(Xi.Control,{type:"text",name:"firstName",value:E.firstName,onChange:U,required:!0})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Last Name*"}),(0,sn.jsx)(Xi.Control,{type:"text",name:"lastName",value:E.lastName,onChange:U,required:!0})]})})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Company"}),(0,sn.jsx)(Xi.Control,{type:"text",name:"company",value:E.company,onChange:U})]}),(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Email"}),(0,sn.jsx)(Xi.Control,{type:"email",name:"email",value:E.email,onChange:U})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Phone"}),(0,sn.jsx)(Xi.Control,{type:"text",name:"phone",value:E.phone,onChange:U})]})})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Job Title"}),(0,sn.jsx)(Xi.Control,{type:"text",name:"title",value:E.title,onChange:U})]}),(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Lead Type"}),(0,sn.jsx)(Xi.Select,{name:"type",value:E.type,onChange:U,children:[{value:"prospect",label:"Prospect"},{value:"qualified",label:"Qualified Lead"},{value:"opportunity",label:"Opportunity"},{value:"customer",label:"Customer"},{value:"partner",label:"Partner"}].map((e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value)))})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Source"}),(0,sn.jsx)(Xi.Control,{type:"text",name:"source",value:E.source,onChange:U,disabled:!0})]})})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Tags (comma separated)"}),(0,sn.jsx)(Xi.Control,{type:"text",value:E.tags.join(", "),onChange:e=>{const t=e.target.value.split(",").map((e=>e.trim())).filter((e=>e));L((e=>({...e,tags:t})))},placeholder:"e.g. driver, owner-operator, qualified"})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Notes"}),(0,sn.jsx)(Xi.Control,{as:"textarea",rows:5,name:"notes",value:E.notes,onChange:U})]})]})}),!M&&(0,sn.jsxs)(yy.Footer,{children:[(0,sn.jsx)(ir,{variant:"secondary",onClick:()=>_(!1),children:"Cancel"}),(0,sn.jsx)(ir,{variant:"primary",onClick:async()=>{try{if(!E.firstName||!E.lastName)return void alert("First name and last name are required");const t={...E,id:Date.now().toString(),createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),lastContact:(new Date).toISOString()};if("true"==={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"\\https://areti-crm-api-29b79be1eacc.herokuapp.com/api"}.REACT_APP_USE_API){const e=await Xs.post("/api/leads",t);console.log("Lead created:",e.data)}else{let s=[];try{const e=localStorage.getItem("crmLeads");e&&(s=JSON.parse(e))}catch(e){console.error("Error parsing leads from localStorage:",e)}s.push(t),localStorage.setItem("crmLeads",JSON.stringify(s)),console.log("New lead saved to localStorage:",t)}I(!0),A&&z(A.id),setTimeout((()=>{_(!1),T(null)}),2e3)}catch(e){console.error("Error creating lead:",e),alert("An error occurred while creating the lead. Please try again.")}},disabled:!E.firstName||!E.lastName,children:"Create Lead"})]})]})]})},zw=()=>{const e=ee(),[t,s]=(0,a.useState)([]),[n,i]=(0,a.useState)([]),[r,l]=(0,a.useState)(""),[o,c]=(0,a.useState)("all"),[d,u]=(0,a.useState)("all"),[h,m]=(0,a.useState)("all"),[p,x]=(0,a.useState)("list"),[f,g]=(0,a.useState)("dueDate"),[v,j]=(0,a.useState)("asc"),[b,y]=(0,a.useState)(1),[w]=(0,a.useState)(10),[N,C]=(0,a.useState)(!1),[S,k]=(0,a.useState)(null),[D,_]=(0,a.useState)(!0),[A,T]=(0,a.useState)(!1),[E,L]=(0,a.useState)(""),[M,I]=(0,a.useState)([]),P=[{value:"not_started",label:"Not Started",color:"secondary"},{value:"in_progress",label:"In Progress",color:"primary"},{value:"pending",label:"Pending",color:"warning"},{value:"completed",label:"Completed",color:"success"},{value:"cancelled",label:"Cancelled",color:"danger"}],O=[{value:"low",label:"Low",color:"info"},{value:"medium",label:"Medium",color:"warning"},{value:"high",label:"High",color:"danger"},{value:"urgent",label:"Urgent",color:"dark"}],R=[{id:1,name:"John Smith",role:"Sales Representative"},{id:2,name:"Sarah Johnson",role:"Sales Manager"},{id:3,name:"Michael Brown",role:"Account Executive"},{id:4,name:"Emily Davis",role:"Customer Support"},{id:5,name:"David Wilson",role:"Delivery Driver"}];(0,a.useEffect)((()=>{_(!0),setTimeout((()=>{const e=F();s(e),i(e),_(!1)}),1e3)}),[]);const F=()=>{const e=new Date,t=["Call","Email","Meeting","Follow-up","Proposal","Delivery","Payment"],s=[{id:1,name:"ABC Logistics"},{id:2,name:"XYZ Retail"},{id:3,name:"Tech Solutions Inc."},{id:4,name:"Global Shipping Co."},{id:5,name:"Metro Electronics"}],n=[{id:1,name:"John Doe",company:"ABC Logistics"},{id:2,name:"Jane Smith",company:"XYZ Retail"},{id:3,name:"Robert Johnson",company:"Tech Solutions Inc."},{id:4,name:"Emma Williams",company:"Global Shipping Co."},{id:5,name:"Michael Brown",company:"Metro Electronics"}];return Array.from({length:25},((a,i)=>{const r=new Date(e);r.setDate(r.getDate()+Math.floor(30*Math.random())-10);const l=9+Math.floor(8*Math.random());r.setHours(l,0,0,0);const o=t[Math.floor(Math.random()*t.length)],c=Math.floor(5*Math.random())+1,d=Math.floor(Math.random()*s.length),u=s[d],h=n.filter((e=>e.company===u.name)),m=h.length>0?h[Math.floor(Math.random()*h.length)]:null,p=P.map((e=>e.value)),x=O.map((e=>e.value));return{id:i+1,title:`${o} with ${u.name}`,description:`${o} regarding our services with ${u.name}${m?` (Contact: ${m.name})`:""}`,type:o.toLowerCase(),status:p[Math.floor(Math.random()*p.length)],priority:x[Math.floor(Math.random()*x.length)],assignee:c,dueDate:r,createdDate:new Date(r.getTime()-7*Math.random()*24*60*60*1e3),completedDate:null,company:u,contact:m,notes:`Follow up on the previous conversation about our ${"Delivery"===o?"delivery services":"services"}.`}}))};(0,a.useEffect)((()=>{let e=[...t];if("all"!==o&&(e=e.filter((e=>e.status===o))),"all"!==d&&(e=e.filter((e=>e.priority===d))),"all"!==h&&(e=e.filter((e=>e.assignee===parseInt(h)))),r){const t=r.toLowerCase();e=e.filter((e=>e.title.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)||e.company.name.toLowerCase().includes(t)||e.contact&&e.contact.name.toLowerCase().includes(t)))}e.sort(((e,t)=>{let s=e[f],n=t[f];if("company.name"===f)s=e.company.name,n=t.company.name;else if("contact.name"===f)s=e.contact?e.contact.name:"",n=t.contact?t.contact.name:"";else if("assignee"===f){var a,i;const e=(null===(a=R.find((e=>e.id===s)))||void 0===a?void 0:a.name)||"",t=(null===(i=R.find((e=>e.id===n)))||void 0===i?void 0:i.name)||"";s=e,n=t}return s instanceof Date&&n instanceof Date?"asc"===v?s-n:n-s:"string"===typeof s&&"string"===typeof n?"asc"===v?s.localeCompare(n):n.localeCompare(s):"asc"===v?s-n:n-s})),i(e)}),[t,r,o,d,h,f,v]);const z=b*w,B=z-w,$=n.slice(B,z),H=Math.ceil(n.length/w),V=e=>{y(e)},U=e=>{f===e?j("asc"===v?"desc":"asc"):(g(e),j("asc"))},W=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"",G=e=>e?new Date(e).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):"",q=e=>{const t=P.find((t=>t.value===e));return t?(0,sn.jsx)(Cb,{bg:t.color,className:"text-uppercase",children:t.label}):null},Y=e=>{const t=O.find((t=>t.value===e));return t?(0,sn.jsx)(Cb,{bg:t.color,className:"text-uppercase",children:t.label}):null},K=e=>{k(e),C(!0)},J=e=>{const n=t.map((t=>{if(t.id===e){const e="completed"===t.status?"in_progress":"completed";return{...t,status:e,completedDate:"completed"===e?new Date:null}}return t}));s(n)},X=e=>{const t=R.find((t=>t.id===e));return t?t.name:"Unassigned"};return(0,sn.jsxs)("div",{className:"container-fluid py-4",children:[(0,sn.jsx)(Ob,{title:"Tasks",backButton:!0}),(0,sn.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,sn.jsxs)("div",{className:"d-flex",children:[(0,sn.jsxs)(ir,{variant:"list"===p?"primary":"outline-primary",className:"me-2",onClick:()=>x("list"),children:[(0,sn.jsx)(jl,{className:"me-1"})," List"]}),(0,sn.jsxs)(ir,{variant:"grid"===p?"primary":"outline-primary",className:"me-2",onClick:()=>x("grid"),children:[(0,sn.jsx)(lo,{className:"me-1"})," Grid"]}),(0,sn.jsxs)(ir,{variant:"kanban"===p?"primary":"outline-primary",className:"me-2",onClick:()=>e("/tasks/kanban"),children:[(0,sn.jsx)($r,{className:"me-1"})," Kanban"]}),(0,sn.jsxs)(ir,{variant:"calendar"===p?"primary":"outline-primary",className:"me-2",onClick:()=>e("/tasks/calendar"),children:[(0,sn.jsx)(Dr,{className:"me-1"})," Calendar"]})]}),(0,sn.jsxs)("div",{children:[(0,sn.jsxs)(ir,{variant:"outline-secondary",className:"me-2",onClick:()=>T(!0),disabled:0===M.length,children:["Bulk Actions (",M.length,")"]}),(0,sn.jsxs)(ir,{variant:"primary",onClick:()=>e("/tasks/new"),children:[(0,sn.jsx)(Ol,{className:"me-1"})," New Task"]})]})]}),(()=>{const e={total:t.length,completed:t.filter((e=>"completed"===e.status)).length,inProgress:t.filter((e=>"in_progress"===e.status)).length,notStarted:t.filter((e=>"not_started"===e.status)).length,overdue:t.filter((e=>"completed"!==e.status&&e.dueDate<new Date)).length};return(0,sn.jsxs)(yn,{className:"mb-4",children:[(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsx)(Yn,{className:"border-0 shadow-sm h-100",children:(0,sn.jsxs)(Yn.Body,{className:"d-flex align-items-center",children:[(0,sn.jsx)("div",{className:"icon-wrapper bg-primary bg-opacity-10 rounded p-3 me-3",children:(0,sn.jsx)(ro,{className:"text-primary",size:24})}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("h6",{className:"text-muted mb-1",children:"Total Tasks"}),(0,sn.jsx)("h3",{className:"mb-0",children:e.total})]})]})})}),(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsx)(Yn,{className:"border-0 shadow-sm h-100",children:(0,sn.jsxs)(Yn.Body,{className:"d-flex align-items-center",children:[(0,sn.jsx)("div",{className:"icon-wrapper bg-success bg-opacity-10 rounded p-3 me-3",children:(0,sn.jsx)(Pr,{className:"text-success",size:24})}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("h6",{className:"text-muted mb-1",children:"Completed"}),(0,sn.jsx)("h3",{className:"mb-0",children:e.completed})]})]})})}),(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsx)(Yn,{className:"border-0 shadow-sm h-100",children:(0,sn.jsxs)(Yn.Body,{className:"d-flex align-items-center",children:[(0,sn.jsx)("div",{className:"icon-wrapper bg-warning bg-opacity-10 rounded p-3 me-3",children:(0,sn.jsx)(ro,{className:"text-warning",size:24})}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("h6",{className:"text-muted mb-1",children:"In Progress"}),(0,sn.jsx)("h3",{className:"mb-0",children:e.inProgress})]})]})})}),(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsx)(Yn,{className:"border-0 shadow-sm h-100",children:(0,sn.jsxs)(Yn.Body,{className:"d-flex align-items-center",children:[(0,sn.jsx)("div",{className:"icon-wrapper bg-danger bg-opacity-10 rounded p-3 me-3",children:(0,sn.jsx)(kr,{className:"text-danger",size:24})}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("h6",{className:"text-muted mb-1",children:"Overdue"}),(0,sn.jsx)("h3",{className:"mb-0",children:e.overdue})]})]})})})]})})(),(0,sn.jsx)(Yn,{className:"shadow-sm mb-4",children:(0,sn.jsxs)(Yn.Body,{children:[(0,sn.jsxs)(yn,{className:"mb-3",children:[(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsxs)(nr,{children:[(0,sn.jsx)(nr.Text,{children:(0,sn.jsx)(Ul,{})}),(0,sn.jsx)(Xi.Control,{placeholder:"Search tasks...",value:r,onChange:e=>l(e.target.value)})]})}),(0,sn.jsx)(Nn,{md:2,children:(0,sn.jsxs)(nr,{children:[(0,sn.jsx)(nr.Text,{children:(0,sn.jsx)(ol,{})}),(0,sn.jsxs)(Xi.Select,{value:o,onChange:e=>c(e.target.value),children:[(0,sn.jsx)("option",{value:"all",children:"All Statuses"}),P.map((e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value)))]})]})}),(0,sn.jsx)(Nn,{md:2,children:(0,sn.jsxs)(nr,{children:[(0,sn.jsx)(nr.Text,{children:(0,sn.jsx)(ol,{})}),(0,sn.jsxs)(Xi.Select,{value:d,onChange:e=>u(e.target.value),children:[(0,sn.jsx)("option",{value:"all",children:"All Priorities"}),O.map((e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value)))]})]})}),(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsxs)(nr,{children:[(0,sn.jsx)(nr.Text,{children:(0,sn.jsx)(yo,{})}),(0,sn.jsxs)(Xi.Select,{value:h,onChange:e=>m(e.target.value),children:[(0,sn.jsx)("option",{value:"all",children:"All Assignees"}),R.map((e=>(0,sn.jsx)("option",{value:e.id,children:e.name},e.id)))]})]})}),(0,sn.jsx)(Nn,{md:2,children:(0,sn.jsx)(ir,{variant:"outline-secondary",className:"w-100",onClick:()=>{l(""),c("all"),u("all"),m("all")},children:"Clear Filters"})})]}),D?(0,sn.jsxs)("div",{className:"text-center py-5",children:[(0,sn.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,sn.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,sn.jsx)("p",{className:"mt-3",children:"Loading tasks..."})]}):(0,sn.jsxs)(sn.Fragment,{children:[0===n.length?(0,sn.jsxs)("div",{className:"text-center py-5",children:[(0,sn.jsx)("p",{className:"text-muted mb-3",children:"No tasks found matching your filters."}),(0,sn.jsxs)(ir,{variant:"primary",onClick:()=>e("/tasks/new"),children:[(0,sn.jsx)(Ol,{className:"me-1"})," Create New Task"]})]}):"list"===p?(0,sn.jsx)("div",{className:"table-responsive",children:(0,sn.jsxs)(Uh,{hover:!0,className:"align-middle",children:[(0,sn.jsx)("thead",{children:(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("th",{width:"40",children:(0,sn.jsx)(Xi.Check,{type:"checkbox",onChange:e=>{e.target.checked?I($.map((e=>e.id))):I([])},checked:$.length>0&&$.every((e=>M.includes(e.id)))})}),(0,sn.jsx)("th",{width:"40"}),(0,sn.jsxs)("th",{onClick:()=>U("title"),style:{cursor:"pointer"},children:["Task ","title"===f&&(0,sn.jsx)(Jl,{className:"ms-1 text-"+("asc"===v?"muted":"dark")})]}),(0,sn.jsxs)("th",{onClick:()=>U("company.name"),style:{cursor:"pointer"},children:["Company ","company.name"===f&&(0,sn.jsx)(Jl,{className:"ms-1 text-"+("asc"===v?"muted":"dark")})]}),(0,sn.jsxs)("th",{onClick:()=>U("dueDate"),style:{cursor:"pointer"},children:["Due Date ","dueDate"===f&&(0,sn.jsx)(Jl,{className:"ms-1 text-"+("asc"===v?"muted":"dark")})]}),(0,sn.jsxs)("th",{onClick:()=>U("priority"),style:{cursor:"pointer"},children:["Priority ","priority"===f&&(0,sn.jsx)(Jl,{className:"ms-1 text-"+("asc"===v?"muted":"dark")})]}),(0,sn.jsxs)("th",{onClick:()=>U("assignee"),style:{cursor:"pointer"},children:["Assignee ","assignee"===f&&(0,sn.jsx)(Jl,{className:"ms-1 text-"+("asc"===v?"muted":"dark")})]}),(0,sn.jsxs)("th",{onClick:()=>U("status"),style:{cursor:"pointer"},children:["Status ","status"===f&&(0,sn.jsx)(Jl,{className:"ms-1 text-"+("asc"===v?"muted":"dark")})]}),(0,sn.jsx)("th",{children:"Actions"})]})}),(0,sn.jsx)("tbody",{children:$.map((e=>(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("td",{children:(0,sn.jsx)(Xi.Check,{type:"checkbox",checked:M.includes(e.id),onChange:()=>{return t=e.id,void(M.includes(t)?I(M.filter((e=>e!==t))):I([...M,t]));var t}})}),(0,sn.jsx)("td",{children:(0,sn.jsx)(ir,{variant:"completed"===e.status?"success":"outline-secondary",size:"sm",className:"rounded-circle p-1",onClick:()=>J(e.id),children:"completed"===e.status?(0,sn.jsx)(Pr,{size:12}):null})}),(0,sn.jsx)("td",{children:(0,sn.jsxs)(Le,{to:`/tasks/${e.id}`,className:"text-decoration-none",children:[(0,sn.jsx)("div",{className:"fw-bold",children:e.title}),(0,sn.jsx)("div",{className:"text-muted small text-truncate",style:{maxWidth:"300px"},children:e.description})]})}),(0,sn.jsxs)("td",{children:[(0,sn.jsx)(Le,{to:`/companies/${e.company.id}`,className:"text-decoration-none",children:e.company.name}),e.contact&&(0,sn.jsx)("div",{className:"small text-muted",children:(0,sn.jsx)(Le,{to:`/contacts/${e.contact.id}`,className:"text-decoration-none",children:e.contact.name})})]}),(0,sn.jsx)("td",{children:(0,sn.jsxs)("div",{className:""+(new Date>e.dueDate&&"completed"!==e.status?"text-danger fw-bold":""),children:[W(e.dueDate),(0,sn.jsx)("div",{className:"small text-muted",children:G(e.dueDate)})]})}),(0,sn.jsx)("td",{children:Y(e.priority)}),(0,sn.jsx)("td",{children:X(e.assignee)}),(0,sn.jsx)("td",{children:q(e.status)}),(0,sn.jsx)("td",{children:(0,sn.jsxs)(Bh,{children:[(0,sn.jsx)(Bh.Toggle,{variant:"light",size:"sm",id:`dropdown-${e.id}`,children:(0,sn.jsx)(Yr,{})}),(0,sn.jsxs)(Bh.Menu,{children:[(0,sn.jsxs)(Bh.Item,{as:Le,to:`/tasks/${e.id}`,children:[(0,sn.jsx)(ro,{className:"me-2"})," View Task"]}),(0,sn.jsxs)(Bh.Item,{as:Le,to:`/tasks/${e.id}/edit`,children:[(0,sn.jsx)(Ll,{className:"me-2"})," Edit"]}),(0,sn.jsxs)(Bh.Item,{onClick:()=>J(e.id),children:[(0,sn.jsx)(Pr,{className:"me-2"})," ","completed"===e.status?"Mark Incomplete":"Mark Complete"]}),(0,sn.jsx)(Bh.Divider,{}),(0,sn.jsxs)(Bh.Item,{className:"text-danger",onClick:()=>K(e),children:[(0,sn.jsx)(uo,{className:"me-2"})," Delete"]})]})]})})]},e.id)))})]})}):(0,sn.jsx)(yn,{children:$.map((e=>(0,sn.jsx)(Nn,{md:4,className:"mb-4",children:(0,sn.jsxs)(Yn,{className:"h-100 shadow-sm",children:[(0,sn.jsxs)(Yn.Header,{className:"d-flex justify-content-between align-items-center",children:[(0,sn.jsxs)("div",{children:[Y(e.priority),q(e.status)]}),(0,sn.jsxs)(Bh,{children:[(0,sn.jsx)(Bh.Toggle,{variant:"light",size:"sm",id:`dropdown-${e.id}`,children:(0,sn.jsx)(Yr,{})}),(0,sn.jsxs)(Bh.Menu,{children:[(0,sn.jsxs)(Bh.Item,{as:Le,to:`/tasks/${e.id}`,children:[(0,sn.jsx)(ro,{className:"me-2"})," View Task"]}),(0,sn.jsxs)(Bh.Item,{as:Le,to:`/tasks/${e.id}/edit`,children:[(0,sn.jsx)(Ll,{className:"me-2"})," Edit"]}),(0,sn.jsxs)(Bh.Item,{onClick:()=>J(e.id),children:[(0,sn.jsx)(Pr,{className:"me-2"})," ","completed"===e.status?"Mark Incomplete":"Mark Complete"]}),(0,sn.jsx)(Bh.Divider,{}),(0,sn.jsxs)(Bh.Item,{className:"text-danger",onClick:()=>K(e),children:[(0,sn.jsx)(uo,{className:"me-2"})," Delete"]})]})]})]}),(0,sn.jsxs)(Yn.Body,{children:[(0,sn.jsxs)("div",{className:"d-flex mb-3",children:[(0,sn.jsx)(ir,{variant:"completed"===e.status?"success":"outline-secondary",size:"sm",className:"rounded-circle p-1 me-2",onClick:()=>J(e.id),children:"completed"===e.status?(0,sn.jsx)(Pr,{size:12}):null}),(0,sn.jsx)(Le,{to:`/tasks/${e.id}`,className:"text-decoration-none",children:(0,sn.jsx)("h5",{className:"mb-0",children:e.title})})]}),(0,sn.jsx)("p",{className:"text-muted small",children:e.description}),(0,sn.jsxs)("div",{className:"mb-3",children:[(0,sn.jsx)("div",{className:"text-muted small",children:"Due Date"}),(0,sn.jsxs)("div",{className:""+(new Date>e.dueDate&&"completed"!==e.status?"text-danger fw-bold":""),children:[W(e.dueDate)," - ",G(e.dueDate)]})]}),(0,sn.jsxs)("div",{className:"mb-3",children:[(0,sn.jsx)("div",{className:"text-muted small",children:"Company"}),(0,sn.jsx)("div",{children:(0,sn.jsx)(Le,{to:`/companies/${e.company.id}`,className:"text-decoration-none",children:e.company.name})}),e.contact&&(0,sn.jsxs)("div",{className:"small",children:["Contact: ",(0,sn.jsx)(Le,{to:`/contacts/${e.contact.id}`,className:"text-decoration-none",children:e.contact.name})]})]})]}),(0,sn.jsx)(Yn.Footer,{className:"bg-white",children:(0,sn.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,sn.jsxs)("div",{className:"text-muted small",children:["Assigned to: ",X(e.assignee)]}),(0,sn.jsx)("div",{children:(0,sn.jsx)(ir,{as:Le,to:`/tasks/${e.id}`,variant:"outline-primary",size:"sm",children:"View"})})]})})]})},e.id)))}),(()=>{if(H<=1)return null;const e=[];for(let t=1;t<=H;t++)e.push((0,sn.jsx)(Ib.Item,{active:t===b,onClick:()=>V(t),children:t},t));return(0,sn.jsxs)(Ib,{className:"justify-content-center",children:[(0,sn.jsx)(Ib.Prev,{onClick:()=>V(Math.max(1,b-1)),disabled:1===b}),e,(0,sn.jsx)(Ib.Next,{onClick:()=>V(Math.min(H,b+1)),disabled:b===H})]})})()]})]})}),(0,sn.jsxs)(yy,{show:N,onHide:()=>C(!1),children:[(0,sn.jsx)(yy.Header,{closeButton:!0,children:(0,sn.jsx)(yy.Title,{children:"Confirm Delete"})}),(0,sn.jsxs)(yy.Body,{children:["Are you sure you want to delete task ",(0,sn.jsx)("strong",{children:null===S||void 0===S?void 0:S.title}),"?",(0,sn.jsx)("div",{className:"mt-3 text-danger",children:"This action cannot be undone."})]}),(0,sn.jsxs)(yy.Footer,{children:[(0,sn.jsx)(ir,{variant:"secondary",onClick:()=>C(!1),children:"Cancel"}),(0,sn.jsx)(ir,{variant:"danger",onClick:()=>{S&&(s(t.filter((e=>e.id!==S.id))),C(!1),k(null))},children:"Delete Task"})]})]}),(0,sn.jsxs)(yy,{show:A,onHide:()=>T(!1),children:[(0,sn.jsx)(yy.Header,{closeButton:!0,children:(0,sn.jsx)(yy.Title,{children:"Bulk Actions"})}),(0,sn.jsxs)(yy.Body,{children:[(0,sn.jsxs)("p",{children:["Apply action to ",M.length," selected tasks:"]}),(0,sn.jsx)(Xi.Group,{className:"mb-3",children:(0,sn.jsxs)(Xi.Select,{value:E,onChange:e=>L(e.target.value),children:[(0,sn.jsx)("option",{value:"",children:"-- Select Action --"}),(0,sn.jsx)("option",{value:"complete",children:"Mark as Completed"}),(0,sn.jsx)("option",{value:"in_progress",children:"Mark as In Progress"}),(0,sn.jsx)("option",{value:"delete",children:"Delete Tasks"})]})}),"delete"===E&&(0,sn.jsxs)(gi,{variant:"danger",children:[(0,sn.jsx)("strong",{children:"Warning:"})," This will permanently delete the selected tasks and cannot be undone."]})]}),(0,sn.jsxs)(yy.Footer,{children:[(0,sn.jsx)(ir,{variant:"secondary",onClick:()=>T(!1),children:"Cancel"}),(0,sn.jsx)(ir,{variant:"delete"===E?"danger":"primary",onClick:()=>{if(0===M.length)return;const e=t.map((e=>{if(M.includes(e.id))switch(E){case"complete":return{...e,status:"completed",completedDate:new Date};case"in_progress":return{...e,status:"in_progress",completedDate:null};case"delete":return null;default:return e}return e})).filter((e=>null!==e));s(e),I([]),T(!1)},disabled:!E,children:"Apply"})]})]})]})},Bw=()=>{const e=ee(),{id:t}=se(),[s,n]=(0,a.useState)(null),[i,r]=(0,a.useState)(null),[l,o]=(0,a.useState)([]),[c,d]=(0,a.useState)(""),[u,h]=(0,a.useState)([]),[m,p]=(0,a.useState)([]),[x,f]=(0,a.useState)([]),[g,v]=(0,a.useState)(""),[j,b]=(0,a.useState)(!0),[y,w]=(0,a.useState)([]),[N,C]=(0,a.useState)(!1),[S,k]=(0,a.useState)(!1),[D,_]=(0,a.useState)(!1),A=[{value:"not_started",label:"Not Started",color:"secondary"},{value:"in_progress",label:"In Progress",color:"primary"},{value:"pending",label:"Pending",color:"warning"},{value:"completed",label:"Completed",color:"success"},{value:"cancelled",label:"Cancelled",color:"danger"}],T=[{value:"low",label:"Low",color:"info"},{value:"medium",label:"Medium",color:"warning"},{value:"high",label:"High",color:"danger"},{value:"urgent",label:"Urgent",color:"dark"}];(0,a.useEffect)((()=>{b(!0),setTimeout((()=>{const e=E(parseInt(t));n(e),r(JSON.parse(JSON.stringify(e)));const s=L(parseInt(t));o(s);const a=M(parseInt(t));h(a);const i=I(parseInt(t));p(i),f(JSON.parse(JSON.stringify(i)));const l=P(parseInt(t));w(l),b(!1),C(!1)}),1e3)}),[t]),(0,a.useEffect)((()=>{if(s&&i){const e=JSON.stringify(s)!==JSON.stringify(i),t=JSON.stringify(m)!==JSON.stringify(x);C(e||t)}}),[s,m,i,x]);const E=e=>{const t=["Call","Email","Meeting","Follow-up","Proposal","Delivery","Payment"][e%7],s={id:e%5+1,name:["ABC Logistics","XYZ Retail","Tech Solutions Inc.","Global Shipping Co.","Metro Electronics"][e%5]},n={id:e%5+1,name:["John Doe","Jane Smith","Robert Johnson","Emma Williams","Michael Brown"][e%5],company:s.name},a=new Date,i=new Date(a);i.setDate(i.getDate()+e%14-7);const r=new Date(i);let l;r.setDate(r.getDate()-3),l=i<a?e%2===0?"completed":"not_started":["not_started","in_progress","pending","in_progress"][e%4];const o="completed"===l?new Date(i.getTime()-864e5*Math.random()):null;return{id:e,title:`${t} with ${s.name}`,description:`${t} regarding our services with ${s.name}. Discuss the current service plan and potential upgrades. ${n?`Primary contact is ${n.name}.`:""}`,type:t.toLowerCase(),status:l,priority:["low","medium","high","urgent"][e%4],assignee:e%5+1,assigneeName:["John Smith","Sarah Johnson","Michael Brown","Emily Davis","David Wilson"][e%5],dueDate:i,createdDate:r,completedDate:o,company:s,contact:n,notes:`This ${t.toLowerCase()} was scheduled to discuss their current service requirements and explore options for expanding our partnership. We should prepare a proposal for potential service upgrades.`,attachments:e%3===0?[{id:1,name:"Meeting_Agenda.pdf",type:"pdf",size:"245 KB",uploadDate:new Date(r.getTime()+36e5)},{id:2,name:"Service_Proposal.docx",type:"docx",size:"156 KB",uploadDate:new Date(r.getTime()+72e5)}]:[],location:"Meeting"===t?"Client Office - 123 Business Ave, Suite 400":null,duration:"Call"===t||"Meeting"===t?"1 hour":null,reminderSet:!0,reminderTime:new Date(i.getTime()-36e5),customFields:{Department:["Sales","Support","Operations","Finance","Marketing"][e%5],Purpose:["New Business","Retention","Upsell","Support","Information"][e%5]}}},L=e=>{const t=e%5+1,s=new Date,n=[{id:1,name:"John Smith",avatar:null},{id:2,name:"Sarah Johnson",avatar:null},{id:3,name:"Michael Brown",avatar:null},{id:4,name:"Emily Davis",avatar:null},{id:5,name:"David Wilson",avatar:null}],a=["I've reviewed this and it looks good to move forward.","Let's discuss this in our team meeting tomorrow.","I need more information before proceeding. Can you provide details about their current service plan?","I've contacted the client and they're available next week for a follow-up.","The proposal has been sent to the client. Awaiting their response.","Client has confirmed receipt of our documents.","I've added some reference materials to the shared folder.","Let's prioritize this for end of week completion."];return Array.from({length:t},((e,t)=>{const i=new Date(s);i.setDate(i.getDate()-t),i.setHours(9+t,Math.floor(60*Math.random()),0,0);return{id:t+1,text:a[t%a.length],user:n[t%n.length],timestamp:i,attachments:[]}})).sort(((e,t)=>t.timestamp-e.timestamp))},M=e=>{const t=e%8+3,s=new Date,n=[{id:1,name:"John Smith"},{id:2,name:"Sarah Johnson"},{id:3,name:"Michael Brown"},{id:4,name:"Emily Davis"},{id:5,name:"David Wilson"}],a=[{type:"created",message:"created this task"},{type:"updated",message:"updated the task details"},{type:"status_change",message:"changed the status to"},{type:"assigned",message:"assigned this task to"},{type:"commented",message:"commented on this task"},{type:"attachment",message:"added an attachment"},{type:"subtask",message:"added a subtask"},{type:"completed",message:"marked this task as completed"},{type:"reopened",message:"reopened this task"}],i=["not_started","in_progress","pending","completed"];return Array.from({length:t},((r,l)=>{const o=new Date(s);o.setDate(o.getDate()-(t-l)),o.setHours(9+Math.floor(8*Math.random()),Math.floor(60*Math.random()),0,0);const c=n[l%n.length];let d,u=null;return 0===l?d=a[0]:l===t-1&&e%2===0?d=a[7]:(d=a[1+l%(a.length-1)],"status_change"===d.type?u=i[l%i.length]:"assigned"===d.type&&(u=n[(l+1)%n.length].name)),{id:l+1,type:d.type,message:d.message,details:u,user:c,timestamp:o}})).sort(((e,t)=>t.timestamp-e.timestamp))},I=e=>{const t=e%4+1,s=["Research client history","Prepare presentation materials","Schedule follow-up meeting","Update CRM with new contact information","Review proposal with manager","Get approvals from finance department","Send confirmation email","Prepare agenda for discussion"];return Array.from({length:t},((n,a)=>({id:a+1,title:s[(e+a)%s.length],completed:a<t/2,createdAt:new Date((new Date).setDate((new Date).getDate()-(t-a)))})))},P=e=>{const t=e%3+1,s=new Date;return Array.from({length:t},((t,n)=>{const a=(e+n+10)%30+1,i=new Date(s);return i.setDate(i.getDate()+a%10-5),{id:a,title:["Follow-up Call","Send Proposal","Contract Review","Delivery Schedule","Payment Confirmation"][n%5],status:["not_started","in_progress","completed"][n%3],dueDate:i,assigneeName:["John Smith","Sarah Johnson","Michael Brown","Emily Davis"][n%4]}}))},O=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"",R=e=>e?new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",F=e=>{const t=A.find((t=>t.value===e));return t?(0,sn.jsx)(Cb,{bg:t.color,className:"text-uppercase",children:t.label}):null},z=e=>{n({...s,status:e,completedDate:"completed"===e?new Date:null});const t={id:u.length+1,type:"status_change",message:"changed the status to",details:e,user:{id:1,name:"John Smith"},timestamp:new Date};h([t,...u])},B=()=>{if(!g.trim())return;const e={id:m.length+1,title:g,completed:!1,createdAt:new Date},t=[...m,e];p(t);const s={id:u.length+1,type:"subtask",message:"added a subtask",user:{id:1,name:"John Smith"},timestamp:new Date};h([s,...u]),v("")},$=e=>!!e&&("completed"!==e.status&&e.dueDate<new Date);return j?(0,sn.jsx)("div",{className:"container-fluid py-4",children:(0,sn.jsxs)("div",{className:"text-center py-5",children:[(0,sn.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,sn.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,sn.jsx)("p",{className:"mt-3",children:"Loading task details..."})]})}):(0,sn.jsxs)("div",{className:"container-fluid py-4",children:[(0,sn.jsx)(Ob,{title:"Task Details",backButton:!0}),D&&(0,sn.jsxs)(gi,{variant:"success",className:"mb-4 d-flex align-items-center",children:[(0,sn.jsx)(Mr,{className:"me-2"}),(0,sn.jsx)("span",{children:"Task updated successfully!"})]}),(0,sn.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,sn.jsxs)("div",{className:"d-flex align-items-center",children:[(0,sn.jsx)(ir,{variant:"completed"===s.status?"success":"outline-secondary",className:"rounded-circle p-2 me-3",onClick:()=>z("completed"===s.status?"in_progress":"completed"),children:"completed"===s.status?(0,sn.jsx)(Mr,{size:20}):(0,sn.jsx)(Co,{size:20})}),(0,sn.jsx)("h2",{className:"mb-0",children:s.title})]}),(0,sn.jsxs)("div",{children:[N&&(0,sn.jsx)(ir,{variant:"success",className:"me-2",onClick:()=>{N&&(k(!0),setTimeout((()=>{console.log("Saving task changes:",s),console.log("Saving subtask changes:",m);const e={id:u.length+1,type:"updated",message:"saved changes to this task",user:{id:1,name:"John Smith"},timestamp:new Date};h([e,...u]),r(JSON.parse(JSON.stringify(s))),f(JSON.parse(JSON.stringify(m))),_(!0),C(!1),k(!1),setTimeout((()=>{_(!1)}),3e3)}),1e3))},disabled:S,children:S?(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Saving..."]}):(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(Vl,{className:"me-1"})," Save Changes"]})}),(0,sn.jsxs)(Bh,{className:"d-inline-block me-2",children:[(0,sn.jsx)(Bh.Toggle,{variant:"outline-primary",children:F(s.status)}),(0,sn.jsx)(Bh.Menu,{children:A.map((e=>(0,sn.jsx)(Bh.Item,{onClick:()=>z(e.value),active:s.status===e.value,children:(0,sn.jsx)(Cb,{bg:e.color,className:"text-uppercase me-2",children:e.label})},e.value)))})]}),(0,sn.jsxs)(ir,{variant:"outline-secondary",className:"me-2",as:Le,to:`/tasks/${s.id}/edit`,children:[(0,sn.jsx)(Ll,{className:"me-1"})," Edit"]}),(0,sn.jsxs)(ir,{variant:"outline-danger",onClick:()=>{window.confirm(`Are you sure you want to delete this task: ${s.title}?`)&&e("/tasks")},children:[(0,sn.jsx)(uo,{className:"me-1"})," Delete"]})]})]}),(0,sn.jsxs)(yn,{children:[(0,sn.jsxs)(Nn,{lg:8,children:[(0,sn.jsx)(Yn,{className:"shadow-sm mb-4",children:(0,sn.jsxs)(Yn.Body,{children:[(0,sn.jsxs)("div",{className:"task-description mb-4",children:[(0,sn.jsx)("h5",{className:"border-bottom pb-2",children:"Description"}),(0,sn.jsx)("p",{children:s.description}),s.notes&&(0,sn.jsxs)("div",{className:"bg-light p-3 rounded",children:[(0,sn.jsx)("h6",{children:"Notes"}),(0,sn.jsx)("p",{className:"mb-0",children:s.notes})]})]}),m.length>0&&(0,sn.jsxs)("div",{className:"subtasks mb-4",children:[(0,sn.jsx)("h5",{className:"border-bottom pb-2",children:"Subtasks"}),(0,sn.jsx)(mb,{variant:"flush",children:m.map((e=>(0,sn.jsx)(mb.Item,{className:"ps-0 border-0 py-2",children:(0,sn.jsxs)("div",{className:"d-flex align-items-start",children:[(0,sn.jsx)(ir,{variant:e.completed?"success":"outline-secondary",size:"sm",className:"rounded-circle p-1 me-2 mt-1",onClick:()=>(e=>{const t=m.map((t=>t.id===e?{...t,completed:!t.completed}:t));p(t);const s=m.find((t=>t.id===e)).completed?"reopened":"completed",n={id:u.length+1,type:"subtask_update",message:`${s} a subtask`,user:{id:1,name:"John Smith"},timestamp:new Date};h([n,...u])})(e.id),children:e.completed?(0,sn.jsx)(Mr,{size:14}):(0,sn.jsx)(Co,{size:14})}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("div",{className:e.completed?"text-decoration-line-through text-muted":"",children:e.title}),(0,sn.jsxs)("div",{className:"small text-muted",children:["Added ",O(e.createdAt)]})]})]})},e.id)))})]}),(0,sn.jsx)("div",{className:"add-subtask mb-4",children:(0,sn.jsx)(Xi.Group,{children:(0,sn.jsxs)("div",{className:"d-flex",children:[(0,sn.jsx)(Xi.Control,{placeholder:"Add a subtask...",value:g,onChange:e=>v(e.target.value),onKeyPress:e=>"Enter"===e.key&&B()}),(0,sn.jsxs)(ir,{variant:"outline-primary",className:"ms-2",onClick:B,disabled:!g.trim(),children:[(0,sn.jsx)(Ol,{})," Add"]})]})})}),(0,sn.jsxs)("div",{className:"comments mb-4",children:[(0,sn.jsx)("h5",{className:"border-bottom pb-2",children:"Comments"}),(0,sn.jsx)("div",{className:"mb-3",children:(0,sn.jsxs)(Xi.Group,{children:[(0,sn.jsx)(Xi.Control,{as:"textarea",rows:3,placeholder:"Add a comment...",value:c,onChange:e=>d(e.target.value)}),(0,sn.jsx)("div",{className:"d-flex justify-content-end mt-2",children:(0,sn.jsxs)(ir,{variant:"primary",onClick:()=>{if(!c.trim())return;const e={id:l.length+1,text:c,user:{id:1,name:"John Smith",avatar:null},timestamp:new Date,attachments:[]};o([e,...l]);const t={id:u.length+1,type:"commented",message:"commented on this task",user:{id:1,name:"John Smith"},timestamp:new Date};h([t,...u]),d("")},disabled:!c.trim(),children:[(0,sn.jsx)(Hr,{className:"me-1"})," Add Comment"]})})]})}),l.length>0?(0,sn.jsx)("div",{className:"comments-list",children:l.map((e=>(0,sn.jsxs)("div",{className:"comment mb-3 p-3 bg-light rounded",children:[(0,sn.jsxs)("div",{className:"d-flex justify-content-between mb-2",children:[(0,sn.jsx)("div",{className:"fw-bold",children:e.user.name}),(0,sn.jsx)("div",{className:"text-muted small",children:R(e.timestamp)})]}),(0,sn.jsx)("div",{children:e.text})]},e.id)))}):(0,sn.jsx)("div",{className:"text-center text-muted py-3",children:"No comments yet"})]})]})}),s.attachments&&s.attachments.length>0&&(0,sn.jsxs)(Yn,{className:"shadow-sm mb-4",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white",children:(0,sn.jsx)("h5",{className:"mb-0",children:"Attachments"})}),(0,sn.jsx)(Yn.Body,{children:(0,sn.jsx)(mb,{variant:"flush",children:s.attachments.map((e=>(0,sn.jsxs)(mb.Item,{className:"d-flex justify-content-between align-items-center py-3",children:[(0,sn.jsxs)("div",{className:"d-flex align-items-center",children:[(0,sn.jsx)(El,{className:"me-2 text-primary"}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("div",{className:"fw-bold",children:e.name}),(0,sn.jsxs)("div",{className:"small text-muted",children:[e.size," \u2022 Uploaded ",O(e.uploadDate)]})]})]}),(0,sn.jsx)(ir,{variant:"outline-primary",size:"sm",children:"Download"})]},e.id)))})})]}),(0,sn.jsxs)(Yn,{className:"shadow-sm mb-4",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white",children:(0,sn.jsx)("h5",{className:"mb-0",children:"Activity"})}),(0,sn.jsx)(Yn.Body,{className:"p-0",children:(0,sn.jsx)(mb,{variant:"flush",children:u.map((e=>(0,sn.jsx)(mb.Item,{className:"py-3",children:(0,sn.jsxs)("div",{className:"d-flex",children:[(0,sn.jsxs)("div",{className:"me-3",children:["created"===e.type&&(0,sn.jsx)(Ol,{className:"text-success"}),"updated"===e.type&&(0,sn.jsx)(Ll,{className:"text-primary"}),"status_change"===e.type&&(0,sn.jsx)(zl,{className:"text-warning"}),"assigned"===e.type&&(0,sn.jsx)(xo,{className:"text-info"}),"commented"===e.type&&(0,sn.jsx)(Hr,{className:"text-secondary"}),"attachment"===e.type&&(0,sn.jsx)(El,{className:"text-primary"}),"subtask"===e.type&&(0,sn.jsx)(Ir,{className:"text-success"}),"completed"===e.type&&(0,sn.jsx)(Mr,{className:"text-success"}),"reopened"===e.type&&(0,sn.jsx)(zl,{className:"text-warning"})]}),(0,sn.jsxs)("div",{children:[(0,sn.jsxs)("div",{children:[(0,sn.jsx)("span",{className:"fw-bold",children:e.user.name})," ",(0,sn.jsx)("span",{children:e.message})," ",e.details&&(0,sn.jsx)("span",{className:"fw-bold",children:"status_change"===e.type?F(e.details):e.details})]}),(0,sn.jsx)("div",{className:"text-muted small",children:R(e.timestamp)})]})]})},e.id)))})})]})]}),(0,sn.jsxs)(Nn,{lg:4,children:[(0,sn.jsxs)(Yn,{className:"shadow-sm mb-4",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white",children:(0,sn.jsx)("h5",{className:"mb-0",children:"Task Details"})}),(0,sn.jsx)(Yn.Body,{className:"p-0",children:(0,sn.jsxs)(mb,{variant:"flush",children:[(0,sn.jsxs)(mb.Item,{className:"d-flex justify-content-between py-3",children:[(0,sn.jsx)("span",{className:"text-muted",children:"Status"}),(0,sn.jsx)("span",{children:F(s.status)})]}),(0,sn.jsxs)(mb.Item,{className:"d-flex justify-content-between py-3",children:[(0,sn.jsx)("span",{className:"text-muted",children:"Priority"}),(0,sn.jsx)("span",{children:(e=>{const t=T.find((t=>t.value===e));return t?(0,sn.jsx)(Cb,{bg:t.color,className:"text-uppercase",children:t.label}):null})(s.priority)})]}),(0,sn.jsxs)(mb.Item,{className:"d-flex justify-content-between py-3",children:[(0,sn.jsx)("span",{className:"text-muted",children:"Due Date"}),(0,sn.jsxs)("span",{className:$(s)?"text-danger fw-bold":"",children:[O(s.dueDate)," ",(H=s.dueDate,H?new Date(H).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):""),$(s)&&(0,sn.jsx)("span",{className:"ms-2",children:(0,sn.jsx)(Xr,{className:"text-danger",size:14})})]})]}),(0,sn.jsxs)(mb.Item,{className:"d-flex justify-content-between py-3",children:[(0,sn.jsx)("span",{className:"text-muted",children:"Created"}),(0,sn.jsx)("span",{children:O(s.createdDate)})]}),s.completedDate&&(0,sn.jsxs)(mb.Item,{className:"d-flex justify-content-between py-3",children:[(0,sn.jsx)("span",{className:"text-muted",children:"Completed"}),(0,sn.jsx)("span",{children:O(s.completedDate)})]}),(0,sn.jsxs)(mb.Item,{className:"d-flex justify-content-between py-3",children:[(0,sn.jsx)("span",{className:"text-muted",children:"Assigned To"}),(0,sn.jsx)("span",{children:s.assigneeName})]}),s.duration&&(0,sn.jsxs)(mb.Item,{className:"d-flex justify-content-between py-3",children:[(0,sn.jsx)("span",{className:"text-muted",children:"Duration"}),(0,sn.jsx)("span",{children:s.duration})]}),s.location&&(0,sn.jsxs)(mb.Item,{className:"d-flex justify-content-between py-3",children:[(0,sn.jsx)("span",{className:"text-muted",children:"Location"}),(0,sn.jsx)("span",{children:s.location})]}),s.reminderSet&&(0,sn.jsxs)(mb.Item,{className:"d-flex justify-content-between py-3",children:[(0,sn.jsx)("span",{className:"text-muted",children:"Reminder"}),(0,sn.jsx)("span",{children:R(s.reminderTime)})]})]})})]}),(0,sn.jsxs)(Yn,{className:"shadow-sm mb-4",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white",children:(0,sn.jsx)("h5",{className:"mb-0",children:"Related"})}),(0,sn.jsx)(Yn.Body,{className:"p-0",children:(0,sn.jsxs)(mb,{variant:"flush",children:[(0,sn.jsx)(mb.Item,{className:"py-3",children:(0,sn.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,sn.jsxs)("div",{className:"d-flex align-items-center",children:[(0,sn.jsx)(Sr,{className:"text-primary me-2"}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("div",{className:"fw-bold",children:"Company"}),(0,sn.jsx)(Le,{to:`/companies/${s.company.id}`,className:"text-decoration-none",children:s.company.name})]})]}),(0,sn.jsx)(ir,{variant:"outline-primary",size:"sm",as:Le,to:`/companies/${s.company.id}`,children:"View"})]})}),s.contact&&(0,sn.jsx)(mb.Item,{className:"py-3",children:(0,sn.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,sn.jsxs)("div",{className:"d-flex align-items-center",children:[(0,sn.jsx)(xo,{className:"text-primary me-2"}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("div",{className:"fw-bold",children:"Contact"}),(0,sn.jsx)(Le,{to:`/contacts/${s.contact.id}`,className:"text-decoration-none",children:s.contact.name})]})]}),(0,sn.jsx)(ir,{variant:"outline-primary",size:"sm",as:Le,to:`/contacts/${s.contact.id}`,children:"View"})]})}),Object.entries(s.customFields).map((e=>{let[t,s]=e;return(0,sn.jsx)(mb.Item,{className:"py-3",children:(0,sn.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,sn.jsx)("span",{className:"text-muted",children:t}),(0,sn.jsx)("span",{children:s})]})},t)}))]})})]}),y.length>0&&(0,sn.jsxs)(Yn,{className:"shadow-sm mb-4",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white",children:(0,sn.jsx)("h5",{className:"mb-0",children:"Related Tasks"})}),(0,sn.jsx)(Yn.Body,{className:"p-0",children:(0,sn.jsx)(mb,{variant:"flush",children:y.map((e=>(0,sn.jsx)(mb.Item,{className:"py-3",children:(0,sn.jsx)(Le,{to:`/tasks/${e.id}`,className:"text-decoration-none",children:(0,sn.jsxs)("div",{className:"d-flex align-items-start",children:[(0,sn.jsx)("div",{className:"me-2",children:"completed"===e.status?(0,sn.jsx)(Mr,{className:"text-success"}):(0,sn.jsx)(Co,{className:"text-secondary"})}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("div",{className:"fw-bold",children:e.title}),(0,sn.jsxs)("div",{className:"small text-muted",children:["Due: ",O(e.dueDate)," \u2022 Assigned to: ",e.assigneeName]})]})]})})},e.id)))})})]})]})]})]});var H},$w=()=>{var e,t,s,n,i;const r=ee(),{id:l}=se(),o=!!l,[c,d]=(0,a.useState)(!1),[u,h]=(0,a.useState)(!1),[m,p]=(0,a.useState)(""),[x,f]=(0,a.useState)({}),[g,v]=(0,a.useState)({title:"",description:"",type:"call",status:"not_started",priority:"medium",assignee:"",dueDate:"",dueTime:"",company:"",contact:"",location:"",duration:"",notes:"",setReminder:!1,reminderTime:"",customFields:[]}),[j,b]=(0,a.useState)([]),[y,w]=(0,a.useState)([]),[N,C]=(0,a.useState)([]),[S,k]=(0,a.useState)([]),[D,_]=(0,a.useState)([]),[A,T]=(0,a.useState)([]),[E,L]=(0,a.useState)(!1),[M,I]=(0,a.useState)(""),[P,O]=(0,a.useState)(""),[R,F]=(0,a.useState)([]),[z,B]=(0,a.useState)(0),$=[{value:"call",label:"Call"},{value:"email",label:"Email"},{value:"meeting",label:"Meeting"},{value:"follow_up",label:"Follow-up"},{value:"proposal",label:"Proposal"},{value:"delivery",label:"Delivery"},{value:"payment",label:"Payment"},{value:"other",label:"Other"}],H=[{value:"low",label:"Low",color:"info"},{value:"medium",label:"Medium",color:"warning"},{value:"high",label:"High",color:"danger"},{value:"urgent",label:"Urgent",color:"dark"}],V=[{id:1,name:"Department",options:["Sales","Support","Operations","Finance","Marketing"]},{id:2,name:"Purpose",options:["New Business","Retention","Upsell","Support","Information"]},{id:3,name:"Campaign",options:["Spring Promotion","Summer Sale","New Product Launch","Customer Appreciation"]},{id:4,name:"Lead Source",options:["Website","Referral","Cold Call","Trade Show","Partner"]}];(0,a.useEffect)((()=>{if(U(),W(),G(),_(V),o)q();else{const e=new Date,t=new Date(e);t.setDate(t.getDate()+1),t.setHours(12,0,0,0),v({...g,dueDate:t.toISOString().split("T")[0],dueTime:"12:00",assignee:"1"})}}),[l,o]);const U=()=>{setTimeout((()=>{b([{id:1,name:"ABC Logistics"},{id:2,name:"XYZ Retail"},{id:3,name:"Tech Solutions Inc."},{id:4,name:"Global Shipping Co."},{id:5,name:"Metro Electronics"}])}),300)},W=()=>{setTimeout((()=>{const e=[{id:1,name:"John Doe",company:1},{id:2,name:"Jane Smith",company:2},{id:3,name:"Robert Johnson",company:3},{id:4,name:"Emma Williams",company:4},{id:5,name:"Michael Brown",company:5},{id:6,name:"Sarah Davis",company:1},{id:7,name:"David Wilson",company:2},{id:8,name:"Lisa Miller",company:3}];w(e),C(e)}),300)},G=()=>{setTimeout((()=>{k([{id:1,name:"John Smith",role:"Sales Representative"},{id:2,name:"Sarah Johnson",role:"Sales Manager"},{id:3,name:"Michael Brown",role:"Account Executive"},{id:4,name:"Emily Davis",role:"Customer Support"},{id:5,name:"David Wilson",role:"Delivery Driver"}])}),300)},q=()=>{d(!0),setTimeout((()=>{var e;const t=["call","email","meeting","follow_up","proposal","delivery","payment"],s=t[l%t.length],n=l%5+1,a=(l%8+1).toString(),i=new Date;i.setDate(i.getDate()+3);const r=[{name:"Department",value:"Sales"},{name:"Purpose",value:"Upsell"}],o={id:parseInt(l),title:`${s.charAt(0).toUpperCase()+s.slice(1)} with ${(null===(e=j.find((e=>e.id===n)))||void 0===e?void 0:e.name)||"Client"}`,description:`Scheduled ${s} to discuss our services and possible extensions.`,type:s,status:["not_started","in_progress","pending","completed"][l%4],priority:["low","medium","high","urgent"][l%4],assignee:(l%5+1).toString(),dueDate:i.toISOString().split("T")[0],dueTime:"14:00",company:n.toString(),contact:a,location:"meeting"===s?"Client Office - 123 Business Ave, Suite 400":"",duration:"call"===s||"meeting"===s?"1hour":"",notes:"Prepare discussion points about our new premium service tier.",setReminder:!0,reminderTime:"1hour",customFields:r};v(o),T(r.map((e=>e.name))),Y(n.toString()),d(!1)}),1e3)},Y=e=>{if(!e)return void C(y);const t=y.filter((t=>t.company===parseInt(e)));C(t)},K=e=>{const{name:t,value:s,type:n,checked:a}=e.target;if(v("checkbox"===n?{...g,[t]:a}:{...g,[t]:s}),"company"===t&&(Y(s),g.contact)){if(!y.find((e=>e.id===parseInt(g.contact)&&e.company===parseInt(s))))return void v({...g,[t]:s,contact:""})}},J=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]};return(0,sn.jsxs)("div",{className:"container-fluid py-4",children:[(0,sn.jsx)(Ob,{title:o?"Edit Task":"Create New Task",backButton:!0}),(0,sn.jsxs)(Xi,{onSubmit:e=>{e.preventDefault(),(()=>{const e={};return g.title.trim()||(e.title="Task title is required"),g.dueDate||(e.dueDate="Due date is required"),g.assignee||(e.assignee="Please select an assignee"),f(e),0===Object.keys(e).length})()&&(d(!0),p(""),setTimeout((()=>{try{console.log("Saving task:",g),console.log("Attachments:",R),h(!0),setTimeout((()=>{r("/tasks")}),1500)}catch(e){p(e.message||"An error occurred while saving the task"),d(!1)}}),1e3))},children:[u&&(0,sn.jsxs)(gi,{variant:"success",className:"mb-4",children:["Task ",o?"updated":"created"," successfully!"]}),m&&(0,sn.jsx)(gi,{variant:"danger",className:"mb-4",children:m}),(0,sn.jsxs)(yn,{children:[(0,sn.jsxs)(Nn,{lg:8,children:[(0,sn.jsxs)(Yn,{className:"shadow-sm mb-4",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white",children:(0,sn.jsx)("h5",{className:"mb-0",children:"Task Information"})}),(0,sn.jsx)(Yn.Body,{children:c&&o?(0,sn.jsxs)("div",{className:"text-center py-5",children:[(0,sn.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,sn.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,sn.jsx)("p",{className:"mt-3",children:"Loading task data..."})]}):(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:12,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:["Task Title ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsx)(Xi.Control,{type:"text",name:"title",value:g.title,onChange:K,isInvalid:!!x.title,placeholder:"e.g., Call with ABC Logistics about contract renewal",required:!0}),(0,sn.jsx)(Xi.Control.Feedback,{type:"invalid",children:x.title})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Task Type"}),(0,sn.jsx)(Xi.Select,{name:"type",value:g.type,onChange:K,children:$.map((e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value)))})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Status"}),(0,sn.jsx)(Xi.Select,{name:"status",value:g.status,onChange:K,children:[{value:"not_started",label:"Not Started",color:"secondary"},{value:"in_progress",label:"In Progress",color:"primary"},{value:"pending",label:"Pending",color:"warning"},{value:"completed",label:"Completed",color:"success"},{value:"cancelled",label:"Cancelled",color:"danger"}].map((e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value)))})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Priority"}),(0,sn.jsx)(Xi.Select,{name:"priority",value:g.priority,onChange:K,children:H.map((e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value)))})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:[(0,sn.jsx)(xo,{className:"me-1"}),"Assignee ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsxs)(Xi.Select,{name:"assignee",value:g.assignee,onChange:K,isInvalid:!!x.assignee,required:!0,children:[(0,sn.jsx)("option",{value:"",children:"-- Select Assignee --"}),S.map((e=>(0,sn.jsxs)("option",{value:e.id,children:[e.name," (",e.role,")"]},e.id)))]}),(0,sn.jsx)(Xi.Control.Feedback,{type:"invalid",children:x.assignee})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:[(0,sn.jsx)(kr,{className:"me-1"}),"Due Date ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsx)(Xi.Control,{type:"date",name:"dueDate",value:g.dueDate,onChange:K,isInvalid:!!x.dueDate,required:!0}),(0,sn.jsx)(Xi.Control.Feedback,{type:"invalid",children:x.dueDate})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:[(0,sn.jsx)(zr,{className:"me-1"}),"Due Time"]}),(0,sn.jsx)(Xi.Control,{type:"time",name:"dueTime",value:g.dueTime,onChange:K})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:[(0,sn.jsx)(Sr,{className:"me-1"}),"Company"]}),(0,sn.jsxs)(Xi.Select,{name:"company",value:g.company,onChange:K,children:[(0,sn.jsx)("option",{value:"",children:"-- Select Company --"}),j.map((e=>(0,sn.jsx)("option",{value:e.id,children:e.name},e.id)))]})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:[(0,sn.jsx)(yo,{className:"me-1"}),"Contact"]}),(0,sn.jsxs)(Xi.Select,{name:"contact",value:g.contact,onChange:K,disabled:!g.company,children:[(0,sn.jsx)("option",{value:"",children:"-- Select Contact --"}),N.map((e=>(0,sn.jsx)("option",{value:e.id,children:e.name},e.id)))]})]})}),("meeting"===g.type||"call"===g.type)&&(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:[(0,sn.jsx)(Cl,{className:"me-1"}),"Location"]}),(0,sn.jsx)(Xi.Control,{type:"text",name:"location",value:g.location,onChange:K,placeholder:"meeting"===g.type?"e.g., Client's office":"e.g., Phone, Zoom, etc."})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:[(0,sn.jsx)(zr,{className:"me-1"}),"Duration"]}),(0,sn.jsxs)(Xi.Select,{name:"duration",value:g.duration,onChange:K,children:[(0,sn.jsx)("option",{value:"",children:"-- Select Duration --"}),[{value:"15min",label:"15 minutes"},{value:"30min",label:"30 minutes"},{value:"1hour",label:"1 hour"},{value:"2hours",label:"2 hours"},{value:"half_day",label:"Half day"},{value:"full_day",label:"Full day"}].map((e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value)))]})]})})]}),(0,sn.jsx)(Nn,{md:12,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Description"}),(0,sn.jsx)(Xi.Control,{as:"textarea",rows:3,name:"description",value:g.description,onChange:K,placeholder:"Enter detailed description about this task"})]})}),(0,sn.jsx)(Nn,{md:12,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Notes"}),(0,sn.jsx)(Xi.Control,{as:"textarea",rows:3,name:"notes",value:g.notes,onChange:K,placeholder:"Additional notes or instructions"})]})}),(0,sn.jsxs)(Nn,{md:6,className:"mb-3",children:[(0,sn.jsx)(Xi.Check,{type:"checkbox",id:"reminder-toggle",label:"Set Reminder",name:"setReminder",checked:g.setReminder,onChange:K}),g.setReminder&&(0,sn.jsxs)(Xi.Group,{className:"mt-2",children:[(0,sn.jsxs)(Xi.Label,{children:[(0,sn.jsx)(wr,{className:"me-1"}),"Remind"]}),(0,sn.jsxs)(Xi.Select,{name:"reminderTime",value:g.reminderTime,onChange:K,children:[(0,sn.jsx)("option",{value:"5min",children:"5 minutes before"}),(0,sn.jsx)("option",{value:"15min",children:"15 minutes before"}),(0,sn.jsx)("option",{value:"30min",children:"30 minutes before"}),(0,sn.jsx)("option",{value:"1hour",children:"1 hour before"}),(0,sn.jsx)("option",{value:"2hours",children:"2 hours before"}),(0,sn.jsx)("option",{value:"1day",children:"1 day before"})]})]})]})]})})]}),(0,sn.jsxs)(Yn,{className:"shadow-sm mb-4",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white",children:(0,sn.jsx)("h5",{className:"mb-0",children:"Attachments"})}),(0,sn.jsxs)(Yn.Body,{children:[(0,sn.jsx)("div",{className:"mb-3",children:(0,sn.jsxs)(Xi.Group,{children:[(0,sn.jsxs)(Xi.Label,{children:[(0,sn.jsx)(El,{className:"me-1"})," Upload Files"]}),(0,sn.jsx)(Xi.Control,{type:"file",multiple:!0,onChange:e=>{const t=Array.from(e.target.files);if(0===t.length)return;B(0);const s=setInterval((()=>{B((e=>{if(e>=100){clearInterval(s);const e=t.map(((e,t)=>({id:R.length+t+1,name:e.name,size:J(e.size),type:e.type.split("/")[1],uploadDate:new Date})));return F([...R,...e]),0}return e+10}))}),200)}}),(0,sn.jsx)(Xi.Text,{className:"text-muted",children:"Upload documents, images, or any other relevant files."})]})}),z>0&&z<100&&(0,sn.jsx)("div",{className:"mb-3",children:(0,sn.jsx)("div",{className:"progress",children:(0,sn.jsxs)("div",{className:"progress-bar",role:"progressbar",style:{width:`${z}%`},"aria-valuenow":z,"aria-valuemin":"0","aria-valuemax":"100",children:[z,"%"]})})}),R.length>0&&(0,sn.jsxs)("div",{className:"attachments-list mt-3",children:[(0,sn.jsx)("h6",{className:"mb-3",children:"Attached Files"}),(0,sn.jsx)("div",{className:"list-group",children:R.map((e=>(0,sn.jsxs)("div",{className:"list-group-item list-group-item-action d-flex justify-content-between align-items-center",children:[(0,sn.jsxs)("div",{className:"d-flex align-items-center",children:[(0,sn.jsx)(El,{className:"me-2 text-primary"}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("div",{children:e.name}),(0,sn.jsx)("div",{className:"small text-muted",children:e.size})]})]}),(0,sn.jsx)(ir,{variant:"link",className:"text-danger",onClick:()=>(e=>{F(R.filter((t=>t.id!==e)))})(e.id),children:(0,sn.jsx)(uo,{})})]},e.id)))})]})]})]})]}),(0,sn.jsxs)(Nn,{lg:4,children:[(0,sn.jsxs)(Yn,{className:"shadow-sm mb-4",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white",children:(0,sn.jsx)("h5",{className:"mb-0",children:"Custom Fields"})}),(0,sn.jsxs)(Yn.Body,{children:[g.customFields.length>0&&(0,sn.jsx)("div",{className:"mb-3",children:g.customFields.map(((e,t)=>(0,sn.jsxs)("div",{className:"mb-3",children:[(0,sn.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-1",children:[(0,sn.jsx)(Xi.Label,{children:e.name}),(0,sn.jsx)(ir,{variant:"link",className:"p-0 text-danger",onClick:()=>(e=>{const t=g.customFields.filter((t=>t.name!==e));v({...g,customFields:t}),T(A.filter((t=>t!==e)))})(e.name),children:(0,sn.jsx)(co,{size:14})})]}),(0,sn.jsx)(Xi.Control,{type:"text",value:e.value,onChange:t=>((e,t)=>{const s=g.customFields.map((s=>s.name===e?{...s,value:t}:s));v({...g,customFields:s})})(e.name,t.target.value)})]},t)))}),E?(0,sn.jsxs)("div",{className:"mb-3",children:[(0,sn.jsxs)(Xi.Group,{className:"mb-2",children:[(0,sn.jsx)(Xi.Label,{children:"Field Name"}),(0,sn.jsx)(Xi.Control,{type:"text",value:M,onChange:e=>I(e.target.value),placeholder:"e.g., Department"})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-2",children:[(0,sn.jsx)(Xi.Label,{children:"Field Value"}),(0,sn.jsx)(Xi.Control,{type:"text",value:P,onChange:e=>O(e.target.value),placeholder:"e.g., Sales"})]}),(0,sn.jsxs)("div",{className:"d-flex",children:[(0,sn.jsx)(ir,{variant:"primary",size:"sm",className:"me-2",onClick:()=>{if(!M||!P)return;const e={name:M,value:P};v({...g,customFields:[...g.customFields,e]}),T([...A,M]),I(""),O(""),L(!1)},disabled:!M||!P,children:"Add Field"}),(0,sn.jsx)(ir,{variant:"outline-secondary",size:"sm",onClick:()=>{L(!1),I(""),O("")},children:"Cancel"})]})]}):(0,sn.jsxs)(ir,{variant:"outline-primary",className:"w-100",onClick:()=>L(!0),children:[(0,sn.jsx)(Ol,{className:"me-1"})," Add Custom Field"]})]})]}),(0,sn.jsxs)(Yn,{className:"shadow-sm",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white",children:(0,sn.jsx)("h5",{className:"mb-0",children:"Summary"})}),(0,sn.jsx)(Yn.Body,{children:(0,sn.jsxs)("div",{className:"task-summary",children:[(0,sn.jsxs)("div",{className:"mb-3",children:[(0,sn.jsx)("div",{className:"text-muted",children:"Task Type:"}),(0,sn.jsx)("div",{className:"fw-bold",children:(null===(e=$.find((e=>e.value===g.type)))||void 0===e?void 0:e.label)||"Not set"})]}),(0,sn.jsxs)("div",{className:"mb-3",children:[(0,sn.jsx)("div",{className:"text-muted",children:"Priority:"}),(0,sn.jsx)("div",{className:"fw-bold",children:(null===(t=H.find((e=>e.value===g.priority)))||void 0===t?void 0:t.label)||"Not set"})]}),(0,sn.jsxs)("div",{className:"mb-3",children:[(0,sn.jsx)("div",{className:"text-muted",children:"Due Date:"}),(0,sn.jsxs)("div",{className:"fw-bold",children:[g.dueDate?new Date(g.dueDate).toLocaleDateString():"Not set",g.dueTime?` at ${g.dueTime}`:""]})]}),(0,sn.jsxs)("div",{className:"mb-3",children:[(0,sn.jsx)("div",{className:"text-muted",children:"Assignee:"}),(0,sn.jsx)("div",{className:"fw-bold",children:(null===(s=S.find((e=>e.id.toString()===g.assignee)))||void 0===s?void 0:s.name)||"Not assigned"})]}),g.company&&(0,sn.jsxs)("div",{className:"mb-3",children:[(0,sn.jsx)("div",{className:"text-muted",children:"Company:"}),(0,sn.jsx)("div",{className:"fw-bold",children:(null===(n=j.find((e=>e.id.toString()===g.company)))||void 0===n?void 0:n.name)||"Not set"})]}),g.contact&&(0,sn.jsxs)("div",{className:"mb-3",children:[(0,sn.jsx)("div",{className:"text-muted",children:"Contact:"}),(0,sn.jsx)("div",{className:"fw-bold",children:(null===(i=y.find((e=>e.id.toString()===g.contact)))||void 0===i?void 0:i.name)||"Not set"})]}),g.setReminder&&(0,sn.jsxs)("div",{className:"mb-3",children:[(0,sn.jsx)("div",{className:"text-muted",children:"Reminder:"}),(0,sn.jsxs)("div",{className:"fw-bold",children:["5min"===g.reminderTime&&"5 minutes before","15min"===g.reminderTime&&"15 minutes before","30min"===g.reminderTime&&"30 minutes before","1hour"===g.reminderTime&&"1 hour before","2hours"===g.reminderTime&&"2 hours before","1day"===g.reminderTime&&"1 day before"]})]}),R.length>0&&(0,sn.jsxs)("div",{className:"mb-3",children:[(0,sn.jsx)("div",{className:"text-muted",children:"Attachments:"}),(0,sn.jsxs)("div",{className:"fw-bold",children:[R.length," files"]})]})]})}),(0,sn.jsx)(Yn.Footer,{className:"bg-white",children:(0,sn.jsx)("div",{className:"d-grid",children:(0,sn.jsx)(ir,{variant:"primary",type:"submit",disabled:c,children:c?(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Saving..."]}):(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(Vl,{className:"me-1"})," ",o?"Update Task":"Create Task"]})})})})]})]})]}),(0,sn.jsxs)("div",{className:"d-flex justify-content-between mt-4",children:[o&&(0,sn.jsxs)(ir,{variant:"outline-danger",onClick:()=>{window.confirm("Are you sure you want to delete this task?")&&r("/tasks")},children:[(0,sn.jsx)(uo,{className:"me-1"})," Delete Task"]}),(0,sn.jsxs)("div",{className:"ms-auto",children:[(0,sn.jsxs)(ir,{variant:"outline-secondary",className:"me-2",onClick:()=>r("/tasks"),children:[(0,sn.jsx)(co,{className:"me-1"})," Cancel"]}),(0,sn.jsx)(ir,{variant:"primary",type:"submit",disabled:c,children:c?(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Saving..."]}):(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(Vl,{className:"me-1"})," ",o?"Update Task":"Create Task"]})})]})]})]})]})},Hw=()=>{const e=ee(),[t,s]=(0,a.useState)([]),[n,i]=(0,a.useState)([]),[r,l]=(0,a.useState)(""),[o,c]=(0,a.useState)("all"),[d,u]=(0,a.useState)("all"),[h,m]=(0,a.useState)(!0),p=(0,a.useRef)(null),[x,f]=(0,a.useState)(!1),[g,v]=(0,a.useState)(null),[j,b]=(0,a.useState)(!1),y=[{value:"not_started",label:"Not Started",color:"secondary"},{value:"in_progress",label:"In Progress",color:"primary"},{value:"pending",label:"Pending",color:"warning"},{value:"completed",label:"Completed",color:"success"}],w=[{value:"low",label:"Low",color:"info"},{value:"medium",label:"Medium",color:"warning"},{value:"high",label:"High",color:"danger"},{value:"urgent",label:"Urgent",color:"dark"}],N=[{id:1,name:"John Smith",role:"Sales Representative"},{id:2,name:"Sarah Johnson",role:"Sales Manager"},{id:3,name:"Michael Brown",role:"Account Executive"},{id:4,name:"Emily Davis",role:"Customer Support"},{id:5,name:"David Wilson",role:"Delivery Driver"}];(0,a.useEffect)((()=>{m(!0),setTimeout((()=>{const e=C();s(e),i(e),m(!1)}),1e3)}),[]);const C=()=>{const e=new Date,t=["Call","Email","Meeting","Follow-up","Proposal","Delivery","Payment"],s=[{id:1,name:"ABC Logistics"},{id:2,name:"XYZ Retail"},{id:3,name:"Tech Solutions Inc."},{id:4,name:"Global Shipping Co."},{id:5,name:"Metro Electronics"}],n=[{id:1,name:"John Doe",company:"ABC Logistics"},{id:2,name:"Jane Smith",company:"XYZ Retail"},{id:3,name:"Robert Johnson",company:"Tech Solutions Inc."},{id:4,name:"Emma Williams",company:"Global Shipping Co."},{id:5,name:"Michael Brown",company:"Metro Electronics"}];return Array.from({length:25},((a,i)=>{const r=new Date(e);r.setDate(r.getDate()+Math.floor(30*Math.random())-10);const l=9+Math.floor(8*Math.random());r.setHours(l,0,0,0);const o=t[Math.floor(Math.random()*t.length)],c=Math.floor(5*Math.random())+1,d=Math.floor(Math.random()*s.length),u=s[d],h=n.filter((e=>e.company===u.name)),m=h.length>0?h[Math.floor(Math.random()*h.length)]:null,p=["not_started","in_progress","pending","completed"],x=["low","medium","high","urgent"];return{id:i+1,title:`${o} with ${u.name}`,description:`${o} regarding our services with ${u.name}${m?` (Contact: ${m.name})`:""}`,type:o.toLowerCase(),status:p[Math.floor(Math.random()*p.length)],priority:x[Math.floor(Math.random()*x.length)],assignee:c,dueDate:r,createdDate:new Date(r.getTime()-7*Math.random()*24*60*60*1e3),completedDate:null,company:u,contact:m,notes:`Follow up on the previous conversation about our ${"Delivery"===o?"delivery services":"services"}.`}}))};(0,a.useEffect)((()=>{let e=[...t];if("all"!==o&&(e=e.filter((e=>e.priority===o))),"all"!==d&&(e=e.filter((e=>e.assignee===parseInt(d)))),r){const t=r.toLowerCase();e=e.filter((e=>e.title.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)||e.company.name.toLowerCase().includes(t)||e.contact&&e.contact.name.toLowerCase().includes(t)))}i(e)}),[t,r,o,d]);const S=e=>{const t=w.find((t=>t.value===e));return t?(0,sn.jsx)(Cb,{bg:t.color,className:"text-uppercase",children:t.label}):null},k=e=>{const t=N.find((t=>t.id===e));return t?t.name:"Unassigned"},D=e=>{f(!1),v(null),e.currentTarget.style.opacity="1"},_=e=>{e.preventDefault(),e.dataTransfer.dropEffect="move"},A=(e,t)=>{const s=document.getElementById(t);if(s){const t=200;"left"===e?s.scrollLeft-=t:s.scrollLeft+=t}},T=e=>{const n=t.map((t=>{if(t.id===e){const e="completed"===t.status?"in_progress":"completed";return{...t,status:e,completedDate:"completed"===e?new Date:null}}return t}));s(n)},E=e=>!!e&&("completed"!==e.status&&e.dueDate<new Date);return(0,sn.jsxs)("div",{className:"container-fluid py-4",children:[(0,sn.jsx)(Ob,{title:"Task Board",backButton:!0}),(0,sn.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,sn.jsxs)("div",{className:"d-flex",children:[(0,sn.jsxs)(ir,{variant:"outline-primary",className:"me-2",onClick:()=>e("/tasks"),children:[(0,sn.jsx)(jl,{className:"me-1"})," List"]}),(0,sn.jsxs)(ir,{variant:"outline-primary",className:"me-2",onClick:()=>e("/tasks?view=grid"),children:[(0,sn.jsx)(lo,{className:"me-1"})," Grid"]}),(0,sn.jsxs)(ir,{variant:"primary",className:"me-2",children:[(0,sn.jsx)($r,{className:"me-1"})," Kanban"]}),(0,sn.jsxs)(ir,{variant:"outline-primary",className:"me-2",onClick:()=>e("/tasks/calendar"),children:[(0,sn.jsx)(Dr,{className:"me-1"})," Calendar"]})]}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)(ir,{variant:"outline-secondary",className:"me-2",onClick:()=>b(!j),children:j?"Detailed View":"Compact View"}),(0,sn.jsxs)(ir,{variant:"outline-secondary",className:"me-2",onClick:()=>{m(!0),setTimeout((()=>{const e=C();s(e),i(e),m(!1)}),800)},children:[(0,sn.jsx)(to,{className:"me-1"})," Refresh"]}),(0,sn.jsxs)(ir,{variant:"primary",onClick:()=>e("/tasks/new"),children:[(0,sn.jsx)(Ol,{className:"me-1"})," New Task"]})]})]}),(0,sn.jsx)("div",{className:"mb-4",children:(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:4,children:(0,sn.jsxs)(nr,{children:[(0,sn.jsx)(nr.Text,{children:(0,sn.jsx)(Ul,{})}),(0,sn.jsx)(Xi.Control,{placeholder:"Search tasks...",value:r,onChange:e=>l(e.target.value)})]})}),(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsxs)(nr,{children:[(0,sn.jsx)(nr.Text,{children:(0,sn.jsx)(ol,{})}),(0,sn.jsxs)(Xi.Select,{value:o,onChange:e=>c(e.target.value),children:[(0,sn.jsx)("option",{value:"all",children:"All Priorities"}),w.map((e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value)))]})]})}),(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsxs)(nr,{children:[(0,sn.jsx)(nr.Text,{children:(0,sn.jsx)(xo,{})}),(0,sn.jsxs)(Xi.Select,{value:d,onChange:e=>u(e.target.value),children:[(0,sn.jsx)("option",{value:"all",children:"All Assignees"}),N.map((e=>(0,sn.jsx)("option",{value:e.id,children:e.name},e.id)))]})]})}),(0,sn.jsx)(Nn,{md:2,children:(0,sn.jsx)(ir,{variant:"outline-secondary",className:"w-100",onClick:()=>{l(""),c("all"),u("all")},children:"Clear Filters"})})]})}),(0,sn.jsx)("div",{className:"kanban-board-container",ref:p,style:{overflowX:"auto",minHeight:"calc(100vh - 250px)"},children:h?(0,sn.jsxs)("div",{className:"text-center py-5",children:[(0,sn.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,sn.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,sn.jsx)("p",{className:"mt-3",children:"Loading tasks..."})]}):(0,sn.jsx)("div",{className:"kanban-board d-flex h-100 pb-3",children:y.map((a=>{const i=n.filter((e=>e.status===a.value));return(0,sn.jsx)("div",{className:"kanban-column mx-2 flex-shrink-0",style:{width:"300px"},onDragOver:_,onDrop:e=>((e,n)=>{if(e.preventDefault(),!g)return;const a=t.map((e=>e.id===g.id?{...e,status:n,completedDate:"completed"===n?new Date:null}:e));s(a)})(e,a.value),children:(0,sn.jsxs)(Yn,{className:"shadow-sm h-100",children:[(0,sn.jsxs)(Yn.Header,{className:`bg-${a.color} bg-opacity-10 d-flex justify-content-between align-items-center`,children:[(0,sn.jsxs)("h5",{className:"mb-0 d-flex align-items-center",children:[(0,sn.jsx)("span",{children:a.label}),(0,sn.jsx)(Cb,{bg:a.color,className:"ms-2",children:i.length})]}),"completed"!==a.value&&(0,sn.jsx)(ir,{variant:"outline-primary",size:"sm",onClick:()=>e("/tasks/new"),children:(0,sn.jsx)(Ol,{})})]}),(0,sn.jsx)("div",{id:`column-${a.value}`,className:"kanban-tasks-container",style:{overflowY:"auto",height:"calc(100vh - 300px)",paddingBottom:"80px"},children:0===i.length?(0,sn.jsx)("div",{className:"text-center text-muted p-4",children:"No tasks in this column"}):i.map((e=>{return(0,sn.jsx)(Yn,{className:"task-card m-2 shadow-sm",draggable:!0,onDragStart:t=>((e,t)=>{f(!0),v(t),e.currentTarget.style.opacity="0.6",e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",t.id)})(t,e),onDragEnd:D,children:(0,sn.jsxs)(Yn.Body,{className:j?"p-2":"p-3",children:[(0,sn.jsxs)("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[(0,sn.jsxs)("div",{className:"d-flex align-items-start",children:[(0,sn.jsx)(ir,{variant:"completed"===e.status?"success":"outline-secondary",size:"sm",className:"rounded-circle p-1 me-2 mt-1",onClick:()=>T(e.id),children:"completed"===e.status?(0,sn.jsx)(Mr,{size:12}):(0,sn.jsx)(Co,{size:12})}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("div",{className:"fw-bold",children:e.title}),!j&&(0,sn.jsx)("div",{className:"small text-muted text-truncate",style:{maxWidth:"180px"},children:e.description})]})]}),(0,sn.jsxs)(Bh,{children:[(0,sn.jsx)(Bh.Toggle,{variant:"light",size:"sm",id:`dropdown-${e.id}`,children:(0,sn.jsx)(Yr,{})}),(0,sn.jsxs)(Bh.Menu,{children:[(0,sn.jsx)(Bh.Item,{as:Le,to:`/tasks/${e.id}`,children:"View Details"}),(0,sn.jsx)(Bh.Item,{as:Le,to:`/tasks/${e.id}/edit`,children:"Edit"}),(0,sn.jsx)(Bh.Item,{onClick:()=>T(e.id),children:"completed"===e.status?"Mark Incomplete":"Mark Complete"})]})]})]}),!j&&(0,sn.jsx)("div",{className:"mb-2",children:(0,sn.jsxs)(Le,{to:`/companies/${e.company.id}`,className:"text-decoration-none d-flex align-items-center small",children:[(0,sn.jsx)(Sr,{className:"me-1 text-muted",size:12}),(0,sn.jsx)("span",{children:e.company.name})]})}),(0,sn.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-2",children:[(0,sn.jsxs)("div",{className:(E(e)?"text-danger":"text-muted")+" small d-flex align-items-center",children:[(0,sn.jsx)(kr,{className:"me-1",size:12}),(0,sn.jsx)("span",{children:(t=e.dueDate,t?new Date(t).toLocaleDateString("en-US",{month:"short",day:"numeric"}):"")})]}),(0,sn.jsxs)("div",{className:"d-flex align-items-center",children:[S(e.priority),!j&&(0,sn.jsxs)("div",{className:"ms-2 text-muted small d-flex align-items-center",children:[(0,sn.jsx)(xo,{className:"me-1",size:12}),(0,sn.jsx)("span",{children:k(e.assignee).split(" ")[0]})]})]})]})]})},e.id);var t}))}),(0,sn.jsxs)("div",{className:"horizontal-scroll-controls d-flex justify-content-between position-absolute bottom-0 w-100 p-2 bg-white border-top",children:[(0,sn.jsx)(ir,{variant:"light",size:"sm",onClick:()=>A("left",`column-${a.value}`),children:(0,sn.jsx)(Or,{})}),(0,sn.jsx)(ir,{variant:"light",size:"sm",onClick:()=>A("right",`column-${a.value}`),children:(0,sn.jsx)(Rr,{})})]})]})},a.value)}))})}),(0,sn.jsx)("div",{className:"text-center text-muted small mt-3",children:"Drag and drop tasks between columns to update their status"})]})},Vw=()=>{const e=ee(),[t,s]=(0,a.useState)([]),[n,i]=(0,a.useState)([]),[r,l]=(0,a.useState)(""),[o,c]=(0,a.useState)("all"),[d,u]=(0,a.useState)("all"),[h,m]=(0,a.useState)(!0),[p,x]=(0,a.useState)(new Date),[f,g]=(0,a.useState)("month"),[v,j]=(0,a.useState)(null),[b,y]=(0,a.useState)(!1),w=[{value:"not_started",label:"Not Started",color:"secondary"},{value:"in_progress",label:"In Progress",color:"primary"},{value:"pending",label:"Pending",color:"warning"},{value:"completed",label:"Completed",color:"success"},{value:"cancelled",label:"Cancelled",color:"danger"}],N=[{value:"low",label:"Low",color:"info"},{value:"medium",label:"Medium",color:"warning"},{value:"high",label:"High",color:"danger"},{value:"urgent",label:"Urgent",color:"dark"}],C=[{id:1,name:"John Smith",role:"Sales Representative"},{id:2,name:"Sarah Johnson",role:"Sales Manager"},{id:3,name:"Michael Brown",role:"Account Executive"},{id:4,name:"Emily Davis",role:"Customer Support"},{id:5,name:"David Wilson",role:"Delivery Driver"}];(0,a.useEffect)((()=>{m(!0),setTimeout((()=>{const e=S();s(e),i(e),m(!1)}),1e3)}),[]);const S=()=>{const e=new Date,t=(new Date(e.getFullYear(),e.getMonth(),1),new Date(e.getFullYear(),e.getMonth()+1,0)),s=["Call","Email","Meeting","Follow-up","Proposal","Delivery","Payment"],n=[{id:1,name:"ABC Logistics"},{id:2,name:"XYZ Retail"},{id:3,name:"Tech Solutions Inc."},{id:4,name:"Global Shipping Co."},{id:5,name:"Metro Electronics"}],a=[{id:1,name:"John Doe",company:"ABC Logistics"},{id:2,name:"Jane Smith",company:"XYZ Retail"},{id:3,name:"Robert Johnson",company:"Tech Solutions Inc."},{id:4,name:"Emma Williams",company:"Global Shipping Co."},{id:5,name:"Michael Brown",company:"Metro Electronics"}];return Array.from({length:40},((i,r)=>{const l=t.getDate(),o=Math.floor(Math.random()*l)+1,c=new Date(e.getFullYear(),e.getMonth(),o),d=9+Math.floor(8*Math.random());c.setHours(d,0,0,0);const u=s[Math.floor(Math.random()*s.length)],h=Math.floor(5*Math.random())+1,m=Math.floor(Math.random()*n.length),p=n[m],x=a.filter((e=>e.company===p.name)),f=x.length>0?x[Math.floor(Math.random()*x.length)]:null,g=["not_started","in_progress","pending","completed","cancelled"],v=["low","medium","high","urgent"];let j;return j=c<e&&Math.random()>.3?"completed":g[Math.floor(3*Math.random())],{id:r+1,title:`${u} with ${p.name}`,description:`${u} regarding our services with ${p.name}${f?` (Contact: ${f.name})`:""}`,type:u.toLowerCase(),status:j,priority:v[Math.floor(Math.random()*v.length)],assignee:h,dueDate:c,createdDate:new Date(c.getTime()-7*Math.random()*24*60*60*1e3),completedDate:"completed"===j?new Date(c.getTime()+24*Math.random()*60*60*1e3):null,company:p,contact:f,notes:`Follow up on the previous conversation about our ${"Delivery"===u?"delivery services":"services"}.`,duration:"Meeting"===u?60:"Call"===u?30:15}}))};(0,a.useEffect)((()=>{let e=[...t];if("all"!==o&&(e=e.filter((e=>e.priority===o))),"all"!==d&&(e=e.filter((e=>e.assignee===parseInt(d)))),r){const t=r.toLowerCase();e=e.filter((e=>e.title.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)||e.company.name.toLowerCase().includes(t)||e.contact&&e.contact.name.toLowerCase().includes(t)))}i(e)}),[t,r,o,d]);const k=e=>new Date(e.getFullYear(),e.getMonth()+1,0).getDate(),D=e=>e?new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"",_=e=>e?new Date(e).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):"",A=e=>{if(!e)return[];const t=e.toISOString().split("T")[0];return n.filter((e=>new Date(e.dueDate).toISOString().split("T")[0]===t))},T=e=>{const t=N.find((t=>t.value===e));return t?(0,sn.jsx)(Cb,{bg:t.color,className:"text-uppercase",children:t.label}):null},E=e=>{const t=w.find((t=>t.value===e));return t?(0,sn.jsx)(Cb,{bg:t.color,className:"text-uppercase",children:t.label}):null},L=e=>{const t=C.find((t=>t.id===e));return t?t.name:"Unassigned"},M=e=>{j(e),y(!0)},I=e=>{const t=new Date;return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()},P=e=>{let t="calendar-day position-relative";return I(e)&&(t+=" bg-light"),t};return(0,sn.jsxs)("div",{className:"container-fluid py-4",children:[(0,sn.jsx)(Ob,{title:"Task Calendar",backButton:!0}),(0,sn.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,sn.jsxs)("div",{className:"d-flex",children:[(0,sn.jsxs)(ir,{variant:"outline-primary",className:"me-2",onClick:()=>e("/tasks"),children:[(0,sn.jsx)(jl,{className:"me-1"})," List"]}),(0,sn.jsxs)(ir,{variant:"outline-primary",className:"me-2",onClick:()=>e("/tasks?view=grid"),children:[(0,sn.jsx)(lo,{className:"me-1"})," Grid"]}),(0,sn.jsxs)(ir,{variant:"outline-primary",className:"me-2",onClick:()=>e("/tasks/kanban"),children:[(0,sn.jsx)($r,{className:"me-1"})," Kanban"]}),(0,sn.jsxs)(ir,{variant:"primary",className:"me-2",children:[(0,sn.jsx)(Dr,{className:"me-1"})," Calendar"]})]}),(0,sn.jsxs)("div",{children:[(0,sn.jsxs)(ir,{variant:"outline-secondary",className:"me-2",onClick:()=>{m(!0),setTimeout((()=>{const e=S();s(e),i(e),m(!1)}),800)},children:[(0,sn.jsx)(to,{className:"me-1"})," Refresh"]}),(0,sn.jsxs)(ir,{variant:"primary",onClick:()=>e("/tasks/new"),children:[(0,sn.jsx)(Ol,{className:"me-1"})," New Task"]})]})]}),(0,sn.jsx)("div",{className:"mb-4",children:(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:4,children:(0,sn.jsxs)(nr,{children:[(0,sn.jsx)(nr.Text,{children:(0,sn.jsx)(Ul,{})}),(0,sn.jsx)(Xi.Control,{placeholder:"Search tasks...",value:r,onChange:e=>l(e.target.value)})]})}),(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsxs)(nr,{children:[(0,sn.jsx)(nr.Text,{children:(0,sn.jsx)(ol,{})}),(0,sn.jsxs)(Xi.Select,{value:o,onChange:e=>c(e.target.value),children:[(0,sn.jsx)("option",{value:"all",children:"All Priorities"}),N.map((e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value)))]})]})}),(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsxs)(nr,{children:[(0,sn.jsx)(nr.Text,{children:(0,sn.jsx)(xo,{})}),(0,sn.jsxs)(Xi.Select,{value:d,onChange:e=>u(e.target.value),children:[(0,sn.jsx)("option",{value:"all",children:"All Assignees"}),C.map((e=>(0,sn.jsx)("option",{value:e.id,children:e.name},e.id)))]})]})}),(0,sn.jsx)(Nn,{md:2,children:(0,sn.jsx)(ir,{variant:"outline-secondary",className:"w-100",onClick:()=>{l(""),c("all"),u("all")},children:"Clear Filters"})})]})}),(0,sn.jsxs)(Yn,{className:"shadow-sm mb-4",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white",children:(0,sn.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,sn.jsxs)("div",{className:"d-flex align-items-center",children:[(0,sn.jsx)(ir,{variant:"light",className:"me-2",onClick:()=>{const e=new Date(p);"month"===f?e.setMonth(e.getMonth()-1):"week"===f?e.setDate(e.getDate()-7):e.setDate(e.getDate()-1),x(e)},children:(0,sn.jsx)(Or,{})}),(0,sn.jsx)("h4",{className:"mb-0",children:"month"===f?`${O=p,O.toLocaleString("default",{month:"long"})} ${p.getFullYear()}`:"week"===f?`Week of ${D(new Date(p.getFullYear(),p.getMonth(),p.getDate()-p.getDay()))}`:D(p)}),(0,sn.jsx)(ir,{variant:"light",className:"ms-2",onClick:()=>{const e=new Date(p);"month"===f?e.setMonth(e.getMonth()+1):"week"===f?e.setDate(e.getDate()+7):e.setDate(e.getDate()+1),x(e)},children:(0,sn.jsx)(Rr,{})}),(0,sn.jsx)(ir,{variant:"outline-primary",size:"sm",className:"ms-3",onClick:()=>{x(new Date)},children:"Today"})]}),(0,sn.jsxs)("div",{className:"btn-group",children:[(0,sn.jsx)(ir,{variant:"month"===f?"primary":"outline-primary",onClick:()=>g("month"),children:"Month"}),(0,sn.jsx)(ir,{variant:"week"===f?"primary":"outline-primary",onClick:()=>g("week"),children:"Week"}),(0,sn.jsx)(ir,{variant:"day"===f?"primary":"outline-primary",onClick:()=>g("day"),children:"Day"})]})]})}),(0,sn.jsx)(Yn.Body,{className:"p-0",children:h?(0,sn.jsxs)("div",{className:"text-center py-5",children:[(0,sn.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,sn.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,sn.jsx)("p",{className:"mt-3",children:"Loading calendar..."})]}):(0,sn.jsxs)(sn.Fragment,{children:["month"===f&&(()=>{const e=k(p),t=(s=p,new Date(s.getFullYear(),s.getMonth(),1).getDay());var s;const n=[],a=t,i=new Date(p.getFullYear(),p.getMonth()-1,1),r=k(i);for(let c=0;c<a;c++){const e=r-a+c+1,t=new Date(p.getFullYear(),p.getMonth()-1,e);n.push({date:t,currentMonth:!1})}for(let c=1;c<=e;c++){const e=new Date(p.getFullYear(),p.getMonth(),c);n.push({date:e,currentMonth:!0})}const l=7*Math.ceil((e+t)/7)-(e+t);for(let c=1;c<=l;c++){const e=new Date(p.getFullYear(),p.getMonth()+1,c);n.push({date:e,currentMonth:!1})}const o=[];for(let c=0;c<n.length;c+=7)o.push(n.slice(c,c+7));return(0,sn.jsx)("div",{className:"calendar-month-view",children:(0,sn.jsxs)(Uh,{bordered:!0,className:"mb-0 table-fixed",children:[(0,sn.jsx)("thead",{children:(0,sn.jsx)("tr",{children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((e=>(0,sn.jsx)("th",{className:"text-center py-3",children:e},e)))})}),(0,sn.jsx)("tbody",{children:o.map(((e,t)=>(0,sn.jsx)("tr",{style:{height:"120px"},children:e.map((e=>{let{date:t,currentMonth:s}=e;const n=A(t);return(0,sn.jsxs)("td",{className:P(t),style:{opacity:s?1:.4,overflow:"hidden",padding:"0.25rem"},children:[(0,sn.jsxs)("div",{className:"d-flex justify-content-between mb-1",children:[(0,sn.jsx)("span",{className:"day-number",children:t.getDate()}),n.length>0&&(0,sn.jsx)(Cb,{bg:"primary",pill:!0,children:n.length})]}),(0,sn.jsxs)("div",{className:"day-tasks",style:{maxHeight:"100px",overflowY:"auto"},children:[n.slice(0,3).map((e=>{var t,s;return(0,sn.jsx)("div",{className:`task-item mb-1 p-1 rounded bg-${(null===(t=w.find((t=>t.value===e.status)))||void 0===t?void 0:t.color)||"secondary"} bg-opacity-10`,onClick:()=>M(e),style:{cursor:"pointer"},children:(0,sn.jsxs)("div",{className:"d-flex align-items-start",children:[(0,sn.jsx)("div",{className:`task-indicator rounded-circle me-1 bg-${(null===(s=w.find((t=>t.value===e.status)))||void 0===s?void 0:s.color)||"secondary"}`,style:{width:"8px",height:"8px",marginTop:"6px"}}),(0,sn.jsxs)("div",{className:"small text-truncate",children:[_(e.dueDate)," ",e.title]})]})},e.id)})),n.length>3&&(0,sn.jsxs)("div",{className:"text-primary small",children:["+",n.length-3," more"]})]})]},t.toString())}))},t)))})]})})})(),"week"===f&&(()=>{const e=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],t=new Date(p);t.setDate(p.getDate()-p.getDay());const s=[];for(let n=0;n<7;n++){const e=new Date(t);e.setDate(e.getDate()+n),s.push(e)}return(0,sn.jsx)("div",{className:"calendar-week-view",children:(0,sn.jsxs)("div",{className:"d-flex",children:[(0,sn.jsxs)("div",{className:"time-column",style:{width:"80px"},children:[(0,sn.jsx)("div",{className:"time-header",style:{height:"60px"}}),Array.from({length:12}).map(((e,t)=>(0,sn.jsxs)("div",{className:"time-slot text-end pe-2",style:{height:"60px"},children:[(t+8)%12===0?12:(t+8)%12,t+8<12?"am":"pm"]},t)))]}),(0,sn.jsx)("div",{className:"day-columns flex-grow-1 d-flex",children:s.map((t=>{const s=A(t);return(0,sn.jsxs)("div",{className:"day-column flex-grow-1 position-relative",style:{minWidth:"120px"},children:[(0,sn.jsxs)("div",{className:"day-header text-center py-3 "+(I(t)?"bg-light":""),style:{height:"60px"},children:[(0,sn.jsx)("div",{children:e[t.getDay()]}),(0,sn.jsx)("div",{className:"fw-bold",children:t.getDate()})]}),(0,sn.jsxs)("div",{className:"time-slots position-relative",style:{height:"720px"},children:[Array.from({length:12}).map(((e,t)=>(0,sn.jsx)("div",{className:"time-slot border-bottom",style:{height:"60px"}},t))),s.map((e=>{var t,s;const n=60*(new Date(e.dueDate).getHours()-8)+new Date(e.dueDate).getMinutes(),a=e.duration||30;return(0,sn.jsxs)("div",{className:`task-item position-absolute rounded p-1 bg-${(null===(t=w.find((t=>t.value===e.status)))||void 0===t?void 0:t.color)||"secondary"} bg-opacity-10 border border-${(null===(s=w.find((t=>t.value===e.status)))||void 0===s?void 0:s.color)||"secondary"}`,style:{top:`${n}px`,height:`${a}px`,left:"1px",right:"1px",overflow:"hidden",cursor:"pointer"},onClick:()=>M(e),children:[(0,sn.jsx)("div",{className:"small text-truncate fw-bold",children:_(e.dueDate)}),(0,sn.jsx)("div",{className:"small text-truncate",children:e.title})]},e.id)}))]})]},t.toString())}))})]})})})(),"day"===f&&(()=>{const e=A(p);return(0,sn.jsx)("div",{className:"calendar-day-view",children:(0,sn.jsxs)("div",{className:"d-flex",children:[(0,sn.jsx)("div",{className:"time-column",style:{width:"80px"},children:Array.from({length:14}).map(((e,t)=>(0,sn.jsxs)("div",{className:"time-slot text-end pe-2",style:{height:"60px"},children:[(t+7)%12===0?12:(t+7)%12,t+7<12?"am":"pm"]},t)))}),(0,sn.jsxs)("div",{className:"day-content flex-grow-1 position-relative",style:{minHeight:"840px"},children:[Array.from({length:14}).map(((e,t)=>(0,sn.jsx)("div",{className:"time-slot border-bottom",style:{height:"60px"}},t))),e.map((e=>{var t,s;const n=60*(new Date(e.dueDate).getHours()-7)+new Date(e.dueDate).getMinutes(),a=e.duration||30;return(0,sn.jsxs)("div",{className:`task-item position-absolute rounded p-2 bg-${(null===(t=w.find((t=>t.value===e.status)))||void 0===t?void 0:t.color)||"secondary"} bg-opacity-10 border border-${(null===(s=w.find((t=>t.value===e.status)))||void 0===s?void 0:s.color)||"secondary"}`,style:{top:`${n}px`,height:`${a}px`,left:"1px",right:"1px",overflow:"hidden",cursor:"pointer"},onClick:()=>M(e),children:[(0,sn.jsxs)("div",{className:"d-flex justify-content-between align-items-start",children:[(0,sn.jsxs)("div",{children:[(0,sn.jsx)("div",{className:"fw-bold",children:_(e.dueDate)}),(0,sn.jsx)("div",{children:e.title})]}),(0,sn.jsx)("div",{children:T(e.priority)})]}),(0,sn.jsx)("div",{className:"small text-muted mt-1",children:e.company.name})]},e.id)}))]})]})})})()]})})]}),v?(0,sn.jsxs)(yy,{show:b,onHide:()=>y(!1),size:"lg",children:[(0,sn.jsx)(yy.Header,{closeButton:!0,children:(0,sn.jsx)(yy.Title,{children:"Task Details"})}),(0,sn.jsxs)(yy.Body,{children:[(0,sn.jsxs)("div",{className:"d-flex justify-content-between align-items-start mb-3",children:[(0,sn.jsxs)("div",{className:"d-flex align-items-start",children:[(0,sn.jsx)(ir,{variant:"completed"===v.status?"success":"outline-secondary",className:"rounded-circle p-2 me-3",onClick:e=>{((e,n)=>{n.stopPropagation();const a=t.map((t=>{if(t.id===e){const e="completed"===t.status?"in_progress":"completed";return{...t,status:e,completedDate:"completed"===e?new Date:null}}return t}));s(a)})(v.id,e),j({...v,status:"completed"===v.status?"in_progress":"completed",completedDate:"completed"===v.status?null:new Date})},children:"completed"===v.status?(0,sn.jsx)(Mr,{}):(0,sn.jsx)(Co,{})}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("h4",{className:"mb-1",children:v.title}),(0,sn.jsxs)("div",{children:[E(v.status)," ",T(v.priority)]})]})]}),(0,sn.jsxs)("div",{className:"text-end",children:[(0,sn.jsxs)("div",{className:"d-flex align-items-center text-muted mb-1",children:[(0,sn.jsx)(kr,{className:"me-1"}),(0,sn.jsx)("span",{children:D(v.dueDate)})]}),(0,sn.jsxs)("div",{className:"d-flex align-items-center text-muted",children:[(0,sn.jsx)(zr,{className:"me-1"}),(0,sn.jsx)("span",{children:_(v.dueDate)})]})]})]}),(0,sn.jsxs)(yn,{className:"mb-3",children:[(0,sn.jsxs)(Nn,{md:6,children:[(0,sn.jsxs)("div",{className:"mb-3",children:[(0,sn.jsx)("div",{className:"text-muted small",children:"Assigned To"}),(0,sn.jsxs)("div",{className:"d-flex align-items-center",children:[(0,sn.jsx)(xo,{className:"me-2 text-primary"}),(0,sn.jsx)("span",{children:L(v.assignee)})]})]}),(0,sn.jsxs)("div",{className:"mb-3",children:[(0,sn.jsx)("div",{className:"text-muted small",children:"Company"}),(0,sn.jsxs)("div",{className:"d-flex align-items-center",children:[(0,sn.jsx)(Sr,{className:"me-2 text-primary"}),(0,sn.jsx)("span",{children:v.company.name})]})]}),v.contact&&(0,sn.jsxs)("div",{className:"mb-3",children:[(0,sn.jsx)("div",{className:"text-muted small",children:"Contact"}),(0,sn.jsx)("div",{children:v.contact.name})]})]}),(0,sn.jsxs)(Nn,{md:6,children:[(0,sn.jsxs)("div",{className:"mb-3",children:[(0,sn.jsx)("div",{className:"text-muted small",children:"Type"}),(0,sn.jsx)("div",{children:v.type.charAt(0).toUpperCase()+v.type.slice(1)})]}),(0,sn.jsxs)("div",{className:"mb-3",children:[(0,sn.jsx)("div",{className:"text-muted small",children:"Created"}),(0,sn.jsx)("div",{children:D(v.createdDate)})]}),v.completedDate&&(0,sn.jsxs)("div",{className:"mb-3",children:[(0,sn.jsx)("div",{className:"text-muted small",children:"Completed"}),(0,sn.jsx)("div",{children:D(v.completedDate)})]})]})]}),(0,sn.jsxs)("div",{className:"mb-3",children:[(0,sn.jsx)("div",{className:"text-muted small",children:"Description"}),(0,sn.jsx)("div",{children:v.description})]}),(0,sn.jsxs)("div",{className:"mb-3",children:[(0,sn.jsx)("div",{className:"text-muted small",children:"Notes"}),(0,sn.jsx)("div",{children:v.notes})]})]}),(0,sn.jsxs)(yy.Footer,{children:[(0,sn.jsx)(ir,{variant:"outline-secondary",onClick:()=>y(!1),children:"Close"}),(0,sn.jsx)(ir,{variant:"outline-primary",as:Le,to:`/tasks/${v.id}`,onClick:()=>y(!1),children:"View Full Details"}),(0,sn.jsx)(ir,{variant:"primary",as:Le,to:`/tasks/${v.id}/edit`,onClick:()=>y(!1),children:"Edit"})]})]}):null]});var O},Uw=()=>{const e=ee(),[t,s]=(0,a.useState)([]),[n,i]=(0,a.useState)([]),[r,l]=(0,a.useState)(""),[o,c]=(0,a.useState)("all"),[d,u]=(0,a.useState)("all"),[h,m]=(0,a.useState)("all"),[p,x]=(0,a.useState)("lastName"),[f,g]=(0,a.useState)("asc"),[v,j]=(0,a.useState)(1),[b]=(0,a.useState)(10),[y,w]=(0,a.useState)(!1),[N,C]=(0,a.useState)(null),[S,k]=(0,a.useState)(!0),[D,_]=(0,a.useState)([]),[A,T]=(0,a.useState)([]),E=[{value:"customer",label:"Customer",color:"success"},{value:"vendor",label:"Vendor",color:"primary"},{value:"partner",label:"Partner",color:"info"},{value:"employee",label:"Employee",color:"secondary"},{value:"prospect",label:"Prospect",color:"warning"},{value:"other",label:"Other",color:"light"}];(0,a.useEffect)((()=>{setTimeout((()=>{const e=[{id:1,firstName:"John",lastName:"Doe",company:"ABC Logistics",email:"john.doe@abclogistics.com",phone:"(555) 123-4567",mobile:"(555) 987-6543",type:"customer",title:"Operations Manager",address:"123 Main St, Atlanta, GA 30303",tags:["vip","key-decision-maker"],assignedTo:"Admin User",createdAt:new Date("2025-01-15T14:30:00"),updatedAt:new Date("2025-04-20T09:15:00"),lastContact:new Date("2025-04-20T09:15:00"),notes:"Key decision maker for delivery services."},{id:2,firstName:"Jane",lastName:"Smith",company:"XYZ Retail",email:"jane.smith@xyzretail.com",phone:"(555) 234-5678",mobile:"(555) 876-5432",type:"customer",title:"Logistics Director",address:"456 Oak St, Marietta, GA 30060",tags:["frequent-contact"],assignedTo:"Admin User",createdAt:new Date("2025-02-10T11:45:00"),updatedAt:new Date("2025-04-18T13:20:00"),lastContact:new Date("2025-04-18T13:20:00"),notes:"Prefers communication via email. Quarterly business review scheduled for next month."},{id:3,firstName:"Michael",lastName:"Johnson",company:"Johnson Freight Services",email:"michael@johnsonfreight.com",phone:"(555) 345-6789",mobile:"(555) 765-4321",type:"partner",title:"Owner",address:"789 Peachtree St, Atlanta, GA 30308",tags:["partner","referral-source"],assignedTo:"Admin User",createdAt:new Date("2025-02-28T09:00:00"),updatedAt:new Date("2025-04-15T16:30:00"),lastContact:new Date("2025-04-15T16:30:00"),notes:"Partnership agreement renewed in March. Sends referrals regularly."},{id:4,firstName:"Sarah",lastName:"Williams",company:"City Express Delivery",email:"sarah.williams@cityexpress.com",phone:"(555) 456-7890",mobile:"(555) 654-3210",type:"vendor",title:"Supplier Relations",address:"101 Pine Ave, Decatur, GA 30030",tags:["vendor","supplies"],assignedTo:"Admin User",createdAt:new Date("2025-03-05T13:15:00"),updatedAt:new Date("2025-04-10T10:45:00"),lastContact:new Date("2025-04-10T10:45:00"),notes:"Supplies packaging materials. Volume discount negotiated for Q2."},{id:5,firstName:"Robert",lastName:"Brown",company:"Tech Solutions Inc.",email:"robert.brown@techsolutions.com",phone:"(555) 567-8901",mobile:"(555) 543-2109",type:"vendor",title:"Account Manager",address:"222 Maple Dr, Alpharetta, GA 30009",tags:["vendor","technology"],assignedTo:"Admin User",createdAt:new Date("2025-03-12T15:30:00"),updatedAt:new Date("2025-04-05T11:20:00"),lastContact:new Date("2025-04-05T11:20:00"),notes:"Manages our tracking software account. Annual contract renewal in September."},{id:6,firstName:"Emily",lastName:"Davis",company:"Davis Consulting",email:"emily@davisconsulting.com",phone:"(555) 678-9012",mobile:"(555) 432-1098",type:"partner",title:"CEO",address:"333 Cedar Blvd, Roswell, GA 30076",tags:["partner","influencer"],assignedTo:"Admin User",createdAt:new Date("2025-03-20T10:00:00"),updatedAt:new Date("2025-04-02T14:15:00"),lastContact:new Date("2025-04-02T14:15:00"),notes:"Potential co-marketing opportunity discussed in last meeting."},{id:7,firstName:"Daniel",lastName:"Wilson",company:"Areti Alliance",email:"daniel.wilson@aretialliance.com",phone:"(555) 789-0123",mobile:"(555) 321-0987",type:"employee",title:"Route Manager",address:"444 Elm St, Atlanta, GA 30307",tags:["employee","management"],assignedTo:"Admin User",createdAt:new Date("2025-01-05T09:30:00"),updatedAt:new Date("2025-03-28T16:45:00"),lastContact:new Date("2025-03-28T16:45:00"),notes:"Manages the southeast region routes. Annual review scheduled for June."},{id:8,firstName:"Lisa",lastName:"Martinez",company:"Global Shipping Co.",email:"lisa.martinez@globalshipping.com",phone:"(555) 890-1234",mobile:"(555) 210-9876",type:"prospect",title:"Procurement Director",address:"555 Willow Ln, Smyrna, GA 30080",tags:["prospect","high-value"],assignedTo:"Admin User",createdAt:new Date("2025-04-01T11:30:00"),updatedAt:new Date("2025-04-01T11:30:00"),lastContact:new Date("2025-04-01T11:30:00"),notes:"Interested in our services for international last-mile delivery. Follow up next week."}];s(e),i(e);const t=[...new Set(e.map((e=>e.company)))];_(t);const n=e.flatMap((e=>e.tags)),a=[...new Set(n)];T(a),k(!1)}),1e3)}),[]),(0,a.useEffect)((()=>{let e=[...t];if("all"!==o&&(e=e.filter((e=>e.type===o))),"all"!==d&&(e=e.filter((e=>e.company===d))),"all"!==h&&(e=e.filter((e=>e.tags.includes(h)))),r){const t=r.toLowerCase();e=e.filter((e=>e.firstName.toLowerCase().includes(t)||e.lastName.toLowerCase().includes(t)||e.company.toLowerCase().includes(t)||e.email.toLowerCase().includes(t)||e.phone.includes(t)||e.title&&e.title.toLowerCase().includes(t)))}e.sort(((e,t)=>{let s=e[p],n=t[p];return s instanceof Date&&n instanceof Date?"asc"===f?s-n:n-s:"string"===typeof s&&"string"===typeof n?"asc"===f?s.localeCompare(n):n.localeCompare(s):"asc"===f?s-n:n-s})),i(e)}),[t,r,o,d,h,p,f]);const L=v*b,M=L-b,I=n.slice(M,L),P=Math.ceil(n.length/b),O=e=>{j(e)},R=e=>{p===e?g("asc"===f?"desc":"asc"):(x(e),g("asc"))},F=e=>{const t=E.find((t=>t.value===e));return t?(0,sn.jsx)(Cb,{bg:t.color,className:"text-uppercase",children:t.label}):null};return(0,sn.jsxs)("div",{children:[(0,sn.jsx)(Ob,{title:"Contacts",subtitle:"Manage your contact database",backButton:!1,actionButton:!0,actionButtonLink:"/contacts/new",actionButtonText:"Add Contact",actionButtonIcon:(0,sn.jsx)(Ol,{})}),(0,sn.jsx)("div",{className:"mb-3",children:(0,sn.jsxs)(ir,{variant:"outline-primary",className:"me-2",as:Le,to:"/contacts/import",children:[(0,sn.jsx)(sl,{className:"me-1"})," Import Contacts"]})}),(0,sn.jsx)(Yn,{className:"shadow-sm mb-4",children:(0,sn.jsxs)(Yn.Body,{children:[(0,sn.jsxs)(yn,{className:"mb-3",children:[(0,sn.jsx)(Nn,{md:4,children:(0,sn.jsxs)(nr,{children:[(0,sn.jsx)(nr.Text,{children:(0,sn.jsx)(Ul,{})}),(0,sn.jsx)(Xi.Control,{placeholder:"Search contacts...",value:r,onChange:e=>l(e.target.value)})]})}),(0,sn.jsx)(Nn,{md:2,children:(0,sn.jsxs)(nr,{children:[(0,sn.jsx)(nr.Text,{children:(0,sn.jsx)(ol,{})}),(0,sn.jsxs)(Xi.Select,{value:o,onChange:e=>c(e.target.value),children:[(0,sn.jsx)("option",{value:"all",children:"All Types"}),E.map((e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value)))]})]})}),(0,sn.jsx)(Nn,{md:2,children:(0,sn.jsxs)(nr,{children:[(0,sn.jsx)(nr.Text,{children:(0,sn.jsx)(Sr,{})}),(0,sn.jsxs)(Xi.Select,{value:d,onChange:e=>u(e.target.value),children:[(0,sn.jsx)("option",{value:"all",children:"All Companies"}),D.map((e=>(0,sn.jsx)("option",{value:e,children:e},e)))]})]})}),(0,sn.jsx)(Nn,{md:2,children:(0,sn.jsxs)(nr,{children:[(0,sn.jsx)(nr.Text,{children:(0,sn.jsx)(ao,{})}),(0,sn.jsxs)(Xi.Select,{value:h,onChange:e=>m(e.target.value),children:[(0,sn.jsx)("option",{value:"all",children:"All Tags"}),A.map((e=>(0,sn.jsx)("option",{value:e,children:e.replace(/-/g," ").replace(/^\w/,(e=>e.toUpperCase()))},e)))]})]})}),(0,sn.jsx)(Nn,{md:2,children:(0,sn.jsx)(ir,{variant:"outline-secondary",className:"w-100",onClick:()=>{l(""),c("all"),u("all"),m("all")},children:"Clear Filters"})})]}),S?(0,sn.jsxs)("div",{className:"text-center py-5",children:[(0,sn.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,sn.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,sn.jsx)("p",{className:"mt-3",children:"Loading contacts..."})]}):(0,sn.jsxs)(sn.Fragment,{children:[0===n.length?(0,sn.jsxs)("div",{className:"text-center py-5",children:[(0,sn.jsx)("p",{className:"text-muted mb-3",children:"No contacts found matching your filters."}),(0,sn.jsxs)(ir,{variant:"primary",onClick:()=>e("/contacts/new"),children:[(0,sn.jsx)(Ol,{className:"me-1"})," Add Contact"]})]}):(0,sn.jsx)("div",{className:"table-responsive",children:(0,sn.jsxs)(Uh,{hover:!0,className:"align-middle",children:[(0,sn.jsx)("thead",{children:(0,sn.jsxs)("tr",{children:[(0,sn.jsxs)("th",{onClick:()=>R("lastName"),style:{cursor:"pointer"},children:["Name ","lastName"===p&&(0,sn.jsx)(Jl,{className:"ms-1 text-"+("asc"===f?"muted":"dark")})]}),(0,sn.jsxs)("th",{onClick:()=>R("company"),style:{cursor:"pointer"},children:["Company ","company"===p&&(0,sn.jsx)(Jl,{className:"ms-1 text-"+("asc"===f?"muted":"dark")})]}),(0,sn.jsx)("th",{children:"Contact Info"}),(0,sn.jsxs)("th",{onClick:()=>R("title"),style:{cursor:"pointer"},children:["Title ","title"===p&&(0,sn.jsx)(Jl,{className:"ms-1 text-"+("asc"===f?"muted":"dark")})]}),(0,sn.jsxs)("th",{onClick:()=>R("type"),style:{cursor:"pointer"},children:["Type ","type"===p&&(0,sn.jsx)(Jl,{className:"ms-1 text-"+("asc"===f?"muted":"dark")})]}),(0,sn.jsx)("th",{children:"Tags"}),(0,sn.jsxs)("th",{onClick:()=>R("lastContact"),style:{cursor:"pointer"},children:["Last Contact ","lastContact"===p&&(0,sn.jsx)(Jl,{className:"ms-1 text-"+("asc"===f?"muted":"dark")})]}),(0,sn.jsx)("th",{children:"Actions"})]})}),(0,sn.jsx)("tbody",{children:I.map((e=>{return(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("td",{children:(0,sn.jsxs)("div",{className:"d-flex align-items-center",children:[(0,sn.jsx)(fo,{className:"me-2 text-secondary",size:24}),(0,sn.jsx)("div",{children:(0,sn.jsxs)(Le,{to:`/contacts/${e.id}`,className:"fw-bold text-decoration-none",children:[e.firstName," ",e.lastName]})})]})}),(0,sn.jsx)("td",{children:(0,sn.jsx)(Le,{to:`/companies?name=${encodeURIComponent(e.company)}`,className:"text-decoration-none",children:e.company})}),(0,sn.jsx)("td",{children:(0,sn.jsxs)("div",{className:"d-flex flex-column",children:[(0,sn.jsxs)("div",{className:"mb-1",children:[(0,sn.jsx)(Kr,{className:"me-1 text-muted"}),(0,sn.jsx)("a",{href:`mailto:${e.email}`,children:e.email})]}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)(Ml,{className:"me-1 text-muted"}),(0,sn.jsx)("a",{href:Jy(e.phone),children:Ky(e.phone)})]})]})}),(0,sn.jsx)("td",{children:e.title||"\u2014"}),(0,sn.jsx)("td",{children:F(e.type)}),(0,sn.jsx)("td",{children:e.tags.map((e=>(0,sn.jsx)(Cb,{bg:"light",text:"dark",className:"me-1 mb-1",children:e.replace(/-/g," ")},e)))}),(0,sn.jsx)("td",{children:(t=e.lastContact,t?new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A")}),(0,sn.jsx)("td",{children:(0,sn.jsxs)(Bh,{children:[(0,sn.jsx)(Bh.Toggle,{variant:"light",size:"sm",id:`dropdown-${e.id}`,children:(0,sn.jsx)(Yr,{})}),(0,sn.jsxs)(Bh.Menu,{children:[(0,sn.jsxs)(Bh.Item,{as:Le,to:`/contacts/${e.id}`,children:[(0,sn.jsx)(fo,{className:"me-2"})," View Details"]}),(0,sn.jsxs)(Bh.Item,{as:Le,to:`/contacts/${e.id}/edit`,children:[(0,sn.jsx)(Ll,{className:"me-2"})," Edit"]}),(0,sn.jsx)(Bh.Divider,{}),(0,sn.jsxs)(Bh.Item,{className:"text-danger",onClick:()=>(e=>{C(e),w(!0)})(e),children:[(0,sn.jsx)(uo,{className:"me-2"})," Delete"]})]})]})})]},e.id);var t}))})]})}),(()=>{if(P<=1)return null;const e=[];for(let t=1;t<=P;t++)e.push((0,sn.jsx)(Ib.Item,{active:t===v,onClick:()=>O(t),children:t},t));return(0,sn.jsxs)(Ib,{className:"justify-content-center",children:[(0,sn.jsx)(Ib.Prev,{onClick:()=>O(Math.max(1,v-1)),disabled:1===v}),e,(0,sn.jsx)(Ib.Next,{onClick:()=>O(Math.min(P,v+1)),disabled:v===P})]})})()]})]})}),(0,sn.jsxs)(yy,{show:y,onHide:()=>w(!1),children:[(0,sn.jsx)(yy.Header,{closeButton:!0,children:(0,sn.jsx)(yy.Title,{children:"Confirm Delete"})}),(0,sn.jsxs)(yy.Body,{children:["Are you sure you want to delete the contact for"," ",(0,sn.jsxs)("strong",{children:[null===N||void 0===N?void 0:N.firstName," ",null===N||void 0===N?void 0:N.lastName]})," from"," ",(0,sn.jsx)("strong",{children:null===N||void 0===N?void 0:N.company}),"?",(0,sn.jsx)("div",{className:"mt-3 text-danger",children:"This action cannot be undone."})]}),(0,sn.jsxs)(yy.Footer,{children:[(0,sn.jsx)(ir,{variant:"secondary",onClick:()=>w(!1),children:"Cancel"}),(0,sn.jsx)(ir,{variant:"danger",onClick:()=>{N&&(s(t.filter((e=>e.id!==N.id))),w(!1),C(null))},children:"Delete Contact"})]})]})]})},Ww=()=>{ee();const{id:e}=se(),[t,s]=(0,a.useState)(null),[n,i]=(0,a.useState)(!0),[r,l]=(0,a.useState)(""),[o,c]=(0,a.useState)({title:"",dueDate:"",completed:!1}),[d,u]=(0,a.useState)({type:"note",content:""}),h=[{value:"customer",label:"Customer",color:"success"},{value:"vendor",label:"Vendor",color:"primary"},{value:"partner",label:"Partner",color:"info"},{value:"employee",label:"Employee",color:"secondary"},{value:"prospect",label:"Prospect",color:"warning"},{value:"other",label:"Other",color:"light"}],m=[{value:"note",label:"Note",icon:eo},{value:"call",label:"Call",icon:Il},{value:"email",label:"Email",icon:Kr},{value:"meeting",label:"Meeting",icon:kr}];(0,a.useEffect)((()=>{i(!0),setTimeout((()=>{const t={id:parseInt(e),firstName:"John",lastName:"Doe",company:"ABC Logistics",email:"john.doe@abclogistics.com",phone:"(555) 123-4567",mobile:"(555) 987-6543",type:"customer",title:"Operations Manager",address:"123 Main St",city:"Atlanta",state:"GA",zip:"30303",country:"USA",tags:["vip","key-decision-maker"],assignedTo:"Admin User",createdAt:new Date("2025-01-15T14:30:00"),updatedAt:new Date("2025-04-20T09:15:00"),lastContact:new Date("2025-04-20T09:15:00"),notes:"Key decision maker for delivery services.",interactions:[{id:1,type:"note",content:"Initial contact made via website form",timestamp:new Date("2025-01-15T14:30:00"),user:"Admin User"},{id:2,type:"call",content:"Discussed their delivery needs. They currently have about 30 packages per day that need delivery.",timestamp:new Date("2025-02-10T11:15:00"),user:"Admin User"},{id:3,type:"email",content:"Sent information package and pricing details",timestamp:new Date("2025-02-12T14:45:00"),user:"Admin User"},{id:4,type:"meeting",content:"In-person meeting at their office. Toured their warehouse and discussed specific requirements.",timestamp:new Date("2025-03-05T10:00:00"),user:"Admin User"},{id:5,type:"call",content:"Follow-up call to address additional questions about our service area.",timestamp:new Date("2025-03-20T15:30:00"),user:"Admin User"},{id:6,type:"email",content:"Sent contract proposal for review",timestamp:new Date("2025-04-05T09:00:00"),user:"Admin User"},{id:7,type:"call",content:"Discussed contract terms and agreed on next steps",timestamp:new Date("2025-04-20T09:15:00"),user:"Admin User"}],tasks:[{id:1,title:"Follow up on contract proposal",dueDate:new Date("2025-05-01T12:00:00"),completed:!0,completedAt:new Date("2025-04-20T09:15:00")},{id:2,title:"Schedule site visit to assess logistics",dueDate:new Date("2025-05-15T09:00:00"),completed:!1},{id:3,title:"Prepare implementation timeline",dueDate:new Date("2025-05-20T17:00:00"),completed:!1}],documents:[{id:1,name:"Requirements Document.pdf",uploadedAt:new Date("2025-02-15T16:30:00"),size:"1.2 MB"},{id:2,title:"Service Proposal.pdf",uploadedAt:new Date("2025-04-05T09:00:00"),size:"2.5 MB"},{id:3,title:"Draft Contract.docx",uploadedAt:new Date("2025-04-10T14:15:00"),size:"780 KB"}],relatedContacts:[{id:101,name:"Sarah Williams",title:"Logistics Coordinator",company:"ABC Logistics",email:"sarah.williams@abclogistics.com",phone:"(555) 234-5678"},{id:102,name:"Michael Garcia",title:"Warehouse Manager",company:"ABC Logistics",email:"michael.garcia@abclogistics.com",phone:"(555) 345-6789"}]};s(t),i(!1)}),1e3)}),[e]);const p=e=>e?new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",x=e=>{const n=t.tasks.map((t=>t.id===e?{...t,completed:!t.completed,completedAt:t.completed?null:new Date}:t));s({...t,tasks:n})};return n?(0,sn.jsx)("div",{className:"container-fluid py-4",children:(0,sn.jsxs)("div",{className:"text-center py-5",children:[(0,sn.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,sn.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,sn.jsx)("p",{className:"mt-3",children:"Loading contact details..."})]})}):(0,sn.jsxs)("div",{className:"container-fluid py-4",children:[(0,sn.jsx)(Ob,{title:`${t.firstName} ${t.lastName}`,backButton:!0}),(0,sn.jsxs)("div",{className:"d-flex justify-content-end mb-4",children:[(0,sn.jsxs)(ir,{variant:"outline-primary",className:"me-2",as:Le,to:`/contacts/${e}/edit`,children:[(0,sn.jsx)(qr,{className:"me-1"})," Edit Contact"]}),(0,sn.jsxs)(ir,{variant:"primary",onClick:()=>{alert("This would record a new interaction with the contact.")},children:[(0,sn.jsx)(Il,{className:"me-1"})," Log Interaction"]})]}),(0,sn.jsxs)(yn,{children:[(0,sn.jsxs)(Nn,{lg:4,children:[(0,sn.jsxs)(Yn,{className:"shadow-sm mb-4",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white py-3",children:(0,sn.jsx)("h5",{className:"mb-0",children:"Contact Information"})}),(0,sn.jsxs)(Yn.Body,{children:[(0,sn.jsxs)("div",{className:"mb-4",children:[(0,sn.jsxs)("div",{className:"d-flex align-items-center mb-3",children:[(0,sn.jsx)("div",{className:"bg-light rounded-circle p-3 me-3",children:(0,sn.jsx)(yo,{className:"text-primary",size:24})}),(0,sn.jsxs)("div",{children:[(0,sn.jsxs)("h5",{className:"mb-0",children:[t.firstName," ",t.lastName]}),(0,sn.jsx)("p",{className:"text-muted mb-0",children:t.title})]})]}),(0,sn.jsxs)("div",{className:"mb-2",children:[(0,sn.jsx)(Sr,{className:"me-2 text-muted"}),(0,sn.jsx)(Le,{to:`/companies?name=${encodeURIComponent(t.company)}`,className:"text-decoration-none",children:t.company})]}),(0,sn.jsxs)("div",{className:"mb-1",children:[(0,sn.jsx)("strong",{children:"Type:"})," ",(e=>{const t=h.find((t=>t.value===e));return t?(0,sn.jsx)(Cb,{bg:t.color,className:"text-uppercase",children:t.label}):null})(t.type)]}),(0,sn.jsx)("div",{className:"mb-3 mt-3",children:t.tags.map((e=>(0,sn.jsx)(Cb,{bg:"light",text:"dark",className:"me-1 mb-1",children:e.replace(/-/g," ")},e)))})]}),(0,sn.jsx)("hr",{}),(0,sn.jsx)("h6",{className:"mb-3",children:"Contact Details"}),(0,sn.jsxs)("div",{className:"mb-2",children:[(0,sn.jsx)(Kr,{className:"me-2 text-muted"}),(0,sn.jsx)("a",{href:`mailto:${t.email}`,children:t.email})]}),(0,sn.jsxs)("div",{className:"mb-2",children:[(0,sn.jsx)(Pl,{className:"me-2 text-muted"}),(0,sn.jsx)(Zy,{phoneNumber:t.phone})]}),t.mobile&&(0,sn.jsxs)("div",{className:"mb-2",children:[(0,sn.jsx)(kl,{className:"me-2 text-muted"}),(0,sn.jsx)(Zy,{phoneNumber:t.mobilePhone})]}),(0,sn.jsx)("hr",{}),(0,sn.jsx)("h6",{className:"mb-3",children:"Address"}),(0,sn.jsxs)("address",{className:"mb-0",children:[(0,sn.jsx)(Cl,{className:"me-2 text-muted"}),t.address,(0,sn.jsx)("br",{}),t.city,", ",t.state," ",t.zip,(0,sn.jsx)("br",{}),t.country]}),(0,sn.jsx)("hr",{}),(0,sn.jsx)("h6",{className:"mb-3",children:"Timeline"}),(0,sn.jsxs)("div",{className:"mb-2",children:[(0,sn.jsx)("strong",{children:"Added:"})," ",p(t.createdAt)]}),(0,sn.jsxs)("div",{className:"mb-2",children:[(0,sn.jsx)("strong",{children:"Last Updated:"})," ",p(t.updatedAt)]}),(0,sn.jsxs)("div",{className:"mb-2",children:[(0,sn.jsx)("strong",{children:"Last Contact:"})," ",p(t.lastContact)]})]})]}),(0,sn.jsxs)(Yn,{className:"shadow-sm mb-4",children:[(0,sn.jsxs)(Yn.Header,{className:"bg-white py-3 d-flex justify-content-between align-items-center",children:[(0,sn.jsx)("h5",{className:"mb-0",children:"Related Contacts"}),(0,sn.jsxs)(ir,{variant:"outline-primary",size:"sm",children:[(0,sn.jsx)(Ol,{className:"me-1"})," Add"]})]}),(0,sn.jsx)(Yn.Body,{children:0===t.relatedContacts.length?(0,sn.jsx)("p",{className:"text-muted mb-0",children:"No related contacts."}):(0,sn.jsx)("div",{children:t.relatedContacts.map((e=>(0,sn.jsx)("div",{className:"mb-3 pb-3 border-bottom",children:(0,sn.jsxs)("div",{className:"d-flex",children:[(0,sn.jsx)("div",{className:"flex-shrink-0",children:(0,sn.jsx)(ml,{className:"text-muted me-2",size:20})}),(0,sn.jsxs)("div",{className:"flex-grow-1",children:[(0,sn.jsx)("h6",{className:"mb-0",children:(0,sn.jsx)(Le,{to:`/contacts/${e.id}`,className:"text-decoration-none",children:e.name})}),(0,sn.jsx)("p",{className:"text-muted mb-1",children:e.title}),(0,sn.jsxs)("div",{className:"small",children:[(0,sn.jsxs)("div",{className:"mb-1",children:[(0,sn.jsx)(Kr,{className:"me-1 text-muted"}),(0,sn.jsx)("a",{href:`mailto:${e.email}`,children:e.email})]}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)(Pl,{className:"me-1 text-muted"}),(0,sn.jsx)("a",{href:Jy(t.phone),children:Ky(t.phone)})]})]})]})]})},e.id)))})})]}),(0,sn.jsxs)(Yn,{className:"shadow-sm mb-4",children:[(0,sn.jsxs)(Yn.Header,{className:"bg-white py-3 d-flex justify-content-between align-items-center",children:[(0,sn.jsx)("h5",{className:"mb-0",children:"Documents"}),(0,sn.jsxs)(ir,{variant:"outline-primary",size:"sm",children:[(0,sn.jsx)(Ol,{className:"me-1"})," Upload"]})]}),(0,sn.jsx)(Yn.Body,{children:0===t.documents.length?(0,sn.jsx)("p",{className:"text-muted mb-0",children:"No documents yet."}):(0,sn.jsxs)(Uh,{hover:!0,size:"sm",children:[(0,sn.jsx)("thead",{children:(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("th",{children:"Name"}),(0,sn.jsx)("th",{children:"Date"}),(0,sn.jsx)("th",{children:"Size"})]})}),(0,sn.jsx)("tbody",{children:t.documents.map((e=>{return(0,sn.jsxs)("tr",{children:[(0,sn.jsxs)("td",{children:[(0,sn.jsx)(tl,{className:"me-2 text-muted"}),(0,sn.jsx)("a",{href:"#",children:e.name||e.title})]}),(0,sn.jsx)("td",{children:(t=e.uploadedAt,t?new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A")}),(0,sn.jsx)("td",{children:e.size})]},e.id);var t}))})]})})]})]}),(0,sn.jsx)(Nn,{lg:8,children:(0,sn.jsx)(Yn,{className:"shadow-sm mb-4",children:(0,sn.jsx)(Yn.Body,{children:(0,sn.jsxs)(Hy,{defaultActiveKey:"interactions",className:"mb-4",children:[(0,sn.jsxs)(qy,{eventKey:"interactions",title:"Interactions",children:[(0,sn.jsxs)(Xi,{onSubmit:e=>{if(e.preventDefault(),!d.content.trim())return;const n={id:t.interactions.length+1,type:d.type,content:d.content,timestamp:new Date,user:"Admin User"};s({...t,interactions:[n,...t.interactions],lastContact:new Date}),u({type:"note",content:""})},className:"mb-4",children:[(0,sn.jsx)("h5",{className:"mb-3",children:"Log an Interaction"}),(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:2,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Type"}),(0,sn.jsx)(Xi.Select,{value:d.type,onChange:e=>u({...d,type:e.target.value}),children:m.map((e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value)))})]})}),(0,sn.jsx)(Nn,{md:10,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Details"}),(0,sn.jsx)(Xi.Control,{as:"textarea",rows:3,placeholder:"Add details about this interaction...",value:d.content,onChange:e=>u({...d,content:e.target.value})})]})})]}),(0,sn.jsx)("div",{className:"text-end",children:(0,sn.jsxs)(ir,{variant:"primary",type:"submit",disabled:!d.content.trim(),children:[(0,sn.jsx)(Ol,{className:"me-1"})," Log Interaction"]})})]}),(0,sn.jsx)("hr",{}),(0,sn.jsx)("h5",{className:"mb-3",children:"Interaction History"}),(0,sn.jsx)("div",{className:"timeline",children:t.interactions.map(((e,t)=>{var s;const n=(null===(s=m.find((t=>t.value===e.type)))||void 0===s?void 0:s.icon)||eo;return(0,sn.jsx)("div",{className:"timeline-item mb-4",children:(0,sn.jsxs)("div",{className:"d-flex",children:[(0,sn.jsx)("div",{className:"timeline-icon me-3",children:(0,sn.jsx)(n,{className:"note"===e.type?"text-info":"call"===e.type?"text-success":"email"===e.type?"text-primary":"text-warning"})}),(0,sn.jsxs)("div",{className:"timeline-content flex-grow-1",children:[(0,sn.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,sn.jsxs)("strong",{children:["note"===e.type&&"Note","call"===e.type&&"Phone Call","email"===e.type&&"Email","meeting"===e.type&&"Meeting"]}),(0,sn.jsx)("small",{className:"text-muted",children:p(e.timestamp)})]}),(0,sn.jsx)("p",{className:"mb-0",children:e.content}),(0,sn.jsxs)("small",{className:"text-muted",children:["By ",e.user]})]})]})},e.id)}))})]}),(0,sn.jsxs)(qy,{eventKey:"tasks",title:"Tasks",children:[(0,sn.jsxs)(Xi,{onSubmit:e=>{if(e.preventDefault(),!o.title.trim()||!o.dueDate)return;const n={id:t.tasks.length+1,title:o.title,dueDate:new Date(o.dueDate),completed:!1};s({...t,tasks:[...t.tasks,n]}),c({title:"",dueDate:"",completed:!1})},className:"mb-4",children:[(0,sn.jsx)("h5",{className:"mb-3",children:"Add a Task"}),(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-2",children:[(0,sn.jsx)(Xi.Label,{children:"Task Title"}),(0,sn.jsx)(Xi.Control,{type:"text",placeholder:"Enter task title",value:o.title,onChange:e=>c({...o,title:e.target.value})})]})}),(0,sn.jsx)(Nn,{md:4,children:(0,sn.jsxs)(Xi.Group,{className:"mb-2",children:[(0,sn.jsx)(Xi.Label,{children:"Due Date"}),(0,sn.jsx)(Xi.Control,{type:"datetime-local",value:o.dueDate,onChange:e=>c({...o,dueDate:e.target.value})})]})}),(0,sn.jsx)(Nn,{md:2,className:"d-flex align-items-end",children:(0,sn.jsxs)(ir,{variant:"primary",type:"submit",className:"w-100 mb-2",disabled:!o.title.trim()||!o.dueDate,children:[(0,sn.jsx)(Ol,{className:"me-1"})," Add"]})})]})]}),(0,sn.jsx)("hr",{}),(0,sn.jsx)("h5",{className:"mb-3",children:"Open Tasks"}),(0,sn.jsxs)("div",{className:"task-list",children:[0===t.tasks.filter((e=>!e.completed)).length?(0,sn.jsx)(gi,{variant:"light",children:"No open tasks."}):(0,sn.jsxs)(Uh,{hover:!0,children:[(0,sn.jsx)("thead",{children:(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("th",{style:{width:"5%"}}),(0,sn.jsx)("th",{children:"Task"}),(0,sn.jsx)("th",{style:{width:"25%"},children:"Due Date"})]})}),(0,sn.jsx)("tbody",{children:t.tasks.filter((e=>!e.completed)).map((e=>(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("td",{children:(0,sn.jsx)(Xi.Check,{type:"checkbox",checked:e.completed,onChange:()=>x(e.id)})}),(0,sn.jsx)("td",{children:e.title}),(0,sn.jsx)("td",{children:(0,sn.jsxs)("div",{className:"d-flex align-items-center "+(new Date(e.dueDate)<new Date?"text-danger":""),children:[(0,sn.jsx)(kr,{className:"me-2"}),p(e.dueDate)]})})]},e.id)))})]}),(0,sn.jsx)("h5",{className:"mb-3 mt-4",children:"Completed Tasks"}),0===t.tasks.filter((e=>e.completed)).length?(0,sn.jsx)(gi,{variant:"light",children:"No completed tasks."}):(0,sn.jsxs)(Uh,{hover:!0,children:[(0,sn.jsx)("thead",{children:(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("th",{style:{width:"5%"}}),(0,sn.jsx)("th",{children:"Task"}),(0,sn.jsx)("th",{style:{width:"25%"},children:"Completed On"})]})}),(0,sn.jsx)("tbody",{children:t.tasks.filter((e=>e.completed)).map((e=>(0,sn.jsxs)("tr",{className:"text-muted",children:[(0,sn.jsx)("td",{children:(0,sn.jsx)(Xi.Check,{type:"checkbox",checked:e.completed,onChange:()=>x(e.id)})}),(0,sn.jsx)("td",{children:(0,sn.jsx)("s",{children:e.title})}),(0,sn.jsx)("td",{children:(0,sn.jsxs)("div",{className:"d-flex align-items-center",children:[(0,sn.jsx)(zr,{className:"me-2"}),p(e.completedAt)]})})]},e.id)))})]})]})]}),(0,sn.jsxs)(qy,{eventKey:"notes",title:"Notes",children:[(0,sn.jsxs)(Xi,{onSubmit:e=>{if(e.preventDefault(),!r.trim())return;const n={id:t.interactions.length+1,type:"note",content:r,timestamp:new Date,user:"Admin User"};s({...t,interactions:[n,...t.interactions],lastContact:new Date}),l("")},className:"mb-4",children:[(0,sn.jsx)("h5",{className:"mb-3",children:"Add a Note"}),(0,sn.jsxs)(Xi.Group,{children:[(0,sn.jsx)(Xi.Control,{as:"textarea",rows:3,placeholder:"Add a note about this contact...",value:r,onChange:e=>l(e.target.value),className:"mb-2"}),(0,sn.jsx)("div",{className:"text-end",children:(0,sn.jsxs)(ir,{variant:"primary",type:"submit",disabled:!r.trim(),children:[(0,sn.jsx)(Ol,{className:"me-1"})," Add Note"]})})]})]}),(0,sn.jsx)("hr",{}),(0,sn.jsx)("h5",{className:"mb-3",children:"Notes History"}),(0,sn.jsx)("div",{className:"notes-list",children:0===t.interactions.filter((e=>"note"===e.type)).length?(0,sn.jsx)(gi,{variant:"light",children:"No notes available."}):t.interactions.filter((e=>"note"===e.type)).map((e=>(0,sn.jsx)(Yn,{className:"mb-3",children:(0,sn.jsxs)(Yn.Body,{children:[(0,sn.jsxs)("div",{className:"d-flex justify-content-between mb-2",children:[(0,sn.jsx)("strong",{children:e.user}),(0,sn.jsx)("small",{className:"text-muted",children:p(e.timestamp)})]}),(0,sn.jsx)("p",{className:"mb-0",children:e.content})]})},e.id)))})]}),(0,sn.jsx)(qy,{eventKey:"emails",title:"Emails",children:(0,sn.jsxs)("div",{className:"text-center py-5",children:[(0,sn.jsx)(yl,{size:48,className:"text-muted mb-3"}),(0,sn.jsx)("h5",{children:"Email Integration"}),(0,sn.jsx)("p",{className:"text-muted",children:"Connect your email account to track communication with this contact."}),(0,sn.jsx)(ir,{variant:"outline-primary",children:"Connect Email"})]})})]})})})})]})]})},Gw=()=>{const e=ee(),{id:t}=se(),s=!!t,[n,i]=(0,a.useState)(!1),[r,l]=(0,a.useState)(!1),[o,c]=(0,a.useState)(""),[d,u]=(0,a.useState)({firstName:"",lastName:"",company:"",email:"",phone:"",mobile:"",type:"customer",title:"",address:"",city:"",state:"",zip:"",country:"USA",tags:[],notes:""}),[h,m]=(0,a.useState)([]),[p,x]=(0,a.useState)(""),f=["vip","key-decision-maker","frequent-contact","partner","vendor","referral-source","high-value","management","technical","executive"];(0,a.useEffect)((()=>{m(["ABC Logistics","XYZ Retail","Johnson Freight Services","City Express Delivery","Tech Solutions Inc.","Davis Consulting","Areti Alliance","Global Shipping Co."])}),[]),(0,a.useEffect)((()=>{s&&(i(!0),setTimeout((()=>{const e={id:parseInt(t),firstName:"John",lastName:"Doe",company:"ABC Logistics",email:"john.doe@abclogistics.com",phone:"(555) 123-4567",mobile:"(555) 987-6543",type:"customer",title:"Operations Manager",address:"123 Main St",city:"Atlanta",state:"GA",zip:"30303",country:"USA",tags:["vip","key-decision-maker"],notes:"Key decision maker for delivery services."};u(e),i(!1)}),1e3))}),[t,s]);const g=e=>{const{name:t,value:s}=e.target;u({...d,[t]:s})};return(0,sn.jsxs)("div",{className:"container-fluid py-4",children:[(0,sn.jsx)(Ob,{title:s?"Edit Contact":"Add New Contact",subtitle:s?`${d.firstName} ${d.lastName}`:"Create a new contact",backButton:!0}),(0,sn.jsx)(Yn,{className:"shadow-sm mb-4",children:(0,sn.jsx)(Yn.Body,{children:n&&!d.id?(0,sn.jsxs)("div",{className:"text-center py-5",children:[(0,sn.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,sn.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,sn.jsx)("p",{className:"mt-3",children:"Loading contact data..."})]}):(0,sn.jsxs)(Xi,{onSubmit:t=>{t.preventDefault(),i(!0),c(""),setTimeout((()=>{try{if(!d.firstName||!d.lastName||!d.company||!d.email)throw new Error("Please fill in all required fields");console.log("Saving contact:",d),l(!0),setTimeout((()=>{e("/contacts")}),1500)}catch(t){c(t.message),i(!1)}}),1e3)},children:[r&&(0,sn.jsxs)(gi,{variant:"success",className:"mb-4",children:["Contact ",s?"updated":"created"," successfully!"]}),o&&(0,sn.jsx)(gi,{variant:"danger",className:"mb-4",children:o}),(0,sn.jsxs)(yn,{children:[(0,sn.jsxs)(Nn,{md:6,children:[(0,sn.jsx)("h5",{className:"mb-3",children:"Contact Information"}),(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:["First Name ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsx)(Xi.Control,{type:"text",name:"firstName",value:d.firstName,onChange:g,required:!0})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:["Last Name ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsx)(Xi.Control,{type:"text",name:"lastName",value:d.lastName,onChange:g,required:!0})]})})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:["Company ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsx)(Xi.Control,{type:"text",name:"company",value:d.company,onChange:g,list:"companies",required:!0}),(0,sn.jsx)("datalist",{id:"companies",children:h.map(((e,t)=>(0,sn.jsx)("option",{value:e},t)))})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Title"}),(0,sn.jsx)(Xi.Control,{type:"text",name:"title",value:d.title,onChange:g})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:["Email ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsx)(Xi.Control,{type:"email",name:"email",value:d.email,onChange:g,required:!0})]}),(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{as:yn,className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{column:!0,sm:3,children:"Phone"}),(0,sn.jsx)(Nn,{sm:9,children:(0,sn.jsxs)("div",{className:"d-flex align-items-center",children:[(0,sn.jsx)(Xi.Control,{type:"text",name:"phone",value:d.phone,onChange:g,placeholder:"Enter phone number"}),s&&d.phone&&(0,sn.jsx)("div",{className:"ms-2",children:(0,sn.jsx)(Zy,{phoneNumber:d.phone,buttonVariant:"outline-secondary"})})]})})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Mobile"}),(0,sn.jsx)(Xi.Control,{type:"text",name:"mobile",value:d.mobile,onChange:g})]})})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Type"}),(0,sn.jsx)(Xi.Select,{name:"type",value:d.type,onChange:g,children:[{value:"customer",label:"Customer"},{value:"vendor",label:"Vendor"},{value:"partner",label:"Partner"},{value:"employee",label:"Employee"},{value:"prospect",label:"Prospect"},{value:"other",label:"Other"}].map((e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value)))})]})]}),(0,sn.jsxs)(Nn,{md:6,children:[(0,sn.jsx)("h5",{className:"mb-3",children:"Address"}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Street Address"}),(0,sn.jsx)(Xi.Control,{type:"text",name:"address",value:d.address,onChange:g})]}),(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"City"}),(0,sn.jsx)(Xi.Control,{type:"text",name:"city",value:d.city,onChange:g})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"State/Province"}),(0,sn.jsx)(Xi.Control,{type:"text",name:"state",value:d.state,onChange:g})]})})]}),(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Postal Code"}),(0,sn.jsx)(Xi.Control,{type:"text",name:"zip",value:d.zip,onChange:g})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Country"}),(0,sn.jsx)(Xi.Control,{type:"text",name:"country",value:d.country,onChange:g})]})})]}),(0,sn.jsx)("h5",{className:"mb-3 mt-4",children:"Tags"}),(0,sn.jsxs)("div",{className:"mb-3",children:[(0,sn.jsxs)("div",{className:"d-flex",children:[(0,sn.jsx)(Xi.Control,{type:"text",placeholder:"Add a tag...",value:p,onChange:e=>x(e.target.value),list:"tagSuggestions",className:"me-2"}),(0,sn.jsx)(ir,{variant:"outline-primary",onClick:()=>{p&&!d.tags.includes(p)&&(u({...d,tags:[...d.tags,p]}),x(""))},disabled:!p,children:(0,sn.jsx)(Ol,{})})]}),(0,sn.jsx)("datalist",{id:"tagSuggestions",children:f.map(((e,t)=>(0,sn.jsx)("option",{value:e},t)))}),(0,sn.jsx)("div",{className:"mt-2",children:f.map((e=>(0,sn.jsx)(ir,{variant:d.tags.includes(e)?"primary":"outline-secondary",size:"sm",className:"me-2 mb-2",onClick:()=>(e=>{d.tags.includes(e)||u({...d,tags:[...d.tags,e]})})(e),children:e.replace(/-/g," ")},e)))}),(0,sn.jsxs)("div",{className:"mt-3",children:[d.tags.length>0&&(0,sn.jsx)("div",{className:"mb-2",children:"Selected tags:"}),d.tags.map((e=>(0,sn.jsxs)("div",{className:"badge bg-primary me-2 mb-2 p-2",style:{cursor:"pointer"},onClick:()=>(e=>{u({...d,tags:d.tags.filter((t=>t!==e))})})(e),children:[e.replace(/-/g," ")," ",(0,sn.jsx)(co,{})]},e)))]})]}),(0,sn.jsx)("h5",{className:"mb-3 mt-4",children:"Notes"}),(0,sn.jsx)(Xi.Group,{className:"mb-3",children:(0,sn.jsx)(Xi.Control,{as:"textarea",rows:4,name:"notes",value:d.notes,onChange:g,placeholder:"Add notes about this contact..."})})]})]}),(0,sn.jsxs)("div",{className:"d-flex justify-content-between mt-4",children:[s&&(0,sn.jsxs)(ir,{variant:"outline-danger",onClick:()=>{window.confirm("Are you sure you want to delete this contact?")&&e("/contacts")},children:[(0,sn.jsx)(uo,{className:"me-1"})," Delete Contact"]}),(0,sn.jsxs)("div",{className:"ms-auto",children:[(0,sn.jsx)(ir,{variant:"outline-secondary",className:"me-2",onClick:()=>e("/contacts"),children:"Cancel"}),(0,sn.jsx)(ir,{variant:"primary",type:"submit",disabled:n,children:n?(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Saving..."]}):(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(Vl,{className:"me-1"})," ",s?"Update Contact":"Create Contact"]})})]})]})]})})})]})},qw=()=>{const e=ee(),[t,s]=(0,a.useState)(null),[n,i]=(0,a.useState)([]),[r,l]=(0,a.useState)(!1),[o,c]=(0,a.useState)(0),[d,u]=(0,a.useState)(!1),[h,m]=(0,a.useState)(""),[p,x]=(0,a.useState)({firstName:"",lastName:"",company:"",email:"",phone:"",mobile:"",title:"",address:"",city:"",state:"",zip:"",country:"",type:"",tags:""}),[f,g]=(0,a.useState)([]),v=["firstName","lastName","email"],j=(e,t)=>{x({...p,[e]:t})},b=()=>v.every((e=>""!==p[e]));return(0,sn.jsxs)("div",{className:"container-fluid py-4",children:[(0,sn.jsx)(Ob,{title:"Import Contacts",subtitle:"Upload contacts from CSV or Excel files",backButton:!0}),(0,sn.jsx)("div",{className:"d-flex justify-content-end mb-4",children:(0,sn.jsxs)(ir,{variant:"outline-primary",onClick:()=>{alert("This would download a CSV template")},children:[(0,sn.jsx)(Gr,{className:"me-1"})," Download Template"]})}),(0,sn.jsx)(Yn,{className:"shadow-sm mb-4",children:(0,sn.jsxs)(Yn.Body,{children:[(0,sn.jsx)("h5",{className:"mb-3",children:"Upload File"}),(0,sn.jsx)("p",{className:"text-muted",children:"Upload a CSV or Excel file containing your contacts. The file should include columns for contact details."}),d?(0,sn.jsxs)(gi,{variant:"success",children:[(0,sn.jsx)(Pr,{className:"me-2"})," Contacts imported successfully!",(0,sn.jsx)("div",{className:"mt-3",children:(0,sn.jsx)(ir,{variant:"primary",onClick:()=>e("/contacts"),children:"View Contacts"})})]}):(0,sn.jsxs)(Xi,{children:[(0,sn.jsxs)("div",{className:"mb-4",children:[(0,sn.jsx)(Xi.Group,{controlId:"fileUpload",className:"mb-3",children:(0,sn.jsxs)("div",{className:"d-flex align-items-center",children:[(0,sn.jsx)("div",{className:"me-3",children:(0,sn.jsxs)(Xi.Label,{className:"btn btn-outline-primary mb-0",children:[(0,sn.jsx)(po,{className:"me-2"})," Select File",(0,sn.jsx)(Xi.Control,{type:"file",style:{display:"none"},onChange:e=>{const t=e.target.files[0];t&&(s(t),["text/csv","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"].includes(t.type)?(m(""),i([]),g([]),setTimeout((()=>{const e=["First Name","Last Name","Email","Phone","Company","Job Title","Address","City","State","ZIP","Country","Contact Type","Tags"];g(e),i([{"First Name":"John","Last Name":"Smith",Email:"john.smith@example.com",Phone:"555-123-4567",Company:"ABC Corporation","Job Title":"Marketing Director",Address:"123 Main St",City:"Atlanta",State:"GA",ZIP:"30301",Country:"USA","Contact Type":"Customer",Tags:"vip, marketing"},{"First Name":"Sarah","Last Name":"Johnson",Email:"sarah.j@example.com",Phone:"555-987-6543",Company:"XYZ Inc","Job Title":"Operations Manager",Address:"456 Oak Ave",City:"Marietta",State:"GA",ZIP:"30060",Country:"USA","Contact Type":"Prospect",Tags:"new-lead"},{"First Name":"Michael","Last Name":"Williams",Email:"mwilliams@example.com",Phone:"555-567-8901",Company:"Tech Solutions","Job Title":"IT Director",Address:"789 Peachtree St",City:"Atlanta",State:"GA",ZIP:"30308",Country:"USA","Contact Type":"Vendor",Tags:"it, technical"}]);const t={firstName:-1!==e.findIndex((e=>e.toLowerCase().includes("first")))?e[e.findIndex((e=>e.toLowerCase().includes("first")))]:"",lastName:-1!==e.findIndex((e=>e.toLowerCase().includes("last")))?e[e.findIndex((e=>e.toLowerCase().includes("last")))]:"",email:-1!==e.findIndex((e=>e.toLowerCase().includes("email")))?e[e.findIndex((e=>e.toLowerCase().includes("email")))]:"",phone:-1!==e.findIndex((e=>e.toLowerCase().includes("phone")))?e[e.findIndex((e=>e.toLowerCase().includes("phone")))]:"",mobile:-1!==e.findIndex((e=>e.toLowerCase().includes("mobile")||e.toLowerCase().includes("cell")))?e[e.findIndex((e=>e.toLowerCase().includes("mobile")||e.toLowerCase().includes("cell")))]:"",company:-1!==e.findIndex((e=>e.toLowerCase().includes("company")||e.toLowerCase().includes("organization")))?e[e.findIndex((e=>e.toLowerCase().includes("company")||e.toLowerCase().includes("organization")))]:"",title:-1!==e.findIndex((e=>e.toLowerCase().includes("title")||e.toLowerCase().includes("job")))?e[e.findIndex((e=>e.toLowerCase().includes("title")||e.toLowerCase().includes("job")))]:"",address:-1!==e.findIndex((e=>e.toLowerCase().includes("address")||e.toLowerCase().includes("street")))?e[e.findIndex((e=>e.toLowerCase().includes("address")||e.toLowerCase().includes("street")))]:"",city:-1!==e.findIndex((e=>e.toLowerCase().includes("city")))?e[e.findIndex((e=>e.toLowerCase().includes("city")))]:"",state:-1!==e.findIndex((e=>e.toLowerCase().includes("state")||e.toLowerCase().includes("province")))?e[e.findIndex((e=>e.toLowerCase().includes("state")||e.toLowerCase().includes("province")))]:"",zip:-1!==e.findIndex((e=>e.toLowerCase().includes("zip")||e.toLowerCase().includes("postal")))?e[e.findIndex((e=>e.toLowerCase().includes("zip")||e.toLowerCase().includes("postal")))]:"",country:-1!==e.findIndex((e=>e.toLowerCase().includes("country")))?e[e.findIndex((e=>e.toLowerCase().includes("country")))]:"",type:-1!==e.findIndex((e=>e.toLowerCase().includes("type")))?e[e.findIndex((e=>e.toLowerCase().includes("type")))]:"",tags:-1!==e.findIndex((e=>e.toLowerCase().includes("tag")))?e[e.findIndex((e=>e.toLowerCase().includes("tag")))]:""};x(t)}),1e3)):m("Please upload a CSV or Excel file"))},accept:".csv,.xls,.xlsx"})]})}),t&&(0,sn.jsxs)("div",{className:"d-flex align-items-center text-muted",children:["text/csv"===t.type?(0,sn.jsx)(sl,{className:"me-2"}):(0,sn.jsx)(nl,{className:"me-2"}),t.name," (",Math.round(t.size/1024)," KB)"]})]})}),h&&(0,sn.jsxs)(gi,{variant:"danger",children:[(0,sn.jsx)(co,{className:"me-2"})," ",h]}),r&&(0,sn.jsx)("div",{className:"mt-3",children:(0,sn.jsx)(rw,{now:o,label:`${o}%`,animated:!0})})]}),f.length>0&&n.length>0&&(0,sn.jsxs)("div",{children:[(0,sn.jsx)("h5",{className:"mb-3",children:"Map Fields"}),(0,sn.jsxs)("p",{className:"text-muted",children:["Map the columns from your file to the contact fields in our system.",(0,sn.jsx)("span",{className:"text-danger",children:" * Required fields."})]}),(0,sn.jsxs)("div",{className:"row mb-4",children:[(0,sn.jsx)("div",{className:"col-md-3 mb-3",children:(0,sn.jsxs)(Xi.Group,{children:[(0,sn.jsxs)(Xi.Label,{children:["First Name ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsxs)(Xi.Select,{value:p.firstName,onChange:e=>j("firstName",e.target.value),isInvalid:!p.firstName&&v.includes("firstName"),children:[(0,sn.jsx)("option",{value:"",children:"-- Select Field --"}),f.map(((e,t)=>(0,sn.jsx)("option",{value:e,children:e},t)))]})]})}),(0,sn.jsx)("div",{className:"col-md-3 mb-3",children:(0,sn.jsxs)(Xi.Group,{children:[(0,sn.jsxs)(Xi.Label,{children:["Last Name ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsxs)(Xi.Select,{value:p.lastName,onChange:e=>j("lastName",e.target.value),isInvalid:!p.lastName&&v.includes("lastName"),children:[(0,sn.jsx)("option",{value:"",children:"-- Select Field --"}),f.map(((e,t)=>(0,sn.jsx)("option",{value:e,children:e},t)))]})]})}),(0,sn.jsx)("div",{className:"col-md-3 mb-3",children:(0,sn.jsxs)(Xi.Group,{children:[(0,sn.jsxs)(Xi.Label,{children:["Email ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsxs)(Xi.Select,{value:p.email,onChange:e=>j("email",e.target.value),isInvalid:!p.email&&v.includes("email"),children:[(0,sn.jsx)("option",{value:"",children:"-- Select Field --"}),f.map(((e,t)=>(0,sn.jsx)("option",{value:e,children:e},t)))]})]})}),(0,sn.jsx)("div",{className:"col-md-3 mb-3",children:(0,sn.jsxs)(Xi.Group,{children:[(0,sn.jsx)(Xi.Label,{children:"Phone"}),(0,sn.jsxs)(Xi.Select,{value:p.phone,onChange:e=>j("phone",e.target.value),children:[(0,sn.jsx)("option",{value:"",children:"-- Select Field --"}),f.map(((e,t)=>(0,sn.jsx)("option",{value:e,children:e},t)))]})]})}),(0,sn.jsx)("div",{className:"col-md-3 mb-3",children:(0,sn.jsxs)(Xi.Group,{children:[(0,sn.jsx)(Xi.Label,{children:"Company"}),(0,sn.jsxs)(Xi.Select,{value:p.company,onChange:e=>j("company",e.target.value),children:[(0,sn.jsx)("option",{value:"",children:"-- Select Field --"}),f.map(((e,t)=>(0,sn.jsx)("option",{value:e,children:e},t)))]})]})}),(0,sn.jsx)("div",{className:"col-md-3 mb-3",children:(0,sn.jsxs)(Xi.Group,{children:[(0,sn.jsx)(Xi.Label,{children:"Title"}),(0,sn.jsxs)(Xi.Select,{value:p.title,onChange:e=>j("title",e.target.value),children:[(0,sn.jsx)("option",{value:"",children:"-- Select Field --"}),f.map(((e,t)=>(0,sn.jsx)("option",{value:e,children:e},t)))]})]})}),(0,sn.jsx)("div",{className:"col-md-3 mb-3",children:(0,sn.jsxs)(Xi.Group,{children:[(0,sn.jsx)(Xi.Label,{children:"Address"}),(0,sn.jsxs)(Xi.Select,{value:p.address,onChange:e=>j("address",e.target.value),children:[(0,sn.jsx)("option",{value:"",children:"-- Select Field --"}),f.map(((e,t)=>(0,sn.jsx)("option",{value:e,children:e},t)))]})]})}),(0,sn.jsx)("div",{className:"col-md-3 mb-3",children:(0,sn.jsxs)(Xi.Group,{children:[(0,sn.jsx)(Xi.Label,{children:"Contact Type"}),(0,sn.jsxs)(Xi.Select,{value:p.type,onChange:e=>j("type",e.target.value),children:[(0,sn.jsx)("option",{value:"",children:"-- Select Field --"}),f.map(((e,t)=>(0,sn.jsx)("option",{value:e,children:e},t)))]})]})})]}),(0,sn.jsx)("h5",{className:"mb-3",children:"Preview"}),(0,sn.jsx)("div",{className:"table-responsive",children:(0,sn.jsxs)(Uh,{bordered:!0,hover:!0,size:"sm",children:[(0,sn.jsx)("thead",{children:(0,sn.jsx)("tr",{children:f.map(((e,t)=>(0,sn.jsx)("th",{children:e},t)))})}),(0,sn.jsx)("tbody",{children:n.map(((e,t)=>(0,sn.jsx)("tr",{children:f.map(((t,s)=>(0,sn.jsx)("td",{children:e[t]},s)))},t)))})]})}),(0,sn.jsx)("div",{className:"text-end mt-4",children:(0,sn.jsx)(ir,{variant:"primary",onClick:()=>{if(!b())return void m("Please map all required fields (First Name, Last Name, Email)");l(!0),c(0),m("");const e=setInterval((()=>{c((t=>t>=100?(clearInterval(e),l(!1),u(!0),100):t+10))}),300)},disabled:r||!b(),children:r?(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Importing..."]}):(0,sn.jsxs)(sn.Fragment,{children:["Import Contacts (",n.length,")"]})})})]})]})]})})]})},Yw=()=>{const e=ee(),t=Z(),s=new URLSearchParams(t.search).get("name")||"",[n,i]=(0,a.useState)([]),[r,l]=(0,a.useState)([]),[o,c]=(0,a.useState)(s),[d,u]=(0,a.useState)("all"),[h,m]=(0,a.useState)("all"),[p,x]=(0,a.useState)("all"),[f,g]=(0,a.useState)("name"),[v,j]=(0,a.useState)("asc"),[b,y]=(0,a.useState)(1),[w]=(0,a.useState)(10),[N,C]=(0,a.useState)(!1),[S,k]=(0,a.useState)(null),[D,_]=(0,a.useState)(!0),[A,T]=(0,a.useState)([]),E=[{value:"customer",label:"Customer",color:"success"},{value:"prospect",label:"Prospect",color:"warning"},{value:"vendor",label:"Vendor",color:"primary"},{value:"partner",label:"Partner",color:"info"},{value:"competitor",label:"Competitor",color:"danger"},{value:"other",label:"Other",color:"secondary"}],L=[{value:"solo",label:"Solo (1)"},{value:"micro",label:"Micro (2-10)"},{value:"small",label:"Small (11-50)"},{value:"medium",label:"Medium (51-200)"},{value:"large",label:"Large (201-1000)"},{value:"enterprise",label:"Enterprise (1000+)"}];(0,a.useEffect)((()=>{setTimeout((()=>{const e=[{id:1,name:"ABC Logistics",industry:"Transportation",type:"customer",size:"medium",website:"www.abclogistics.com",phone:"(555) 123-4567",email:"info@abclogistics.com",address:"123 Commerce St, Atlanta, GA 30303",revenue:"$5-10M",employees:150,contacts:5,createdAt:new Date("2023-05-15"),updatedAt:new Date("2025-03-20"),notes:"Key customer for last-mile delivery services.",status:"active"},{id:2,name:"XYZ Retail",industry:"Retail",type:"customer",size:"large",website:"www.xyzretail.com",phone:"(555) 234-5678",email:"corporate@xyzretail.com",address:"456 Market Ave, Marietta, GA 30060",revenue:"$50-100M",employees:850,contacts:12,createdAt:new Date("2023-08-22"),updatedAt:new Date("2025-04-15"),notes:"Multiple store locations across Georgia. Regular weekly deliveries.",status:"active"},{id:3,name:"Tech Solutions Inc.",industry:"Technology",type:"vendor",size:"small",website:"www.techsolutions.io",phone:"(555) 345-6789",email:"support@techsolutions.io",address:"789 Innovation Dr, Alpharetta, GA 30009",revenue:"$1-5M",employees:45,contacts:3,createdAt:new Date("2024-01-10"),updatedAt:new Date("2025-03-05"),notes:"Provides our route optimization software.",status:"active"},{id:4,name:"Global Shipping Co.",industry:"Transportation",type:"prospect",size:"enterprise",website:"www.globalshipping.com",phone:"(555) 456-7890",email:"inquiries@globalshipping.com",address:"101 Harbor Blvd, Savannah, GA 31401",revenue:"$500M+",employees:5e3,contacts:2,createdAt:new Date("2025-02-18"),updatedAt:new Date("2025-04-02"),notes:"Potential partnership for international shipping handoffs.",status:"active"},{id:5,name:"Fast Track Couriers",industry:"Transportation",type:"competitor",size:"small",website:"www.fasttrackdelivery.com",phone:"(555) 567-8901",email:"info@fasttrackdelivery.com",address:"222 Speedway St, Atlanta, GA 30318",revenue:"$1-5M",employees:30,contacts:0,createdAt:new Date("2024-11-05"),updatedAt:new Date("2025-01-20"),notes:"Local competitor focused on same-day delivery.",status:"active"},{id:6,name:"Metro Electronics",industry:"Electronics",type:"customer",size:"medium",website:"www.metroelectronics.com",phone:"(555) 678-9012",email:"sales@metroelectronics.com",address:"333 Circuit Ave, Duluth, GA 30096",revenue:"$10-50M",employees:175,contacts:7,createdAt:new Date("2024-03-12"),updatedAt:new Date("2025-04-10"),notes:"Frequent deliveries of high-value electronics. Requires special handling.",status:"active"},{id:7,name:"Green Valley Farms",industry:"Agriculture",type:"customer",size:"small",website:"www.greenvalleyfarms.com",phone:"(555) 789-0123",email:"contact@greenvalleyfarms.com",address:"444 Rural Route, Macon, GA 31201",revenue:"$1-5M",employees:25,contacts:3,createdAt:new Date("2024-08-30"),updatedAt:new Date("2025-02-15"),notes:"Weekly deliveries of fresh produce to metro Atlanta restaurants.",status:"active"},{id:8,name:"City Express",industry:"Transportation",type:"partner",size:"micro",website:"www.cityexpress.net",phone:"(555) 890-1234",email:"dispatch@cityexpress.net",address:"555 Urban Dr, Atlanta, GA 30308",revenue:"$500K-1M",employees:10,contacts:2,createdAt:new Date("2025-01-05"),updatedAt:new Date("2025-03-22"),notes:"Local partner for downtown Atlanta deliveries during peak times.",status:"active"}];i(e),l(e);const t=[...new Set(e.map((e=>e.industry)))];if(T(t),s){const t=e.filter((e=>e.name.toLowerCase().includes(s.toLowerCase())));l(t)}_(!1)}),1e3)}),[s]),(0,a.useEffect)((()=>{let e=[...n];if("all"!==d&&(e=e.filter((e=>e.industry===d))),"all"!==h&&(e=e.filter((e=>e.type===h))),"all"!==p&&(e=e.filter((e=>e.size===p))),o){const t=o.toLowerCase();e=e.filter((e=>e.name.toLowerCase().includes(t)||e.industry.toLowerCase().includes(t)||e.email.toLowerCase().includes(t)||e.phone.includes(t)||e.address.toLowerCase().includes(t)))}e.sort(((e,t)=>{let s=e[f],n=t[f];return s instanceof Date&&n instanceof Date?"asc"===v?s-n:n-s:"string"===typeof s&&"string"===typeof n?"asc"===v?s.localeCompare(n):n.localeCompare(s):"asc"===v?s-n:n-s})),l(e)}),[n,o,d,h,p,f,v]);const M=b*w,I=M-w,P=r.slice(I,M),O=Math.ceil(r.length/w),R=e=>{y(e)},F=e=>{f===e?j("asc"===v?"desc":"asc"):(g(e),j("asc"))},z=e=>{const t=E.find((t=>t.value===e));return t?(0,sn.jsx)(Cb,{bg:t.color,className:"text-uppercase",children:t.label}):null},B=e=>{const t=L.find((t=>t.value===e));return t?t.label:e};return(0,sn.jsxs)("div",{children:[(0,sn.jsx)(Ob,{title:"Companies",subtitle:"Manage your organization database",backButton:!1,actionButton:!0,actionButtonLink:"/companies/new",actionButtonText:"Add Company",actionButtonIcon:(0,sn.jsx)(Ol,{})}),(0,sn.jsx)("div",{className:"mb-3",children:(0,sn.jsxs)(ir,{variant:"outline-primary",className:"me-2",as:Le,to:"/companies/import",children:[(0,sn.jsx)(sl,{className:"me-1"})," Import Companies"]})}),(0,sn.jsx)(Yn,{className:"shadow-sm mb-4",children:(0,sn.jsxs)(Yn.Body,{children:[(0,sn.jsxs)(yn,{className:"mb-3",children:[(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsxs)(nr,{children:[(0,sn.jsx)(nr.Text,{children:(0,sn.jsx)(Ul,{})}),(0,sn.jsx)(Xi.Control,{placeholder:"Search companies...",value:o,onChange:e=>c(e.target.value)})]})}),(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsxs)(nr,{children:[(0,sn.jsx)(nr.Text,{children:(0,sn.jsx)(pl,{})}),(0,sn.jsxs)(Xi.Select,{value:d,onChange:e=>u(e.target.value),children:[(0,sn.jsx)("option",{value:"all",children:"All Industries"}),A.map(((e,t)=>(0,sn.jsx)("option",{value:e,children:e},t)))]})]})}),(0,sn.jsx)(Nn,{md:2,children:(0,sn.jsxs)(nr,{children:[(0,sn.jsx)(nr.Text,{children:(0,sn.jsx)(Sr,{})}),(0,sn.jsxs)(Xi.Select,{value:h,onChange:e=>m(e.target.value),children:[(0,sn.jsx)("option",{value:"all",children:"All Types"}),E.map((e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value)))]})]})}),(0,sn.jsx)(Nn,{md:2,children:(0,sn.jsxs)(nr,{children:[(0,sn.jsx)(nr.Text,{children:(0,sn.jsx)(go,{})}),(0,sn.jsxs)(Xi.Select,{value:p,onChange:e=>x(e.target.value),children:[(0,sn.jsx)("option",{value:"all",children:"All Sizes"}),L.map((e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value)))]})]})}),(0,sn.jsx)(Nn,{md:2,children:(0,sn.jsx)(ir,{variant:"outline-secondary",className:"w-100",onClick:()=>{c(""),u("all"),m("all"),x("all")},children:"Clear Filters"})})]}),D?(0,sn.jsxs)("div",{className:"text-center py-5",children:[(0,sn.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,sn.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,sn.jsx)("p",{className:"mt-3",children:"Loading companies..."})]}):(0,sn.jsxs)(sn.Fragment,{children:[0===r.length?(0,sn.jsxs)("div",{className:"text-center py-5",children:[(0,sn.jsx)("p",{className:"text-muted mb-3",children:"No companies found matching your filters."}),(0,sn.jsxs)(ir,{variant:"primary",onClick:()=>e("/companies/new"),children:[(0,sn.jsx)(Ol,{className:"me-1"})," Add Company"]})]}):(0,sn.jsx)("div",{className:"table-responsive",children:(0,sn.jsxs)(Uh,{hover:!0,className:"align-middle",children:[(0,sn.jsx)("thead",{children:(0,sn.jsxs)("tr",{children:[(0,sn.jsxs)("th",{onClick:()=>F("name"),style:{cursor:"pointer"},children:["Company ","name"===f&&(0,sn.jsx)(Jl,{className:"ms-1 text-"+("asc"===v?"muted":"dark")})]}),(0,sn.jsxs)("th",{onClick:()=>F("industry"),style:{cursor:"pointer"},children:["Industry ","industry"===f&&(0,sn.jsx)(Jl,{className:"ms-1 text-"+("asc"===v?"muted":"dark")})]}),(0,sn.jsx)("th",{children:"Contact Info"}),(0,sn.jsxs)("th",{onClick:()=>F("type"),style:{cursor:"pointer"},children:["Type ","type"===f&&(0,sn.jsx)(Jl,{className:"ms-1 text-"+("asc"===v?"muted":"dark")})]}),(0,sn.jsxs)("th",{onClick:()=>F("size"),style:{cursor:"pointer"},children:["Size ","size"===f&&(0,sn.jsx)(Jl,{className:"ms-1 text-"+("asc"===v?"muted":"dark")})]}),(0,sn.jsxs)("th",{onClick:()=>F("contacts"),style:{cursor:"pointer"},children:["Contacts ","contacts"===f&&(0,sn.jsx)(Jl,{className:"ms-1 text-"+("asc"===v?"muted":"dark")})]}),(0,sn.jsxs)("th",{onClick:()=>F("updatedAt"),style:{cursor:"pointer"},children:["Last Updated ","updatedAt"===f&&(0,sn.jsx)(Jl,{className:"ms-1 text-"+("asc"===v?"muted":"dark")})]}),(0,sn.jsx)("th",{children:"Actions"})]})}),(0,sn.jsx)("tbody",{children:P.map((e=>{return(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("td",{children:(0,sn.jsxs)("div",{className:"d-flex align-items-center",children:[(0,sn.jsx)("div",{className:"bg-light rounded p-2 me-2",children:(0,sn.jsx)(Sr,{className:"text-secondary"})}),(0,sn.jsx)("div",{children:(0,sn.jsx)(Le,{to:`/companies/${e.id}`,className:"fw-bold text-decoration-none",children:e.name})})]})}),(0,sn.jsx)("td",{children:e.industry}),(0,sn.jsx)("td",{children:(0,sn.jsxs)("div",{className:"d-flex flex-column",children:[(0,sn.jsxs)("div",{className:"mb-1",children:[(0,sn.jsx)(Kr,{className:"me-1 text-muted"}),(0,sn.jsx)("a",{href:`mailto:${e.email}`,children:e.email})]}),(0,sn.jsxs)("div",{className:"mb-1",children:[(0,sn.jsx)(Ml,{className:"me-1 text-muted"}),(0,sn.jsx)("a",{href:Jy(e.phone),children:Ky(e.phone)})]}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)(cl,{className:"me-1 text-muted"}),(0,sn.jsx)("a",{href:`https://${e.website}`,target:"_blank",rel:"noopener noreferrer",children:e.website})]})]})}),(0,sn.jsx)("td",{children:z(e.type)}),(0,sn.jsx)("td",{children:B(e.size)}),(0,sn.jsx)("td",{children:(0,sn.jsxs)(Le,{to:`/contacts?company=${encodeURIComponent(e.name)}`,children:[e.contacts," contacts"]})}),(0,sn.jsx)("td",{children:(t=e.updatedAt,t?new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A")}),(0,sn.jsx)("td",{children:(0,sn.jsxs)(Bh,{children:[(0,sn.jsx)(Bh.Toggle,{variant:"light",size:"sm",id:`dropdown-${e.id}`,children:(0,sn.jsx)(Yr,{})}),(0,sn.jsxs)(Bh.Menu,{children:[(0,sn.jsxs)(Bh.Item,{as:Le,to:`/companies/${e.id}`,children:[(0,sn.jsx)(Sr,{className:"me-2"})," View Details"]}),(0,sn.jsxs)(Bh.Item,{as:Le,to:`/companies/${e.id}/edit`,children:[(0,sn.jsx)(Ll,{className:"me-2"})," Edit"]}),(0,sn.jsxs)(Bh.Item,{as:Le,to:`/contacts?company=${encodeURIComponent(e.name)}`,children:[(0,sn.jsx)(go,{className:"me-2"})," View Contacts"]}),(0,sn.jsx)(Bh.Divider,{}),(0,sn.jsxs)(Bh.Item,{className:"text-danger",onClick:()=>(e=>{k(e),C(!0)})(e),children:[(0,sn.jsx)(uo,{className:"me-2"})," Delete"]})]})]})})]},e.id);var t}))})]})}),(()=>{if(O<=1)return null;const e=[];for(let t=1;t<=O;t++)e.push((0,sn.jsx)(Ib.Item,{active:t===b,onClick:()=>R(t),children:t},t));return(0,sn.jsxs)(Ib,{className:"justify-content-center",children:[(0,sn.jsx)(Ib.Prev,{onClick:()=>R(Math.max(1,b-1)),disabled:1===b}),e,(0,sn.jsx)(Ib.Next,{onClick:()=>R(Math.min(O,b+1)),disabled:b===O})]})})()]})]})}),(0,sn.jsxs)(yy,{show:N,onHide:()=>C(!1),children:[(0,sn.jsx)(yy.Header,{closeButton:!0,children:(0,sn.jsx)(yy.Title,{children:"Confirm Delete"})}),(0,sn.jsxs)(yy.Body,{children:["Are you sure you want to delete the company ",(0,sn.jsx)("strong",{children:null===S||void 0===S?void 0:S.name}),"?",(null===S||void 0===S?void 0:S.contacts)>0&&(0,sn.jsxs)("div",{className:"mt-2 text-warning",children:[(0,sn.jsx)("strong",{children:"Warning:"})," This company has ",S.contacts," associated contacts. Deleting this company will not delete these contacts, but they will no longer be associated with this company."]}),(0,sn.jsx)("div",{className:"mt-3 text-danger",children:"This action cannot be undone."})]}),(0,sn.jsxs)(yy.Footer,{children:[(0,sn.jsx)(ir,{variant:"secondary",onClick:()=>C(!1),children:"Cancel"}),(0,sn.jsx)(ir,{variant:"danger",onClick:()=>{S&&(i(n.filter((e=>e.id!==S.id))),C(!1),k(null))},children:"Delete Company"})]})]})]})},Kw=()=>{var e;ee();const{id:t}=se(),[s,n]=(0,a.useState)(null),[i,r]=(0,a.useState)(!0),[l,o]=(0,a.useState)(""),[c,d]=(0,a.useState)([]),u=[{value:"customer",label:"Customer",color:"success"},{value:"prospect",label:"Prospect",color:"warning"},{value:"vendor",label:"Vendor",color:"primary"},{value:"partner",label:"Partner",color:"info"},{value:"competitor",label:"Competitor",color:"danger"},{value:"other",label:"Other",color:"secondary"}],h=[{value:"solo",label:"Solo (1)"},{value:"micro",label:"Micro (2-10)"},{value:"small",label:"Small (11-50)"},{value:"medium",label:"Medium (51-200)"},{value:"large",label:"Large (201-1000)"},{value:"enterprise",label:"Enterprise (1000+)"}];(0,a.useEffect)((()=>{r(!0),setTimeout((()=>{const e={id:parseInt(t),name:"ABC Logistics",industry:"Transportation",type:"customer",size:"medium",website:"www.abclogistics.com",email:"info@abclogistics.com",phone:"(555) 123-4567",address:"123 Commerce St",city:"Atlanta",state:"GA",zip:"30303",country:"USA",revenue:"$5-10M",employees:150,description:"Leading logistics provider in the southeast region, specializing in last-mile delivery.",notes:"Key customer for our overnight delivery services. Looking to expand our partnership into same-day delivery.",linkedinUrl:"linkedin.com/company/abclogistics",twitterUrl:"twitter.com/abclogistics",facebookUrl:"facebook.com/abclogistics",yearFounded:2010,assignedTo:"Admin User",createdAt:new Date("2023-05-15"),updatedAt:new Date("2025-03-20"),status:"active",contacts:[{id:1,name:"John Doe",title:"Operations Manager",email:"john.doe@abclogistics.com",phone:"(555) 123-4567",primary:!0},{id:2,name:"Jane Smith",title:"Logistics Coordinator",email:"jane.smith@abclogistics.com",phone:"(555) 234-5678",primary:!1},{id:3,name:"Michael Johnson",title:"CEO",email:"michael.johnson@abclogistics.com",phone:"(555) 345-6789",primary:!1}],deals:[{id:1,name:"Annual Contract Renewal",stage:"Closed Won",amount:12e4,closeDate:new Date("2025-01-15")},{id:2,name:"Same-Day Delivery Expansion",stage:"Proposal",amount:75e3,closeDate:new Date("2025-06-30")}],documents:[{id:1,name:"Service Agreement.pdf",uploadedAt:new Date("2025-01-15"),size:"2.4 MB",type:"Contract"},{id:2,name:"Meeting Notes - Q1 Review.docx",uploadedAt:new Date("2025-03-20"),size:"550 KB",type:"Notes"},{id:3,name:"ABC Logistics - Requirements.xlsx",uploadedAt:new Date("2024-11-12"),size:"1.2 MB",type:"Specifications"}],tasks:[{id:1,title:"Schedule quarterly business review",dueDate:new Date("2025-05-15"),completed:!1,assignedTo:"Admin User"},{id:2,title:"Send same-day delivery proposal",dueDate:new Date("2025-05-05"),completed:!0,completedAt:new Date("2025-04-28"),assignedTo:"Admin User"}]};n(e);const s=[{id:1,type:"note",content:"Added company to CRM",timestamp:new Date("2023-05-15T10:30:00"),user:"Admin User"},{id:2,type:"contact_added",content:"Added John Doe as a contact",timestamp:new Date("2023-05-15T10:45:00"),user:"Admin User"},{id:3,type:"deal_created",content:'Created deal "Annual Contract Renewal"',timestamp:new Date("2023-06-10T14:15:00"),user:"Admin User"},{id:4,type:"meeting",content:"On-site meeting to discuss delivery needs",timestamp:new Date("2023-07-22T11:00:00"),user:"Admin User"},{id:5,type:"deal_updated",content:'Deal "Annual Contract Renewal" moved to Closed Won',timestamp:new Date("2025-01-15T16:30:00"),user:"Admin User"},{id:6,type:"document_added",content:'Uploaded document "Service Agreement.pdf"',timestamp:new Date("2025-01-15T16:45:00"),user:"Admin User"},{id:7,type:"note",content:"Quarterly business review scheduled for next month",timestamp:new Date("2025-03-20T09:15:00"),user:"Admin User"},{id:8,type:"deal_created",content:'Created deal "Same-Day Delivery Expansion"',timestamp:new Date("2025-04-05T13:45:00"),user:"Admin User"},{id:9,type:"task_completed",content:'Completed task "Send same-day delivery proposal"',timestamp:new Date("2025-04-28T15:20:00"),user:"Admin User"}];d(s),r(!1)}),1e3)}),[t]);const m=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",p=e=>e?new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",x=e=>{const t=h.find((t=>t.value===e));return t?t.label:e},f=e=>{switch(e){case"Closed Won":return(0,sn.jsx)(Cb,{bg:"success",children:"Closed Won"});case"Closed Lost":return(0,sn.jsx)(Cb,{bg:"danger",children:"Closed Lost"});case"Proposal":return(0,sn.jsx)(Cb,{bg:"warning",children:"Proposal"});case"Negotiation":return(0,sn.jsx)(Cb,{bg:"info",children:"Negotiation"});case"Qualified":return(0,sn.jsx)(Cb,{bg:"primary",children:"Qualified"});default:return(0,sn.jsx)(Cb,{bg:"secondary",children:e})}};return i?(0,sn.jsx)("div",{className:"container-fluid py-4",children:(0,sn.jsxs)("div",{className:"text-center py-5",children:[(0,sn.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,sn.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,sn.jsx)("p",{className:"mt-3",children:"Loading company details..."})]})}):(0,sn.jsxs)("div",{className:"container-fluid py-4",children:[(0,sn.jsx)(Ob,{title:s.name,subtitle:`${s.industry} - ${x(s.size)}`,backButton:!0}),(0,sn.jsxs)("div",{className:"d-flex justify-content-end mb-4",children:[(0,sn.jsxs)(ir,{variant:"outline-primary",className:"me-2",as:Le,to:`/companies/${t}/edit`,children:[(0,sn.jsx)(qr,{className:"me-1"})," Edit Company"]}),(0,sn.jsxs)(ir,{variant:"primary",as:Le,to:`/contacts/new?company=${encodeURIComponent(s.name)}`,children:[(0,sn.jsx)(Ol,{className:"me-1"})," Add Contact"]})]}),(0,sn.jsxs)(yn,{children:[(0,sn.jsxs)(Nn,{lg:4,children:[(0,sn.jsxs)(Yn,{className:"shadow-sm mb-4",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white py-3",children:(0,sn.jsx)("h5",{className:"mb-0",children:"Company Information"})}),(0,sn.jsxs)(Yn.Body,{children:[(0,sn.jsxs)("div",{className:"mb-4",children:[(0,sn.jsxs)("div",{className:"d-flex align-items-center mb-3",children:[(0,sn.jsx)("div",{className:"bg-light rounded-circle p-3 me-3",children:(0,sn.jsx)(Sr,{className:"text-primary",size:24})}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("h5",{className:"mb-0",children:s.name}),(0,sn.jsx)("div",{className:"text-muted",children:s.industry})]})]}),(0,sn.jsxs)("div",{className:"mb-2",children:[(0,sn.jsx)("strong",{children:"Type:"})," ",(e=>{const t=u.find((t=>t.value===e));return t?(0,sn.jsx)(Cb,{bg:t.color,className:"text-uppercase",children:t.label}):null})(s.type)]}),(0,sn.jsxs)("div",{className:"mb-2",children:[(0,sn.jsx)("strong",{children:"Size:"})," ",x(s.size)]}),(0,sn.jsxs)("div",{className:"mb-2",children:[(0,sn.jsx)("strong",{children:"Employees:"})," ",(null===(e=s.employees)||void 0===e?void 0:e.toLocaleString())||"N/A"]}),(0,sn.jsxs)("div",{className:"mb-2",children:[(0,sn.jsx)("strong",{children:"Year Founded:"})," ",s.yearFounded||"N/A"]}),(0,sn.jsxs)("div",{className:"mb-2",children:[(0,sn.jsx)("strong",{children:"Annual Revenue:"})," ",s.revenue||"N/A"]})]}),(0,sn.jsx)("hr",{}),(0,sn.jsx)("h6",{className:"mb-3",children:"Contact Information"}),s.website&&(0,sn.jsxs)("div",{className:"mb-2",children:[(0,sn.jsx)(cl,{className:"me-2 text-muted"}),(0,sn.jsx)("a",{href:`https://${s.website}`,target:"_blank",rel:"noopener noreferrer",children:s.website})]}),s.email&&(0,sn.jsxs)("div",{className:"mb-2",children:[(0,sn.jsx)(Kr,{className:"me-2 text-muted"}),(0,sn.jsx)("a",{href:`mailto:${s.email}`,children:s.email})]}),s.phone&&(0,sn.jsxs)("div",{className:"mb-2",children:[(0,sn.jsx)(Pl,{className:"me-2 text-muted"}),(0,sn.jsx)(Zy,{phoneNumber:s.phone})]}),(0,sn.jsx)("hr",{}),(0,sn.jsx)("h6",{className:"mb-3",children:"Address"}),(0,sn.jsxs)("address",{className:"mb-0",children:[(0,sn.jsx)(Cl,{className:"me-2 text-muted"}),s.address,(0,sn.jsx)("br",{}),s.city,", ",s.state," ",s.zip,(0,sn.jsx)("br",{}),s.country]}),(s.linkedinUrl||s.twitterUrl||s.facebookUrl)&&(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("hr",{}),(0,sn.jsx)("h6",{className:"mb-3",children:"Social Media"}),s.linkedinUrl&&(0,sn.jsxs)("div",{className:"mb-2",children:[(0,sn.jsx)(xr,{className:"me-2 text-muted"}),(0,sn.jsx)("a",{href:`https://${s.linkedinUrl}`,target:"_blank",rel:"noopener noreferrer",children:s.linkedinUrl})]}),s.twitterUrl&&(0,sn.jsxs)("div",{className:"mb-2",children:[(0,sn.jsx)(fr,{className:"me-2 text-muted"}),(0,sn.jsx)("a",{href:`https://${s.twitterUrl}`,target:"_blank",rel:"noopener noreferrer",children:s.twitterUrl})]}),s.facebookUrl&&(0,sn.jsxs)("div",{className:"mb-2",children:[(0,sn.jsx)(mr,{className:"me-2 text-muted"}),(0,sn.jsx)("a",{href:`https://${s.facebookUrl}`,target:"_blank",rel:"noopener noreferrer",children:s.facebookUrl})]})]})]})]}),(0,sn.jsxs)(Yn,{className:"shadow-sm mb-4",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white py-3",children:(0,sn.jsx)("h5",{className:"mb-0",children:"Key Details"})}),(0,sn.jsxs)(Yn.Body,{children:[s.description&&(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("strong",{children:" Description:"}),(0,sn.jsx)("p",{children:s.description})]}),s.notes&&(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("strong",{children:"Internal Notes:"}),(0,sn.jsx)("p",{children:s.notes})]}),(0,sn.jsxs)("div",{className:"mt-3",children:[(0,sn.jsxs)("div",{className:"mb-2",children:[(0,sn.jsx)("strong",{children:"Created:"})," ",m(s.createdAt)]}),(0,sn.jsxs)("div",{className:"mb-2",children:[(0,sn.jsx)("strong",{children:"Last Updated:"})," ",m(s.updatedAt)]}),s.assignedTo&&(0,sn.jsxs)("div",{className:"mb-2",children:[(0,sn.jsx)("strong",{children:"Account Owner:"})," ",s.assignedTo]})]})]})]}),(0,sn.jsxs)(Yn,{className:"shadow-sm mb-4",children:[(0,sn.jsxs)(Yn.Header,{className:"bg-white py-3 d-flex justify-content-between align-items-center",children:[(0,sn.jsx)("h5",{className:"mb-0",children:"Open Tasks"}),(0,sn.jsxs)(ir,{variant:"outline-primary",size:"sm",as:Le,to:`/tasks?company=${encodeURIComponent(s.name)}`,children:[(0,sn.jsx)(Ol,{className:"me-1"})," Add Task"]})]}),(0,sn.jsxs)(Yn.Body,{children:[0===s.tasks.filter((e=>!e.completed)).length?(0,sn.jsx)("p",{className:"text-muted mb-0",children:"No open tasks."}):(0,sn.jsx)(mb,{variant:"flush",children:s.tasks.filter((e=>!e.completed)).map((e=>(0,sn.jsx)(mb.Item,{className:"px-0 py-2 border-bottom",children:(0,sn.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,sn.jsxs)("div",{children:[(0,sn.jsx)("div",{className:"mb-1",children:e.title}),(0,sn.jsxs)("small",{className:"text-muted "+(new Date(e.dueDate)<new Date?"text-danger":""),children:["Due: ",m(e.dueDate)]})]}),(0,sn.jsx)("div",{children:(0,sn.jsx)(Xi.Check,{type:"checkbox",checked:e.completed,onChange:()=>{const t=s.tasks.map((t=>t.id===e.id?{...t,completed:!t.completed,completedAt:new Date}:t));n({...s,tasks:t});const a={id:c.length+1,type:"task_completed",content:`Completed task "${e.title}"`,timestamp:new Date,user:"Admin User"};d([a,...c])}})})]})},e.id)))}),s.tasks.filter((e=>e.completed)).length>0&&(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("div",{className:"mt-4 mb-2",children:(0,sn.jsx)("h6",{children:"Completed Tasks"})}),(0,sn.jsx)(mb,{variant:"flush",children:s.tasks.filter((e=>e.completed)).map((e=>(0,sn.jsx)(mb.Item,{className:"px-0 py-2 border-bottom text-muted",children:(0,sn.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,sn.jsxs)("div",{children:[(0,sn.jsx)("div",{className:"mb-1",children:(0,sn.jsx)("s",{children:e.title})}),(0,sn.jsxs)("small",{children:["Completed: ",m(e.completedAt)]})]}),(0,sn.jsx)("div",{children:(0,sn.jsx)(Xi.Check,{type:"checkbox",checked:e.completed,onChange:()=>{const t=s.tasks.map((t=>t.id===e.id?{...t,completed:!t.completed,completedAt:null}:t));n({...s,tasks:t})}})})]})},e.id)))})]}),s.tasks.length>0&&(0,sn.jsx)("div",{className:"mt-3 text-end",children:(0,sn.jsx)(ir,{as:Le,to:`/tasks?company=${encodeURIComponent(s.name)}`,variant:"link",size:"sm",className:"p-0",children:"View All Tasks"})})]})]}),(0,sn.jsxs)(Yn,{className:"shadow-sm mb-4",children:[(0,sn.jsxs)(Yn.Header,{className:"bg-white py-3 d-flex justify-content-between align-items-center",children:[(0,sn.jsx)("h5",{className:"mb-0",children:"Documents"}),(0,sn.jsxs)(ir,{variant:"outline-primary",size:"sm",children:[(0,sn.jsx)(Ol,{className:"me-1"})," Upload"]})]}),(0,sn.jsx)(Yn.Body,{children:0===s.documents.length?(0,sn.jsx)("p",{className:"text-muted mb-0",children:"No documents yet."}):(0,sn.jsxs)(Uh,{hover:!0,size:"sm",children:[(0,sn.jsx)("thead",{children:(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("th",{children:"Name"}),(0,sn.jsx)("th",{children:"Date"}),(0,sn.jsx)("th",{children:"Type"})]})}),(0,sn.jsx)("tbody",{children:s.documents.map((e=>(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("td",{children:(0,sn.jsxs)("div",{className:"d-flex align-items-center",children:[(0,sn.jsx)(tl,{className:"me-2 text-muted"}),(0,sn.jsx)("a",{href:"#",children:e.name})]})}),(0,sn.jsx)("td",{children:m(e.uploadedAt)}),(0,sn.jsx)("td",{children:e.type})]},e.id)))})]})})]})]}),(0,sn.jsx)(Nn,{lg:8,children:(0,sn.jsx)(Yn,{className:"shadow-sm mb-4",children:(0,sn.jsx)(Yn.Body,{children:(0,sn.jsxs)(Hy,{defaultActiveKey:"overview",className:"mb-4",children:[(0,sn.jsxs)(qy,{eventKey:"overview",title:"Overview",children:[(0,sn.jsxs)("div",{className:"mb-4",children:[(0,sn.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,sn.jsx)("h5",{className:"mb-0",children:"Contacts"}),(0,sn.jsxs)(ir,{variant:"outline-primary",size:"sm",as:Le,to:`/contacts/new?company=${encodeURIComponent(s.name)}`,children:[(0,sn.jsx)(Ol,{className:"me-1"})," Add Contact"]})]}),0===s.contacts.length?(0,sn.jsx)(gi,{variant:"light",children:"No contacts added yet."}):(0,sn.jsxs)(Uh,{hover:!0,responsive:!0,children:[(0,sn.jsx)("thead",{children:(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("th",{children:"Name"}),(0,sn.jsx)("th",{children:"Title"}),(0,sn.jsx)("th",{children:"Contact Info"}),(0,sn.jsx)("th",{children:"Actions"})]})}),(0,sn.jsx)("tbody",{children:s.contacts.map((e=>(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("td",{children:(0,sn.jsx)("div",{className:"d-flex align-items-center",children:(0,sn.jsxs)("div",{children:[(0,sn.jsx)(Le,{to:`/contacts/${e.id}`,className:"fw-bold text-decoration-none",children:e.name}),e.primary&&(0,sn.jsx)(Cb,{bg:"info",className:"ms-2",children:"Primary"})]})})}),(0,sn.jsx)("td",{children:e.title}),(0,sn.jsx)("td",{children:(0,sn.jsxs)("div",{className:"d-flex flex-column",children:[(0,sn.jsxs)("div",{className:"mb-1",children:[(0,sn.jsx)(Kr,{className:"me-1 text-muted"}),(0,sn.jsx)("a",{href:`mailto:${e.email}`,children:e.email})]}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)(Pl,{className:"me-1 text-muted"}),(0,sn.jsx)("a",{href:Jy(e.phone),children:Ky(e.phone)})]})]})}),(0,sn.jsx)("td",{children:(0,sn.jsx)(ir,{as:Le,to:`/contacts/${e.id}`,variant:"outline-primary",size:"sm",children:"View"})})]},e.id)))})]}),s.contacts.length>0&&(0,sn.jsx)("div",{className:"text-end",children:(0,sn.jsx)(ir,{as:Le,to:`/contacts?company=${encodeURIComponent(s.name)}`,variant:"link",size:"sm",className:"p-0",children:"View All Contacts"})})]}),(0,sn.jsxs)("div",{className:"mb-4",children:[(0,sn.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,sn.jsx)("h5",{className:"mb-0",children:"Deals"}),(0,sn.jsxs)(ir,{variant:"outline-primary",size:"sm",children:[(0,sn.jsx)(Ol,{className:"me-1"})," Add Deal"]})]}),0===s.deals.length?(0,sn.jsx)(gi,{variant:"light",children:"No deals added yet."}):(0,sn.jsxs)(Uh,{hover:!0,responsive:!0,children:[(0,sn.jsx)("thead",{children:(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("th",{children:"Deal Name"}),(0,sn.jsx)("th",{children:"Stage"}),(0,sn.jsx)("th",{children:"Amount"}),(0,sn.jsx)("th",{children:"Close Date"}),(0,sn.jsx)("th",{children:"Actions"})]})}),(0,sn.jsx)("tbody",{children:s.deals.map((e=>{var t;return(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("td",{children:(0,sn.jsx)(Le,{to:`/deals/${e.id}`,className:"text-decoration-none",children:e.name})}),(0,sn.jsx)("td",{children:f(e.stage)}),(0,sn.jsxs)("td",{children:["$",null===(t=e.amount)||void 0===t?void 0:t.toLocaleString()]}),(0,sn.jsx)("td",{children:m(e.closeDate)}),(0,sn.jsx)("td",{children:(0,sn.jsx)(ir,{variant:"outline-primary",size:"sm",children:"View"})})]},e.id)}))})]})]}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:(0,sn.jsx)("h5",{className:"mb-0",children:"Recent Activity"})}),(0,sn.jsx)("div",{className:"timeline",children:c.slice(0,5).map(((e,t)=>(0,sn.jsx)("div",{className:"timeline-item mb-3",children:(0,sn.jsxs)("div",{className:"d-flex",children:[(0,sn.jsxs)("div",{className:"timeline-icon me-3",children:["note"===e.type&&(0,sn.jsx)(eo,{className:"text-info"}),"contact_added"===e.type&&(0,sn.jsx)(go,{className:"text-success"}),"deal_created"===e.type&&(0,sn.jsx)(_l,{className:"text-warning"}),"deal_updated"===e.type&&(0,sn.jsx)(Jr,{className:"text-primary"}),"meeting"===e.type&&(0,sn.jsx)(wo,{className:"text-secondary"}),"document_added"===e.type&&(0,sn.jsx)(tl,{className:"text-danger"}),"task_completed"===e.type&&(0,sn.jsx)(ro,{className:"text-success"})]}),(0,sn.jsxs)("div",{className:"timeline-content flex-grow-1",children:[(0,sn.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,sn.jsx)("strong",{children:e.content}),(0,sn.jsx)("small",{className:"text-muted",children:p(e.timestamp)})]}),(0,sn.jsxs)("small",{className:"text-muted",children:["By ",e.user]})]})]})},e.id)))}),c.length>5&&(0,sn.jsx)("div",{className:"text-end mt-3",children:(0,sn.jsx)(ir,{variant:"link",size:"sm",className:"p-0",onClick:()=>{document.querySelector('button[data-bs-target="#activity"]').click()},children:"View All Activity"})})]})]}),(0,sn.jsxs)(qy,{eventKey:"contacts",title:"Contacts",children:[(0,sn.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,sn.jsx)("h5",{className:"mb-0",children:"Company Contacts"}),(0,sn.jsxs)(ir,{variant:"outline-primary",size:"sm",as:Le,to:`/contacts/new?company=${encodeURIComponent(s.name)}`,children:[(0,sn.jsx)(Ol,{className:"me-1"})," Add Contact"]})]}),0===s.contacts.length?(0,sn.jsx)(gi,{variant:"light",children:"No contacts added yet. Add contacts to keep track of your relationships at this company."}):(0,sn.jsx)(yn,{children:s.contacts.map((e=>(0,sn.jsx)(Nn,{lg:6,className:"mb-3",children:(0,sn.jsx)(Yn,{children:(0,sn.jsxs)(Yn.Body,{children:[(0,sn.jsxs)("div",{className:"d-flex justify-content-between align-items-start mb-3",children:[(0,sn.jsxs)("div",{children:[(0,sn.jsx)("h5",{className:"mb-1",children:(0,sn.jsx)(Le,{to:`/contacts/${e.id}`,className:"text-decoration-none",children:e.name})}),(0,sn.jsx)("div",{className:"text-muted",children:e.title})]}),e.primary&&(0,sn.jsx)(Cb,{bg:"info",children:"Primary Contact"})]}),(0,sn.jsxs)("div",{className:"mb-2",children:[(0,sn.jsx)(Kr,{className:"me-2 text-muted"}),(0,sn.jsx)("a",{href:`mailto:${e.email}`,children:e.email})]}),(0,sn.jsxs)("div",{className:"mb-3",children:[(0,sn.jsx)(Pl,{className:"me-2 text-muted"}),(0,sn.jsx)("a",{href:Jy(e.phone),children:Ky(e.phone)})]}),(0,sn.jsx)("div",{className:"d-flex justify-content-end",children:(0,sn.jsx)(ir,{as:Le,to:`/contacts/${e.id}`,variant:"outline-primary",size:"sm",children:"View Details"})})]})})},e.id)))})]}),(0,sn.jsxs)(qy,{eventKey:"activity",title:"Activity",children:[(0,sn.jsx)(Xi,{onSubmit:e=>{if(e.preventDefault(),!l.trim())return;const t={id:c.length+1,type:"note",content:l,timestamp:new Date,user:"Admin User"};d([t,...c]),o("")},className:"mb-4",children:(0,sn.jsxs)(Xi.Group,{children:[(0,sn.jsx)(Xi.Label,{children:"Add a Note"}),(0,sn.jsx)(Xi.Control,{as:"textarea",rows:3,placeholder:"Add a note about this company...",value:l,onChange:e=>o(e.target.value),className:"mb-2"}),(0,sn.jsx)("div",{className:"text-end",children:(0,sn.jsxs)(ir,{variant:"primary",type:"submit",disabled:!l.trim(),children:[(0,sn.jsx)(Ol,{className:"me-1"})," Add Note"]})})]})}),(0,sn.jsx)("hr",{}),(0,sn.jsx)("h5",{className:"mb-3",children:"Activity History"}),(0,sn.jsx)("div",{className:"timeline",children:c.map(((e,t)=>(0,sn.jsx)("div",{className:"timeline-item mb-4",children:(0,sn.jsxs)("div",{className:"d-flex",children:[(0,sn.jsxs)("div",{className:"timeline-icon me-3",children:["note"===e.type&&(0,sn.jsx)(eo,{className:"text-info"}),"contact_added"===e.type&&(0,sn.jsx)(go,{className:"text-success"}),"deal_created"===e.type&&(0,sn.jsx)(_l,{className:"text-warning"}),"deal_updated"===e.type&&(0,sn.jsx)(Jr,{className:"text-primary"}),"meeting"===e.type&&(0,sn.jsx)(wo,{className:"text-secondary"}),"document_added"===e.type&&(0,sn.jsx)(tl,{className:"text-danger"}),"task_completed"===e.type&&(0,sn.jsx)(ro,{className:"text-success"})]}),(0,sn.jsxs)("div",{className:"timeline-content flex-grow-1",children:[(0,sn.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,sn.jsx)("strong",{children:e.content}),(0,sn.jsx)("small",{className:"text-muted",children:p(e.timestamp)})]}),(0,sn.jsxs)("small",{className:"text-muted",children:["By ",e.user]})]})]})},e.id)))})]}),(0,sn.jsxs)(qy,{eventKey:"deals",title:"Deals",children:[(0,sn.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,sn.jsx)("h5",{className:"mb-0",children:"Deals"}),(0,sn.jsxs)(ir,{variant:"outline-primary",size:"sm",children:[(0,sn.jsx)(Ol,{className:"me-1"})," Add Deal"]})]}),0===s.deals.length?(0,sn.jsx)(gi,{variant:"light",children:"No deals added yet. Add deals to track sales opportunities with this company."}):(0,sn.jsxs)(Uh,{hover:!0,responsive:!0,children:[(0,sn.jsx)("thead",{children:(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("th",{children:"Deal Name"}),(0,sn.jsx)("th",{children:"Stage"}),(0,sn.jsx)("th",{children:"Amount"}),(0,sn.jsx)("th",{children:"Close Date"}),(0,sn.jsx)("th",{children:"Actions"})]})}),(0,sn.jsx)("tbody",{children:s.deals.map((e=>{var t;return(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("td",{children:(0,sn.jsx)(Le,{to:`/deals/${e.id}`,className:"text-decoration-none",children:e.name})}),(0,sn.jsx)("td",{children:f(e.stage)}),(0,sn.jsxs)("td",{children:["$",null===(t=e.amount)||void 0===t?void 0:t.toLocaleString()]}),(0,sn.jsx)("td",{children:m(e.closeDate)}),(0,sn.jsx)("td",{children:(0,sn.jsx)(ir,{variant:"outline-primary",size:"sm",children:"View"})})]},e.id)}))})]}),(0,sn.jsxs)("div",{className:"mt-4",children:[(0,sn.jsx)("h5",{className:"mb-3",children:"Deal Summary"}),(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:4,children:(0,sn.jsx)(Yn,{className:"border bg-light h-100",children:(0,sn.jsxs)(Yn.Body,{className:"p-3",children:[(0,sn.jsx)("div",{className:"text-muted mb-1",children:"Total Deal Value"}),(0,sn.jsxs)("h3",{className:"mb-0",children:["$",s.deals.reduce(((e,t)=>e+(t.amount||0)),0).toLocaleString()]})]})})}),(0,sn.jsx)(Nn,{md:4,children:(0,sn.jsx)(Yn,{className:"border bg-light h-100",children:(0,sn.jsxs)(Yn.Body,{className:"p-3",children:[(0,sn.jsx)("div",{className:"text-muted mb-1",children:"Open Deals"}),(0,sn.jsx)("h3",{className:"mb-0",children:s.deals.filter((e=>"Closed Won"!==e.stage&&"Closed Lost"!==e.stage)).length})]})})}),(0,sn.jsx)(Nn,{md:4,children:(0,sn.jsx)(Yn,{className:"border bg-light h-100",children:(0,sn.jsxs)(Yn.Body,{className:"p-3",children:[(0,sn.jsx)("div",{className:"text-muted mb-1",children:"Win Rate"}),(0,sn.jsx)("h3",{className:"mb-0",children:0===s.deals.length?"0%":(s.deals.filter((e=>"Closed Won"===e.stage)).length/s.deals.filter((e=>"Closed Won"===e.stage||"Closed Lost"===e.stage)).length*100).toFixed(0)+"%"})]})})})]})]})]}),(0,sn.jsxs)(qy,{eventKey:"documents",title:"Documents",children:[(0,sn.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,sn.jsx)("h5",{className:"mb-0",children:"Documents"}),(0,sn.jsxs)(ir,{variant:"outline-primary",size:"sm",children:[(0,sn.jsx)(Ol,{className:"me-1"})," Upload Document"]})]}),0===s.documents.length?(0,sn.jsx)(gi,{variant:"light",children:"No documents uploaded yet. Upload documents to keep track of contracts, proposals, and other files."}):(0,sn.jsxs)(Uh,{hover:!0,responsive:!0,children:[(0,sn.jsx)("thead",{children:(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("th",{children:"Name"}),(0,sn.jsx)("th",{children:"Type"}),(0,sn.jsx)("th",{children:"Size"}),(0,sn.jsx)("th",{children:"Uploaded"}),(0,sn.jsx)("th",{children:"Actions"})]})}),(0,sn.jsx)("tbody",{children:s.documents.map((e=>(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("td",{children:(0,sn.jsxs)("div",{className:"d-flex align-items-center",children:[(0,sn.jsx)(tl,{className:"me-2 text-muted"}),(0,sn.jsx)("a",{href:"#",children:e.name})]})}),(0,sn.jsx)("td",{children:e.type}),(0,sn.jsx)("td",{children:e.size}),(0,sn.jsx)("td",{children:m(e.uploadedAt)}),(0,sn.jsxs)("td",{children:[(0,sn.jsx)(ir,{variant:"outline-primary",size:"sm",className:"me-1",children:"View"}),(0,sn.jsx)(ir,{variant:"outline-secondary",size:"sm",children:"Download"})]})]},e.id)))})]})]})]})})})})]})]})},Jw=()=>{const e=ee(),{id:t}=se(),s=!!t,[n,i]=(0,a.useState)(!1),[r,l]=(0,a.useState)(!1),[o,c]=(0,a.useState)(""),[d,u]=(0,a.useState)({name:"",industry:"",type:"customer",size:"small",website:"",email:"",phone:"",address:"",city:"",state:"",zip:"",country:"USA",revenue:"",employees:"",description:"",notes:"",linkedinUrl:"",twitterUrl:"",facebookUrl:""}),[h,m]=(0,a.useState)(["Transportation","Retail","Technology","Manufacturing","Healthcare","Financial Services","Education","Construction","Agriculture","Food & Beverage","Hospitality","Real Estate","Energy","Entertainment","Other"]);(0,a.useEffect)((()=>{s&&(i(!0),setTimeout((()=>{const e={id:parseInt(t),name:"ABC Logistics",industry:"Transportation",type:"customer",size:"medium",website:"www.abclogistics.com",email:"info@abclogistics.com",phone:"(555) 123-4567",address:"123 Commerce St",city:"Atlanta",state:"GA",zip:"30303",country:"USA",revenue:"$5-10M",employees:150,description:"Leading logistics provider in the southeast region, specializing in last-mile delivery.",notes:"Key customer for our overnight delivery services. Looking to expand our partnership into same-day delivery.",linkedinUrl:"linkedin.com/company/abclogistics",twitterUrl:"twitter.com/abclogistics",facebookUrl:"facebook.com/abclogistics"};u(e),i(!1)}),1e3))}),[t,s]);const p=e=>{const{name:t,value:s}=e.target;u({...d,[t]:s})};return(0,sn.jsxs)("div",{className:"container-fluid py-4",children:[(0,sn.jsx)(Ob,{title:s?"Edit Company":"Add New Company",subtitle:s?d.name:"Create a new company",backButton:!0}),(0,sn.jsx)(Yn,{className:"shadow-sm mb-4",children:(0,sn.jsx)(Yn.Body,{children:n&&!d.id?(0,sn.jsxs)("div",{className:"text-center py-5",children:[(0,sn.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,sn.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,sn.jsx)("p",{className:"mt-3",children:"Loading company data..."})]}):(0,sn.jsxs)(Xi,{onSubmit:t=>{t.preventDefault(),i(!0),c(""),setTimeout((()=>{try{if(!d.name||!d.industry)throw new Error("Please fill in all required fields");console.log("Saving company:",d),l(!0),setTimeout((()=>{e("/companies")}),1500)}catch(t){c(t.message),i(!1)}}),1e3)},children:[r&&(0,sn.jsxs)(gi,{variant:"success",className:"mb-4",children:["Company ",s?"updated":"created"," successfully!"]}),o&&(0,sn.jsx)(gi,{variant:"danger",className:"mb-4",children:o}),(0,sn.jsxs)(yn,{children:[(0,sn.jsxs)(Nn,{md:6,children:[(0,sn.jsx)("h5",{className:"mb-3",children:"Company Information"}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:["Company Name ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsx)(Xi.Control,{type:"text",name:"name",value:d.name,onChange:p,required:!0})]}),(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:["Industry ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsxs)(Xi.Select,{name:"industry",value:d.industry,onChange:p,required:!0,children:[(0,sn.jsx)("option",{value:"",children:"-- Select Industry --"}),h.map(((e,t)=>(0,sn.jsx)("option",{value:e,children:e},t)))]})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Company Type"}),(0,sn.jsx)(Xi.Select,{name:"type",value:d.type,onChange:p,children:[{value:"customer",label:"Customer"},{value:"prospect",label:"Prospect"},{value:"vendor",label:"Vendor"},{value:"partner",label:"Partner"},{value:"competitor",label:"Competitor"},{value:"other",label:"Other"}].map((e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value)))})]})})]}),(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Company Size"}),(0,sn.jsx)(Xi.Select,{name:"size",value:d.size,onChange:p,children:[{value:"solo",label:"Solo (1)"},{value:"micro",label:"Micro (2-10)"},{value:"small",label:"Small (11-50)"},{value:"medium",label:"Medium (51-200)"},{value:"large",label:"Large (201-1000)"},{value:"enterprise",label:"Enterprise (1000+)"}].map((e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value)))})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Number of Employees"}),(0,sn.jsx)(Xi.Control,{type:"number",name:"employees",value:d.employees,onChange:p})]})})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Annual Revenue"}),(0,sn.jsxs)(Xi.Select,{name:"revenue",value:d.revenue,onChange:p,children:[(0,sn.jsx)("option",{value:"",children:"-- Select Revenue Range --"}),[{value:"unknown",label:"Unknown"},{value:"<$500K",label:"Less than $500K"},{value:"$500K-1M",label:"$500K - $1M"},{value:"$1-5M",label:"$1M - $5M"},{value:"$5-10M",label:"$5M - $10M"},{value:"$10-50M",label:"$10M - $50M"},{value:"$50-100M",label:"$50M - $100M"},{value:"$100-500M",label:"$100M - $500M"},{value:"$500M+",label:"$500M+"}].map((e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value)))]})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Description"}),(0,sn.jsx)(Xi.Control,{as:"textarea",rows:3,name:"description",value:d.description,onChange:p,placeholder:"Brief description of the company..."})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Notes"}),(0,sn.jsx)(Xi.Control,{as:"textarea",rows:3,name:"notes",value:d.notes,onChange:p,placeholder:"Internal notes about this company..."})]})]}),(0,sn.jsxs)(Nn,{md:6,children:[(0,sn.jsx)("h5",{className:"mb-3",children:"Contact Information"}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Website"}),(0,sn.jsx)(Xi.Control,{type:"text",name:"website",value:d.website,onChange:p,placeholder:"www.example.com"})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Email"}),(0,sn.jsx)(Xi.Control,{type:"email",name:"email",value:d.email,onChange:p,placeholder:"info@example.com"})]}),(0,sn.jsxs)(Xi.Group,{as:yn,className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{column:!0,sm:3,children:"Phone"}),(0,sn.jsx)(Nn,{sm:9,children:(0,sn.jsxs)("div",{className:"d-flex align-items-center",children:[(0,sn.jsx)(Xi.Control,{type:"text",name:"phone",value:d.phone,onChange:p,placeholder:"Enter phone number"}),s&&d.phone&&(0,sn.jsx)("div",{className:"ms-2",children:(0,sn.jsx)(Zy,{phoneNumber:d.phone,buttonVariant:"outline-secondary"})})]})})]}),(0,sn.jsx)("h5",{className:"mb-3 mt-4",children:"Address"}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Street Address"}),(0,sn.jsx)(Xi.Control,{type:"text",name:"address",value:d.address,onChange:p})]}),(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"City"}),(0,sn.jsx)(Xi.Control,{type:"text",name:"city",value:d.city,onChange:p})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"State/Province"}),(0,sn.jsx)(Xi.Control,{type:"text",name:"state",value:d.state,onChange:p})]})})]}),(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Postal Code"}),(0,sn.jsx)(Xi.Control,{type:"text",name:"zip",value:d.zip,onChange:p})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Country"}),(0,sn.jsx)(Xi.Control,{type:"text",name:"country",value:d.country,onChange:p})]})})]}),(0,sn.jsx)("h5",{className:"mb-3 mt-4",children:"Social Media"}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"LinkedIn URL"}),(0,sn.jsx)(Xi.Control,{type:"text",name:"linkedinUrl",value:d.linkedinUrl,onChange:p,placeholder:"linkedin.com/company/example"})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Twitter URL"}),(0,sn.jsx)(Xi.Control,{type:"text",name:"twitterUrl",value:d.twitterUrl,onChange:p,placeholder:"twitter.com/example"})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Facebook URL"}),(0,sn.jsx)(Xi.Control,{type:"text",name:"facebookUrl",value:d.facebookUrl,onChange:p,placeholder:"facebook.com/example"})]})]})]}),(0,sn.jsxs)("div",{className:"d-flex justify-content-between mt-4",children:[s&&(0,sn.jsxs)(ir,{variant:"outline-danger",onClick:()=>{window.confirm("Are you sure you want to delete this company?")&&e("/companies")},children:[(0,sn.jsx)(uo,{className:"me-1"})," Delete Company"]}),(0,sn.jsxs)("div",{className:"ms-auto",children:[(0,sn.jsx)(ir,{variant:"outline-secondary",className:"me-2",onClick:()=>e("/companies"),children:"Cancel"}),(0,sn.jsx)(ir,{variant:"primary",type:"submit",disabled:n,children:n?(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Saving..."]}):(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(Vl,{className:"me-1"})," ",s?"Update Company":"Create Company"]})})]})]})]})})})]})},Xw=()=>{const e=ee(),[t,s]=(0,a.useState)(null),[n,i]=(0,a.useState)([]),[r,l]=(0,a.useState)(!1),[o,c]=(0,a.useState)(0),[d,u]=(0,a.useState)(!1),[h,m]=(0,a.useState)(""),[p,x]=(0,a.useState)({name:"",industry:"",website:"",email:"",phone:"",address:"",city:"",state:"",zip:"",country:"",type:"",size:"",employees:"",revenue:""}),[f,g]=(0,a.useState)([]),v=["name","industry"],j=(e,t)=>{x({...p,[e]:t})},b=()=>v.every((e=>""!==p[e]));return(0,sn.jsxs)("div",{className:"container-fluid py-4",children:[(0,sn.jsx)(Ob,{title:"Import Companies",subtitle:"Upload companies from CSV or Excel files",backButton:!0}),(0,sn.jsx)("div",{className:"d-flex justify-content-end mb-4",children:(0,sn.jsxs)(ir,{variant:"outline-primary",onClick:()=>{alert("This would download a CSV template for companies")},children:[(0,sn.jsx)(Gr,{className:"me-1"})," Download Template"]})}),(0,sn.jsx)(Yn,{className:"shadow-sm mb-4",children:(0,sn.jsxs)(Yn.Body,{children:[(0,sn.jsx)("h5",{className:"mb-3",children:"Upload File"}),(0,sn.jsx)("p",{className:"text-muted",children:"Upload a CSV or Excel file containing your companies. The file should include columns for company details."}),d?(0,sn.jsxs)(gi,{variant:"success",children:[(0,sn.jsx)(Pr,{className:"me-2"})," Companies imported successfully!",(0,sn.jsx)("div",{className:"mt-3",children:(0,sn.jsx)(ir,{variant:"primary",onClick:()=>e("/companies"),children:"View Companies"})})]}):(0,sn.jsxs)(Xi,{children:[(0,sn.jsxs)("div",{className:"mb-4",children:[(0,sn.jsx)(Xi.Group,{controlId:"fileUpload",className:"mb-3",children:(0,sn.jsxs)("div",{className:"d-flex align-items-center",children:[(0,sn.jsx)("div",{className:"me-3",children:(0,sn.jsxs)(Xi.Label,{className:"btn btn-outline-primary mb-0",children:[(0,sn.jsx)(po,{className:"me-2"})," Select File",(0,sn.jsx)(Xi.Control,{type:"file",style:{display:"none"},onChange:e=>{const t=e.target.files[0];t&&(s(t),["text/csv","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"].includes(t.type)?(m(""),i([]),g([]),setTimeout((()=>{const e=["Company Name","Industry","Website","Email","Phone","Address","City","State","ZIP","Country","Type","Size","Employees","Annual Revenue"];g(e),i([{"Company Name":"Tech Innovations Inc",Industry:"Technology",Website:"www.techinnovations.com",Email:"info@techinnovations.com",Phone:"(555) 123-4567",Address:"123 Tech Blvd",City:"Atlanta",State:"GA",ZIP:"30318",Country:"USA",Type:"Prospect",Size:"Medium (51-200)",Employees:"120","Annual Revenue":"$10-50M"},{"Company Name":"Global Shipping Solutions",Industry:"Transportation",Website:"www.globalshipping.com",Email:"contact@globalshipping.com",Phone:"(555) 987-6543",Address:"456 Port Way",City:"Savannah",State:"GA",ZIP:"31401",Country:"USA",Type:"Customer",Size:"Large (201-1000)",Employees:"750","Annual Revenue":"$50-100M"},{"Company Name":"Fresh Foods Distributors",Industry:"Food & Beverage",Website:"www.freshfoodsdist.com",Email:"sales@freshfoodsdist.com",Phone:"(555) 456-7890",Address:"789 Produce Ln",City:"Macon",State:"GA",ZIP:"31201",Country:"USA",Type:"Prospect",Size:"Small (11-50)",Employees:"45","Annual Revenue":"$1-5M"}]);const t={name:-1!==e.findIndex((e=>e.toLowerCase().includes("company")&&e.toLowerCase().includes("name")))?e[e.findIndex((e=>e.toLowerCase().includes("company")&&e.toLowerCase().includes("name")))]:"",industry:-1!==e.findIndex((e=>e.toLowerCase().includes("industry")))?e[e.findIndex((e=>e.toLowerCase().includes("industry")))]:"",website:-1!==e.findIndex((e=>e.toLowerCase().includes("website")))?e[e.findIndex((e=>e.toLowerCase().includes("website")))]:"",email:-1!==e.findIndex((e=>e.toLowerCase().includes("email")))?e[e.findIndex((e=>e.toLowerCase().includes("email")))]:"",phone:-1!==e.findIndex((e=>e.toLowerCase().includes("phone")))?e[e.findIndex((e=>e.toLowerCase().includes("phone")))]:"",address:-1!==e.findIndex((e=>e.toLowerCase().includes("address")&&!e.toLowerCase().includes("city")&&!e.toLowerCase().includes("state")&&!e.toLowerCase().includes("zip")))?e[e.findIndex((e=>e.toLowerCase().includes("address")&&!e.toLowerCase().includes("city")&&!e.toLowerCase().includes("state")&&!e.toLowerCase().includes("zip")))]:"",city:-1!==e.findIndex((e=>e.toLowerCase().includes("city")))?e[e.findIndex((e=>e.toLowerCase().includes("city")))]:"",state:-1!==e.findIndex((e=>e.toLowerCase().includes("state")||e.toLowerCase().includes("province")))?e[e.findIndex((e=>e.toLowerCase().includes("state")||e.toLowerCase().includes("province")))]:"",zip:-1!==e.findIndex((e=>e.toLowerCase().includes("zip")||e.toLowerCase().includes("postal")))?e[e.findIndex((e=>e.toLowerCase().includes("zip")||e.toLowerCase().includes("postal")))]:"",country:-1!==e.findIndex((e=>e.toLowerCase().includes("country")))?e[e.findIndex((e=>e.toLowerCase().includes("country")))]:"",type:-1!==e.findIndex((e=>e.toLowerCase().includes("type")))?e[e.findIndex((e=>e.toLowerCase().includes("type")))]:"",size:-1!==e.findIndex((e=>e.toLowerCase().includes("size")))?e[e.findIndex((e=>e.toLowerCase().includes("size")))]:"",employees:-1!==e.findIndex((e=>e.toLowerCase().includes("employee")))?e[e.findIndex((e=>e.toLowerCase().includes("employee")))]:"",revenue:-1!==e.findIndex((e=>e.toLowerCase().includes("revenue")))?e[e.findIndex((e=>e.toLowerCase().includes("revenue")))]:""};x(t)}),1e3)):m("Please upload a CSV or Excel file"))},accept:".csv,.xls,.xlsx"})]})}),t&&(0,sn.jsxs)("div",{className:"d-flex align-items-center text-muted",children:["text/csv"===t.type?(0,sn.jsx)(sl,{className:"me-2"}):(0,sn.jsx)(nl,{className:"me-2"}),t.name," (",Math.round(t.size/1024)," KB)"]})]})}),h&&(0,sn.jsxs)(gi,{variant:"danger",children:[(0,sn.jsx)(co,{className:"me-2"})," ",h]}),r&&(0,sn.jsx)("div",{className:"mt-3",children:(0,sn.jsx)(rw,{now:o,label:`${o}%`,animated:!0})})]}),f.length>0&&n.length>0&&(0,sn.jsxs)("div",{children:[(0,sn.jsx)("h5",{className:"mb-3",children:"Map Fields"}),(0,sn.jsxs)("p",{className:"text-muted",children:["Map the columns from your file to the company fields in our system.",(0,sn.jsx)("span",{className:"text-danger",children:" * Required fields."})]}),(0,sn.jsxs)("div",{className:"row mb-4",children:[(0,sn.jsx)("div",{className:"col-md-3 mb-3",children:(0,sn.jsxs)(Xi.Group,{children:[(0,sn.jsxs)(Xi.Label,{children:["Company Name ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsxs)(Xi.Select,{value:p.name,onChange:e=>j("name",e.target.value),isInvalid:!p.name&&v.includes("name"),children:[(0,sn.jsx)("option",{value:"",children:"-- Select Field --"}),f.map(((e,t)=>(0,sn.jsx)("option",{value:e,children:e},t)))]})]})}),(0,sn.jsx)("div",{className:"col-md-3 mb-3",children:(0,sn.jsxs)(Xi.Group,{children:[(0,sn.jsxs)(Xi.Label,{children:["Industry ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsxs)(Xi.Select,{value:p.industry,onChange:e=>j("industry",e.target.value),isInvalid:!p.industry&&v.includes("industry"),children:[(0,sn.jsx)("option",{value:"",children:"-- Select Field --"}),f.map(((e,t)=>(0,sn.jsx)("option",{value:e,children:e},t)))]})]})}),(0,sn.jsx)("div",{className:"col-md-3 mb-3",children:(0,sn.jsxs)(Xi.Group,{children:[(0,sn.jsx)(Xi.Label,{children:"Website"}),(0,sn.jsxs)(Xi.Select,{value:p.website,onChange:e=>j("website",e.target.value),children:[(0,sn.jsx)("option",{value:"",children:"-- Select Field --"}),f.map(((e,t)=>(0,sn.jsx)("option",{value:e,children:e},t)))]})]})}),(0,sn.jsx)("div",{className:"col-md-3 mb-3",children:(0,sn.jsxs)(Xi.Group,{children:[(0,sn.jsx)(Xi.Label,{children:"Email"}),(0,sn.jsxs)(Xi.Select,{value:p.email,onChange:e=>j("email",e.target.value),children:[(0,sn.jsx)("option",{value:"",children:"-- Select Field --"}),f.map(((e,t)=>(0,sn.jsx)("option",{value:e,children:e},t)))]})]})}),(0,sn.jsx)("div",{className:"col-md-3 mb-3",children:(0,sn.jsxs)(Xi.Group,{children:[(0,sn.jsx)(Xi.Label,{children:"Phone"}),(0,sn.jsxs)(Xi.Select,{value:p.phone,onChange:e=>j("phone",e.target.value),children:[(0,sn.jsx)("option",{value:"",children:"-- Select Field --"}),f.map(((e,t)=>(0,sn.jsx)("option",{value:e,children:e},t)))]})]})}),(0,sn.jsx)("div",{className:"col-md-3 mb-3",children:(0,sn.jsxs)(Xi.Group,{children:[(0,sn.jsx)(Xi.Label,{children:"Address"}),(0,sn.jsxs)(Xi.Select,{value:p.address,onChange:e=>j("address",e.target.value),children:[(0,sn.jsx)("option",{value:"",children:"-- Select Field --"}),f.map(((e,t)=>(0,sn.jsx)("option",{value:e,children:e},t)))]})]})}),(0,sn.jsx)("div",{className:"col-md-3 mb-3",children:(0,sn.jsxs)(Xi.Group,{children:[(0,sn.jsx)(Xi.Label,{children:"Type"}),(0,sn.jsxs)(Xi.Select,{value:p.type,onChange:e=>j("type",e.target.value),children:[(0,sn.jsx)("option",{value:"",children:"-- Select Field --"}),f.map(((e,t)=>(0,sn.jsx)("option",{value:e,children:e},t)))]})]})}),(0,sn.jsx)("div",{className:"col-md-3 mb-3",children:(0,sn.jsxs)(Xi.Group,{children:[(0,sn.jsx)(Xi.Label,{children:"Size"}),(0,sn.jsxs)(Xi.Select,{value:p.size,onChange:e=>j("size",e.target.value),children:[(0,sn.jsx)("option",{value:"",children:"-- Select Field --"}),f.map(((e,t)=>(0,sn.jsx)("option",{value:e,children:e},t)))]})]})})]}),(0,sn.jsx)("h5",{className:"mb-3",children:"Preview"}),(0,sn.jsx)("div",{className:"table-responsive",children:(0,sn.jsxs)(Uh,{bordered:!0,hover:!0,size:"sm",children:[(0,sn.jsx)("thead",{children:(0,sn.jsx)("tr",{children:f.map(((e,t)=>(0,sn.jsx)("th",{children:e},t)))})}),(0,sn.jsx)("tbody",{children:n.map(((e,t)=>(0,sn.jsx)("tr",{children:f.map(((t,s)=>(0,sn.jsx)("td",{children:e[t]},s)))},t)))})]})}),(0,sn.jsx)("div",{className:"text-end mt-4",children:(0,sn.jsx)(ir,{variant:"primary",onClick:()=>{if(!b())return void m("Please map all required fields (Company Name, Industry)");l(!0),c(0),m("");const e=setInterval((()=>{c((t=>t>=100?(clearInterval(e),l(!1),u(!0),100):t+10))}),300)},disabled:r||!b(),children:r?(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Importing..."]}):(0,sn.jsxs)(sn.Fragment,{children:["Import Companies (",n.length,")"]})})})]})]})]})})]})},Zw=()=>{const e=ee(),[t,s]=(0,a.useState)([]),[n,i]=(0,a.useState)([]),[r,l]=(0,a.useState)(""),[o,c]=(0,a.useState)("all"),[d,u]=(0,a.useState)("all"),[h,m]=(0,a.useState)("all"),[p,x]=(0,a.useState)("list"),[f,g]=(0,a.useState)("scheduledDate"),[v,j]=(0,a.useState)("desc"),[b,y]=(0,a.useState)(1),[w]=(0,a.useState)(10),[N,C]=(0,a.useState)(!1),[S,k]=(0,a.useState)(null),[D,_]=(0,a.useState)(!0),[A,T]=(0,a.useState)([]),[E,L]=(0,a.useState)(!0),M=[{value:"scheduled",label:"Scheduled",color:"primary"},{value:"in-progress",label:"In Progress",color:"info"},{value:"completed",label:"Completed",color:"success"},{value:"delayed",label:"Delayed",color:"warning"},{value:"cancelled",label:"Cancelled",color:"danger"},{value:"failed",label:"Failed",color:"dark"}];(0,a.useEffect)((()=>{setTimeout((()=>{const e=new Date,t=new Date(e);t.setDate(t.getDate()+1);const n=new Date(e);n.setDate(n.getDate()+7);const a=[{id:1,deliveryId:"DEL-10001",customer:{id:1,name:"ABC Logistics",contact:"John Doe",phone:"(555) 123-4567"},pickupAddress:"123 Warehouse St, Atlanta, GA 30303",deliveryAddress:"456 Commerce Ave, Marietta, GA 30060",scheduledDate:new Date(e.getFullYear(),e.getMonth(),e.getDate(),9,30),status:"completed",driver:{id:1,name:"Michael Rodriguez",phone:"(555) 987-6543"},vehicle:"Box Truck - AT-123",items:[{id:1,description:"Office Furniture",quantity:5,weight:"250 lbs"},{id:2,description:"Electronics",quantity:10,weight:"100 lbs"}],notes:"Customer requested delivery before noon. Access code for gate: 1234",signature:"Jane Smith",completedAt:new Date(e.getFullYear(),e.getMonth(),e.getDate(),11,15),paymentStatus:"paid",amount:350,priority:"standard",eta:new Date(e.getFullYear(),e.getMonth(),e.getDate(),10,45),createdAt:new Date(e.getFullYear(),e.getMonth(),e.getDate()-3),updatedAt:new Date(e.getFullYear(),e.getMonth(),e.getDate()-1)},{id:2,deliveryId:"DEL-10002",customer:{id:2,name:"XYZ Retail",contact:"Jane Smith",phone:"(555) 234-5678"},pickupAddress:"123 Warehouse St, Atlanta, GA 30303",deliveryAddress:"789 Retail Blvd, Alpharetta, GA 30009",scheduledDate:t,status:"scheduled",driver:{id:2,name:"Sarah Johnson",phone:"(555) 876-5432"},vehicle:"Sprinter Van - AT-456",items:[{id:3,description:"Clothing Items",quantity:20,weight:"75 lbs"},{id:4,description:"Accessories",quantity:15,weight:"25 lbs"}],notes:"Store opens at 9am. Contact store manager upon arrival.",signature:null,completedAt:null,paymentStatus:"pending",amount:225,priority:"high",eta:new Date(t.getFullYear(),t.getMonth(),t.getDate(),10,30),createdAt:new Date(e.getFullYear(),e.getMonth(),e.getDate()-2),updatedAt:new Date(e.getFullYear(),e.getMonth(),e.getDate()-1)},{id:3,deliveryId:"DEL-10003",customer:{id:3,name:"Tech Solutions Inc.",contact:"Robert Brown",phone:"(555) 345-6789"},pickupAddress:"123 Warehouse St, Atlanta, GA 30303",deliveryAddress:"101 Tech Park, Norcross, GA 30092",scheduledDate:new Date(e.getFullYear(),e.getMonth(),e.getDate(),14,0),status:"in-progress",driver:{id:3,name:"David Wilson",phone:"(555) 765-4321"},vehicle:"Cargo Van - AT-789",items:[{id:5,description:"Servers",quantity:2,weight:"150 lbs"},{id:6,description:"Networking Equipment",quantity:5,weight:"50 lbs"}],notes:"Fragile equipment. Requires IT staff signature.",signature:null,completedAt:null,paymentStatus:"pending",amount:400,priority:"urgent",eta:new Date(e.getFullYear(),e.getMonth(),e.getDate(),15,30),createdAt:new Date(e.getFullYear(),e.getMonth(),e.getDate()-1),updatedAt:new Date(e.getFullYear(),e.getMonth(),e.getDate())},{id:4,deliveryId:"DEL-10004",customer:{id:4,name:"Global Shipping Co.",contact:"Lisa Martinez",phone:"(555) 456-7890"},pickupAddress:"456 Port Terminal, Savannah, GA 31401",deliveryAddress:"123 Warehouse St, Atlanta, GA 30303",scheduledDate:n,status:"scheduled",driver:{id:1,name:"Michael Rodriguez",phone:"(555) 987-6543"},vehicle:"Semi Truck - AT-101",items:[{id:7,description:"Shipping Containers",quantity:2,weight:"2000 lbs"}],notes:"Long-haul delivery from port. Special permits secured.",signature:null,completedAt:null,paymentStatus:"pending",amount:1200,priority:"standard",eta:new Date(n.getFullYear(),n.getMonth(),n.getDate(),16,0),createdAt:new Date(e.getFullYear(),e.getMonth(),e.getDate()-7),updatedAt:new Date(e.getFullYear(),e.getMonth(),e.getDate()-5)},{id:5,deliveryId:"DEL-10005",customer:{id:5,name:"Metro Electronics",contact:"Daniel Clark",phone:"(555) 567-8901"},pickupAddress:"123 Warehouse St, Atlanta, GA 30303",deliveryAddress:"333 Electronic Way, Duluth, GA 30096",scheduledDate:e,status:"delayed",driver:{id:2,name:"Sarah Johnson",phone:"(555) 876-5432"},vehicle:"Sprinter Van - AT-456",items:[{id:8,description:"TV Sets",quantity:3,weight:"180 lbs"},{id:9,description:"Sound Systems",quantity:2,weight:"70 lbs"}],notes:"Delayed due to traffic accident on I-85. Customer notified of delay.",signature:null,completedAt:null,paymentStatus:"pending",amount:275,priority:"high",eta:new Date(e.getFullYear(),e.getMonth(),e.getDate(),17,30),createdAt:new Date(e.getFullYear(),e.getMonth(),e.getDate()-1),updatedAt:new Date(e.getFullYear(),e.getMonth(),e.getDate())},{id:6,deliveryId:"DEL-10006",customer:{id:6,name:"Fresh Foods Distributors",contact:"Emily Wilson",phone:"(555) 678-9012"},pickupAddress:"444 Farm Road, Macon, GA 31201",deliveryAddress:"555 Restaurant Row, Atlanta, GA 30308",scheduledDate:new Date(e.getFullYear(),e.getMonth(),e.getDate()-1),status:"cancelled",driver:{id:3,name:"David Wilson",phone:"(555) 765-4321"},vehicle:"Refrigerated Van - AT-202",items:[{id:10,description:"Fresh Produce",quantity:15,weight:"250 lbs"}],notes:"Cancelled by customer due to restaurant closure.",signature:null,completedAt:null,paymentStatus:"refunded",amount:325,priority:"standard",eta:null,createdAt:new Date(e.getFullYear(),e.getMonth(),e.getDate()-3),updatedAt:new Date(e.getFullYear(),e.getMonth(),e.getDate()-1)},{id:7,deliveryId:"DEL-10007",customer:{id:7,name:"City Hospital",contact:"Dr. James Taylor",phone:"(555) 789-0123"},pickupAddress:"123 Warehouse St, Atlanta, GA 30303",deliveryAddress:"777 Healthcare Ave, Atlanta, GA 30312",scheduledDate:new Date(e.getFullYear(),e.getMonth(),e.getDate(),8,0),status:"completed",driver:{id:1,name:"Michael Rodriguez",phone:"(555) 987-6543"},vehicle:"Box Truck - AT-123",items:[{id:11,description:"Medical Supplies",quantity:10,weight:"120 lbs"}],notes:"Priority medical delivery. Deliver to receiving department.",signature:"Dr. James Taylor",completedAt:new Date(e.getFullYear(),e.getMonth(),e.getDate(),8,45),paymentStatus:"paid",amount:375,priority:"urgent",eta:new Date(e.getFullYear(),e.getMonth(),e.getDate(),8,30),createdAt:new Date(e.getFullYear(),e.getMonth(),e.getDate()-1),updatedAt:new Date(e.getFullYear(),e.getMonth(),e.getDate())},{id:8,deliveryId:"DEL-10008",customer:{id:3,name:"Tech Solutions Inc.",contact:"Robert Brown",phone:"(555) 345-6789"},pickupAddress:"123 Warehouse St, Atlanta, GA 30303",deliveryAddress:"101 Tech Park, Norcross, GA 30092",scheduledDate:t,status:"scheduled",driver:{id:3,name:"David Wilson",phone:"(555) 765-4321"},vehicle:"Cargo Van - AT-789",items:[{id:12,description:"Office Equipment",quantity:8,weight:"200 lbs"}],notes:"Second delivery to Tech Park this week.",signature:null,completedAt:null,paymentStatus:"pending",amount:250,priority:"standard",eta:new Date(t.getFullYear(),t.getMonth(),t.getDate(),13,30),createdAt:new Date(e.getFullYear(),e.getMonth(),e.getDate()-2),updatedAt:new Date(e.getFullYear(),e.getMonth(),e.getDate()-2)}];s(a),i(a);const r=[...new Set(a.map((e=>e.driver.id)))],l=a.filter((e=>r.includes(e.driver.id))).map((e=>({id:e.driver.id,name:e.driver.name}))).filter(((e,t,s)=>t===s.findIndex((t=>t.id===e.id))));T(l),_(!1)}),1e3)}),[]),(0,a.useEffect)((()=>{let e=[...t];"all"!==o&&(e=e.filter((e=>e.status===o))),"all"!==d&&(e=e.filter((e=>e.driver.id===parseInt(d))));const s=new Date;s.setHours(0,0,0,0);const n=new Date(s);n.setDate(n.getDate()+1);const a=new Date(s);a.setDate(a.getDate()+7);new Date(s.getFullYear(),s.getMonth()+1,0);switch(h){case"today":e=e.filter((e=>{const t=new Date(e.scheduledDate);return t.setHours(0,0,0,0),t.getTime()===s.getTime()}));break;case"tomorrow":e=e.filter((e=>{const t=new Date(e.scheduledDate);return t.setHours(0,0,0,0),t.getTime()===n.getTime()}));break;case"this-week":const t=new Date(s);t.setDate(s.getDate()+(6-s.getDay())),e=e.filter((e=>{const n=new Date(e.scheduledDate);return n>=s&&n<=t}));break;case"next-week":const a=new Date(s);a.setDate(s.getDate()+(7-s.getDay()));const i=new Date(a);i.setDate(a.getDate()+6),e=e.filter((e=>{const t=new Date(e.scheduledDate);return t>=a&&t<=i}));break;case"this-month":e=e.filter((e=>{const t=new Date(e.scheduledDate);return t.getMonth()===s.getMonth()&&t.getFullYear()===s.getFullYear()}))}if(r){const t=r.toLowerCase();e=e.filter((e=>e.deliveryId.toLowerCase().includes(t)||e.customer.name.toLowerCase().includes(t)||e.customer.contact.toLowerCase().includes(t)||e.pickupAddress.toLowerCase().includes(t)||e.deliveryAddress.toLowerCase().includes(t)||e.driver.name.toLowerCase().includes(t)))}e.sort(((e,t)=>{let s=e[f],n=t[f];return"customer.name"===f?(s=e.customer.name,n=t.customer.name):"driver.name"===f&&(s=e.driver.name,n=t.driver.name),s instanceof Date&&n instanceof Date?"asc"===v?s-n:n-s:"string"===typeof s&&"string"===typeof n?"asc"===v?s.localeCompare(n):n.localeCompare(s):"asc"===v?s-n:n-s})),i(e)}),[t,r,o,d,h,f,v]);const I=b*w,P=I-w,O=n.slice(P,I),R=Math.ceil(n.length/w),F=e=>{y(e)},z=e=>{f===e?j("asc"===v?"desc":"asc"):(g(e),j("asc"))},B=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",$=e=>e?new Date(e).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):"",H=e=>{const t=M.find((t=>t.value===e));return t?(0,sn.jsx)(Cb,{bg:t.color,className:"text-uppercase",children:t.label}):null},V=e=>{switch(e){case"urgent":return(0,sn.jsx)(Cb,{bg:"danger",children:"Urgent"});case"high":return(0,sn.jsx)(Cb,{bg:"warning",children:"High"});case"standard":return(0,sn.jsx)(Cb,{bg:"info",children:"Standard"});case"low":return(0,sn.jsx)(Cb,{bg:"secondary",children:"Low"});default:return(0,sn.jsx)(Cb,{bg:"light",text:"dark",children:e})}};return(0,sn.jsxs)("div",{className:"container-fluid py-4",children:[(0,sn.jsx)(Ob,{title:"Deliveries",backButton:!1}),(0,sn.jsxs)("div",{className:"d-flex justify-content-end mb-4",children:[(0,sn.jsxs)(ir,{variant:"outline-primary",className:"me-2",onClick:()=>e("/deliveries/schedule"),children:[(0,sn.jsx)(kr,{className:"me-1"})," Schedule View"]}),(0,sn.jsxs)(ir,{variant:"outline-primary",className:"me-2",onClick:()=>e("/deliveries/map"),children:[(0,sn.jsx)(Cl,{className:"me-1"})," Map View"]}),(0,sn.jsxs)(ir,{variant:"primary",onClick:()=>e("/deliveries/new"),children:[(0,sn.jsx)(Ol,{className:"me-1"})," Add Delivery"]})]}),E&&(()=>{const e=(()=>{const e=t.length,s=t.filter((e=>"scheduled"===e.status)).length,n=t.filter((e=>"in-progress"===e.status)).length,a=t.filter((e=>"completed"===e.status)).length,i=t.filter((e=>"delayed"===e.status)).length,r=t.filter((e=>"cancelled"===e.status)).length,l=new Date;l.setHours(0,0,0,0);const o=new Date(l);return o.setDate(o.getDate()+1),{totalDeliveries:e,scheduledDeliveries:s,inProgressDeliveries:n,completedDeliveries:a,delayedDeliveries:i,cancelledDeliveries:r,todayDeliveries:t.filter((e=>{const t=new Date(e.scheduledDate);return t.setHours(0,0,0,0),t.getTime()===l.getTime()})).length}})();return(0,sn.jsxs)(yn,{className:"mb-4",children:[(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsx)(Yn,{className:"border-0 shadow-sm h-100",children:(0,sn.jsxs)(Yn.Body,{className:"d-flex align-items-center",children:[(0,sn.jsx)("div",{className:"icon-wrapper bg-primary bg-opacity-10 rounded p-3 me-3",children:(0,sn.jsx)(mo,{className:"text-primary",size:24})}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("h6",{className:"text-muted mb-1",children:"Total Deliveries"}),(0,sn.jsx)("h3",{className:"mb-0",children:e.totalDeliveries})]})]})})}),(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsx)(Yn,{className:"border-0 shadow-sm h-100",children:(0,sn.jsxs)(Yn.Body,{className:"d-flex align-items-center",children:[(0,sn.jsx)("div",{className:"icon-wrapper bg-info bg-opacity-10 rounded p-3 me-3",children:(0,sn.jsx)(kr,{className:"text-info",size:24})}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("h6",{className:"text-muted mb-1",children:"Today's Deliveries"}),(0,sn.jsx)("h3",{className:"mb-0",children:e.todayDeliveries})]})]})})}),(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsx)(Yn,{className:"border-0 shadow-sm h-100",children:(0,sn.jsxs)(Yn.Body,{className:"d-flex align-items-center",children:[(0,sn.jsx)("div",{className:"icon-wrapper bg-success bg-opacity-10 rounded p-3 me-3",children:(0,sn.jsx)(mo,{className:"text-success",size:24})}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("h6",{className:"text-muted mb-1",children:"Completed"}),(0,sn.jsx)("h3",{className:"mb-0",children:e.completedDeliveries})]})]})})}),(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsx)(Yn,{className:"border-0 shadow-sm h-100",children:(0,sn.jsxs)(Yn.Body,{className:"d-flex align-items-center",children:[(0,sn.jsx)("div",{className:"icon-wrapper bg-warning bg-opacity-10 rounded p-3 me-3",children:(0,sn.jsx)(mo,{className:"text-warning",size:24})}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("h6",{className:"text-muted mb-1",children:"Delayed/Issues"}),(0,sn.jsx)("h3",{className:"mb-0",children:e.delayedDeliveries+e.cancelledDeliveries})]})]})})})]})})(),(0,sn.jsx)(Yn,{className:"shadow-sm mb-4",children:(0,sn.jsxs)(Yn.Body,{children:[(0,sn.jsxs)(yn,{className:"mb-3",children:[(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsxs)(nr,{children:[(0,sn.jsx)(nr.Text,{children:(0,sn.jsx)(Ul,{})}),(0,sn.jsx)(Xi.Control,{placeholder:"Search deliveries...",value:r,onChange:e=>l(e.target.value)})]})}),(0,sn.jsx)(Nn,{md:2,children:(0,sn.jsxs)(nr,{children:[(0,sn.jsx)(nr.Text,{children:(0,sn.jsx)(ol,{})}),(0,sn.jsxs)(Xi.Select,{value:o,onChange:e=>c(e.target.value),children:[(0,sn.jsx)("option",{value:"all",children:"All Statuses"}),M.map((e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value)))]})]})}),(0,sn.jsx)(Nn,{md:2,children:(0,sn.jsxs)(nr,{children:[(0,sn.jsx)(nr.Text,{children:(0,sn.jsx)(yo,{})}),(0,sn.jsxs)(Xi.Select,{value:d,onChange:e=>u(e.target.value),children:[(0,sn.jsx)("option",{value:"all",children:"All Drivers"}),A.map((e=>(0,sn.jsx)("option",{value:e.id,children:e.name},e.id)))]})]})}),(0,sn.jsx)(Nn,{md:2,children:(0,sn.jsxs)(nr,{children:[(0,sn.jsx)(nr.Text,{children:(0,sn.jsx)(kr,{})}),(0,sn.jsx)(Xi.Select,{value:h,onChange:e=>m(e.target.value),children:[{value:"all",label:"All Dates"},{value:"today",label:"Today"},{value:"tomorrow",label:"Tomorrow"},{value:"this-week",label:"This Week"},{value:"next-week",label:"Next Week"},{value:"this-month",label:"This Month"},{value:"custom",label:"Custom Range"}].map((e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value)))})]})}),(0,sn.jsx)(Nn,{md:2,children:(0,sn.jsx)(ir,{variant:"outline-secondary",className:"w-100",onClick:()=>{l(""),c("all"),u("all"),m("all")},children:"Clear Filters"})}),(0,sn.jsx)(Nn,{md:1,className:"d-flex justify-content-end",children:(0,sn.jsxs)("div",{className:"btn-group",children:[(0,sn.jsx)(ir,{variant:"list"===p?"primary":"outline-primary",onClick:()=>x("list"),children:(0,sn.jsx)(jl,{})}),(0,sn.jsx)(ir,{variant:"grid"===p?"primary":"outline-primary",onClick:()=>x("grid"),children:(0,sn.jsx)(lo,{})})]})})]}),D?(0,sn.jsxs)("div",{className:"text-center py-5",children:[(0,sn.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,sn.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,sn.jsx)("p",{className:"mt-3",children:"Loading deliveries..."})]}):(0,sn.jsxs)(sn.Fragment,{children:[0===n.length?(0,sn.jsxs)("div",{className:"text-center py-5",children:[(0,sn.jsx)("p",{className:"text-muted mb-3",children:"No deliveries found matching your filters."}),(0,sn.jsxs)(ir,{variant:"primary",onClick:()=>e("/deliveries/new"),children:[(0,sn.jsx)(Ol,{className:"me-1"})," Add Delivery"]})]}):"list"===p?(0,sn.jsx)("div",{className:"table-responsive",children:(0,sn.jsxs)(Uh,{hover:!0,className:"align-middle",children:[(0,sn.jsx)("thead",{children:(0,sn.jsxs)("tr",{children:[(0,sn.jsxs)("th",{onClick:()=>z("deliveryId"),style:{cursor:"pointer",whiteSpace:"nowrap"},children:["ID ","deliveryId"===f&&(0,sn.jsx)(Jl,{className:"ms-1 text-"+("asc"===v?"muted":"dark")})]}),(0,sn.jsxs)("th",{onClick:()=>z("customer.name"),style:{cursor:"pointer"},children:["Customer ","customer.name"===f&&(0,sn.jsx)(Jl,{className:"ms-1 text-"+("asc"===v?"muted":"dark")})]}),(0,sn.jsxs)("th",{onClick:()=>z("scheduledDate"),style:{cursor:"pointer",whiteSpace:"nowrap"},children:["Scheduled Date ","scheduledDate"===f&&(0,sn.jsx)(Jl,{className:"ms-1 text-"+("asc"===v?"muted":"dark")})]}),(0,sn.jsx)("th",{children:"Addresses"}),(0,sn.jsxs)("th",{onClick:()=>z("status"),style:{cursor:"pointer"},children:["Status ","status"===f&&(0,sn.jsx)(Jl,{className:"ms-1 text-"+("asc"===v?"muted":"dark")})]}),(0,sn.jsxs)("th",{onClick:()=>z("driver.name"),style:{cursor:"pointer"},children:["Driver ","driver.name"===f&&(0,sn.jsx)(Jl,{className:"ms-1 text-"+("asc"===v?"muted":"dark")})]}),(0,sn.jsx)("th",{children:"Priority"}),(0,sn.jsxs)("th",{onClick:()=>z("amount"),style:{cursor:"pointer",whiteSpace:"nowrap"},children:["Amount ","amount"===f&&(0,sn.jsx)(Jl,{className:"ms-1 text-"+("asc"===v?"muted":"dark")})]}),(0,sn.jsx)("th",{children:"Actions"})]})}),(0,sn.jsx)("tbody",{children:O.map((e=>(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("td",{children:(0,sn.jsx)(Le,{to:`/deliveries/${e.id}`,className:"fw-bold text-decoration-none",children:e.deliveryId})}),(0,sn.jsx)("td",{children:(0,sn.jsxs)("div",{children:[(0,sn.jsx)("div",{className:"fw-bold",children:e.customer.name}),(0,sn.jsx)("div",{className:"text-muted small",children:e.customer.contact})]})}),(0,sn.jsxs)("td",{style:{whiteSpace:"nowrap"},children:[(0,sn.jsx)("div",{children:B(e.scheduledDate)}),(0,sn.jsx)("div",{className:"text-muted small",children:$(e.scheduledDate)})]}),(0,sn.jsx)("td",{children:(0,sn.jsxs)("div",{className:"small text-truncate",style:{maxWidth:"200px"},children:[(0,sn.jsxs)("div",{children:[(0,sn.jsx)("strong",{children:"From:"})," ",e.pickupAddress]}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("strong",{children:"To:"})," ",e.deliveryAddress]})]})}),(0,sn.jsx)("td",{children:H(e.status)}),(0,sn.jsxs)("td",{children:[(0,sn.jsx)("div",{children:e.driver.name}),(0,sn.jsx)("div",{className:"text-muted small",children:e.vehicle})]}),(0,sn.jsx)("td",{children:V(e.priority)}),(0,sn.jsxs)("td",{children:["$",e.amount.toFixed(2)]}),(0,sn.jsx)("td",{children:(0,sn.jsxs)(Bh,{children:[(0,sn.jsx)(Bh.Toggle,{variant:"light",size:"sm",id:`dropdown-${e.id}`,children:(0,sn.jsx)(Yr,{})}),(0,sn.jsxs)(Bh.Menu,{children:[(0,sn.jsxs)(Bh.Item,{as:Le,to:`/deliveries/${e.id}`,children:[(0,sn.jsx)(mo,{className:"me-2"})," View Details"]}),(0,sn.jsxs)(Bh.Item,{as:Le,to:`/deliveries/${e.id}/edit`,children:[(0,sn.jsx)(Ll,{className:"me-2"})," Edit"]}),(0,sn.jsxs)(Bh.Item,{as:Le,to:`/deliveries/${e.id}/track`,children:[(0,sn.jsx)(Cl,{className:"me-2"})," Track"]}),(0,sn.jsx)(Bh.Divider,{}),(0,sn.jsxs)(Bh.Item,{className:"text-danger",onClick:()=>(e=>{k(e),C(!0)})(e),children:[(0,sn.jsx)(uo,{className:"me-2"})," Delete"]})]})]})})]},e.id)))})]})}):(0,sn.jsx)(yn,{children:O.map((e=>{return(0,sn.jsx)(Nn,{md:4,className:"mb-4",children:(0,sn.jsxs)(Yn,{className:"h-100 shadow-sm",children:[(0,sn.jsxs)(Yn.Header,{className:"d-flex justify-content-between align-items-center bg-white",children:[(0,sn.jsx)("span",{className:"fw-bold",children:e.deliveryId}),H(e.status)]}),(0,sn.jsxs)(Yn.Body,{children:[(0,sn.jsxs)("div",{className:"mb-3",children:[(0,sn.jsx)("div",{className:"fw-bold mb-1",children:e.customer.name}),(0,sn.jsxs)("div",{className:"text-muted small mb-2",children:["Contact: ",e.customer.contact," | ",e.customer.phone]}),(0,sn.jsxs)("div",{className:"small mb-1",children:[(0,sn.jsx)(Cl,{className:"me-1 text-muted"}),(0,sn.jsx)("strong",{children:"From:"})," ",e.pickupAddress]}),(0,sn.jsxs)("div",{className:"small mb-1",children:[(0,sn.jsx)(Cl,{className:"me-1 text-muted"}),(0,sn.jsx)("strong",{children:"To:"})," ",e.deliveryAddress]})]}),(0,sn.jsxs)("div",{className:"d-flex justify-content-between mb-3",children:[(0,sn.jsxs)("div",{children:[(0,sn.jsx)("div",{className:"text-muted small",children:"Scheduled"}),(0,sn.jsx)("div",{children:(t=e.scheduledDate,t?`${B(t)} ${$(t)}`:"N/A")})]}),(0,sn.jsxs)("div",{className:"text-end",children:[(0,sn.jsx)("div",{className:"text-muted small",children:"Driver"}),(0,sn.jsx)("div",{children:e.driver.name})]})]}),(0,sn.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,sn.jsx)("div",{children:V(e.priority)}),(0,sn.jsxs)("div",{className:"fw-bold",children:["$",e.amount.toFixed(2)]})]})]}),(0,sn.jsx)(Yn.Footer,{className:"bg-white",children:(0,sn.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,sn.jsx)(ir,{as:Le,to:`/deliveries/${e.id}`,variant:"outline-primary",size:"sm",children:"View"}),(0,sn.jsx)(ir,{as:Le,to:`/deliveries/${e.id}/track`,variant:"outline-info",size:"sm",children:"Track"})]})})]})},e.id);var t}))}),(()=>{if(R<=1)return null;const e=[];for(let t=1;t<=R;t++)e.push((0,sn.jsx)(Ib.Item,{active:t===b,onClick:()=>F(t),children:t},t));return(0,sn.jsxs)(Ib,{className:"justify-content-center",children:[(0,sn.jsx)(Ib.Prev,{onClick:()=>F(Math.max(1,b-1)),disabled:1===b}),e,(0,sn.jsx)(Ib.Next,{onClick:()=>F(Math.min(R,b+1)),disabled:b===R})]})})()]})]})}),(0,sn.jsxs)(yy,{show:N,onHide:()=>C(!1),children:[(0,sn.jsx)(yy.Header,{closeButton:!0,children:(0,sn.jsx)(yy.Title,{children:"Confirm Delete"})}),(0,sn.jsxs)(yy.Body,{children:["Are you sure you want to delete delivery ",(0,sn.jsx)("strong",{children:null===S||void 0===S?void 0:S.deliveryId})," for"," ",(0,sn.jsx)("strong",{children:null===S||void 0===S?void 0:S.customer.name}),"?",(0,sn.jsx)("div",{className:"mt-3 text-danger",children:"This action cannot be undone."})]}),(0,sn.jsxs)(yy.Footer,{children:[(0,sn.jsx)(ir,{variant:"secondary",onClick:()=>C(!1),children:"Cancel"}),(0,sn.jsx)(ir,{variant:"danger",onClick:()=>{S&&(s(t.filter((e=>e.id!==S.id))),C(!1),k(null))},children:"Delete Delivery"})]})]})]})},Qw=()=>{ee();const{id:e}=se(),[t,s]=(0,a.useState)(null),[n,i]=(0,a.useState)(!0),[r,l]=(0,a.useState)(""),[o,c]=(0,a.useState)([]),d=[{value:"scheduled",label:"Scheduled",color:"primary"},{value:"in-progress",label:"In Progress",color:"info"},{value:"completed",label:"Completed",color:"success"},{value:"delayed",label:"Delayed",color:"warning"},{value:"cancelled",label:"Cancelled",color:"danger"},{value:"failed",label:"Failed",color:"dark"}];(0,a.useEffect)((()=>{i(!0),setTimeout((()=>{const t=new Date,n={id:parseInt(e),deliveryId:"DEL-10003",customer:{id:3,name:"Tech Solutions Inc.",contact:"Robert Brown",phone:"(555) 345-6789"},pickupAddress:"123 Warehouse St, Atlanta, GA 30303",deliveryAddress:"101 Tech Park, Norcross, GA 30092",scheduledDate:new Date(t.getFullYear(),t.getMonth(),t.getDate(),14,0),status:"in-progress",driver:{id:3,name:"David Wilson",phone:"(555) 765-4321"},vehicle:"Cargo Van - AT-789",items:[{id:1,description:"Servers",quantity:2,weight:"150 lbs",dimensions:"24x36x12 in"},{id:2,description:"Networking Equipment",quantity:5,weight:"50 lbs",dimensions:"12x12x12 in"}],notes:"Fragile equipment. Requires IT staff signature.",signature:null,completedAt:null,paymentStatus:"pending",amount:400,paymentMethod:"invoice",referenceNumber:"PO-12345",priority:"urgent",eta:new Date(t.getFullYear(),t.getMonth(),t.getDate(),15,30),instructions:"Deliver to receiving dock at rear of building. Call contact 15 minutes before arrival.",createdAt:new Date(t.getFullYear(),t.getMonth(),t.getDate()-1),updatedAt:new Date(t.getFullYear(),t.getMonth(),t.getDate()),currentLocation:{lat:33.9487,lng:-84.2089,address:"I-285 S, Doraville, GA 30340",updatedAt:new Date(t.getFullYear(),t.getMonth(),t.getDate(),14,45),status:"moving"},route:{distance:"18.5 miles",duration:"35 minutes",stops:[{address:"123 Warehouse St, Atlanta, GA 30303",type:"pickup",status:"completed",arrivalTime:new Date(t.getFullYear(),t.getMonth(),t.getDate(),14,0),departureTime:new Date(t.getFullYear(),t.getMonth(),t.getDate(),14,15)},{address:"101 Tech Park, Norcross, GA 30092",type:"delivery",status:"pending",estimatedArrival:new Date(t.getFullYear(),t.getMonth(),t.getDate(),15,30)}]},documents:[{id:1,name:"Delivery Manifest.pdf",createdAt:new Date(t.getFullYear(),t.getMonth(),t.getDate()-1),type:"manifest"},{id:2,name:"Invoice #A-12345.pdf",createdAt:new Date(t.getFullYear(),t.getMonth(),t.getDate()-1),type:"invoice"}]};s(n);const a=[{id:1,type:"created",content:"Delivery created",timestamp:new Date(t.getFullYear(),t.getMonth(),t.getDate()-1,10,15),user:"Admin User"},{id:2,type:"assigned",content:"Assigned to driver David Wilson",timestamp:new Date(t.getFullYear(),t.getMonth(),t.getDate()-1,11,30),user:"Admin User"},{id:3,type:"status_changed",content:"Status changed from Scheduled to In Progress",timestamp:new Date(t.getFullYear(),t.getMonth(),t.getDate(),14,0),user:"David Wilson"},{id:4,type:"location_update",content:"Left pickup location",timestamp:new Date(t.getFullYear(),t.getMonth(),t.getDate(),14,15),user:"System"},{id:5,type:"note",content:"Driver called customer to confirm delivery time",timestamp:new Date(t.getFullYear(),t.getMonth(),t.getDate(),14,30),user:"David Wilson"}];c(a),i(!1)}),1e3)}),[e]);const u=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",h=e=>e?new Date(e).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):"",m=e=>e?`${u(e)} ${h(e)}`:"N/A",p=()=>{switch(t.status){case"scheduled":return 20;case"in-progress":return 60;case"completed":case"cancelled":case"failed":return 100;case"delayed":return 40;default:return 0}};return n?(0,sn.jsx)("div",{className:"container-fluid py-4",children:(0,sn.jsxs)("div",{className:"text-center py-5",children:[(0,sn.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,sn.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,sn.jsx)("p",{className:"mt-3",children:"Loading delivery details..."})]})}):(0,sn.jsxs)("div",{className:"container-fluid py-4",children:[(0,sn.jsx)(Ob,{title:`Delivery ${t.deliveryId}`,backButton:!0}),(0,sn.jsxs)("div",{className:"d-flex justify-content-end align-items-center mb-4",children:[(0,sn.jsxs)(ir,{variant:"outline-secondary",className:"me-2",onClick:()=>window.print(),children:[(0,sn.jsx)(Rl,{className:"me-1"})," Print"]}),(0,sn.jsxs)(ir,{variant:"outline-primary",className:"me-2",as:Le,to:`/deliveries/${e}/edit`,children:[(0,sn.jsx)(qr,{className:"me-1"})," Edit"]}),(0,sn.jsxs)(ir,{variant:"primary",as:Le,to:`/deliveries/${e}/track`,children:[(0,sn.jsx)(Cl,{className:"me-1"})," Track"]})]}),(0,sn.jsxs)(yn,{children:[(0,sn.jsxs)(Nn,{lg:4,children:[(0,sn.jsxs)(Yn,{className:"shadow-sm mb-4",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white py-3",children:(0,sn.jsx)("h5",{className:"mb-0",children:"Delivery Information"})}),(0,sn.jsx)(Yn.Body,{className:"p-0",children:(0,sn.jsxs)(mb,{variant:"flush",children:[(0,sn.jsxs)(mb.Item,{className:"px-3 py-3 d-flex justify-content-between",children:[(0,sn.jsx)("div",{className:"text-muted",children:"Status"}),(0,sn.jsx)("div",{children:(e=>{const t=d.find((t=>t.value===e));return t?(0,sn.jsx)(Cb,{bg:t.color,className:"text-uppercase",children:t.label}):null})(t.status)})]}),(0,sn.jsxs)(mb.Item,{className:"px-3 py-3",children:[(0,sn.jsx)("div",{className:"text-muted mb-1",children:"Customer"}),(0,sn.jsxs)("div",{className:"d-flex align-items-center",children:[(0,sn.jsx)(Sr,{className:"me-2 text-secondary"}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("div",{className:"fw-bold",children:t.customer.name}),(0,sn.jsxs)("div",{className:"small",children:[t.customer.contact," | ",(0,sn.jsx)(Zy,{phoneNumber:t.customer.phone})]})]})]})]}),(0,sn.jsxs)(mb.Item,{className:"px-3 py-3",children:[(0,sn.jsx)("div",{className:"text-muted mb-1",children:"Pickup Location"}),(0,sn.jsxs)("div",{className:"d-flex",children:[(0,sn.jsx)(Cl,{className:"me-2 text-secondary flex-shrink-0 mt-1"}),(0,sn.jsx)("div",{children:t.pickupAddress})]})]}),(0,sn.jsxs)(mb.Item,{className:"px-3 py-3",children:[(0,sn.jsx)("div",{className:"text-muted mb-1",children:"Delivery Location"}),(0,sn.jsxs)("div",{className:"d-flex",children:[(0,sn.jsx)(Cl,{className:"me-2 text-secondary flex-shrink-0 mt-1"}),(0,sn.jsx)("div",{children:t.deliveryAddress})]})]}),(0,sn.jsxs)(mb.Item,{className:"px-3 py-3",children:[(0,sn.jsx)("div",{className:"text-muted mb-1",children:"Scheduled Date/Time"}),(0,sn.jsxs)("div",{className:"d-flex",children:[(0,sn.jsx)(kr,{className:"me-2 text-secondary"}),(0,sn.jsx)("div",{children:m(t.scheduledDate)})]})]}),(0,sn.jsxs)(mb.Item,{className:"px-3 py-3",children:[(0,sn.jsx)("div",{className:"text-muted mb-1",children:"Driver & Vehicle"}),(0,sn.jsxs)("div",{className:"d-flex align-items-center",children:[(0,sn.jsx)(yo,{className:"me-2 text-secondary"}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("div",{children:t.driver.name}),(0,sn.jsx)("div",{className:"small",children:(0,sn.jsx)(Zy,{phoneNumber:t.driver.phone})}),(0,sn.jsx)("div",{className:"small text-muted",children:t.vehicle})]})]})]}),(0,sn.jsxs)(mb.Item,{className:"px-3 py-3 d-flex justify-content-between",children:[(0,sn.jsx)("div",{className:"text-muted",children:"Amount"}),(0,sn.jsxs)("div",{className:"fw-bold",children:["$",t.amount.toFixed(2)]})]}),(0,sn.jsxs)(mb.Item,{className:"px-3 py-3 d-flex justify-content-between",children:[(0,sn.jsx)("div",{className:"text-muted",children:"Payment Status"}),(0,sn.jsx)("div",{className:"text-capitalize",children:t.paymentStatus})]}),(0,sn.jsxs)(mb.Item,{className:"px-3 py-3 d-flex justify-content-between",children:[(0,sn.jsx)("div",{className:"text-muted",children:"Priority"}),(0,sn.jsx)("div",{children:(e=>{switch(e){case"urgent":return(0,sn.jsx)(Cb,{bg:"danger",children:"Urgent"});case"high":return(0,sn.jsx)(Cb,{bg:"warning",children:"High"});case"standard":return(0,sn.jsx)(Cb,{bg:"info",children:"Standard"});case"low":return(0,sn.jsx)(Cb,{bg:"secondary",children:"Low"});default:return(0,sn.jsx)(Cb,{bg:"light",text:"dark",children:e})}})(t.priority)})]}),(0,sn.jsxs)(mb.Item,{className:"px-3 py-3 d-flex justify-content-between",children:[(0,sn.jsx)("div",{className:"text-muted",children:"Reference #"}),(0,sn.jsx)("div",{children:t.referenceNumber||"N/A"})]})]})})]}),(0,sn.jsxs)(Yn,{className:"shadow-sm mb-4",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white py-3",children:(0,sn.jsx)("h5",{className:"mb-0",children:"Current Status"})}),(0,sn.jsxs)(Yn.Body,{children:[(0,sn.jsx)("div",{className:"mb-4",children:(0,sn.jsxs)("div",{className:"progress-wrapper",children:[(0,sn.jsxs)("div",{className:"progress-info d-flex justify-content-between mb-2",children:[(0,sn.jsx)("div",{children:"Delivery Progress"}),(0,sn.jsxs)("div",{children:[p(),"%"]})]}),(0,sn.jsx)("div",{className:"progress",children:(0,sn.jsx)("div",{className:"progress-bar bg-"+("cancelled"===t.status||"failed"===t.status?"danger":"delayed"===t.status?"warning":"success"),role:"progressbar",style:{width:`${p()}%`},"aria-valuenow":p(),"aria-valuemin":"0","aria-valuemax":"100"})})]})}),"in-progress"===t.status&&t.currentLocation&&(0,sn.jsxs)("div",{className:"current-location mb-4",children:[(0,sn.jsx)("h6",{children:"Current Location"}),(0,sn.jsxs)("div",{className:"d-flex",children:[(0,sn.jsx)(Cl,{className:"me-2 text-danger flex-shrink-0 mt-1"}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("div",{children:t.currentLocation.address}),(0,sn.jsxs)("div",{className:"small text-muted",children:["Updated ",m(t.currentLocation.updatedAt)]})]})]}),(0,sn.jsx)("div",{className:"text-center mt-3",children:(0,sn.jsxs)(ir,{variant:"outline-primary",size:"sm",as:Le,to:`/deliveries/${e}/track`,children:[(0,sn.jsx)(Cl,{className:"me-1"})," View on Map"]})})]}),("scheduled"===t.status||"in-progress"===t.status)&&t.eta&&(0,sn.jsxs)("div",{className:"eta-info",children:[(0,sn.jsx)("h6",{children:"Estimated Arrival"}),(0,sn.jsxs)("div",{className:"d-flex align-items-center",children:[(0,sn.jsx)(zr,{className:"me-2 text-info"}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("div",{className:"fw-bold",children:m(t.eta)}),(0,sn.jsx)("div",{className:"small text-muted",children:t.route&&`${t.route.distance} (${t.route.duration} drive)`})]})]})]}),"delayed"===t.status&&(0,sn.jsx)(gi,{variant:"warning",className:"mt-3 mb-0",children:(0,sn.jsxs)("div",{className:"d-flex",children:[(0,sn.jsx)(Xr,{className:"me-2 flex-shrink-0 mt-1"}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("div",{className:"fw-bold",children:"Delivery Delayed"}),(0,sn.jsx)("div",{className:"small",children:"The customer has been notified of the delay."})]})]})}),"completed"===t.status&&(0,sn.jsx)(gi,{variant:"success",className:"mt-3 mb-0",children:(0,sn.jsxs)("div",{className:"d-flex",children:[(0,sn.jsx)(Pr,{className:"me-2 flex-shrink-0 mt-1"}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("div",{className:"fw-bold",children:"Delivery Completed"}),(0,sn.jsxs)("div",{className:"small",children:["Completed on ",t.completedAt?m(t.completedAt):"N/A"]}),t.signature&&(0,sn.jsxs)("div",{className:"small",children:["Signed by: ",t.signature]})]})]})}),("cancelled"===t.status||"failed"===t.status)&&(0,sn.jsx)(gi,{variant:"danger",className:"mt-3 mb-0",children:(0,sn.jsxs)("div",{className:"d-flex",children:[(0,sn.jsx)(co,{className:"me-2 flex-shrink-0 mt-1"}),(0,sn.jsxs)("div",{children:[(0,sn.jsxs)("div",{className:"fw-bold",children:["Delivery ","cancelled"===t.status?"Cancelled":"Failed"]}),(0,sn.jsx)("div",{className:"small",children:"See activity log for details."})]})]})})]})]}),(0,sn.jsxs)(Yn,{className:"shadow-sm mb-4",children:[(0,sn.jsxs)(Yn.Header,{className:"bg-white py-3 d-flex justify-content-between align-items-center",children:[(0,sn.jsx)("h5",{className:"mb-0",children:"Documents"}),(0,sn.jsxs)(ir,{variant:"outline-primary",size:"sm",children:[(0,sn.jsx)(ll,{className:"me-1"})," Generate POD"]})]}),(0,sn.jsx)(Yn.Body,{className:"p-0",children:(0,sn.jsx)(mb,{variant:"flush",children:t.documents.map((e=>(0,sn.jsx)(mb.Item,{className:"px-3 py-3",children:(0,sn.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,sn.jsxs)("div",{className:"d-flex align-items-center",children:[(0,sn.jsx)(tl,{className:"me-2 text-secondary"}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("div",{children:e.name}),(0,sn.jsx)("div",{className:"small text-muted",children:u(e.createdAt)})]})]}),(0,sn.jsxs)(ir,{variant:"outline-secondary",size:"sm",children:[(0,sn.jsx)(tl,{className:"me-1"})," View"]})]})},e.id)))})})]})]}),(0,sn.jsx)(Nn,{lg:8,children:(0,sn.jsx)(Yn,{className:"shadow-sm mb-4",children:(0,sn.jsx)(Yn.Body,{children:(0,sn.jsxs)(Hy,{defaultActiveKey:"details",className:"mb-4",children:[(0,sn.jsxs)(qy,{eventKey:"details",title:"Delivery Details",children:[(0,sn.jsxs)("h5",{className:"mb-3",children:[(0,sn.jsx)(Cr,{className:"me-2"}),"Delivery Items"]}),(0,sn.jsxs)(Uh,{responsive:!0,className:"mb-4",children:[(0,sn.jsx)("thead",{className:"bg-light",children:(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("th",{width:"50%",children:"Description"}),(0,sn.jsx)("th",{className:"text-center",children:"Quantity"}),(0,sn.jsx)("th",{className:"text-center",children:"Weight"}),(0,sn.jsx)("th",{className:"text-center",children:"Dimensions"})]})}),(0,sn.jsx)("tbody",{children:t.items.map((e=>(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("td",{children:e.description}),(0,sn.jsx)("td",{className:"text-center",children:e.quantity}),(0,sn.jsx)("td",{className:"text-center",children:e.weight}),(0,sn.jsx)("td",{className:"text-center",children:e.dimensions})]},e.id)))})]}),(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)("div",{className:"mb-4",children:[(0,sn.jsxs)("h5",{className:"mb-3",children:[(0,sn.jsx)(Vr,{className:"me-2"}),"Delivery Instructions"]}),(0,sn.jsx)(Yn,{className:"bg-light",children:(0,sn.jsx)(Yn.Body,{children:t.instructions||"No specific instructions provided."})})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)("div",{className:"mb-4",children:[(0,sn.jsxs)("h5",{className:"mb-3",children:[(0,sn.jsx)(Vr,{className:"me-2"}),"Internal Notes"]}),(0,sn.jsx)(Yn,{className:"bg-light",children:(0,sn.jsx)(Yn.Body,{children:t.notes||"No internal notes provided."})})]})})]}),(0,sn.jsxs)("h5",{className:"mb-3",children:[(0,sn.jsx)(Al,{className:"me-2"}),"Payment Information"]}),(0,sn.jsx)(Yn,{className:"mb-4",children:(0,sn.jsxs)(Yn.Body,{children:[(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:4,children:(0,sn.jsxs)("div",{className:"mb-3",children:[(0,sn.jsx)("div",{className:"text-muted",children:"Amount"}),(0,sn.jsxs)("div",{className:"fw-bold fs-4",children:["$",t.amount.toFixed(2)]})]})}),(0,sn.jsx)(Nn,{md:4,children:(0,sn.jsxs)("div",{className:"mb-3",children:[(0,sn.jsx)("div",{className:"text-muted",children:"Payment Status"}),(0,sn.jsx)("div",{className:"fw-bold text-capitalize",children:t.paymentStatus})]})}),(0,sn.jsx)(Nn,{md:4,children:(0,sn.jsxs)("div",{className:"mb-3",children:[(0,sn.jsx)("div",{className:"text-muted",children:"Payment Method"}),(0,sn.jsx)("div",{className:"fw-bold text-capitalize",children:t.paymentMethod})]})})]}),(0,sn.jsxs)("div",{className:"mb-0",children:[(0,sn.jsx)("div",{className:"text-muted",children:"Reference Number"}),(0,sn.jsx)("div",{children:t.referenceNumber||"N/A"})]})]})})]}),(0,sn.jsxs)(qy,{eventKey:"activity",title:"Activity Log",children:[(0,sn.jsx)(Xi,{onSubmit:e=>{if(e.preventDefault(),!r.trim())return;const t={id:o.length+1,type:"note",content:r,timestamp:new Date,user:"Admin User"};c([t,...o]),l("")},className:"mb-4",children:(0,sn.jsxs)(Xi.Group,{children:[(0,sn.jsx)(Xi.Label,{children:"Add a Note"}),(0,sn.jsx)(Xi.Control,{as:"textarea",rows:3,placeholder:"Add a note about this delivery...",value:r,onChange:e=>l(e.target.value),className:"mb-2"}),(0,sn.jsx)("div",{className:"text-end",children:(0,sn.jsx)(ir,{variant:"primary",type:"submit",disabled:!r.trim(),children:"Add Note"})})]})}),(0,sn.jsx)("hr",{}),(0,sn.jsxs)("h5",{className:"mb-3",children:[(0,sn.jsx)(ul,{className:"me-2"}),"Activity History"]}),(0,sn.jsx)("div",{className:"timeline",children:o.map(((e,t)=>(0,sn.jsx)("div",{className:"timeline-item mb-4",children:(0,sn.jsxs)("div",{className:"d-flex",children:[(0,sn.jsxs)("div",{className:"timeline-icon me-3",children:["created"===e.type&&(0,sn.jsx)(Ol,{className:"text-success"}),"assigned"===e.type&&(0,sn.jsx)(yo,{className:"text-primary"}),"status_changed"===e.type&&(0,sn.jsx)(mo,{className:"text-warning"}),"location_update"===e.type&&(0,sn.jsx)(Cl,{className:"text-danger"}),"note"===e.type&&(0,sn.jsx)(Vr,{className:"text-info"})]}),(0,sn.jsxs)("div",{className:"timeline-content flex-grow-1",children:[(0,sn.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,sn.jsx)("strong",{children:e.content}),(0,sn.jsx)("small",{className:"text-muted",children:m(e.timestamp)})]}),(0,sn.jsxs)("small",{className:"text-muted",children:["By ",e.user]})]})]})},e.id)))})]}),(0,sn.jsx)(qy,{eventKey:"route",title:"Route Information",children:t.route?(0,sn.jsxs)("div",{children:[(0,sn.jsxs)("div",{className:"mb-4",children:[(0,sn.jsx)("h5",{className:"mb-3",children:"Route Summary"}),(0,sn.jsx)(Yn,{className:"bg-light mb-3",children:(0,sn.jsx)(Yn.Body,{children:(0,sn.jsxs)(yn,{children:[(0,sn.jsxs)(Nn,{md:6,children:[(0,sn.jsxs)("div",{className:"mb-2",children:[(0,sn.jsx)("strong",{children:"Total Distance:"})," ",t.route.distance]}),(0,sn.jsxs)("div",{className:"mb-0",children:[(0,sn.jsx)("strong",{children:"Estimated Duration:"})," ",t.route.duration]})]}),(0,sn.jsx)(Nn,{md:6,className:"text-md-end",children:(0,sn.jsxs)(ir,{variant:"outline-primary",size:"sm",as:Le,to:`/deliveries/${e}/track`,children:[(0,sn.jsx)(Cl,{className:"me-1"})," View Full Map"]})})]})})})]}),(0,sn.jsx)("h5",{className:"mb-3",children:"Route Stops"}),(0,sn.jsxs)(Uh,{responsive:!0,children:[(0,sn.jsx)("thead",{className:"bg-light",children:(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("th",{children:"Location"}),(0,sn.jsx)("th",{children:"Type"}),(0,sn.jsx)("th",{children:"Status"}),(0,sn.jsx)("th",{children:"Time"})]})}),(0,sn.jsx)("tbody",{children:t.route.stops.map(((e,t)=>(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("td",{children:(0,sn.jsxs)("div",{className:"d-flex align-items-center",children:[(0,sn.jsx)(Cl,{className:"me-2 text-"+("pickup"===e.type?"primary":"danger")}),(0,sn.jsx)("div",{children:e.address})]})}),(0,sn.jsx)("td",{className:"text-capitalize",children:e.type}),(0,sn.jsx)("td",{children:(0,sn.jsx)(Cb,{bg:"completed"===e.status?"success":"in-progress"===e.status?"info":"secondary",children:e.status})}),(0,sn.jsx)("td",{children:"completed"===e.status?(0,sn.jsxs)("div",{children:[(0,sn.jsxs)("div",{children:["Arrived: ",h(e.arrivalTime)]}),(0,sn.jsxs)("div",{children:["Departed: ",h(e.departureTime)]})]}):(0,sn.jsxs)("div",{children:["ETA: ",h(e.estimatedArrival)]})})]},t)))})]})]}):(0,sn.jsx)(gi,{variant:"info",children:"No route information available for this delivery."})})]})})})})]})]})},eN=()=>{const e=ee(),{id:t}=se(),s=!!t,[n,i]=(0,a.useState)(!1),[r,l]=(0,a.useState)(!1),[o,c]=(0,a.useState)(""),[d,u]=(0,a.useState)("customer"),[h,m]=(0,a.useState)({deliveryId:"",customer:{id:"",name:"",contact:"",phone:""},pickupAddress:"",pickupCity:"",pickupState:"",pickupZip:"",deliveryAddress:"",deliveryCity:"",deliveryState:"",deliveryZip:"",scheduledDate:"",scheduledTime:"",driver:{id:"",name:""},vehicle:"",items:[{id:1,description:"",quantity:1,weight:"",dimensions:""}],notes:"",priority:"standard",amount:"",paymentStatus:"pending",paymentMethod:"invoice",referenceNumber:"",instructions:"",status:"scheduled"}),[p,x]=(0,a.useState)([]),[f,g]=(0,a.useState)([]),[v,j]=(0,a.useState)([]);(0,a.useEffect)((()=>{if(x([{id:1,name:"ABC Logistics",contact:"John Doe",phone:"(555) 123-4567"},{id:2,name:"XYZ Retail",contact:"Jane Smith",phone:"(555) 234-5678"},{id:3,name:"Tech Solutions Inc.",contact:"Robert Brown",phone:"(555) 345-6789"},{id:4,name:"Global Shipping Co.",contact:"Lisa Martinez",phone:"(555) 456-7890"},{id:5,name:"Metro Electronics",contact:"Daniel Clark",phone:"(555) 567-8901"}]),g([{id:1,name:"Michael Rodriguez",phone:"(555) 987-6543"},{id:2,name:"Sarah Johnson",phone:"(555) 876-5432"},{id:3,name:"David Wilson",phone:"(555) 765-4321"}]),j(["Box Truck - AT-123","Sprinter Van - AT-456","Cargo Van - AT-789","Semi Truck - AT-101","Refrigerated Van - AT-202"]),s)i(!0),setTimeout((()=>{const e=new Date,s=new Date(e);s.setHours(14,0,0);const n=s.toISOString().split("T")[0],a=s.toTimeString().split(" ")[0].substring(0,5),r={id:parseInt(t),deliveryId:"DEL-10003",customer:{id:3,name:"Tech Solutions Inc.",contact:"Robert Brown",phone:"(555) 345-6789"},pickupAddress:"123 Warehouse St",pickupCity:"Atlanta",pickupState:"GA",pickupZip:"30303",deliveryAddress:"101 Tech Park",deliveryCity:"Norcross",deliveryState:"GA",deliveryZip:"30092",scheduledDate:n,scheduledTime:a,driver:{id:3,name:"David Wilson"},vehicle:"Cargo Van - AT-789",items:[{id:1,description:"Servers",quantity:2,weight:"150 lbs",dimensions:"24x36x12 in"},{id:2,description:"Networking Equipment",quantity:5,weight:"50 lbs",dimensions:"12x12x12 in"}],notes:"Fragile equipment. Requires IT staff signature.",priority:"urgent",amount:400,paymentStatus:"pending",paymentMethod:"invoice",referenceNumber:"PO-12345",instructions:"Deliver to receiving dock at rear of building. Call contact 15 minutes before arrival.",status:"in-progress"};m(r),i(!1)}),1e3);else{const e=new Date,t=new Date(e);t.setDate(t.getDate()+1),t.setHours(9,0,0,0);const s=t.toISOString().split("T")[0],n=t.toTimeString().split(" ")[0].substring(0,5),a=`DEL-${1e4+Math.floor(9e4*Math.random())}`;m((e=>({...e,deliveryId:a,scheduledDate:s,scheduledTime:n})))}}),[t,s]);const b=e=>{const{name:t,value:s}=e.target;if(t.includes(".")){const[e,n]=t.split(".");m({...h,[e]:{...h[e],[n]:s}})}else m({...h,[t]:s})},y=(e,t,s)=>{const n=[...h.items];n[e]={...n[e],[t]:s},m({...h,items:n})};return(0,sn.jsxs)("div",{className:"container-fluid py-4",children:[(0,sn.jsx)(Ob,{title:s?"Edit Delivery":"Add New Delivery",subtitle:s?h.deliveryId:"Create a new delivery",backButton:!0}),(0,sn.jsxs)(Xi,{onSubmit:t=>{t.preventDefault(),i(!0),c(""),setTimeout((()=>{try{if(!h.customer.id||!h.pickupAddress||!h.deliveryAddress||!h.scheduledDate||!h.scheduledTime||!h.driver.id)throw new Error("Please fill in all required fields");if(h.items.some((e=>!e.description||!e.quantity)))throw new Error("Please fill in all item details");console.log("Saving delivery:",h),l(!0),setTimeout((()=>{e("/deliveries")}),1500)}catch(t){c(t.message),i(!1)}}),1e3)},children:[r&&(0,sn.jsxs)(gi,{variant:"success",className:"mb-4",children:["Delivery ",s?"updated":"created"," successfully!"]}),o&&(0,sn.jsx)(gi,{variant:"danger",className:"mb-4",children:o}),(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{lg:9,children:(0,sn.jsxs)(Yn,{className:"shadow-sm mb-4",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white",children:(0,sn.jsxs)(Hy,{activeKey:d,onSelect:e=>u(e),className:"mb-0",children:[(0,sn.jsx)(qy,{eventKey:"customer",title:"Customer & Addresses",children:(0,sn.jsxs)("div",{className:"pt-3",children:[(0,sn.jsxs)(yn,{className:"mb-3",children:[(0,sn.jsx)(Nn,{md:4,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Delivery ID"}),(0,sn.jsx)(Xi.Control,{type:"text",name:"deliveryId",value:h.deliveryId,onChange:b,disabled:!0})]})}),(0,sn.jsx)(Nn,{md:8,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:["Select Customer ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsxs)(Xi.Select,{value:h.customer.id,onChange:e=>(e=>{const t=p.find((t=>t.id===parseInt(e)));t&&m({...h,customer:{id:t.id,name:t.name,contact:t.contact,phone:t.phone}})})(e.target.value),required:!0,children:[(0,sn.jsx)("option",{value:"",children:"-- Select Customer --"}),p.map((e=>(0,sn.jsx)("option",{value:e.id,children:e.name},e.id)))]})]})})]}),(0,sn.jsxs)(yn,{className:"mb-3",children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Contact Name"}),(0,sn.jsx)(Xi.Control,{type:"text",name:"customer.contact",value:h.customer.contact,onChange:b,placeholder:"Contact person"})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{as:yn,className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{column:!0,sm:3,children:"Phone"}),(0,sn.jsx)(Nn,{sm:9,children:(0,sn.jsxs)("div",{className:"d-flex align-items-center",children:[(0,sn.jsx)(Xi.Control,{type:"text",name:"phone",value:h.phone,onChange:b,placeholder:"Enter phone number"}),s&&h.phone&&(0,sn.jsx)("div",{className:"ms-2",children:(0,sn.jsx)(Zy,{phoneNumber:h.phone,buttonVariant:"outline-secondary"})})]})})]})})]}),(0,sn.jsx)("hr",{}),(0,sn.jsxs)("h5",{className:"mb-3",children:[(0,sn.jsx)(Cl,{className:"me-2 text-primary"}),"Pickup Location"]}),(0,sn.jsx)(yn,{children:(0,sn.jsx)(Nn,{md:12,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:["Pickup Address ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsx)(Xi.Control,{type:"text",name:"pickupAddress",value:h.pickupAddress,onChange:b,placeholder:"Street address",required:!0})]})})}),(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:5,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"City"}),(0,sn.jsx)(Xi.Control,{type:"text",name:"pickupCity",value:h.pickupCity,onChange:b,placeholder:"City"})]})}),(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"State"}),(0,sn.jsx)(Xi.Control,{type:"text",name:"pickupState",value:h.pickupState,onChange:b,placeholder:"State"})]})}),(0,sn.jsx)(Nn,{md:4,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"ZIP Code"}),(0,sn.jsx)(Xi.Control,{type:"text",name:"pickupZip",value:h.pickupZip,onChange:b,placeholder:"ZIP Code"})]})})]}),(0,sn.jsx)("hr",{}),(0,sn.jsxs)("h5",{className:"mb-3",children:[(0,sn.jsx)(Cl,{className:"me-2 text-danger"}),"Delivery Location"]}),(0,sn.jsx)(yn,{children:(0,sn.jsx)(Nn,{md:12,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:["Delivery Address ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsx)(Xi.Control,{type:"text",name:"deliveryAddress",value:h.deliveryAddress,onChange:b,placeholder:"Street address",required:!0})]})})}),(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:5,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"City"}),(0,sn.jsx)(Xi.Control,{type:"text",name:"deliveryCity",value:h.deliveryCity,onChange:b,placeholder:"City"})]})}),(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"State"}),(0,sn.jsx)(Xi.Control,{type:"text",name:"deliveryState",value:h.deliveryState,onChange:b,placeholder:"State"})]})}),(0,sn.jsx)(Nn,{md:4,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"ZIP Code"}),(0,sn.jsx)(Xi.Control,{type:"text",name:"deliveryZip",value:h.deliveryZip,onChange:b,placeholder:"ZIP Code"})]})})]})]})}),(0,sn.jsx)(qy,{eventKey:"schedule",title:"Schedule & Driver",children:(0,sn.jsxs)("div",{className:"pt-3",children:[(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:[(0,sn.jsx)(kr,{className:"me-2"}),"Scheduled Date ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsx)(Xi.Control,{type:"date",name:"scheduledDate",value:h.scheduledDate,onChange:b,required:!0})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:[(0,sn.jsx)(zr,{className:"me-2"}),"Scheduled Time ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsx)(Xi.Control,{type:"time",name:"scheduledTime",value:h.scheduledTime,onChange:b,required:!0})]})})]}),(0,sn.jsx)("hr",{}),(0,sn.jsxs)("h5",{className:"mb-3",children:[(0,sn.jsx)(yo,{className:"me-2 text-primary"}),"Driver Assignment"]}),(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:8,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:["Assign Driver ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsxs)(Xi.Select,{value:h.driver.id,onChange:e=>(e=>{const t=f.find((t=>t.id===parseInt(e)));t&&m({...h,driver:{id:t.id,name:t.name}})})(e.target.value),required:!0,children:[(0,sn.jsx)("option",{value:"",children:"-- Select Driver --"}),f.map((e=>(0,sn.jsx)("option",{value:e.id,children:e.name},e.id)))]})]})}),(0,sn.jsx)(Nn,{md:4,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Vehicle"}),(0,sn.jsxs)(Xi.Select,{name:"vehicle",value:h.vehicle,onChange:b,children:[(0,sn.jsx)("option",{value:"",children:"-- Select Vehicle --"}),v.map(((e,t)=>(0,sn.jsx)("option",{value:e,children:e},t)))]})]})})]}),(0,sn.jsx)("hr",{}),(0,sn.jsxs)("h5",{className:"mb-3",children:[(0,sn.jsx)(mo,{className:"me-2 text-info"}),"Delivery Settings"]}),(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Priority"}),(0,sn.jsx)(Xi.Select,{name:"priority",value:h.priority,onChange:b,children:[{value:"urgent",label:"Urgent"},{value:"high",label:"High"},{value:"standard",label:"Standard"},{value:"low",label:"Low"}].map((e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value)))})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Status"}),(0,sn.jsx)(Xi.Select,{name:"status",value:h.status,onChange:b,children:[{value:"scheduled",label:"Scheduled"},{value:"in-progress",label:"In Progress"},{value:"completed",label:"Completed"},{value:"delayed",label:"Delayed"},{value:"cancelled",label:"Cancelled"},{value:"failed",label:"Failed"}].map((e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value)))})]})})]})]})}),(0,sn.jsx)(qy,{eventKey:"items",title:"Items & Cargo",children:(0,sn.jsxs)("div",{className:"pt-3",children:[(0,sn.jsxs)("h5",{className:"mb-3",children:[(0,sn.jsx)(Cr,{className:"me-2 text-primary"}),"Delivery Items"]}),h.items.map(((e,t)=>(0,sn.jsxs)("div",{className:"item-row mb-3 p-3 border rounded",children:[(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:["Description ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsx)(Xi.Control,{type:"text",value:e.description,onChange:e=>y(t,"description",e.target.value),placeholder:"Item description",required:!0})]})}),(0,sn.jsx)(Nn,{md:2,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:["Quantity ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsx)(Xi.Control,{type:"number",min:"1",value:e.quantity,onChange:e=>y(t,"quantity",parseInt(e.target.value)),required:!0})]})}),(0,sn.jsx)(Nn,{md:2,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Weight"}),(0,sn.jsx)(Xi.Control,{type:"text",value:e.weight,onChange:e=>y(t,"weight",e.target.value),placeholder:"e.g., 50 lbs"})]})}),(0,sn.jsx)(Nn,{md:2,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Dimensions"}),(0,sn.jsx)(Xi.Control,{type:"text",value:e.dimensions,onChange:e=>y(t,"dimensions",e.target.value),placeholder:"e.g., 12x12x12"})]})})]}),(0,sn.jsx)("div",{className:"text-end",children:(0,sn.jsxs)(ir,{variant:"outline-danger",size:"sm",onClick:()=>(e=>{if(h.items.length<=1)return;const t=h.items.filter(((t,s)=>s!==e));m({...h,items:t})})(t),disabled:h.items.length<=1,children:[(0,sn.jsx)(Sl,{className:"me-1"})," Remove Item"]})})]},t))),(0,sn.jsx)("div",{className:"text-center my-3",children:(0,sn.jsxs)(ir,{variant:"outline-primary",onClick:()=>{const e={id:h.items.length+1,description:"",quantity:1,weight:"",dimensions:""};m({...h,items:[...h.items,e]})},children:[(0,sn.jsx)(Ol,{className:"me-1"})," Add Another Item"]})})]})}),(0,sn.jsx)(qy,{eventKey:"payment",title:"Payment & Notes",children:(0,sn.jsxs)("div",{className:"pt-3",children:[(0,sn.jsx)("h5",{className:"mb-3",children:"Payment Information"}),(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:4,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Amount ($)"}),(0,sn.jsxs)(nr,{children:[(0,sn.jsx)(nr.Text,{children:"$"}),(0,sn.jsx)(Xi.Control,{type:"number",step:"0.01",min:"0",name:"amount",value:h.amount,onChange:b,placeholder:"0.00"})]})]})}),(0,sn.jsx)(Nn,{md:4,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Payment Status"}),(0,sn.jsx)(Xi.Select,{name:"paymentStatus",value:h.paymentStatus,onChange:b,children:[{value:"pending",label:"Pending"},{value:"paid",label:"Paid"},{value:"partial",label:"Partial"},{value:"refunded",label:"Refunded"},{value:"cancelled",label:"Cancelled"}].map((e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value)))})]})}),(0,sn.jsx)(Nn,{md:4,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Payment Method"}),(0,sn.jsx)(Xi.Select,{name:"paymentMethod",value:h.paymentMethod,onChange:b,children:[{value:"invoice",label:"Invoice"},{value:"credit-card",label:"Credit Card"},{value:"bank-transfer",label:"Bank Transfer"},{value:"cash",label:"Cash"},{value:"check",label:"Check"}].map((e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value)))})]})})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Reference Number"}),(0,sn.jsx)(Xi.Control,{type:"text",name:"referenceNumber",value:h.referenceNumber,onChange:b,placeholder:"e.g., PO Number, Invoice Number"})]}),(0,sn.jsx)("hr",{}),(0,sn.jsx)("h5",{className:"mb-3",children:"Notes & Instructions"}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Special Instructions"}),(0,sn.jsx)(Xi.Control,{as:"textarea",rows:3,name:"instructions",value:h.instructions,onChange:b,placeholder:"Delivery instructions, access codes, etc."})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Internal Notes"}),(0,sn.jsx)(Xi.Control,{as:"textarea",rows:3,name:"notes",value:h.notes,onChange:b,placeholder:"Notes for internal use only"})]})]})})]})}),(0,sn.jsx)(Yn.Body,{children:(0,sn.jsxs)("div",{className:"d-flex justify-content-between",children:[s&&(0,sn.jsxs)(ir,{variant:"outline-danger",onClick:()=>{window.confirm("Are you sure you want to delete this delivery?")&&e("/deliveries")},children:[(0,sn.jsx)(uo,{className:"me-1"})," Delete Delivery"]}),(0,sn.jsxs)("div",{className:"ms-auto",children:[(0,sn.jsx)(ir,{variant:"outline-secondary",className:"me-2",onClick:()=>e("/deliveries"),children:"Cancel"}),(0,sn.jsx)(ir,{variant:"primary",type:"submit",disabled:n,children:n?(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Saving..."]}):(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(Vl,{className:"me-1"})," ",s?"Update Delivery":"Create Delivery"]})})]})]})})]})}),(0,sn.jsxs)(Nn,{lg:3,children:[(0,sn.jsxs)(Yn,{className:"shadow-sm mb-4",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white",children:(0,sn.jsx)("h5",{className:"mb-0",children:"Delivery Summary"})}),(0,sn.jsx)(Yn.Body,{children:(0,sn.jsxs)(mb,{variant:"flush",children:[(0,sn.jsxs)(mb.Item,{className:"px-0 py-2 d-flex justify-content-between",children:[(0,sn.jsx)("strong",{children:"Delivery ID:"}),(0,sn.jsx)("span",{children:h.deliveryId})]}),(0,sn.jsxs)(mb.Item,{className:"px-0 py-2",children:[(0,sn.jsx)("div",{className:"mb-1",children:(0,sn.jsx)("strong",{children:"Customer:"})}),(0,sn.jsx)("div",{children:h.customer.name||"Not selected"}),h.customer.contact&&(0,sn.jsxs)("div",{className:"small text-muted mt-1",children:["Contact: ",h.customer.contact]})]}),(0,sn.jsxs)(mb.Item,{className:"px-0 py-2",children:[(0,sn.jsx)("div",{className:"mb-1",children:(0,sn.jsx)("strong",{children:"Pickup Location:"})}),(0,sn.jsx)("div",{className:"small",children:`${h.pickupAddress}, ${h.pickupCity}, ${h.pickupState} ${h.pickupZip}`||"Not set"})]}),(0,sn.jsxs)(mb.Item,{className:"px-0 py-2",children:[(0,sn.jsx)("div",{className:"mb-1",children:(0,sn.jsx)("strong",{children:"Delivery Location:"})}),(0,sn.jsx)("div",{className:"small",children:`${h.deliveryAddress}, ${h.deliveryCity}, ${h.deliveryState} ${h.deliveryZip}`||"Not set"})]}),(0,sn.jsxs)(mb.Item,{className:"px-0 py-2",children:[(0,sn.jsx)("div",{className:"mb-1",children:(0,sn.jsx)("strong",{children:"Scheduled Time:"})}),(0,sn.jsx)("div",{children:h.scheduledDate&&h.scheduledTime?`${h.scheduledDate} at ${h.scheduledTime}`:"Not scheduled"})]}),(0,sn.jsxs)(mb.Item,{className:"px-0 py-2",children:[(0,sn.jsx)("div",{className:"mb-1",children:(0,sn.jsx)("strong",{children:"Driver & Vehicle:"})}),(0,sn.jsx)("div",{children:h.driver.name||"Not assigned"}),h.vehicle&&(0,sn.jsxs)("div",{className:"small text-muted mt-1",children:["Vehicle: ",h.vehicle]})]}),(0,sn.jsxs)(mb.Item,{className:"px-0 py-2",children:[(0,sn.jsx)("div",{className:"mb-1",children:(0,sn.jsx)("strong",{children:"Items:"})}),(0,sn.jsxs)("div",{className:"small",children:[h.items.filter((e=>e.description)).map(((e,t)=>(0,sn.jsxs)("div",{className:"mb-1",children:[e.quantity,"x ",e.description,e.weight&&` (${e.weight})`]},t))),!h.items.some((e=>e.description))&&"No items added"]})]}),(0,sn.jsxs)(mb.Item,{className:"px-0 py-2 d-flex justify-content-between",children:[(0,sn.jsx)("strong",{children:"Amount:"}),(0,sn.jsxs)("span",{children:["$",parseFloat(h.amount||0).toFixed(2)]})]}),(0,sn.jsxs)(mb.Item,{className:"px-0 py-2 d-flex justify-content-between",children:[(0,sn.jsx)("strong",{children:"Priority:"}),(0,sn.jsx)("span",{className:"text-capitalize",children:h.priority})]}),(0,sn.jsxs)(mb.Item,{className:"px-0 py-2 d-flex justify-content-between",children:[(0,sn.jsx)("strong",{children:"Status:"}),(0,sn.jsx)("span",{className:"text-capitalize",children:h.status})]})]})})]}),(0,sn.jsxs)(Yn,{className:"shadow-sm",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white",children:(0,sn.jsx)("h5",{className:"mb-0",children:"Help"})}),(0,sn.jsxs)(Yn.Body,{children:[(0,sn.jsxs)("p",{className:"small mb-2",children:[(0,sn.jsx)("strong",{children:"Required fields"})," are marked with ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsx)("p",{className:"small mb-2",children:"Use the tabs above to navigate through different sections of the delivery form."}),(0,sn.jsx)("p",{className:"small mb-0",children:"The summary card on the right shows a preview of the delivery details as you fill them in."})]})]})]})]})]})]})},tN=()=>{ee();const{id:e}=se(),[t,s]=(0,a.useState)(null),[n,i]=(0,a.useState)(!0);(0,a.useEffect)((()=>{i(!0),setTimeout((()=>{const t=new Date,n={id:parseInt(e),deliveryId:"DEL-10003",customer:{id:3,name:"Tech Solutions Inc.",contact:"Robert Brown",phone:"(555) 345-6789"},pickupAddress:"123 Warehouse St, Atlanta, GA 30303",deliveryAddress:"101 Tech Park, Norcross, GA 30092",scheduledDate:new Date(t.getFullYear(),t.getMonth(),t.getDate(),14,0),status:"in-progress",driver:{id:3,name:"David Wilson",phone:"(555) 765-4321"},vehicle:"Cargo Van - AT-789",items:[{id:1,description:"Servers",quantity:2,weight:"150 lbs"},{id:2,description:"Networking Equipment",quantity:5,weight:"50 lbs"}],eta:new Date(t.getFullYear(),t.getMonth(),t.getDate(),15,30),currentLocation:{lat:33.9487,lng:-84.2089,address:"I-285 S, Doraville, GA 30340",updatedAt:new Date(t.getFullYear(),t.getMonth(),t.getDate(),14,45),status:"moving"},route:{distance:"18.5 miles",duration:"35 minutes",progress:65,stops:[{address:"123 Warehouse St, Atlanta, GA 30303",type:"pickup",status:"completed",arrivalTime:new Date(t.getFullYear(),t.getMonth(),t.getDate(),14,0),departureTime:new Date(t.getFullYear(),t.getMonth(),t.getDate(),14,15)},{address:"101 Tech Park, Norcross, GA 30092",type:"delivery",status:"pending",estimatedArrival:new Date(t.getFullYear(),t.getMonth(),t.getDate(),15,30)}]}};s(n),i(!1)}),1e3)}),[e]);return n?(0,sn.jsx)("div",{className:"container-fluid py-4",children:(0,sn.jsxs)("div",{className:"text-center py-5",children:[(0,sn.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,sn.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,sn.jsx)("p",{className:"mt-3",children:"Loading tracking information..."})]})}):(0,sn.jsxs)("div",{className:"container-fluid py-4",children:[(0,sn.jsx)(Ob,{title:`Tracking ${t.deliveryId}`,backButton:!0}),(0,sn.jsxs)("div",{className:"d-flex justify-content-end mb-4",children:[(0,sn.jsxs)(ir,{variant:"outline-primary",className:"me-2",onClick:()=>window.location.reload(),children:[(0,sn.jsx)(Wr,{className:"me-1"})," Refresh"]}),(0,sn.jsxs)(ir,{variant:"primary",href:`tel:${t.driver.phone}`,children:[(0,sn.jsx)(Pl,{className:"me-1"})," Call Driver"]})]}),(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{lg:8,children:(0,sn.jsx)(Yn,{className:"shadow-sm mb-4",children:(0,sn.jsxs)(Yn.Body,{children:[(0,sn.jsxs)("div",{className:"mb-4",children:[(0,sn.jsx)("h5",{children:"Live Tracking Map"}),(0,sn.jsxs)("div",{className:"map-placeholder bg-light text-center p-5 rounded",children:[(0,sn.jsx)("p",{className:"mb-4",children:"Map would be displayed here"}),(0,sn.jsxs)("p",{className:"text-muted mb-3",children:["Current location: ",t.currentLocation.address]}),(0,sn.jsxs)("div",{className:"d-flex justify-content-center",children:[(0,sn.jsx)(Cl,{className:"text-danger me-2",size:24}),(0,sn.jsx)(mo,{className:"text-primary",size:24})]})]})]}),(0,sn.jsxs)("div",{className:"route-progress",children:[(0,sn.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[(0,sn.jsx)("div",{children:"Route Progress"}),(0,sn.jsxs)("div",{children:[t.route.progress,"%"]})]}),(0,sn.jsx)("div",{className:"progress mb-3",children:(0,sn.jsx)("div",{className:"progress-bar bg-primary",role:"progressbar",style:{width:`${t.route.progress}%`},"aria-valuenow":t.route.progress,"aria-valuemin":"0","aria-valuemax":"100"})}),(0,sn.jsxs)("div",{className:"d-flex justify-content-between small text-muted",children:[(0,sn.jsx)("div",{children:"Pickup"}),(0,sn.jsx)("div",{children:"Delivery"})]})]})]})})}),(0,sn.jsxs)(Nn,{lg:4,children:[(0,sn.jsxs)(Yn,{className:"shadow-sm mb-4",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white py-3",children:(0,sn.jsx)("h5",{className:"mb-0",children:"Delivery Status"})}),(0,sn.jsx)(Yn.Body,{className:"p-0",children:(0,sn.jsxs)(mb,{variant:"flush",children:[(0,sn.jsx)(mb.Item,{className:"px-3 py-3",children:(0,sn.jsxs)("div",{className:"d-flex align-items-center",children:[(0,sn.jsx)("div",{className:"status-icon bg-info rounded-circle p-2 me-3",children:(0,sn.jsx)(mo,{className:"text-white"})}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("div",{className:"fw-bold",children:"In Transit"}),(0,sn.jsxs)("div",{className:"text-muted small",children:["Updated ",(r=t.currentLocation.updatedAt,r?new Date(r).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A")]})]})]})}),(0,sn.jsxs)(mb.Item,{className:"px-3 py-3",children:[(0,sn.jsx)("div",{className:"text-muted mb-1",children:"Estimated Arrival"}),(0,sn.jsxs)("div",{className:"d-flex align-items-center",children:[(0,sn.jsx)(zr,{className:"me-2 text-primary"}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("div",{className:"fw-bold",children:(e=>e?new Date(e).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):"")(t.eta)}),(0,sn.jsx)("div",{className:"small text-muted",children:t.route&&`Distance: ${t.route.distance} (${t.route.duration} remaining)`})]})]})]}),(0,sn.jsxs)(mb.Item,{className:"px-3 py-3",children:[(0,sn.jsx)("div",{className:"text-muted mb-1",children:"Driver Information"}),(0,sn.jsxs)("div",{className:"d-flex align-items-center",children:[(0,sn.jsx)("div",{className:"driver-icon bg-secondary rounded-circle p-2 me-3",children:(0,sn.jsx)(mo,{className:"text-white"})}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("div",{className:"fw-bold",children:t.driver.name}),(0,sn.jsx)("div",{className:"small",children:t.driver.phone}),(0,sn.jsx)("div",{className:"small text-muted",children:t.vehicle})]})]})]})]})})]}),(0,sn.jsxs)(Yn,{className:"shadow-sm",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white py-3",children:(0,sn.jsx)("h5",{className:"mb-0",children:"Delivery Details"})}),(0,sn.jsx)(Yn.Body,{className:"p-0",children:(0,sn.jsxs)(mb,{variant:"flush",children:[(0,sn.jsxs)(mb.Item,{className:"px-3 py-3",children:[(0,sn.jsx)("div",{className:"text-muted mb-1",children:"Order Number"}),(0,sn.jsx)("div",{children:t.deliveryId})]}),(0,sn.jsxs)(mb.Item,{className:"px-3 py-3",children:[(0,sn.jsx)("div",{className:"text-muted mb-1",children:"Pickup Location"}),(0,sn.jsxs)("div",{className:"small d-flex",children:[(0,sn.jsx)(Cl,{className:"me-2 text-primary flex-shrink-0 mt-1"}),(0,sn.jsx)("div",{children:t.pickupAddress})]})]}),(0,sn.jsxs)(mb.Item,{className:"px-3 py-3",children:[(0,sn.jsx)("div",{className:"text-muted mb-1",children:"Delivery Location"}),(0,sn.jsxs)("div",{className:"small d-flex",children:[(0,sn.jsx)(Cl,{className:"me-2 text-danger flex-shrink-0 mt-1"}),(0,sn.jsx)("div",{children:t.deliveryAddress})]})]}),(0,sn.jsxs)(mb.Item,{className:"px-3 py-3",children:[(0,sn.jsx)("div",{className:"text-muted mb-1",children:"Items"}),(0,sn.jsx)("div",{className:"small",children:t.items.map((e=>(0,sn.jsxs)("div",{children:[e.quantity,"x ",e.description]},e.id)))})]}),(0,sn.jsxs)(mb.Item,{className:"px-3 py-3",children:[(0,sn.jsx)("div",{className:"text-muted mb-1",children:"Recipient"}),(0,sn.jsx)("div",{children:t.customer.contact}),(0,sn.jsx)("div",{className:"small",children:t.customer.phone})]})]})})]})]})]})]});var r};vv.register(Aj,Mj,Pv,Mv,Hv,Cv,uj,kj,cj);const sN=()=>{const[e,t]=(0,a.useState)("monthly"),[s,n]=(0,a.useState)({revenue:{total:1245e3,previousPeriod:118e4,byPeriod:[85e3,92e3,102e3,98e3,11e4,115e3,108e3,117e3,125e3,123e3,13e4,14e4],byType:{deliveryFees:725e3,setupFees:18e4,subscriptions:34e4}},costs:{total:825e3,previousPeriod:795e3,byPeriod:[65e3,68e3,72e3,7e4,73e3,75e3,7e4,76e3,78e3,8e4,83e3,85e3],byType:{driverWages:42e4,vehicleMaintenance:125e3,fuel:18e4,insurance:6e4,officeExpenses:4e4}},unpaidInvoices:[{id:"INV-2023-058",customer:"ABC Logistics",amount:3200,dueDate:"2025-05-10"},{id:"INV-2023-059",customer:"Tech Solutions Inc.",amount:1850,dueDate:"2025-05-15"},{id:"INV-2023-060",customer:"XYZ Retail",amount:4500,dueDate:"2025-05-20"}],upcomingPayments:[{id:"PAY-0045",vendor:"Vehicle Lease Co.",amount:5800,dueDate:"2025-05-08"},{id:"PAY-0046",vendor:"Insurance Provider",amount:2400,dueDate:"2025-05-15"},{id:"PAY-0047",vendor:"Fuel Services Inc.",amount:3600,dueDate:"2025-05-18"}],cashBalance:155e3,accountsReceivable:42500,accountsPayable:38700}),i=s.revenue.total-s.costs.total,r=s.revenue.previousPeriod-s.costs.previousPeriod,l=(i-r)/r*100,o={labels:"monthly"===e?["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]:["Week 1","Week 2","Week 3","Week 4","Week 5","Week 6","Week 7","Week 8","Week 9","Week 10","Week 11","Week 12"],datasets:[{label:"Revenue",data:s.revenue.byPeriod,borderColor:"rgba(39, 174, 96, 1)",backgroundColor:"rgba(39, 174, 96, 0.2)",fill:!0,tension:.4},{label:"Costs",data:s.costs.byPeriod,borderColor:"rgba(255, 99, 132, 1)",backgroundColor:"rgba(255, 99, 132, 0.2)",fill:!0,tension:.4}]},c={labels:Object.keys(s.revenue.byType).map((e=>e.replace(/([A-Z])/g," $1").replace(/^./,(e=>e.toUpperCase())))),datasets:[{label:"Revenue Sources",data:Object.values(s.revenue.byType),backgroundColor:["rgba(39, 174, 96, 0.6)","rgba(54, 162, 235, 0.6)","rgba(255, 206, 86, 0.6)"],borderWidth:1}]},d={labels:Object.keys(s.costs.byType).map((e=>e.replace(/([A-Z])/g," $1").replace(/^./,(e=>e.toUpperCase())))),datasets:[{label:"Cost Categories",data:Object.values(s.costs.byType),backgroundColor:["rgba(255, 99, 132, 0.6)","rgba(153, 102, 255, 0.6)","rgba(255, 159, 64, 0.6)","rgba(75, 192, 192, 0.6)","rgba(201, 203, 207, 0.6)"],borderWidth:1}]},[u,h]=(0,a.useState)(!0),[m,p]=(0,a.useState)({cashFlow:[],recentTransactions:[]});(0,a.useEffect)((()=>{setTimeout((()=>{const e=[{id:"TRX-10011",type:"expense",description:"Fuel payment",amount:1250,date:new Date},{id:"TRX-10010",type:"revenue",description:"Monthly subscription fee",amount:3500,date:new Date(Date.now()-864e5)},{id:"TRX-10009",type:"expense",description:"Office supplies",amount:450,date:new Date(Date.now()-1728e5)}];p({cashFlow:[{month:"Dec",income:145e3,expenses:115e3},{month:"Jan",income:158e3,expenses:118e3},{month:"Feb",income:152e3,expenses:12e4},{month:"Mar",income:165e3,expenses:125e3},{month:"Apr",income:172e3,expenses:128e3},{month:"May",income:178e3,expenses:13e4}],recentTransactions:e}),h(!1)}),1e3)}),[]);const x=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e);return(0,sn.jsxs)(jn,{fluid:!0,className:"py-4",children:[(0,sn.jsx)(Ob,{title:"Financial Dashboard",backButton:!1}),(0,sn.jsxs)("div",{className:"d-flex justify-content-end mb-4",children:[(0,sn.jsxs)(Xi.Select,{style:{width:"auto"},value:e,onChange:e=>t(e.target.value),className:"me-2",children:[(0,sn.jsx)("option",{value:"monthly",children:"Monthly View"}),(0,sn.jsx)("option",{value:"weekly",children:"Weekly View"})]}),(0,sn.jsx)(Le,{to:"/financial/reports",className:"btn btn-primary",children:"Full Financial Reports"})]}),(0,sn.jsx)(yn,{className:"mb-4",children:(0,sn.jsx)(Nn,{md:12,children:(0,sn.jsx)(Yn,{className:"border-0 shadow-sm",children:(0,sn.jsxs)(Yn.Body,{className:"p-3",children:[(0,sn.jsx)("h5",{className:"mb-3",children:"Financial Management"}),(0,sn.jsxs)("div",{className:"d-flex flex-wrap gap-2",children:[(0,sn.jsxs)(Le,{to:"/financial/transactions",className:"btn btn-outline-primary",children:[(0,sn.jsx)(So,{className:"me-2"})," Transactions"]}),(0,sn.jsxs)(Le,{to:"/financial/budget",className:"btn btn-outline-primary",children:[(0,sn.jsx)(br,{className:"me-2"})," Budget Planner"]}),(0,sn.jsxs)(Le,{to:"/financial/reports",className:"btn btn-outline-primary",children:[(0,sn.jsx)(Tr,{className:"me-2"})," Reports"]}),(0,sn.jsxs)(Le,{to:"/financial/invoices",className:"btn btn-outline-primary",children:[(0,sn.jsx)(rl,{className:"me-2"})," Invoices"]}),(0,sn.jsxs)(Le,{to:"/financial/expenses",className:"btn btn-outline-primary",children:[(0,sn.jsx)(Ur,{className:"me-2"})," Expenses"]}),(0,sn.jsxs)(Le,{to:"/financial/accounts",className:"btn btn-outline-primary",children:[(0,sn.jsx)(No,{className:"me-2"})," Accounts"]})]})]})})})}),(0,sn.jsxs)(yn,{className:"mb-4",children:[(0,sn.jsx)(Nn,{md:4,children:(0,sn.jsx)(Yn,{className:"h-100 border-0 shadow-sm",children:(0,sn.jsxs)(Yn.Body,{className:"d-flex flex-column",children:[(0,sn.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,sn.jsxs)("div",{children:[(0,sn.jsx)("h6",{className:"text-muted mb-1",children:"Revenue"}),(0,sn.jsxs)("h3",{className:"mb-0",children:["$",(s.revenue.total/1e3).toFixed(1),"k"]})]}),(0,sn.jsxs)("div",{className:`badge bg-${s.revenue.total>s.revenue.previousPeriod?"success":"danger"} h-50`,children:[((s.revenue.total-s.revenue.previousPeriod)/s.revenue.previousPeriod*100).toFixed(1),"%"]})]}),(0,sn.jsxs)("small",{className:"text-muted mt-2",children:["vs $",(s.revenue.previousPeriod/1e3).toFixed(1),"k last period"]})]})})}),(0,sn.jsx)(Nn,{md:4,children:(0,sn.jsx)(Yn,{className:"h-100 border-0 shadow-sm",children:(0,sn.jsxs)(Yn.Body,{className:"d-flex flex-column",children:[(0,sn.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,sn.jsxs)("div",{children:[(0,sn.jsx)("h6",{className:"text-muted mb-1",children:"Costs"}),(0,sn.jsxs)("h3",{className:"mb-0",children:["$",(s.costs.total/1e3).toFixed(1),"k"]})]}),(0,sn.jsxs)("div",{className:`badge bg-${s.costs.total<s.costs.previousPeriod?"success":"danger"} h-50`,children:[((s.costs.total-s.costs.previousPeriod)/s.costs.previousPeriod*100).toFixed(1),"%"]})]}),(0,sn.jsxs)("small",{className:"text-muted mt-2",children:["vs $",(s.costs.previousPeriod/1e3).toFixed(1),"k last period"]})]})})}),(0,sn.jsx)(Nn,{md:4,children:(0,sn.jsx)(Yn,{className:"h-100 border-0 shadow-sm",children:(0,sn.jsxs)(Yn.Body,{className:"d-flex flex-column",children:[(0,sn.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,sn.jsxs)("div",{children:[(0,sn.jsx)("h6",{className:"text-muted mb-1",children:"Profit"}),(0,sn.jsxs)("h3",{className:"mb-0",children:["$",(i/1e3).toFixed(1),"k"]})]}),(0,sn.jsxs)("div",{className:`badge bg-${l>0?"success":"danger"} h-50`,children:[l.toFixed(1),"%"]})]}),(0,sn.jsxs)("small",{className:"text-muted mt-2",children:["vs $",(r/1e3).toFixed(1),"k last period"]})]})})})]}),(0,sn.jsx)(yn,{className:"mb-4",children:(0,sn.jsx)(Nn,{md:12,children:(0,sn.jsxs)(Yn,{className:"border-0 shadow-sm",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white border-0 pt-3 pb-3 d-flex justify-content-between",children:(0,sn.jsx)("h5",{className:"mb-0",children:"Quick Actions"})}),(0,sn.jsx)(Yn.Body,{className:"p-3",children:(0,sn.jsxs)("div",{className:"d-flex flex-wrap gap-2",children:[(0,sn.jsxs)(Le,{to:"/financial/transactions/new",className:"btn btn-primary me-2",children:[(0,sn.jsx)(Ol,{className:"me-1"})," Record Transaction"]}),(0,sn.jsxs)(Le,{to:"/financial/invoices/new",className:"btn btn-outline-primary me-2",children:[(0,sn.jsx)(rl,{className:"me-1"})," Create Invoice"]}),(0,sn.jsxs)(Le,{to:"/financial/expenses/new",className:"btn btn-outline-primary me-2",children:[(0,sn.jsx)(Dl,{className:"me-1"})," Add Expense"]}),(0,sn.jsxs)(Le,{to:"/financial/accounts",className:"btn btn-outline-primary me-2",children:[(0,sn.jsx)(No,{className:"me-1"})," View Accounts"]}),(0,sn.jsxs)(Le,{to:"/financial/budget",className:"btn btn-outline-primary",children:[(0,sn.jsx)(br,{className:"me-1"})," Budget Planning"]})]})})]})})}),(0,sn.jsx)(yn,{children:(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Yn,{className:"border-0 shadow-sm mb-4",children:[(0,sn.jsxs)(Yn.Header,{className:"bg-white border-0 pt-3 pb-0 d-flex justify-content-between",children:[(0,sn.jsx)("h5",{className:"mb-0",children:"Recent Transactions"}),(0,sn.jsx)(Le,{to:"/financial/transactions",className:"text-primary small",children:"View All"})]}),(0,sn.jsx)(Yn.Body,{className:"p-0",children:u?(0,sn.jsx)("div",{className:"text-center py-4",children:(0,sn.jsx)("div",{className:"spinner-border text-primary spinner-border-sm",role:"status",children:(0,sn.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):(0,sn.jsx)(Uh,{className:"mb-0",children:(0,sn.jsx)("tbody",{children:m.recentTransactions.map(((e,t)=>{return(0,sn.jsxs)("tr",{children:[(0,sn.jsxs)("td",{children:[(0,sn.jsx)("div",{className:"fw-bold",children:e.id}),(0,sn.jsx)("div",{className:"small text-muted",children:e.description})]}),(0,sn.jsxs)("td",{className:"text-end",children:[(0,sn.jsxs)("div",{className:"expense"===e.type?"text-danger":"text-success",children:["expense"===e.type?"- ":"+ ",x(e.amount)]}),(0,sn.jsx)("div",{className:"small text-muted",children:(s=e.date,s?new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A")})]})]},t);var s}))})})})]})})}),(0,sn.jsxs)(yn,{className:"mb-4",children:[(0,sn.jsx)(Nn,{md:4,children:(0,sn.jsxs)(Yn,{className:"border-0 shadow-sm h-100",children:[(0,sn.jsxs)(Yn.Header,{className:"bg-white border-0 pt-3 pb-0 d-flex justify-content-between",children:[(0,sn.jsx)("h5",{className:"mb-0",children:"Cash Position"}),(0,sn.jsx)(Le,{to:"/financial/accounts",className:"text-primary small",children:"View All"})]}),(0,sn.jsxs)(Yn.Body,{children:[(0,sn.jsx)("div",{className:"d-flex justify-content-center align-items-center my-3",children:(0,sn.jsxs)("div",{className:"text-center",children:[(0,sn.jsx)(Al,{size:36,className:"text-success mb-2"}),(0,sn.jsx)("h3",{className:"mb-0",children:x(s.cashBalance)}),(0,sn.jsx)("div",{className:"text-muted small",children:"Available Cash"})]})}),(0,sn.jsxs)("div",{className:"d-flex justify-content-between mb-2",children:[(0,sn.jsxs)("div",{className:"text-start",children:[(0,sn.jsx)("h6",{className:"mb-0 text-primary",children:x(s.accountsReceivable)}),(0,sn.jsx)("div",{className:"text-muted small",children:"Accounts Receivable"})]}),(0,sn.jsxs)("div",{className:"text-end",children:[(0,sn.jsx)("h6",{className:"mb-0 text-danger",children:x(s.accountsPayable)}),(0,sn.jsx)("div",{className:"text-muted small",children:"Accounts Payable"})]})]})]})]})}),(0,sn.jsx)(Nn,{md:4,children:(0,sn.jsxs)(Yn,{className:"border-0 shadow-sm h-100",children:[(0,sn.jsxs)(Yn.Header,{className:"bg-white border-0 pt-3 pb-0 d-flex justify-content-between",children:[(0,sn.jsx)("h5",{className:"mb-0",children:"Unpaid Invoices"}),(0,sn.jsx)(Le,{to:"/financial/invoices",className:"text-primary small",children:"View All"})]}),(0,sn.jsx)(Yn.Body,{className:"p-0",children:(0,sn.jsx)(Uh,{className:"mb-0",children:(0,sn.jsx)("tbody",{children:s.unpaidInvoices.map(((e,t)=>(0,sn.jsxs)("tr",{children:[(0,sn.jsxs)("td",{children:[(0,sn.jsx)("div",{className:"fw-bold",children:e.id}),(0,sn.jsx)("div",{className:"small text-muted",children:e.customer})]}),(0,sn.jsxs)("td",{className:"text-end",children:[(0,sn.jsx)("div",{className:"fw-bold",children:x(e.amount)}),(0,sn.jsxs)("div",{className:"small text-muted",children:["Due: ",new Date(e.dueDate).toLocaleDateString()]})]})]},t)))})})})]})}),(0,sn.jsx)(Nn,{md:4,children:(0,sn.jsxs)(Yn,{className:"border-0 shadow-sm h-100",children:[(0,sn.jsxs)(Yn.Header,{className:"bg-white border-0 pt-3 pb-0 d-flex justify-content-between",children:[(0,sn.jsx)("h5",{className:"mb-0",children:"Upcoming Payments"}),(0,sn.jsx)(Le,{to:"/financial/expenses",className:"text-primary small",children:"View All"})]}),(0,sn.jsx)(Yn.Body,{className:"p-0",children:(0,sn.jsx)(Uh,{className:"mb-0",children:(0,sn.jsx)("tbody",{children:s.upcomingPayments.map(((e,t)=>(0,sn.jsxs)("tr",{children:[(0,sn.jsxs)("td",{children:[(0,sn.jsx)("div",{className:"fw-bold",children:e.id}),(0,sn.jsx)("div",{className:"small text-muted",children:e.vendor})]}),(0,sn.jsxs)("td",{className:"text-end",children:[(0,sn.jsx)("div",{className:"fw-bold text-danger",children:x(e.amount)}),(0,sn.jsxs)("div",{className:"small text-muted",children:["Due: ",new Date(e.dueDate).toLocaleDateString()]})]})]},t)))})})})]})})]}),(0,sn.jsx)(yn,{className:"mb-4",children:(0,sn.jsx)(Nn,{md:12,children:(0,sn.jsxs)(Yn,{className:"border-0 shadow-sm",children:[(0,sn.jsxs)(Yn.Header,{className:"bg-white border-0 pt-4 pb-0 d-flex justify-content-between",children:[(0,sn.jsx)("h5",{className:"mb-0",children:"Revenue vs Costs Trend"}),(0,sn.jsx)(Le,{to:"/financial/reports",className:"text-primary small",children:"Detailed Reports"})]}),(0,sn.jsx)(Yn.Body,{children:(0,sn.jsx)("div",{style:{height:"400px"},children:(0,sn.jsx)(ib,{data:o,options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,ticks:{callback:function(e){return"$"+e.toLocaleString()}}}},plugins:{legend:{position:"top"},tooltip:{callbacks:{label:function(e){let t=e.dataset.label||"";return t&&(t+=": "),null!==e.parsed.y&&(t+=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e.parsed.y)),t}}}}}})})})]})})}),(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Yn,{className:"border-0 shadow-sm mb-4",children:[(0,sn.jsxs)(Yn.Header,{className:"bg-white border-0 pt-4 pb-0 d-flex justify-content-between",children:[(0,sn.jsx)("h5",{className:"mb-0",children:"Revenue Breakdown"}),(0,sn.jsx)(Le,{to:"/financial/reports?type=revenueBreakdown",className:"text-primary small",children:"View Details"})]}),(0,sn.jsx)(Yn.Body,{children:(0,sn.jsx)("div",{style:{height:"300px"},children:(0,sn.jsx)(ob,{data:c,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"},tooltip:{callbacks:{label:function(e){let t=e.label||"";const s=e.raw,n=(s/e.dataset.data.reduce(((e,t)=>e+t),0)*100).toFixed(1);return`${t}: ${x(s)} (${n}%)`}}}}}})})})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Yn,{className:"border-0 shadow-sm mb-4",children:[(0,sn.jsxs)(Yn.Header,{className:"bg-white border-0 pt-4 pb-0 d-flex justify-content-between",children:[(0,sn.jsx)("h5",{className:"mb-0",children:"Cost Breakdown"}),(0,sn.jsx)(Le,{to:"/financial/reports?type=expenseBreakdown",className:"text-primary small",children:"View Details"})]}),(0,sn.jsx)(Yn.Body,{children:(0,sn.jsx)("div",{style:{height:"300px"},children:(0,sn.jsx)(ob,{data:d,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"},tooltip:{callbacks:{label:function(e){let t=e.label||"";const s=e.raw,n=(s/e.dataset.data.reduce(((e,t)=>e+t),0)*100).toFixed(1);return`${t}: ${x(s)} (${n}%)`}}}}}})})})]})})]})]})},nN=()=>{const e=ee(),[t,s]=(0,a.useState)([]),[n,i]=(0,a.useState)([]),[r,l]=(0,a.useState)(""),[o,c]=(0,a.useState)("all"),[d,u]=(0,a.useState)("all"),[h,m]=(0,a.useState)("all"),[p,x]=(0,a.useState)("list"),[f,g]=(0,a.useState)("date"),[v,j]=(0,a.useState)("desc"),[b,y]=(0,a.useState)(1),[w]=(0,a.useState)(10),[N,C]=(0,a.useState)(!1),[S,k]=(0,a.useState)(null),[D,_]=(0,a.useState)(!0),A=[{value:"revenue",label:"Revenue",color:"success"},{value:"expense",label:"Expense",color:"danger"},{value:"transfer",label:"Transfer",color:"info"}],T=[{value:"completed",label:"Completed",color:"success"},{value:"pending",label:"Pending",color:"warning"},{value:"failed",label:"Failed",color:"danger"},{value:"cancelled",label:"Cancelled",color:"secondary"}];(0,a.useEffect)((()=>{setTimeout((()=>{const e=new Date,t=new Date(e);t.setDate(t.getDate()-1);const n=new Date(e);n.setDate(n.getDate()-7);const a=[{id:1,transactionId:"TRX-10001",type:"revenue",amount:2500,description:"Monthly delivery service subscription",category:"Subscriptions",date:e,status:"completed",account:"Business Checking",customer:{id:1,name:"ABC Logistics"},relatedInvoice:"INV-2023-055",createdAt:new Date(e.getFullYear(),e.getMonth(),e.getDate()-5),updatedAt:e},{id:2,transactionId:"TRX-10002",type:"expense",amount:850,description:"Vehicle maintenance - Fleet #3",category:"Vehicle Maintenance",date:t,status:"completed",account:"Business Checking",vendor:"City Auto Service",paymentMethod:"Credit Card",createdAt:new Date(e.getFullYear(),e.getMonth(),e.getDate()-2),updatedAt:t},{id:3,transactionId:"TRX-10003",type:"revenue",amount:1200,description:"Special delivery fee",category:"Delivery Fees",date:t,status:"completed",account:"Business Checking",customer:{id:3,name:"Tech Solutions Inc."},relatedInvoice:"INV-2023-056",createdAt:new Date(e.getFullYear(),e.getMonth(),e.getDate()-2),updatedAt:t},{id:4,transactionId:"TRX-10004",type:"expense",amount:1500,description:"Office rent payment",category:"Rent",date:new Date(e.getFullYear(),e.getMonth(),e.getDate()-3),status:"completed",account:"Business Checking",vendor:"Highrise Properties",paymentMethod:"Bank Transfer",createdAt:new Date(e.getFullYear(),e.getMonth(),e.getDate()-3),updatedAt:new Date(e.getFullYear(),e.getMonth(),e.getDate()-3)},{id:5,transactionId:"TRX-10005",type:"expense",amount:450,description:"Fuel costs for delivery fleet",category:"Fuel",date:new Date(e.getFullYear(),e.getMonth(),e.getDate()-1),status:"completed",account:"Business Credit Card",vendor:"Shell Gas Stations",paymentMethod:"Credit Card",createdAt:new Date(e.getFullYear(),e.getMonth(),e.getDate()-1),updatedAt:new Date(e.getFullYear(),e.getMonth(),e.getDate()-1)},{id:6,transactionId:"TRX-10006",type:"transfer",amount:5e3,description:"Transfer to savings account",category:"Internal Transfer",date:e,status:"completed",fromAccount:"Business Checking",toAccount:"Business Savings",createdAt:e,updatedAt:e},{id:7,transactionId:"TRX-10007",type:"revenue",amount:3500,description:"Premium delivery service",category:"Delivery Fees",date:new Date(e.getFullYear(),e.getMonth(),e.getDate()-5),status:"completed",account:"Business Checking",customer:{id:2,name:"XYZ Retail"},relatedInvoice:"INV-2023-052",createdAt:new Date(e.getFullYear(),e.getMonth(),e.getDate()-6),updatedAt:new Date(e.getFullYear(),e.getMonth(),e.getDate()-5)},{id:8,transactionId:"TRX-10008",type:"expense",amount:750,description:"Insurance premium payment",category:"Insurance",date:new Date(e.getFullYear(),e.getMonth(),e.getDate()-7),status:"completed",account:"Business Checking",vendor:"SafeGuard Insurance",paymentMethod:"Bank Transfer",createdAt:new Date(e.getFullYear(),e.getMonth(),e.getDate()-7),updatedAt:new Date(e.getFullYear(),e.getMonth(),e.getDate()-7)},{id:9,transactionId:"TRX-10009",type:"revenue",amount:1875,description:"Setup fee for new delivery contract",category:"Setup Fees",date:new Date(e.getFullYear(),e.getMonth(),e.getDate()-2),status:"pending",account:"Business Checking",customer:{id:5,name:"Metro Electronics"},relatedInvoice:"INV-2023-057",createdAt:new Date(e.getFullYear(),e.getMonth(),e.getDate()-2),updatedAt:new Date(e.getFullYear(),e.getMonth(),e.getDate()-2)},{id:10,transactionId:"TRX-10010",type:"expense",amount:2200,description:"Driver payroll",category:"Payroll",date:new Date(e.getFullYear(),e.getMonth(),e.getDate()-4),status:"completed",account:"Payroll Account",vendor:"Internal",paymentMethod:"Direct Deposit",createdAt:new Date(e.getFullYear(),e.getMonth(),e.getDate()-5),updatedAt:new Date(e.getFullYear(),e.getMonth(),e.getDate()-4)}];s(a),i(a),_(!1)}),1e3)}),[]),(0,a.useEffect)((()=>{let e=[...t];"all"!==o&&(e=e.filter((e=>e.type===o))),"all"!==d&&(e=e.filter((e=>e.status===d)));const s=new Date;s.setHours(0,0,0,0);const n=new Date(s);n.setDate(n.getDate()-1);const a=new Date(s);a.setDate(s.getDate()-s.getDay());const l=new Date(a);l.setDate(l.getDate()-7);const c=new Date(a);c.setDate(c.getDate()-1);const u=new Date(s.getFullYear(),s.getMonth(),1),m=new Date(s.getFullYear(),s.getMonth()-1,1),p=new Date(s.getFullYear(),s.getMonth(),0);switch(h){case"today":e=e.filter((e=>{const t=new Date(e.date);return t.setHours(0,0,0,0),t.getTime()===s.getTime()}));break;case"yesterday":e=e.filter((e=>{const t=new Date(e.date);return t.setHours(0,0,0,0),t.getTime()===n.getTime()}));break;case"this-week":e=e.filter((e=>{const t=new Date(e.date);return t>=a&&t<s.getTime()+864e5}));break;case"last-week":e=e.filter((e=>{const t=new Date(e.date);return t>=l&&t<=c}));break;case"this-month":e=e.filter((e=>{const t=new Date(e.date);return t>=u&&t<s.getTime()+864e5}));break;case"last-month":e=e.filter((e=>{const t=new Date(e.date);return t>=m&&t<=p}))}if(r){const t=r.toLowerCase();e=e.filter((e=>e.transactionId.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)||e.category.toLowerCase().includes(t)||e.customer&&e.customer.name.toLowerCase().includes(t)||e.vendor&&e.vendor.toLowerCase().includes(t)))}e.sort(((e,t)=>{let s=e[f],n=t[f];return"customer.name"===f&&e.customer&&t.customer&&(s=e.customer.name,n=t.customer.name),s instanceof Date&&n instanceof Date?"asc"===v?s-n:n-s:"string"===typeof s&&"string"===typeof n?"asc"===v?s.localeCompare(n):n.localeCompare(s):"asc"===v?s-n:n-s})),i(e)}),[t,r,o,d,h,f,v]);const E=b*w,L=E-w,M=n.slice(L,E),I=Math.ceil(n.length/w),P=e=>{y(e)},O=e=>{f===e?j("asc"===v?"desc":"asc"):(g(e),j("asc"))},R=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",F=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),z=e=>{const t=A.find((t=>t.value===e));return t?(0,sn.jsx)(Cb,{bg:t.color,className:"text-uppercase",children:t.label}):null},B=e=>{const t=T.find((t=>t.value===e));return t?(0,sn.jsx)(Cb,{bg:t.color,className:"text-uppercase",children:t.label}):null};return(0,sn.jsxs)("div",{className:"container-fluid py-4",children:[(0,sn.jsx)(Ob,{title:"Financial Transactions",backButton:!0}),(0,sn.jsxs)("div",{className:"d-flex justify-content-end align-items-center mb-4",children:[(0,sn.jsxs)(ir,{variant:"outline-primary",className:"me-2",onClick:()=>e("/financial/reports"),children:[(0,sn.jsx)(Tr,{className:"me-1"})," Reports"]}),(0,sn.jsxs)(ir,{variant:"outline-success",className:"me-2",onClick:()=>{},children:[(0,sn.jsx)(Gr,{className:"me-1"})," Export"]}),(0,sn.jsxs)(ir,{variant:"primary",onClick:()=>e("/financial/transactions/new"),children:[(0,sn.jsx)(Ol,{className:"me-1"})," Add Transaction"]})]}),(()=>{const e=(()=>{const e=t.length,s=t.filter((e=>"revenue"===e.type)).reduce(((e,t)=>e+t.amount),0),n=t.filter((e=>"expense"===e.type)).reduce(((e,t)=>e+t.amount),0);return{totalTransactions:e,totalRevenue:s,totalExpenses:n,netAmount:s-n,pendingTransactions:t.filter((e=>"pending"===e.status)).length}})();return(0,sn.jsxs)(yn,{className:"mb-4",children:[(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsx)(Yn,{className:"border-0 shadow-sm h-100",children:(0,sn.jsxs)(Yn.Body,{className:"d-flex align-items-center",children:[(0,sn.jsx)("div",{className:"icon-wrapper bg-primary bg-opacity-10 rounded p-3 me-3",children:(0,sn.jsx)(Dl,{className:"text-primary",size:24})}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("h6",{className:"text-muted mb-1",children:"Total Transactions"}),(0,sn.jsx)("h3",{className:"mb-0",children:e.totalTransactions})]})]})})}),(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsx)(Yn,{className:"border-0 shadow-sm h-100",children:(0,sn.jsxs)(Yn.Body,{className:"d-flex align-items-center",children:[(0,sn.jsx)("div",{className:"icon-wrapper bg-success bg-opacity-10 rounded p-3 me-3",children:(0,sn.jsx)(Dl,{className:"text-success",size:24})}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("h6",{className:"text-muted mb-1",children:"Total Revenue"}),(0,sn.jsx)("h3",{className:"mb-0",children:F(e.totalRevenue)})]})]})})}),(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsx)(Yn,{className:"border-0 shadow-sm h-100",children:(0,sn.jsxs)(Yn.Body,{className:"d-flex align-items-center",children:[(0,sn.jsx)("div",{className:"icon-wrapper bg-danger bg-opacity-10 rounded p-3 me-3",children:(0,sn.jsx)(Dl,{className:"text-danger",size:24})}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("h6",{className:"text-muted mb-1",children:"Total Expenses"}),(0,sn.jsx)("h3",{className:"mb-0",children:F(e.totalExpenses)})]})]})})}),(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsx)(Yn,{className:"border-0 shadow-sm h-100",children:(0,sn.jsxs)(Yn.Body,{className:"d-flex align-items-center",children:[(0,sn.jsx)("div",{className:"icon-wrapper bg-info bg-opacity-10 rounded p-3 me-3",children:(0,sn.jsx)(Dl,{className:"text-info",size:24})}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("h6",{className:"text-muted mb-1",children:"Net Amount"}),(0,sn.jsx)("h3",{className:"mb-0 "+(e.netAmount>=0?"text-success":"text-danger"),children:F(e.netAmount)})]})]})})})]})})(),(0,sn.jsx)(Yn,{className:"shadow-sm mb-4",children:(0,sn.jsxs)(Yn.Body,{children:[(0,sn.jsxs)(yn,{className:"mb-3",children:[(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsxs)(nr,{children:[(0,sn.jsx)(nr.Text,{children:(0,sn.jsx)(Ul,{})}),(0,sn.jsx)(Xi.Control,{placeholder:"Search transactions...",value:r,onChange:e=>l(e.target.value)})]})}),(0,sn.jsx)(Nn,{md:2,children:(0,sn.jsxs)(nr,{children:[(0,sn.jsx)(nr.Text,{children:(0,sn.jsx)(ol,{})}),(0,sn.jsxs)(Xi.Select,{value:o,onChange:e=>c(e.target.value),children:[(0,sn.jsx)("option",{value:"all",children:"All Types"}),A.map((e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value)))]})]})}),(0,sn.jsx)(Nn,{md:2,children:(0,sn.jsxs)(nr,{children:[(0,sn.jsx)(nr.Text,{children:(0,sn.jsx)(ol,{})}),(0,sn.jsxs)(Xi.Select,{value:d,onChange:e=>u(e.target.value),children:[(0,sn.jsx)("option",{value:"all",children:"All Statuses"}),T.map((e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value)))]})]})}),(0,sn.jsx)(Nn,{md:2,children:(0,sn.jsxs)(nr,{children:[(0,sn.jsx)(nr.Text,{children:(0,sn.jsx)(kr,{})}),(0,sn.jsx)(Xi.Select,{value:h,onChange:e=>m(e.target.value),children:[{value:"all",label:"All Dates"},{value:"today",label:"Today"},{value:"yesterday",label:"Yesterday"},{value:"this-week",label:"This Week"},{value:"last-week",label:"Last Week"},{value:"this-month",label:"This Month"},{value:"last-month",label:"Last Month"},{value:"custom",label:"Custom Range"}].map((e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value)))})]})}),(0,sn.jsx)(Nn,{md:2,children:(0,sn.jsx)(ir,{variant:"outline-secondary",className:"w-100",onClick:()=>{l(""),c("all"),u("all"),m("all")},children:"Clear Filters"})}),(0,sn.jsx)(Nn,{md:1,className:"d-flex justify-content-end",children:(0,sn.jsxs)("div",{className:"btn-group",children:[(0,sn.jsx)(ir,{variant:"list"===p?"primary":"outline-primary",onClick:()=>x("list"),children:(0,sn.jsx)(jl,{})}),(0,sn.jsx)(ir,{variant:"grid"===p?"primary":"outline-primary",onClick:()=>x("grid"),children:(0,sn.jsx)(lo,{})})]})})]}),D?(0,sn.jsxs)("div",{className:"text-center py-5",children:[(0,sn.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,sn.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,sn.jsx)("p",{className:"mt-3",children:"Loading transactions..."})]}):(0,sn.jsxs)(sn.Fragment,{children:[0===n.length?(0,sn.jsxs)("div",{className:"text-center py-5",children:[(0,sn.jsx)("p",{className:"text-muted mb-3",children:"No transactions found matching your filters."}),(0,sn.jsxs)(ir,{variant:"primary",onClick:()=>e("/financial/transactions/new"),children:[(0,sn.jsx)(Ol,{className:"me-1"})," Add Transaction"]})]}):"list"===p?(0,sn.jsx)("div",{className:"table-responsive",children:(0,sn.jsxs)(Uh,{hover:!0,className:"align-middle",children:[(0,sn.jsx)("thead",{children:(0,sn.jsxs)("tr",{children:[(0,sn.jsxs)("th",{onClick:()=>O("transactionId"),style:{cursor:"pointer",whiteSpace:"nowrap"},children:["ID ","transactionId"===f&&(0,sn.jsx)(Jl,{className:"ms-1 text-"+("asc"===v?"muted":"dark")})]}),(0,sn.jsxs)("th",{onClick:()=>O("date"),style:{cursor:"pointer",whiteSpace:"nowrap"},children:["Date ","date"===f&&(0,sn.jsx)(Jl,{className:"ms-1 text-"+("asc"===v?"muted":"dark")})]}),(0,sn.jsxs)("th",{onClick:()=>O("type"),style:{cursor:"pointer"},children:["Type ","type"===f&&(0,sn.jsx)(Jl,{className:"ms-1 text-"+("asc"===v?"muted":"dark")})]}),(0,sn.jsx)("th",{children:"Description"}),(0,sn.jsxs)("th",{onClick:()=>O("category"),style:{cursor:"pointer"},children:["Category ","category"===f&&(0,sn.jsx)(Jl,{className:"ms-1 text-"+("asc"===v?"muted":"dark")})]}),(0,sn.jsxs)("th",{onClick:()=>O("amount"),style:{cursor:"pointer",whiteSpace:"nowrap"},children:["Amount ","amount"===f&&(0,sn.jsx)(Jl,{className:"ms-1 text-"+("asc"===v?"muted":"dark")})]}),(0,sn.jsx)("th",{children:"Company/Vendor"}),(0,sn.jsxs)("th",{onClick:()=>O("status"),style:{cursor:"pointer"},children:["Status ","status"===f&&(0,sn.jsx)(Jl,{className:"ms-1 text-"+("asc"===v?"muted":"dark")})]}),(0,sn.jsx)("th",{children:"Actions"})]})}),(0,sn.jsx)("tbody",{children:M.map((e=>(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("td",{children:(0,sn.jsx)(Le,{to:`/financial/transactions/${e.id}`,className:"fw-bold text-decoration-none",children:e.transactionId})}),(0,sn.jsx)("td",{style:{whiteSpace:"nowrap"},children:R(e.date)}),(0,sn.jsx)("td",{children:z(e.type)}),(0,sn.jsx)("td",{children:(0,sn.jsx)("div",{className:"text-truncate",style:{maxWidth:"200px"},children:e.description})}),(0,sn.jsx)("td",{children:e.category}),(0,sn.jsxs)("td",{className:"expense"===e.type?"text-danger":"revenue"===e.type?"text-success":"",children:["expense"===e.type?"- ":"revenue"===e.type?"+ ":"",F(e.amount)]}),(0,sn.jsx)("td",{children:e.customer?e.customer.name:e.vendor||"N/A"}),(0,sn.jsx)("td",{children:B(e.status)}),(0,sn.jsx)("td",{children:(0,sn.jsxs)(Bh,{children:[(0,sn.jsx)(Bh.Toggle,{variant:"light",size:"sm",id:`dropdown-${e.id}`,children:(0,sn.jsx)(Yr,{})}),(0,sn.jsxs)(Bh.Menu,{children:[(0,sn.jsxs)(Bh.Item,{as:Le,to:`/financial/transactions/${e.id}`,children:[(0,sn.jsx)(Dl,{className:"me-2"})," View Details"]}),(0,sn.jsxs)(Bh.Item,{as:Le,to:`/financial/transactions/${e.id}/edit`,children:[(0,sn.jsx)(Ll,{className:"me-2"})," Edit"]}),e.relatedInvoice&&(0,sn.jsxs)(Bh.Item,{as:Le,to:`/financial/invoices/${e.relatedInvoice}`,children:[(0,sn.jsx)(rl,{className:"me-2"})," View Invoice"]}),(0,sn.jsx)(Bh.Divider,{}),(0,sn.jsxs)(Bh.Item,{className:"text-danger",onClick:()=>(e=>{k(e),C(!0)})(e),children:[(0,sn.jsx)(uo,{className:"me-2"})," Delete"]})]})]})})]},e.id)))})]})}):(0,sn.jsx)(yn,{children:M.map((e=>(0,sn.jsx)(Nn,{md:4,className:"mb-4",children:(0,sn.jsxs)(Yn,{className:`h-100 shadow-sm ${"revenue"===e.type?"border-success":"expense"===e.type?"border-danger":"border-info"} border-top-0 border-end-0 border-bottom-0 border-3`,children:[(0,sn.jsxs)(Yn.Header,{className:"d-flex justify-content-between align-items-center bg-white",children:[(0,sn.jsx)("span",{className:"fw-bold",children:e.transactionId}),B(e.status)]}),(0,sn.jsxs)(Yn.Body,{children:[(0,sn.jsxs)("div",{className:"d-flex justify-content-between mb-3",children:[(0,sn.jsxs)("div",{children:[(0,sn.jsx)("div",{className:"text-muted small",children:"Date"}),(0,sn.jsx)("div",{children:R(e.date)})]}),(0,sn.jsxs)("div",{className:"text-end",children:[(0,sn.jsx)("div",{className:"text-muted small",children:"Type"}),(0,sn.jsx)("div",{children:z(e.type)})]})]}),(0,sn.jsxs)("div",{className:"mb-3",children:[(0,sn.jsx)("div",{className:"text-muted small",children:"Description"}),(0,sn.jsx)("div",{children:e.description})]}),(0,sn.jsxs)("div",{className:"d-flex justify-content-between mb-3",children:[(0,sn.jsxs)("div",{children:[(0,sn.jsx)("div",{className:"text-muted small",children:"Category"}),(0,sn.jsx)("div",{children:e.category})]}),(0,sn.jsxs)("div",{className:"text-end",children:[(0,sn.jsx)("div",{className:"text-muted small",children:"Amount"}),(0,sn.jsxs)("div",{className:"fw-bold "+("expense"===e.type?"text-danger":"revenue"===e.type?"text-success":""),children:["expense"===e.type?"- ":"revenue"===e.type?"+ ":"",F(e.amount)]})]})]}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("div",{className:"text-muted small",children:e.customer?"Customer":e.vendor?"Vendor":"Accounts"}),(0,sn.jsx)("div",{children:e.customer?e.customer.name:e.vendor?e.vendor:`${e.fromAccount} \u2192 ${e.toAccount}`})]})]}),(0,sn.jsx)(Yn.Footer,{className:"bg-white",children:(0,sn.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,sn.jsx)(ir,{as:Le,to:`/financial/transactions/${e.id}`,variant:"outline-primary",size:"sm",children:"View"}),(0,sn.jsx)(ir,{as:Le,to:`/financial/transactions/${e.id}/edit`,variant:"outline-secondary",size:"sm",children:"Edit"})]})})]})},e.id)))}),(()=>{if(I<=1)return null;const e=[];for(let t=1;t<=I;t++)e.push((0,sn.jsx)(Ib.Item,{active:t===b,onClick:()=>P(t),children:t},t));return(0,sn.jsxs)(Ib,{className:"justify-content-center",children:[(0,sn.jsx)(Ib.Prev,{onClick:()=>P(Math.max(1,b-1)),disabled:1===b}),e,(0,sn.jsx)(Ib.Next,{onClick:()=>P(Math.min(I,b+1)),disabled:b===I})]})})()]})]})}),(0,sn.jsxs)(yy,{show:N,onHide:()=>C(!1),children:[(0,sn.jsx)(yy.Header,{closeButton:!0,children:(0,sn.jsx)(yy.Title,{children:"Confirm Delete"})}),(0,sn.jsxs)(yy.Body,{children:["Are you sure you want to delete transaction ",(0,sn.jsx)("strong",{children:null===S||void 0===S?void 0:S.transactionId}),"?",(0,sn.jsx)("div",{className:"mt-3 text-danger",children:"This action cannot be undone."})]}),(0,sn.jsxs)(yy.Footer,{children:[(0,sn.jsx)(ir,{variant:"secondary",onClick:()=>C(!1),children:"Cancel"}),(0,sn.jsx)(ir,{variant:"danger",onClick:()=>{S&&(s(t.filter((e=>e.id!==S.id))),C(!1),k(null))},children:"Delete Transaction"})]})]})]})},aN=()=>{var e;const t=ee(),{id:s}=se(),n=!!s,[i,r]=(0,a.useState)(!1),[l,o]=(0,a.useState)(!1),[c,d]=(0,a.useState)(""),[u,h]=(0,a.useState)({}),[m,p]=(0,a.useState)(null),[x,f]=(0,a.useState)(""),[g,v]=(0,a.useState)({transactionId:"",type:"revenue",amount:"",description:"",category:"",date:"",status:"completed",account:"",fromAccount:"",toAccount:"",customer:{id:"",name:""},vendor:"",paymentMethod:"",notes:"",relatedInvoice:""}),[j,b]=(0,a.useState)([]),[y,w]=(0,a.useState)([]),[N,C]=(0,a.useState)({revenue:["Delivery Fees","Setup Fees","Subscriptions","Other Income"],expense:["Vehicle Maintenance","Fuel","Insurance","Rent","Payroll","Office Expenses","Other Expenses"],transfer:["Internal Transfer"]}),[S,k]=(0,a.useState)(["Cash","Credit Card","Bank Transfer","Check","Direct Deposit","PayPal"]);(0,a.useEffect)((()=>{if(b([{id:1,name:"ABC Logistics"},{id:2,name:"XYZ Retail"},{id:3,name:"Tech Solutions Inc."},{id:4,name:"Global Shipping Co."},{id:5,name:"Metro Electronics"}]),w(["Business Checking","Business Savings","Business Credit Card","Payroll Account","Tax Reserve"]),n)r(!0),setTimeout((()=>{const e={id:parseInt(s),transactionId:`TRX-1000${s}`,type:"revenue",amount:2500,description:"Monthly delivery service subscription",category:"Subscriptions",date:(new Date).toISOString().split("T")[0],status:"completed",account:"Business Checking",customer:{id:1,name:"ABC Logistics"},vendor:"",paymentMethod:"Bank Transfer",notes:"Subscription renewal for standard delivery service package.",relatedInvoice:"INV-2023-055"};v(e),r(!1)}),1e3);else{const e=new Date,t=`TRX-${1e4+Math.floor(9e4*Math.random())}`;v((s=>({...s,transactionId:t,date:e.toISOString().split("T")[0]})))}}),[s,n]);const D=e=>{const{name:t,value:s}=e.target;if(t.includes(".")){const[e,n]=t.split(".");v({...g,[e]:{...g[e],[n]:s}})}else v("type"===t?{...g,[t]:s,category:""}:{...g,[t]:s})};return(0,sn.jsxs)("div",{className:"container-fluid py-4",children:[(0,sn.jsx)(Ob,{title:n?"Edit Transaction":"Add New Transaction",backButton:!0}),(0,sn.jsxs)(Xi,{onSubmit:e=>{if(e.preventDefault(),(()=>{const e={};return(!g.amount||parseFloat(g.amount)<=0)&&(e.amount="Please enter a valid amount"),g.description.trim()||(e.description="Description is required"),g.date||(e.date="Date is required"),g.category||(e.category="Please select a category"),"revenue"!==g.type||g.customer.id||(e.customer="Please select a customer"),"expense"!==g.type||g.vendor||(e.vendor="Please enter a vendor name"),"transfer"===g.type&&(g.fromAccount||(e.fromAccount="Please select a source account"),g.toAccount||(e.toAccount="Please select a destination account"),g.fromAccount===g.toAccount&&(e.toAccount="Source and destination accounts must be different")),h(e),0===Object.keys(e).length})())r(!0),d(""),setTimeout((()=>{try{console.log("Saving transaction:",g),console.log("Receipt file:",m),o(!0),setTimeout((()=>{t("/financial/transactions")}),1500)}catch(e){d(e.message||"An error occurred while saving the transaction"),r(!1)}}),1e3);else{const e=Object.keys(u)[0],t=document.querySelector(`[name="${e}"]`);t&&t.scrollIntoView({behavior:"smooth",block:"center"})}},children:[l&&(0,sn.jsxs)(gi,{variant:"success",className:"mb-4",children:["Transaction ",n?"updated":"created"," successfully!"]}),c&&(0,sn.jsx)(gi,{variant:"danger",className:"mb-4",children:c}),(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{lg:8,children:(0,sn.jsxs)(Yn,{className:"shadow-sm mb-4",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white",children:(0,sn.jsx)("h5",{className:"mb-0",children:"Transaction Details"})}),(0,sn.jsxs)(Yn.Body,{children:[(0,sn.jsxs)(yn,{className:"mb-3",children:[(0,sn.jsx)(Nn,{md:4,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Transaction ID"}),(0,sn.jsx)(Xi.Control,{type:"text",name:"transactionId",value:g.transactionId,onChange:D,disabled:!0})]})}),(0,sn.jsx)(Nn,{md:4,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:["Transaction Type ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsx)(Xi.Select,{name:"type",value:g.type,onChange:D,required:!0,children:[{value:"revenue",label:"Revenue"},{value:"expense",label:"Expense"},{value:"transfer",label:"Transfer"}].map((e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value)))})]})}),(0,sn.jsx)(Nn,{md:4,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:[(0,sn.jsx)(kr,{className:"me-1"}),"Transaction Date ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsx)(Xi.Control,{type:"date",name:"date",value:g.date,onChange:D,required:!0})]})})]}),(0,sn.jsxs)(yn,{className:"mb-3",children:[(0,sn.jsx)(Nn,{md:8,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:["Description ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsx)(Xi.Control,{type:"text",name:"description",value:g.description,onChange:D,placeholder:"Enter transaction description",required:!0})]})}),(0,sn.jsx)(Nn,{md:4,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:["Amount ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsxs)(nr,{children:[(0,sn.jsx)(nr.Text,{children:"$"}),(0,sn.jsx)(Xi.Control,{type:"number",step:"0.01",min:"0",name:"amount",value:g.amount,onChange:D,placeholder:"0.00",required:!0})]})]})})]}),(0,sn.jsxs)(yn,{className:"mb-3",children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:[(0,sn.jsx)(io,{className:"me-1"}),"Category ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsxs)(Xi.Select,{name:"category",value:g.category,onChange:D,required:!0,children:[(0,sn.jsx)("option",{value:"",children:"-- Select Category --"}),null===(e=N[g.type])||void 0===e?void 0:e.map((e=>(0,sn.jsx)("option",{value:e,children:e},e)))]})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Status"}),(0,sn.jsx)(Xi.Select,{name:"status",value:g.status,onChange:D,children:[{value:"completed",label:"Completed"},{value:"pending",label:"Pending"},{value:"failed",label:"Failed"},{value:"cancelled",label:"Cancelled"}].map((e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value)))})]})})]}),"revenue"===g.type&&(0,sn.jsxs)("div",{className:"revenue-fields",children:[(0,sn.jsxs)(yn,{className:"mb-3",children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:[(0,sn.jsx)(Sr,{className:"me-1"}),"Customer ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsxs)(Xi.Select,{value:g.customer.id,onChange:e=>(e=>{const t=j.find((t=>t.id===parseInt(e)));v(t?{...g,customer:{id:t.id,name:t.name}}:{...g,customer:{id:"",name:""}})})(e.target.value),required:!0,children:[(0,sn.jsx)("option",{value:"",children:"-- Select Customer --"}),j.map((e=>(0,sn.jsx)("option",{value:e.id,children:e.name},e.id)))]})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:["Account ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsxs)(Xi.Select,{name:"account",value:g.account,onChange:D,required:!0,children:[(0,sn.jsx)("option",{value:"",children:"-- Select Account --"}),y.map(((e,t)=>(0,sn.jsx)("option",{value:e,children:e},t)))]})]})})]}),(0,sn.jsxs)(yn,{className:"mb-3",children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Related Invoice"}),(0,sn.jsx)(Xi.Control,{type:"text",name:"relatedInvoice",value:g.relatedInvoice,onChange:D,placeholder:"Invoice number"})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Payment Method"}),(0,sn.jsxs)(Xi.Select,{name:"paymentMethod",value:g.paymentMethod,onChange:D,children:[(0,sn.jsx)("option",{value:"",children:"-- Select Payment Method --"}),S.map(((e,t)=>(0,sn.jsx)("option",{value:e,children:e},t)))]})]})})]})]}),"expense"===g.type&&(0,sn.jsx)("div",{className:"expense-fields",children:(0,sn.jsxs)(yn,{className:"mb-3",children:[(0,sn.jsxs)(Nn,{md:6,children:[(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:[(0,sn.jsx)(Sr,{className:"me-1"}),"Vendor ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsx)(Xi.Control,{type:"text",name:"vendor",value:g.vendor,onChange:D,placeholder:"Vendor name",required:!0})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Receipt Upload"}),(0,sn.jsx)(Xi.Control,{type:"file",accept:"image/*,.pdf",onChange:e=>{const t=e.target.files[0];if(t){p(t);const e=new FileReader;e.onloadend=()=>{f(e.result)},e.readAsDataURL(t)}}}),(0,sn.jsx)(Xi.Text,{className:"text-muted",children:"Upload a receipt or invoice (PDF, JPG, PNG)"})]}),x&&(0,sn.jsx)("div",{className:"mb-3",children:(0,sn.jsx)("div",{className:"border rounded p-2",children:(0,sn.jsx)("div",{className:"text-center",children:x.includes("data:image")?(0,sn.jsx)("img",{src:x,alt:"Receipt preview",style:{maxHeight:"200px",maxWidth:"100%"},className:"img-fluid"}):(0,sn.jsxs)("div",{className:"p-4 text-center",children:[(0,sn.jsx)(ll,{size:48,className:"text-danger mb-2"}),(0,sn.jsx)("div",{children:"PDF Document"})]})})})})]}),(0,sn.jsxs)(Nn,{md:6,children:[(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:["Account ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsxs)(Xi.Select,{name:"account",value:g.account,onChange:D,required:!0,children:[(0,sn.jsx)("option",{value:"",children:"-- Select Account --"}),y.map(((e,t)=>(0,sn.jsx)("option",{value:e,children:e},t)))]})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Payment Method"}),(0,sn.jsxs)(Xi.Select,{name:"paymentMethod",value:g.paymentMethod,onChange:D,children:[(0,sn.jsx)("option",{value:"",children:"-- Select Payment Method --"}),S.map(((e,t)=>(0,sn.jsx)("option",{value:e,children:e},t)))]})]})]})]})}),"transfer"===g.type&&(0,sn.jsx)("div",{className:"transfer-fields",children:(0,sn.jsxs)(yn,{className:"mb-3",children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:["From Account ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsxs)(Xi.Select,{name:"fromAccount",value:g.fromAccount,onChange:D,required:!0,children:[(0,sn.jsx)("option",{value:"",children:"-- Select Account --"}),y.map(((e,t)=>(0,sn.jsx)("option",{value:e,children:e},t)))]})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:["To Account ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsxs)(Xi.Select,{name:"toAccount",value:g.toAccount,onChange:D,required:!0,children:[(0,sn.jsx)("option",{value:"",children:"-- Select Account --"}),y.map(((e,t)=>(0,sn.jsx)("option",{value:e,children:e},t)))]})]})})]})}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Notes"}),(0,sn.jsx)(Xi.Control,{as:"textarea",rows:3,name:"notes",value:g.notes,onChange:D,placeholder:"Additional notes about this transaction"})]})]})]})}),(0,sn.jsxs)(Nn,{lg:4,children:[(0,sn.jsxs)(Yn,{className:"shadow-sm mb-4",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white",children:(0,sn.jsx)("h5",{className:"mb-0",children:"Transaction Summary"})}),(0,sn.jsx)(Yn.Body,{className:"p-3",children:(0,sn.jsxs)("div",{className:"transaction-summary",children:[(0,sn.jsxs)("div",{className:"d-flex justify-content-between mb-3",children:[(0,sn.jsx)("span",{className:"text-muted",children:"Transaction Type:"}),(0,sn.jsx)("span",{className:"fw-bold",children:g.type.charAt(0).toUpperCase()+g.type.slice(1)})]}),(0,sn.jsxs)("div",{className:"d-flex justify-content-between mb-3",children:[(0,sn.jsx)("span",{className:"text-muted",children:"Amount:"}),(0,sn.jsx)("span",{className:"fw-bold",children:g.amount?(_=g.amount,`$${parseFloat(_).toFixed(2)}`):"$0.00"})]}),(0,sn.jsxs)("div",{className:"d-flex justify-content-between mb-3",children:[(0,sn.jsx)("span",{className:"text-muted",children:"Date:"}),(0,sn.jsx)("span",{children:g.date?new Date(g.date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"Not set"})]}),(0,sn.jsxs)("div",{className:"d-flex justify-content-between mb-3",children:[(0,sn.jsx)("span",{className:"text-muted",children:"Category:"}),(0,sn.jsx)("span",{children:g.category||"Not set"})]}),(0,sn.jsxs)("div",{className:"d-flex justify-content-between mb-3",children:[(0,sn.jsx)("span",{className:"text-muted",children:"Status:"}),(0,sn.jsx)("span",{children:g.status.charAt(0).toUpperCase()+g.status.slice(1)})]}),"revenue"===g.type&&(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsxs)("div",{className:"d-flex justify-content-between mb-3",children:[(0,sn.jsx)("span",{className:"text-muted",children:"Customer:"}),(0,sn.jsx)("span",{children:g.customer.name||"Not selected"})]}),(0,sn.jsxs)("div",{className:"d-flex justify-content-between mb-3",children:[(0,sn.jsx)("span",{className:"text-muted",children:"Account:"}),(0,sn.jsx)("span",{children:g.account||"Not selected"})]}),g.relatedInvoice&&(0,sn.jsxs)("div",{className:"d-flex justify-content-between mb-3",children:[(0,sn.jsx)("span",{className:"text-muted",children:"Invoice:"}),(0,sn.jsx)("span",{children:g.relatedInvoice})]})]}),"expense"===g.type&&(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsxs)("div",{className:"d-flex justify-content-between mb-3",children:[(0,sn.jsx)("span",{className:"text-muted",children:"Vendor:"}),(0,sn.jsx)("span",{children:g.vendor||"Not set"})]}),(0,sn.jsxs)("div",{className:"d-flex justify-content-between mb-3",children:[(0,sn.jsx)("span",{className:"text-muted",children:"Account:"}),(0,sn.jsx)("span",{children:g.account||"Not selected"})]})]}),"transfer"===g.type&&(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsxs)("div",{className:"d-flex justify-content-between mb-3",children:[(0,sn.jsx)("span",{className:"text-muted",children:"From Account:"}),(0,sn.jsx)("span",{children:g.fromAccount||"Not selected"})]}),(0,sn.jsxs)("div",{className:"d-flex justify-content-between mb-3",children:[(0,sn.jsx)("span",{className:"text-muted",children:"To Account:"}),(0,sn.jsx)("span",{children:g.toAccount||"Not selected"})]})]}),g.paymentMethod&&(0,sn.jsxs)("div",{className:"d-flex justify-content-between mb-3",children:[(0,sn.jsx)("span",{className:"text-muted",children:"Payment Method:"}),(0,sn.jsx)("span",{children:g.paymentMethod})]})]})}),(0,sn.jsx)(Yn.Footer,{className:"bg-white",children:(0,sn.jsx)("div",{className:"d-grid gap-2",children:(0,sn.jsx)(ir,{variant:"primary",type:"submit",disabled:i,children:i?(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Saving..."]}):(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(Vl,{className:"me-1"})," ",n?"Update Transaction":"Save Transaction"]})})})})]}),(0,sn.jsxs)(Yn,{className:"shadow-sm",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white",children:(0,sn.jsx)("h5",{className:"mb-0",children:"Help"})}),(0,sn.jsxs)(Yn.Body,{children:[(0,sn.jsxs)("p",{className:"small mb-2",children:[(0,sn.jsx)("strong",{children:"Required fields"})," are marked with ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsx)("p",{className:"small mb-2",children:"Select the appropriate transaction type to see relevant fields."}),(0,sn.jsx)("p",{className:"small mb-0",children:"The summary card on the right shows a preview of the transaction details as you fill them in."})]})]})]})]}),(0,sn.jsxs)("div",{className:"d-flex justify-content-between mt-4",children:[n&&(0,sn.jsxs)(ir,{variant:"outline-danger",onClick:()=>{window.confirm("Are you sure you want to delete this transaction?")&&t("/financial/transactions")},children:[(0,sn.jsx)(uo,{className:"me-1"})," Delete Transaction"]}),(0,sn.jsxs)("div",{className:"ms-auto",children:[(0,sn.jsx)(ir,{variant:"outline-secondary",className:"me-2",onClick:()=>t("/financial/transactions"),children:"Cancel"}),(0,sn.jsx)(ir,{variant:"primary",type:"submit",disabled:i,children:i?(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Saving..."]}):(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(Vl,{className:"me-1"})," ",n?"Update Transaction":"Create Transaction"]})})]})]})]})]});var _};vv.register(Aj,Mj,Pv,Mv,Hv,Cv,uj,kj,cj);const iN=()=>{const[e,t]=(0,a.useState)("monthly"),[s,n]=(0,a.useState)("overview"),[i,r]=(0,a.useState)(!1),[l,o]=(0,a.useState)("csv"),[c,d]=(0,a.useState)(!1),[u,h]=(0,a.useState)({revenue:{total:1245e3,previousPeriod:118e4,byPeriod:[85e3,92e3,102e3,98e3,11e4,115e3,108e3,117e3,125e3,123e3,13e4,14e4],byType:{deliveryFees:725e3,setupFees:18e4,subscriptions:34e4}},costs:{total:825e3,previousPeriod:795e3,byPeriod:[65e3,68e3,72e3,7e4,73e3,75e3,7e4,76e3,78e3,8e4,83e3,85e3],byType:{driverWages:42e4,vehicleMaintenance:125e3,fuel:18e4,insurance:6e4,officeExpenses:4e4}},cashFlow:[{month:"Dec",income:145e3,expenses:115e3,netFlow:3e4},{month:"Jan",income:158e3,expenses:118e3,netFlow:4e4},{month:"Feb",income:152e3,expenses:12e4,netFlow:32e3},{month:"Mar",income:165e3,expenses:125e3,netFlow:4e4},{month:"Apr",income:172e3,expenses:128e3,netFlow:44e3},{month:"May",income:178e3,expenses:13e4,netFlow:48e3}]}),m=u.revenue.total-u.costs.total,p=u.revenue.previousPeriod-u.costs.previousPeriod,x=(m-p)/p*100,f="monthly"===e?["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]:["Week 1","Week 2","Week 3","Week 4","Week 5","Week 6","Week 7","Week 8","Week 9","Week 10","Week 11","Week 12"],g={labels:f,datasets:[{label:"Revenue",data:u.revenue.byPeriod,borderColor:"rgba(39, 174, 96, 1)",backgroundColor:"rgba(39, 174, 96, 0.2)",fill:!0,tension:.4},{label:"Costs",data:u.costs.byPeriod,borderColor:"rgba(255, 99, 132, 1)",backgroundColor:"rgba(255, 99, 132, 0.2)",fill:!0,tension:.4}]},v={labels:f,datasets:[{label:"Profit",data:u.revenue.byPeriod.map(((e,t)=>e-u.costs.byPeriod[t])),borderColor:"rgba(54, 162, 235, 1)",backgroundColor:"rgba(54, 162, 235, 0.2)",fill:!0,tension:.4}]},j={labels:Object.keys(u.revenue.byType).map((e=>e.replace(/([A-Z])/g," $1").replace(/^./,(e=>e.toUpperCase())))),datasets:[{label:"Revenue Sources",data:Object.values(u.revenue.byType),backgroundColor:["rgba(39, 174, 96, 0.6)","rgba(54, 162, 235, 0.6)","rgba(255, 206, 86, 0.6)"],borderWidth:1}]},b={labels:Object.keys(u.costs.byType).map((e=>e.replace(/([A-Z])/g," $1").replace(/^./,(e=>e.toUpperCase())))),datasets:[{label:"Cost Categories",data:Object.values(u.costs.byType),backgroundColor:["rgba(255, 99, 132, 0.6)","rgba(153, 102, 255, 0.6)","rgba(255, 159, 64, 0.6)","rgba(75, 192, 192, 0.6)","rgba(201, 203, 207, 0.6)"],borderWidth:1}]},y={labels:u.cashFlow.map((e=>e.month)),datasets:[{label:"Income",data:u.cashFlow.map((e=>e.income)),backgroundColor:"rgba(39, 174, 96, 0.6)",borderColor:"rgba(39, 174, 96, 1)",borderWidth:1},{label:"Expenses",data:u.cashFlow.map((e=>e.expenses)),backgroundColor:"rgba(255, 99, 132, 0.6)",borderColor:"rgba(255, 99, 132, 1)",borderWidth:1},{label:"Net Flow",data:u.cashFlow.map((e=>e.netFlow)),backgroundColor:"rgba(54, 162, 235, 0.6)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1}]},w=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),N=(e,t)=>{const s=e.map((e=>e.map((e=>"string"===typeof e&&e.includes(",")?`"${e.replace(/"/g,'""')}"`:e)).join(","))).join("\n"),n=new Blob([s],{type:"text/csv;charset=utf-8;"}),a=URL.createObjectURL(n),i=document.createElement("a");i.setAttribute("href",a),i.setAttribute("download",`${t}.csv`),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i)},C=()=>(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsxs)(yn,{className:"mb-4",children:[(0,sn.jsx)(Nn,{md:4,children:(0,sn.jsx)(Yn,{className:"h-100 border-0 shadow-sm",children:(0,sn.jsxs)(Yn.Body,{className:"d-flex flex-column",children:[(0,sn.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,sn.jsxs)("div",{children:[(0,sn.jsx)("h6",{className:"text-muted mb-1",children:"Revenue"}),(0,sn.jsxs)("h3",{className:"mb-0",children:["$",(u.revenue.total/1e3).toFixed(1),"k"]})]}),(0,sn.jsxs)("div",{className:`badge bg-${u.revenue.total>u.revenue.previousPeriod?"success":"danger"} h-50`,children:[((u.revenue.total-u.revenue.previousPeriod)/u.revenue.previousPeriod*100).toFixed(1),"%"]})]}),(0,sn.jsxs)("small",{className:"text-muted mt-2",children:["vs $",(u.revenue.previousPeriod/1e3).toFixed(1),"k last period"]})]})})}),(0,sn.jsx)(Nn,{md:4,children:(0,sn.jsx)(Yn,{className:"h-100 border-0 shadow-sm",children:(0,sn.jsxs)(Yn.Body,{className:"d-flex flex-column",children:[(0,sn.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,sn.jsxs)("div",{children:[(0,sn.jsx)("h6",{className:"text-muted mb-1",children:"Costs"}),(0,sn.jsxs)("h3",{className:"mb-0",children:["$",(u.costs.total/1e3).toFixed(1),"k"]})]}),(0,sn.jsxs)("div",{className:`badge bg-${u.costs.total<u.costs.previousPeriod?"success":"danger"} h-50`,children:[((u.costs.total-u.costs.previousPeriod)/u.costs.previousPeriod*100).toFixed(1),"%"]})]}),(0,sn.jsxs)("small",{className:"text-muted mt-2",children:["vs $",(u.costs.previousPeriod/1e3).toFixed(1),"k last period"]})]})})}),(0,sn.jsx)(Nn,{md:4,children:(0,sn.jsx)(Yn,{className:"h-100 border-0 shadow-sm",children:(0,sn.jsxs)(Yn.Body,{className:"d-flex flex-column",children:[(0,sn.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,sn.jsxs)("div",{children:[(0,sn.jsx)("h6",{className:"text-muted mb-1",children:"Profit"}),(0,sn.jsxs)("h3",{className:"mb-0",children:["$",(m/1e3).toFixed(1),"k"]})]}),(0,sn.jsxs)("div",{className:`badge bg-${x>0?"success":"danger"} h-50`,children:[x.toFixed(1),"%"]})]}),(0,sn.jsxs)("small",{className:"text-muted mt-2",children:["vs $",(p/1e3).toFixed(1),"k last period"]})]})})})]}),(0,sn.jsx)(yn,{className:"mb-4",children:(0,sn.jsx)(Nn,{md:12,children:(0,sn.jsxs)(Yn,{className:"border-0 shadow-sm",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white border-0 pt-4 pb-0",children:(0,sn.jsx)("h5",{className:"mb-0",children:"Revenue vs Costs Trend"})}),(0,sn.jsx)(Yn.Body,{children:(0,sn.jsx)("div",{style:{height:"400px"},children:(0,sn.jsx)(ib,{data:g,options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,ticks:{callback:function(e){return"$"+e.toLocaleString()}}}},plugins:{legend:{position:"top"},tooltip:{callbacks:{label:function(e){let t=e.dataset.label||"";return t&&(t+=": "),null!==e.parsed.y&&(t+=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e.parsed.y)),t}}}}}})})})]})})}),(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Yn,{className:"border-0 shadow-sm mb-4",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white border-0 pt-4 pb-0",children:(0,sn.jsx)("h5",{className:"mb-0",children:"Revenue Breakdown"})}),(0,sn.jsx)(Yn.Body,{children:(0,sn.jsx)("div",{style:{height:"300px"},children:(0,sn.jsx)(ob,{data:j,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"},tooltip:{callbacks:{label:function(e){let t=e.label||"";const s=e.raw,n=(s/e.dataset.data.reduce(((e,t)=>e+t),0)*100).toFixed(1);return`${t}: ${w(s)} (${n}%)`}}}}}})})})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Yn,{className:"border-0 shadow-sm mb-4",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white border-0 pt-4 pb-0",children:(0,sn.jsx)("h5",{className:"mb-0",children:"Cost Breakdown"})}),(0,sn.jsx)(Yn.Body,{children:(0,sn.jsx)("div",{style:{height:"300px"},children:(0,sn.jsx)(ob,{data:b,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"},tooltip:{callbacks:{label:function(e){let t=e.label||"";const s=e.raw,n=(s/e.dataset.data.reduce(((e,t)=>e+t),0)*100).toFixed(1);return`${t}: ${w(s)} (${n}%)`}}}}}})})})]})})]})]}),S=()=>(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsxs)(yn,{className:"mb-4",children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Yn,{className:"h-100 border-0 shadow-sm",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white border-0 pt-3 pb-0",children:(0,sn.jsx)("h5",{className:"mb-0",children:"Revenue Summary"})}),(0,sn.jsxs)(Yn.Body,{className:"d-flex flex-column",children:[(0,sn.jsxs)("div",{className:"d-flex justify-content-between mb-3",children:[(0,sn.jsx)("h3",{className:"text-success",children:w(u.revenue.total)}),(0,sn.jsxs)("div",{className:`badge bg-${u.revenue.total>u.revenue.previousPeriod?"success":"danger"} h-50 align-self-center`,children:[((u.revenue.total-u.revenue.previousPeriod)/u.revenue.previousPeriod*100).toFixed(1),"%"]})]}),(0,sn.jsxs)("div",{className:"text-muted",children:["vs ",w(u.revenue.previousPeriod)," last period"]}),(0,sn.jsxs)("div",{className:"mt-3",children:[(0,sn.jsx)("h6",{children:"Revenue Distribution"}),Object.entries(u.revenue.byType).map(((e,t)=>{let[s,n]=e;const a=s.replace(/([A-Z])/g," $1").replace(/^./,(e=>e.toUpperCase())),i=(n/u.revenue.total*100).toFixed(1);return(0,sn.jsxs)("div",{className:"mb-2",children:[(0,sn.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,sn.jsx)("span",{children:a}),(0,sn.jsxs)("span",{children:[w(n)," (",i,"%)"]})]}),(0,sn.jsx)("div",{className:"progress",style:{height:"8px"},children:(0,sn.jsx)("div",{className:"progress-bar bg-success",role:"progressbar",style:{width:`${i}%`},"aria-valuenow":i,"aria-valuemin":"0","aria-valuemax":"100"})})]},t)}))]})]})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Yn,{className:"h-100 border-0 shadow-sm",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white border-0 pt-3 pb-0",children:(0,sn.jsx)("h5",{className:"mb-0",children:"Revenue Breakdown"})}),(0,sn.jsx)(Yn.Body,{children:(0,sn.jsx)("div",{style:{height:"300px"},children:(0,sn.jsx)(ob,{data:j,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"},tooltip:{callbacks:{label:function(e){let t=e.label||"";const s=e.raw,n=(s/e.dataset.data.reduce(((e,t)=>e+t),0)*100).toFixed(1);return`${t}: ${w(s)} (${n}%)`}}}}}})})})]})})]}),(0,sn.jsx)(yn,{children:(0,sn.jsx)(Nn,{md:12,children:(0,sn.jsxs)(Yn,{className:"border-0 shadow-sm mb-4",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white border-0 pt-3 pb-0",children:(0,sn.jsx)("h5",{className:"mb-0",children:"Revenue Trends"})}),(0,sn.jsx)(Yn.Body,{children:(0,sn.jsx)("div",{style:{height:"400px"},children:(0,sn.jsx)(ib,{data:{labels:f,datasets:[{label:"Revenue",data:u.revenue.byPeriod,borderColor:"rgba(39, 174, 96, 1)",backgroundColor:"rgba(39, 174, 96, 0.2)",fill:!0,tension:.4}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,ticks:{callback:function(e){return"$"+e.toLocaleString()}}}},plugins:{legend:{position:"top"},tooltip:{callbacks:{label:function(e){let t=e.dataset.label||"";return t&&(t+=": "),null!==e.parsed.y&&(t+=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e.parsed.y)),t}}}}}})})})]})})})]}),k=()=>(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsxs)(yn,{className:"mb-4",children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Yn,{className:"h-100 border-0 shadow-sm",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white border-0 pt-3 pb-0",children:(0,sn.jsx)("h5",{className:"mb-0",children:"Expense Summary"})}),(0,sn.jsxs)(Yn.Body,{className:"d-flex flex-column",children:[(0,sn.jsxs)("div",{className:"d-flex justify-content-between mb-3",children:[(0,sn.jsx)("h3",{className:"text-danger",children:w(u.costs.total)}),(0,sn.jsxs)("div",{className:`badge bg-${u.costs.total<u.costs.previousPeriod?"success":"danger"} h-50 align-self-center`,children:[((u.costs.total-u.costs.previousPeriod)/u.costs.previousPeriod*100).toFixed(1),"%"]})]}),(0,sn.jsxs)("div",{className:"text-muted",children:["vs ",w(u.costs.previousPeriod)," last period"]}),(0,sn.jsxs)("div",{className:"mt-3",children:[(0,sn.jsx)("h6",{children:"Expense Distribution"}),Object.entries(u.costs.byType).map(((e,t)=>{let[s,n]=e;const a=s.replace(/([A-Z])/g," $1").replace(/^./,(e=>e.toUpperCase())),i=(n/u.costs.total*100).toFixed(1);return(0,sn.jsxs)("div",{className:"mb-2",children:[(0,sn.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,sn.jsx)("span",{children:a}),(0,sn.jsxs)("span",{children:[w(n)," (",i,"%)"]})]}),(0,sn.jsx)("div",{className:"progress",style:{height:"8px"},children:(0,sn.jsx)("div",{className:"progress-bar bg-danger",role:"progressbar",style:{width:`${i}%`},"aria-valuenow":i,"aria-valuemin":"0","aria-valuemax":"100"})})]},t)}))]})]})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Yn,{className:"h-100 border-0 shadow-sm",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white border-0 pt-3 pb-0",children:(0,sn.jsx)("h5",{className:"mb-0",children:"Expense Breakdown"})}),(0,sn.jsx)(Yn.Body,{children:(0,sn.jsx)("div",{style:{height:"300px"},children:(0,sn.jsx)(ob,{data:b,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"},tooltip:{callbacks:{label:function(e){let t=e.label||"";const s=e.raw,n=(s/e.dataset.data.reduce(((e,t)=>e+t),0)*100).toFixed(1);return`${t}: ${w(s)} (${n}%)`}}}}}})})})]})})]}),(0,sn.jsx)(yn,{children:(0,sn.jsx)(Nn,{md:12,children:(0,sn.jsxs)(Yn,{className:"border-0 shadow-sm mb-4",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white border-0 pt-3 pb-0",children:(0,sn.jsx)("h5",{className:"mb-0",children:"Expense Trends"})}),(0,sn.jsx)(Yn.Body,{children:(0,sn.jsx)("div",{style:{height:"400px"},children:(0,sn.jsx)(ib,{data:{labels:f,datasets:[{label:"Expenses",data:u.costs.byPeriod,borderColor:"rgba(255, 99, 132, 1)",backgroundColor:"rgba(255, 99, 132, 0.2)",fill:!0,tension:.4}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,ticks:{callback:function(e){return"$"+e.toLocaleString()}}}},plugins:{legend:{position:"top"},tooltip:{callbacks:{label:function(e){let t=e.dataset.label||"";return t&&(t+=": "),null!==e.parsed.y&&(t+=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e.parsed.y)),t}}}}}})})})]})})})]}),D=()=>(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(yn,{className:"mb-4",children:(0,sn.jsx)(Nn,{md:12,children:(0,sn.jsxs)(Yn,{className:"border-0 shadow-sm",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white border-0 pt-3 pb-0",children:(0,sn.jsx)("h5",{className:"mb-0",children:"Cash Flow Summary"})}),(0,sn.jsx)(Yn.Body,{children:(0,sn.jsx)("div",{style:{height:"400px"},children:(0,sn.jsx)(rb,{data:y,options:{responsive:!0,maintainAspectRatio:!1,scales:{x:{stacked:!1},y:{stacked:!1,beginAtZero:!0,ticks:{callback:function(e){return"$"+e.toLocaleString()}}}},plugins:{legend:{position:"top"},tooltip:{callbacks:{label:function(e){let t=e.dataset.label||"";return t&&(t+=": "),null!==e.parsed.y&&(t+=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e.parsed.y)),t}}}}}})})})]})})}),(0,sn.jsx)(yn,{children:(0,sn.jsx)(Nn,{md:12,children:(0,sn.jsxs)(Yn,{className:"border-0 shadow-sm mb-4",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white border-0 pt-3 pb-0",children:(0,sn.jsx)("h5",{className:"mb-0",children:"Cash Flow Details"})}),(0,sn.jsx)(Yn.Body,{children:(0,sn.jsxs)(Uh,{responsive:!0,children:[(0,sn.jsx)("thead",{children:(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("th",{children:"Month"}),(0,sn.jsx)("th",{className:"text-end",children:"Income"}),(0,sn.jsx)("th",{className:"text-end",children:"Expenses"}),(0,sn.jsx)("th",{className:"text-end",children:"Net Flow"})]})}),(0,sn.jsx)("tbody",{children:u.cashFlow.map(((e,t)=>(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("td",{children:e.month}),(0,sn.jsx)("td",{className:"text-end text-success",children:w(e.income)}),(0,sn.jsx)("td",{className:"text-end text-danger",children:w(e.expenses)}),(0,sn.jsx)("td",{className:"text-end fw-bold",children:w(e.netFlow)})]},t)))}),(0,sn.jsx)("tfoot",{children:(0,sn.jsxs)("tr",{className:"fw-bold",children:[(0,sn.jsx)("td",{children:"Total"}),(0,sn.jsx)("td",{className:"text-end text-success",children:w(u.cashFlow.reduce(((e,t)=>e+t.income),0))}),(0,sn.jsx)("td",{className:"text-end text-danger",children:w(u.cashFlow.reduce(((e,t)=>e+t.expenses),0))}),(0,sn.jsx)("td",{className:"text-end",children:w(u.cashFlow.reduce(((e,t)=>e+t.netFlow),0))})]})})]})})]})})}),(0,sn.jsx)(yn,{children:(0,sn.jsx)(Nn,{md:12,children:(0,sn.jsxs)(Yn,{className:"border-0 shadow-sm mb-4",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white border-0 pt-3 pb-0",children:(0,sn.jsx)("h5",{className:"mb-0",children:"Profit Trend"})}),(0,sn.jsx)(Yn.Body,{children:(0,sn.jsx)("div",{style:{height:"400px"},children:(0,sn.jsx)(ib,{data:v,options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,ticks:{callback:function(e){return"$"+e.toLocaleString()}}}},plugins:{legend:{position:"top"},tooltip:{callbacks:{label:function(e){let t=e.dataset.label||"";return t&&(t+=": "),null!==e.parsed.y&&(t+=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e.parsed.y)),t}}}}}})})})]})})})]});return(0,sn.jsxs)(jn,{fluid:!0,className:"py-4",children:[(0,sn.jsx)(Ob,{title:"Financial Reports",backButton:!0}),(0,sn.jsxs)("div",{className:"d-flex justify-content-end mb-4",children:[(0,sn.jsxs)(Xi.Select,{style:{width:"auto"},value:e,onChange:e=>t(e.target.value),className:"me-2",children:[(0,sn.jsx)("option",{value:"monthly",children:"Monthly View"}),(0,sn.jsx)("option",{value:"weekly",children:"Weekly View"})]}),(0,sn.jsxs)(ir,{variant:"outline-success",className:"me-2",onClick:()=>r(!0),children:[(0,sn.jsx)(Gr,{className:"me-1"})," Export"]}),(0,sn.jsx)(Le,{to:"/financial",className:"btn btn-outline-primary",children:"Back to Dashboard"})]}),(0,sn.jsx)(yn,{className:"mb-4",children:(0,sn.jsx)(Nn,{md:12,children:(0,sn.jsx)(Yn,{className:"border-0 shadow-sm",children:(0,sn.jsx)(Yn.Body,{className:"p-3",children:(0,sn.jsxs)(ec,{className:"report-nav",variant:"pills",children:[(0,sn.jsx)(ec.Item,{children:(0,sn.jsxs)(ec.Link,{active:"overview"===s,onClick:()=>n("overview"),className:"d-flex align-items-center",children:[(0,sn.jsx)(Tr,{className:"me-2"})," Overview"]})}),(0,sn.jsx)(ec.Item,{children:(0,sn.jsxs)(ec.Link,{active:"revenue"===s,onClick:()=>n("revenue"),className:"d-flex align-items-center",children:[(0,sn.jsx)(Al,{className:"me-2"})," Revenue"]})}),(0,sn.jsx)(ec.Item,{children:(0,sn.jsxs)(ec.Link,{active:"expenses"===s,onClick:()=>n("expenses"),className:"d-flex align-items-center",children:[(0,sn.jsx)(Ur,{className:"me-2"})," Expenses"]})}),(0,sn.jsx)(ec.Item,{children:(0,sn.jsxs)(ec.Link,{active:"cashflow"===s,onClick:()=>n("cashflow"),className:"d-flex align-items-center",children:[(0,sn.jsx)(Er,{className:"me-2"})," Cash Flow"]})})]})})})})}),(()=>{switch(s){case"overview":default:return C();case"revenue":return S();case"expenses":return k();case"cashflow":return D()}})(),(0,sn.jsxs)(yy,{show:i,onHide:()=>r(!1),backdrop:"static",centered:!0,children:[(0,sn.jsx)(yy.Header,{closeButton:!0,children:(0,sn.jsx)(yy.Title,{children:"Export Report"})}),(0,sn.jsxs)(yy.Body,{children:[(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Export Format"}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)(Xi.Check,{inline:!0,type:"radio",label:(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(sl,{className:"me-1"})," CSV"]}),name:"exportFormat",id:"export-csv",checked:"csv"===l,onChange:()=>o("csv")}),(0,sn.jsx)(Xi.Check,{inline:!0,type:"radio",label:(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(nl,{className:"me-1"})," Excel"]}),name:"exportFormat",id:"export-excel",checked:"excel"===l,onChange:()=>o("excel")}),(0,sn.jsx)(Xi.Check,{inline:!0,type:"radio",label:(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(ll,{className:"me-1"})," PDF"]}),name:"exportFormat",id:"export-pdf",checked:"pdf"===l,onChange:()=>o("pdf")})]})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Report Content"}),(0,sn.jsxs)(Xi.Select,{value:s,onChange:e=>n(e.target.value),children:[(0,sn.jsx)("option",{value:"overview",children:"Overview Report"}),(0,sn.jsx)("option",{value:"revenue",children:"Revenue Report"}),(0,sn.jsx)("option",{value:"expenses",children:"Expense Report"}),(0,sn.jsx)("option",{value:"cashflow",children:"Cash Flow Report"})]})]}),(0,sn.jsxs)("div",{className:"py-2",children:[(0,sn.jsx)("h6",{children:"What will be included:"}),(0,sn.jsxs)("ul",{className:"mb-0",children:["overview"===s&&(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("li",{children:"KPI Summary (Revenue, Costs, Profit)"}),(0,sn.jsx)("li",{children:"Revenue & Cost Breakdown"}),(0,sn.jsx)("li",{children:"Revenue vs Costs Trend"})]}),"revenue"===s&&(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("li",{children:"Revenue Summary"}),(0,sn.jsx)("li",{children:"Revenue by Category"}),(0,sn.jsx)("li",{children:"Revenue Trends"})]}),"expenses"===s&&(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("li",{children:"Expense Summary"}),(0,sn.jsx)("li",{children:"Expense by Category"}),(0,sn.jsx)("li",{children:"Expense Trends"})]}),"cashflow"===s&&(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("li",{children:"Cash Flow Summary"}),(0,sn.jsx)("li",{children:"Monthly Cash Flow Details"}),(0,sn.jsx)("li",{children:"Profit Trend"})]})]})]})]}),(0,sn.jsxs)(yy.Footer,{children:[(0,sn.jsxs)(ir,{variant:"outline-secondary",onClick:()=>r(!1),children:[(0,sn.jsx)(co,{className:"me-1"})," Cancel"]}),(0,sn.jsx)(ir,{variant:"success",onClick:()=>{d(!0),setTimeout((()=>{let e=[],t="";switch(s){case"overview":e=[["Financial Overview Report"],["Generated on",(new Date).toLocaleDateString()],[""],["Key Performance Indicators"],["Metric","Current","Previous","Change (%)"],["Revenue",u.revenue.total,u.revenue.previousPeriod,((u.revenue.total-u.revenue.previousPeriod)/u.revenue.previousPeriod*100).toFixed(1)+"%"],["Costs",u.costs.total,u.costs.previousPeriod,((u.costs.total-u.costs.previousPeriod)/u.costs.previousPeriod*100).toFixed(1)+"%"],["Profit",m,p,x.toFixed(1)+"%"],[""],["Revenue Breakdown"],["Category","Amount","Percentage"]],Object.entries(u.revenue.byType).forEach((t=>{let[s,n]=t;const a=s.replace(/([A-Z])/g," $1").replace(/^./,(e=>e.toUpperCase())),i=(n/u.revenue.total*100).toFixed(1)+"%";e.push([a,n,i])})),e.push([""]),e.push(["Cost Breakdown"]),e.push(["Category","Amount","Percentage"]),Object.entries(u.costs.byType).forEach((t=>{let[s,n]=t;const a=s.replace(/([A-Z])/g," $1").replace(/^./,(e=>e.toUpperCase())),i=(n/u.costs.total*100).toFixed(1)+"%";e.push([a,n,i])})),t="financial_overview_report";break;case"revenue":e=[["Revenue Report"],["Generated on",(new Date).toLocaleDateString()],[""],["Revenue Trends"],["Period","Amount"]],f.forEach(((t,s)=>{e.push([t,u.revenue.byPeriod[s]])})),e.push([""]),e.push(["Revenue Breakdown"]),e.push(["Category","Amount","Percentage"]),Object.entries(u.revenue.byType).forEach((t=>{let[s,n]=t;const a=s.replace(/([A-Z])/g," $1").replace(/^./,(e=>e.toUpperCase())),i=(n/u.revenue.total*100).toFixed(1)+"%";e.push([a,n,i])})),t="revenue_report";break;case"expenses":e=[["Expense Report"],["Generated on",(new Date).toLocaleDateString()],[""],["Expense Trends"],["Period","Amount"]],f.forEach(((t,s)=>{e.push([t,u.costs.byPeriod[s]])})),e.push([""]),e.push(["Expense Breakdown"]),e.push(["Category","Amount","Percentage"]),Object.entries(u.costs.byType).forEach((t=>{let[s,n]=t;const a=s.replace(/([A-Z])/g," $1").replace(/^./,(e=>e.toUpperCase())),i=(n/u.costs.total*100).toFixed(1)+"%";e.push([a,n,i])})),t="expense_report";break;case"cashflow":e=[["Cash Flow Report"],["Generated on",(new Date).toLocaleDateString()],[""],["Monthly Cash Flow"],["Month","Income","Expenses","Net Flow"]],u.cashFlow.forEach((t=>{e.push([t.month,t.income,t.expenses,t.netFlow])})),t="cash_flow_report";break;default:e=[["No data available"]],t="financial_report"}switch(t=`${t}_${(new Date).toISOString().replace(/[:.]/g,"-").slice(0,19)}`,l){case"csv":default:N(e,t);break;case"excel":alert("Excel export would be implemented with a library like SheetJS/xlsx in a real application.");break;case"pdf":alert("PDF export would be implemented with a library like jsPDF in a real application.")}d(!1),r(!1)}),1e3)},disabled:c,children:c?(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Exporting..."]}):(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(Gr,{className:"me-1"})," Export Report"]})})]})]})]})};var rN=s(122);const lN="undefined"!==typeof window?a.useLayoutEffect:a.useEffect;function oN(e,t,s){const[n,i]=function(e,t,s){const[n,i]=(0,a.useState)((()=>t(e))),r=(0,a.useCallback)((()=>{const a=t(e);rN(n,a)||(i(a),s&&s())}),[n,e,s]);return lN(r),[n,r]}(e,t,s);return lN((function(){const t=e.getHandlerId();if(null!=t)return e.subscribeToStateChange(i,{handlerIds:[t]})}),[e,i]),n}function cN(e,t,s){return oN(t,e||(()=>({})),(()=>s.reconnect()))}function dN(e,t){const s=[...t||[]];return null==t&&"function"!==typeof e&&s.push(e),(0,a.useMemo)((()=>"function"===typeof e?e():e),s)}function uN(e){return(0,a.useMemo)((()=>e.hooks.dropTarget()),[e])}function hN(e,t,s,n){let a=s?s.call(n,e,t):void 0;if(void 0!==a)return!!a;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;const i=Object.keys(e),r=Object.keys(t);if(i.length!==r.length)return!1;const l=Object.prototype.hasOwnProperty.bind(t);for(let o=0;o<i.length;o++){const r=i[o];if(!l(r))return!1;const c=e[r],d=t[r];if(a=s?s.call(n,c,d,r):void 0,!1===a||void 0===a&&c!==d)return!1}return!0}function mN(e){return null!==e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function pN(e,t){for(var s=arguments.length,n=new Array(s>2?s-2:0),a=2;a<s;a++)n[a-2]=arguments[a];if("undefined"!==typeof process&&void 0===t)throw new Error("invariant requires an error message argument");if(!e){let e;if(void 0===t)e=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let s=0;e=new Error(t.replace(/%s/g,(function(){return n[s++]}))),e.name="Invariant Violation"}throw e.framesToPop=1,e}}function xN(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!(0,a.isValidElement)(t)){const n=t;return e(n,s),n}const n=t;!function(e){if("string"===typeof e.type)return;const t=e.type.displayName||e.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${t} into a <div>, or turn it into a drag source or a drop target itself.`)}(n);return function(e,t){const s=e.ref;return pN("string"!==typeof s,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),s?(0,a.cloneElement)(e,{ref:e=>{gN(s,e),gN(t,e)}}):(0,a.cloneElement)(e,{ref:t})}(n,s?t=>e(t,s):e)}}function fN(e){const t={};return Object.keys(e).forEach((s=>{const n=e[s];if(s.endsWith("Ref"))t[s]=e[s];else{const e=xN(n);t[s]=()=>e}})),t}function gN(e,t){"function"===typeof e?e(t):e.current=t}class vN{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const t=this.dropTarget;this.handlerId&&(t?e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions)):this.lastConnectedDropTarget=t)}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!hN(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=fN({dropTarget:(e,t)=>{this.clearDropTarget(),this.dropTargetOptions=t,mN(e)?this.dropTargetRef=e:this.dropTargetNode=e,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}const jN=(0,a.createContext)({dragDropManager:void 0});function bN(){const{dragDropManager:e}=(0,a.useContext)(jN);return pN(null!=e,"Expected drag drop context"),e}let yN=!1;class wN{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}canDrop(){if(!this.targetId)return!1;pN(!yN,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return yN=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{yN=!1}}isOver(e){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}class NN{canDrop(){const e=this.spec,t=this.monitor;return!e.canDrop||e.canDrop(t.getItem(),t)}hover(){const e=this.spec,t=this.monitor;e.hover&&e.hover(t.getItem(),t)}drop(){const e=this.spec,t=this.monitor;if(e.drop)return e.drop(t.getItem(),t)}constructor(e,t){this.spec=e,this.monitor=t}}function CN(e,t,s){const n=bN(),i=function(e,t){const s=(0,a.useMemo)((()=>new NN(e,t)),[t]);return(0,a.useEffect)((()=>{s.spec=e}),[e]),s}(e,t),r=function(e){const{accept:t}=e;return(0,a.useMemo)((()=>(pN(null!=e.accept,"accept must be defined"),Array.isArray(t)?t:[t])),[t])}(e);lN((function(){const[e,a]=function(e,t,s){const n=s.getRegistry(),a=n.addTarget(e,t);return[a,()=>n.removeTarget(a)]}(r,i,n);return t.receiveHandlerId(e),s.receiveHandlerId(e),a}),[n,t,i,s,r.map((e=>e.toString())).join("|")])}function SN(e,t){const s=dN(e,t),n=function(){const e=bN();return(0,a.useMemo)((()=>new wN(e)),[e])}(),i=function(e){const t=bN(),s=(0,a.useMemo)((()=>new vN(t.getBackend())),[t]);return lN((()=>(s.dropTargetOptions=e||null,s.reconnect(),()=>s.disconnectDropTarget())),[e]),s}(s.options);return CN(s,n,i),[cN(s.collect,n,i),uN(i)]}function kN(e){return(0,a.useMemo)((()=>e.hooks.dragSource()),[e])}function DN(e){return(0,a.useMemo)((()=>e.hooks.dragPreview()),[e])}class _N{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,t=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return t&&this.disconnectDragSource(),this.handlerId?e?(t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),t):(this.lastConnectedDragSource=e,t):t}reconnectDragPreview(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.dragPreview,s=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();s&&this.disconnectDragPreview(),this.handlerId&&(t?s&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=t,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,t,this.dragPreviewOptions)):this.lastConnectedDragPreview=t)}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!hN(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!hN(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=fN({dragSource:(e,t)=>{this.clearDragSource(),this.dragSourceOptions=t||null,mN(e)?this.dragSourceRef=e:this.dragSourceNode=e,this.reconnectDragSource()},dragPreview:(e,t)=>{this.clearDragPreview(),this.dragPreviewOptions=t||null,mN(e)?this.dragPreviewRef=e:this.dragPreviewNode=e,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}let AN=!1,TN=!1;class EN{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){pN(!AN,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return AN=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{AN=!1}}isDragging(){if(!this.sourceId)return!1;pN(!TN,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return TN=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{TN=!1}}subscribeToStateChange(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,t){return this.internalMonitor.isOverTarget(e,t)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}class LN{beginDrag(){const e=this.spec,t=this.monitor;let s=null;return s="object"===typeof e.item?e.item:"function"===typeof e.item?e.item(t):{},null!==s&&void 0!==s?s:null}canDrag(){const e=this.spec,t=this.monitor;return"boolean"===typeof e.canDrag?e.canDrag:"function"!==typeof e.canDrag||e.canDrag(t)}isDragging(e,t){const s=this.spec,n=this.monitor,{isDragging:a}=s;return a?a(n):t===e.getSourceId()}endDrag(){const e=this.spec,t=this.monitor,s=this.connector,{end:n}=e;n&&n(t.getItem(),t),s.reconnect()}constructor(e,t,s){this.spec=e,this.monitor=t,this.connector=s}}function MN(e,t,s){const n=bN(),i=function(e,t,s){const n=(0,a.useMemo)((()=>new LN(e,t,s)),[t,s]);return(0,a.useEffect)((()=>{n.spec=e}),[e]),n}(e,t,s),r=function(e){return(0,a.useMemo)((()=>{const t=e.type;return pN(null!=t,"spec.type must be defined"),t}),[e])}(e);lN((function(){if(null!=r){const[e,a]=function(e,t,s){const n=s.getRegistry(),a=n.addSource(e,t);return[a,()=>n.removeSource(a)]}(r,i,n);return t.receiveHandlerId(e),s.receiveHandlerId(e),a}}),[n,t,s,i,r])}function IN(e,t){const s=dN(e,t);pN(!s.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const n=function(){const e=bN();return(0,a.useMemo)((()=>new EN(e)),[e])}(),i=function(e,t){const s=bN(),n=(0,a.useMemo)((()=>new _N(s.getBackend())),[s]);return lN((()=>(n.dragSourceOptions=e||null,n.reconnect(),()=>n.disconnectDragSource())),[n,e]),lN((()=>(n.dragPreviewOptions=t||null,n.reconnect(),()=>n.disconnectDragPreview())),[n,t]),n}(s.options,s.previewOptions);return MN(s,n,i),[cN(s.collect,n,i),kN(i),DN(i)]}function PN(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var ON="function"===typeof Symbol&&Symbol.observable||"@@observable",RN=function(){return Math.random().toString(36).substring(7).split("").join(".")},FN={INIT:"@@redux/INIT"+RN(),REPLACE:"@@redux/REPLACE"+RN(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+RN()}};function zN(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function BN(e,t,s){var n;if("function"===typeof t&&"function"===typeof s||"function"===typeof s&&"function"===typeof arguments[3])throw new Error(PN(0));if("function"===typeof t&&"undefined"===typeof s&&(s=t,t=void 0),"undefined"!==typeof s){if("function"!==typeof s)throw new Error(PN(1));return s(BN)(e,t)}if("function"!==typeof e)throw new Error(PN(2));var a=e,i=t,r=[],l=r,o=!1;function c(){l===r&&(l=r.slice())}function d(){if(o)throw new Error(PN(3));return i}function u(e){if("function"!==typeof e)throw new Error(PN(4));if(o)throw new Error(PN(5));var t=!0;return c(),l.push(e),function(){if(t){if(o)throw new Error(PN(6));t=!1,c();var s=l.indexOf(e);l.splice(s,1),r=null}}}function h(e){if(!zN(e))throw new Error(PN(7));if("undefined"===typeof e.type)throw new Error(PN(8));if(o)throw new Error(PN(9));try{o=!0,i=a(i,e)}finally{o=!1}for(var t=r=l,s=0;s<t.length;s++){(0,t[s])()}return e}return h({type:FN.INIT}),(n={dispatch:h,subscribe:u,getState:d,replaceReducer:function(e){if("function"!==typeof e)throw new Error(PN(10));a=e,h({type:FN.REPLACE})}})[ON]=function(){var e,t=u;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(PN(11));function s(){e.next&&e.next(d())}return s(),{unsubscribe:t(s)}}})[ON]=function(){return this},e},n}function $N(e){return"object"===typeof e}const HN="dnd-core/INIT_COORDS",VN="dnd-core/BEGIN_DRAG",UN="dnd-core/PUBLISH_DRAG_SOURCE",WN="dnd-core/HOVER",GN="dnd-core/DROP",qN="dnd-core/END_DRAG";function YN(e,t){return{type:HN,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}const KN={type:HN,payload:{clientOffset:null,sourceClientOffset:null}};function JN(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{publishSource:!0};const{publishSource:n=!0,clientOffset:a,getSourceClientOffset:i}=s,r=e.getMonitor(),l=e.getRegistry();e.dispatch(YN(a)),function(e,t,s){pN(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach((function(e){pN(s.getSource(e),"Expected sourceIds to be registered.")}))}(t,r,l);const o=function(e,t){let s=null;for(let n=e.length-1;n>=0;n--)if(t.canDragSource(e[n])){s=e[n];break}return s}(t,r);if(null==o)return void e.dispatch(KN);let c=null;if(a){if(!i)throw new Error("getSourceClientOffset must be defined");!function(e){pN("function"===typeof e,"When clientOffset is provided, getSourceClientOffset must be a function.")}(i),c=i(o)}e.dispatch(YN(a,c));const d=l.getSource(o).beginDrag(r,o);if(null==d)return;!function(e){pN($N(e),"Item must be an object.")}(d),l.pinSource(o);const u=l.getSourceType(o);return{type:VN,payload:{itemType:u,item:d,sourceId:o,clientOffset:a||null,sourceClientOffset:c||null,isSourcePublic:!!n}}}}function XN(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function ZN(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{},n=Object.keys(s);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(s).filter((function(e){return Object.getOwnPropertyDescriptor(s,e).enumerable})))),n.forEach((function(t){XN(e,t,s[t])}))}return e}function QN(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const s=e.getMonitor(),n=e.getRegistry();!function(e){pN(e.isDragging(),"Cannot call drop while not dragging."),pN(!e.didDrop(),"Cannot call drop twice during one drag operation.")}(s);const a=function(e){const t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}(s);a.forEach(((a,i)=>{const r=function(e,t,s,n){const a=s.getTarget(e);let i=a?a.drop(n,e):void 0;(function(e){pN("undefined"===typeof e||$N(e),"Drop result must either be an object or undefined.")})(i),"undefined"===typeof i&&(i=0===t?{}:n.getDropResult());return i}(a,i,n,s),l={type:GN,payload:{dropResult:ZN({},t,r)}};e.dispatch(l)}))}}function eC(e){return function(){const t=e.getMonitor(),s=e.getRegistry();!function(e){pN(e.isDragging(),"Cannot call endDrag while not dragging.")}(t);const n=t.getSourceId();if(null!=n){s.getSource(n,!0).endDrag(t,n),s.unpinSource()}return{type:qN}}}function tC(e,t){return null===t?null===e:Array.isArray(e)?e.some((e=>e===t)):e===t}function sC(e){return function(t){let{clientOffset:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e){pN(Array.isArray(e),"Expected targetIds to be an array.")}(t);const n=t.slice(0),a=e.getMonitor(),i=e.getRegistry();return function(e,t,s){for(let n=e.length-1;n>=0;n--){const a=e[n];tC(t.getTargetType(a),s)||e.splice(n,1)}}(n,i,a.getItemType()),function(e,t,s){pN(t.isDragging(),"Cannot call hover while not dragging."),pN(!t.didDrop(),"Cannot call hover after drop.");for(let n=0;n<e.length;n++){const t=e[n];pN(e.lastIndexOf(t)===n,"Expected targetIds to be unique in the passed array.");pN(s.getTarget(t),"Expected targetIds to be registered.")}}(n,a,i),function(e,t,s){e.forEach((function(e){s.getTarget(e).hover(t,e)}))}(n,a,i),{type:WN,payload:{targetIds:n,clientOffset:s||null}}}}function nC(e){return function(){if(e.getMonitor().isDragging())return{type:UN}}}class aC{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:t}=this.store;const s=function(e){return{beginDrag:JN(e),publishDragSource:nC(e),hover:sC(e),drop:QN(e),endDrag:eC(e)}}(this);return Object.keys(s).reduce(((n,a)=>{const i=s[a];var r;return n[a]=(r=i,function(){for(var s=arguments.length,n=new Array(s),a=0;a<s;a++)n[a]=arguments[a];const i=r.apply(e,n);"undefined"!==typeof i&&t(i)}),n}),{})}dispatch(e){this.store.dispatch(e)}constructor(e,t){this.isSetUp=!1,this.handleRefCountChange=()=>{const e=this.store.getState().refCount>0;this.backend&&(e&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!e&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=t,e.subscribe(this.handleRefCountChange)}}function iC(e,t){return{x:e.x-t.x,y:e.y-t.y}}const rC=[],lC=[];rC.__IS_NONE__=!0,lC.__IS_ALL__=!0;class oC{subscribeToStateChange(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{handlerIds:s}=t;pN("function"===typeof e,"listener must be a function."),pN("undefined"===typeof s||Array.isArray(s),"handlerIds, when specified, must be an array of strings.");let n=this.store.getState().stateId;return this.store.subscribe((()=>{const t=this.store.getState(),a=t.stateId;try{const i=a===n||a===n+1&&!function(e,t){return e!==rC&&(e===lC||"undefined"===typeof t||(s=e,t.filter((e=>s.indexOf(e)>-1))).length>0);var s}(t.dirtyHandlerIds,s);i||e()}finally{n=a}}))}subscribeToOffsetChange(e){pN("function"===typeof e,"listener must be a function.");let t=this.store.getState().dragOffset;return this.store.subscribe((()=>{const s=this.store.getState().dragOffset;s!==t&&(t=s,e())}))}canDragSource(e){if(!e)return!1;const t=this.registry.getSource(e);return pN(t,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()&&t.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const t=this.registry.getTarget(e);if(pN(t,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;return tC(this.registry.getTargetType(e),this.getItemType())&&t.canDrop(this,e)}isDragging(){return Boolean(this.getItemType())}isDraggingSource(e){if(!e)return!1;const t=this.registry.getSource(e,!0);if(pN(t,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;return this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e)}isOverTarget(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shallow:!1};if(!e)return!1;const{shallow:s}=t;if(!this.isDragging())return!1;const n=this.registry.getTargetType(e),a=this.getItemType();if(a&&!tC(n,a))return!1;const i=this.getTargetIds();if(!i.length)return!1;const r=i.indexOf(e);return s?r===i.length-1:r>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return Boolean(this.store.getState().dragOperation.isSourcePublic)}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return function(e){const{clientOffset:t,initialClientOffset:s,initialSourceClientOffset:n}=e;return t&&s&&n?iC((i=n,{x:(a=t).x+i.x,y:a.y+i.y}),s):null;var a,i}(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return function(e){const{clientOffset:t,initialClientOffset:s}=e;return t&&s?iC(t,s):null}(this.store.getState().dragOffset)}constructor(e,t){this.store=e,this.registry=t}}const cC="undefined"!==typeof global?global:self,dC=cC.MutationObserver||cC.WebKitMutationObserver;function uC(e){return function(){const t=setTimeout(n,0),s=setInterval(n,50);function n(){clearTimeout(t),clearInterval(s),e()}}}const hC="function"===typeof dC?function(e){let t=1;const s=new dC(e),n=document.createTextNode("");return s.observe(n,{characterData:!0}),function(){t=-t,n.data=t}}:uC;class mC{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,t){this.onError=e,this.release=t,this.task=null}}const pC=new class{enqueueTask(e){const{queue:t,requestFlush:s}=this;t.length||(s(),this.flushing=!0),t[t.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const t=this.index;if(this.index++,e[t].call(),this.index>this.capacity){for(let t=0,s=e.length-this.index;t<s;t++)e[t]=e[t+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=hC(this.flush),this.requestErrorThrow=uC((()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()}))}},xC=new class{create(e){const t=this.freeTasks,s=t.length?t.pop():new mC(this.onError,(e=>t[t.length]=e));return s.task=e,s}constructor(e){this.onError=e,this.freeTasks=[]}}(pC.registerPendingError);const fC="dnd-core/ADD_SOURCE",gC="dnd-core/ADD_TARGET",vC="dnd-core/REMOVE_SOURCE",jC="dnd-core/REMOVE_TARGET";function bC(e,t){t&&Array.isArray(e)?e.forEach((e=>bC(e,!1))):pN("string"===typeof e||"symbol"===typeof e,t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var yC;!function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"}(yC||(yC={}));let wC=0;function NC(e){const t=(wC++).toString();switch(e){case yC.SOURCE:return`S${t}`;case yC.TARGET:return`T${t}`;default:throw new Error(`Unknown Handler Role: ${e}`)}}function CC(e){switch(e[0]){case"S":return yC.SOURCE;case"T":return yC.TARGET;default:throw new Error(`Cannot parse handler ID: ${e}`)}}function SC(e,t){const s=e.entries();let n=!1;do{const{done:e,value:[,a]}=s.next();if(a===t)return!0;n=!!e}while(!n);return!1}class kC{addSource(e,t){bC(e),function(e){pN("function"===typeof e.canDrag,"Expected canDrag to be a function."),pN("function"===typeof e.beginDrag,"Expected beginDrag to be a function."),pN("function"===typeof e.endDrag,"Expected endDrag to be a function.")}(t);const s=this.addHandler(yC.SOURCE,e,t);return this.store.dispatch(function(e){return{type:fC,payload:{sourceId:e}}}(s)),s}addTarget(e,t){bC(e,!0),function(e){pN("function"===typeof e.canDrop,"Expected canDrop to be a function."),pN("function"===typeof e.hover,"Expected hover to be a function."),pN("function"===typeof e.drop,"Expected beginDrag to be a function.")}(t);const s=this.addHandler(yC.TARGET,e,t);return this.store.dispatch(function(e){return{type:gC,payload:{targetId:e}}}(s)),s}containsHandler(e){return SC(this.dragSources,e)||SC(this.dropTargets,e)}getSource(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];pN(this.isSourceId(e),"Expected a valid source ID.");return t&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return pN(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return pN(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return pN(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return CC(e)===yC.SOURCE}isTargetId(e){return CC(e)===yC.TARGET}removeSource(e){var t;pN(this.getSource(e),"Expected an existing source."),this.store.dispatch(function(e){return{type:vC,payload:{sourceId:e}}}(e)),t=()=>{this.dragSources.delete(e),this.types.delete(e)},pC.enqueueTask(xC.create(t))}removeTarget(e){pN(this.getTarget(e),"Expected an existing target."),this.store.dispatch(function(e){return{type:jC,payload:{targetId:e}}}(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const t=this.getSource(e);pN(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}unpinSource(){pN(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,t,s){const n=NC(e);return this.types.set(n,t),e===yC.SOURCE?this.dragSources.set(n,s):e===yC.TARGET&&this.dropTargets.set(n,s),n}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const DC=(e,t)=>e===t;function _C(){let e=arguments.length>1?arguments[1]:void 0;switch(e.type){case WN:break;case fC:case gC:case jC:case vC:return rC;default:return lC}const{targetIds:t=[],prevTargetIds:s=[]}=e.payload,n=function(e,t){const s=new Map,n=e=>{s.set(e,s.has(e)?s.get(e)+1:1)};e.forEach(n),t.forEach(n);const a=[];return s.forEach(((e,t)=>{1===e&&a.push(t)})),a}(t,s),a=n.length>0||!function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:DC;if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!s(e[n],t[n]))return!1;return!0}(t,s);if(!a)return rC;const i=s[s.length-1],r=t[t.length-1];return i!==r&&(i&&n.push(i),r&&n.push(r)),n}function AC(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const TC={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function EC(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:TC,t=arguments.length>1?arguments[1]:void 0;const{payload:s}=t;switch(t.type){case HN:case VN:return{initialSourceClientOffset:s.sourceClientOffset,initialClientOffset:s.clientOffset,clientOffset:s.clientOffset};case WN:return n=e.clientOffset,a=s.clientOffset,!n&&!a||n&&a&&n.x===a.x&&n.y===a.y?e:function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{},n=Object.keys(s);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(s).filter((function(e){return Object.getOwnPropertyDescriptor(s,e).enumerable})))),n.forEach((function(t){AC(e,t,s[t])}))}return e}({},e,{clientOffset:s.clientOffset});case qN:case GN:return TC;default:return e}var n,a}function LC(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function MC(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{},n=Object.keys(s);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(s).filter((function(e){return Object.getOwnPropertyDescriptor(s,e).enumerable})))),n.forEach((function(t){LC(e,t,s[t])}))}return e}const IC={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function PC(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:IC,t=arguments.length>1?arguments[1]:void 0;const{payload:s}=t;switch(t.type){case VN:return MC({},e,{itemType:s.itemType,item:s.item,sourceId:s.sourceId,isSourcePublic:s.isSourcePublic,dropResult:null,didDrop:!1});case UN:return MC({},e,{isSourcePublic:!0});case WN:return MC({},e,{targetIds:s.targetIds});case jC:return-1===e.targetIds.indexOf(s.targetId)?e:MC({},e,{targetIds:(n=e.targetIds,a=s.targetId,n.filter((e=>e!==a)))});case GN:return MC({},e,{dropResult:s.dropResult,didDrop:!0,targetIds:[]});case qN:return MC({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}var n,a}function OC(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch((arguments.length>1?arguments[1]:void 0).type){case fC:case gC:return e+1;case vC:case jC:return e-1;default:return e}}function RC(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)+1}function FC(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function zC(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{},n=Object.keys(s);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(s).filter((function(e){return Object.getOwnPropertyDescriptor(s,e).enumerable})))),n.forEach((function(t){FC(e,t,s[t])}))}return e}function BC(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{dirtyHandlerIds:_C(e.dirtyHandlerIds,{type:t.type,payload:zC({},t.payload,{prevTargetIds:(s=e,n="dragOperation.targetIds",a=[],n.split(".").reduce(((e,t)=>e&&e[t]?e[t]:a||null),s))})}),dragOffset:EC(e.dragOffset,t),refCount:OC(e.refCount,t),dragOperation:PC(e.dragOperation,t),stateId:RC(e.stateId)};var s,n,a}function $C(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=function(e){const t="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__;return BN(BC,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}(arguments.length>3&&void 0!==arguments[3]&&arguments[3]),a=new oC(n,new kC(n)),i=new aC(n,a),r=e(i,t,s);return i.receiveBackend(r),i}function HC(e,t){if(null==e)return{};var s,n,a=function(e,t){if(null==e)return{};var s,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}let VC=0;const UC=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var WC=(0,a.memo)((function(e){var{children:t}=e,s=HC(e,["children"]);const[n,i]=function(e){if("manager"in e){return[{dragDropManager:e.manager},!1]}const t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:GC(),s=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;const a=t;a[UC]||(a[UC]={dragDropManager:$C(e,t,s,n)});return a[UC]}(e.backend,e.context,e.options,e.debugMode),s=!e.context;return[t,s]}(s);return(0,a.useEffect)((()=>{if(i){const e=GC();return++VC,()=>{0===--VC&&(e[UC]=null)}}}),[]),(0,sn.jsx)(jN.Provider,{value:n,children:t})}));function GC(){return"undefined"!==typeof global?global:window}function qC(e){let t=null;return()=>(null==t&&(t=e()),t)}class YC{enter(e){const t=this.entered.length;return this.entered=function(e,t){const s=new Set,n=e=>s.add(e);e.forEach(n),t.forEach(n);const a=[];return s.forEach((e=>a.push(e))),a}(this.entered.filter((t=>this.isNodeInDocument(t)&&(!t.contains||t.contains(e)))),[e]),0===t&&this.entered.length>0}leave(e){const t=this.entered.length;var s,n;return this.entered=(s=this.entered.filter(this.isNodeInDocument),n=e,s.filter((e=>e!==n))),t>0&&0===this.entered.length}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class KC{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach((e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get:()=>(console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null)})}))}loadDataTransfer(e){if(e){const t={};Object.keys(this.config.exposeProperties).forEach((s=>{const n=this.config.exposeProperties[s];null!=n&&(t[s]={value:n(e,this.config.matchesTypes),configurable:!0,enumerable:!0})})),Object.defineProperties(this.item,t)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,t){return t===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const JC="__NATIVE_FILE__",XC="__NATIVE_URL__",ZC="__NATIVE_TEXT__",QC="__NATIVE_HTML__";function eS(e,t,s){const n=t.reduce(((t,s)=>t||e.getData(s)),"");return null!=n?n:s}const tS={[JC]:{exposeProperties:{files:e=>Array.prototype.slice.call(e.files),items:e=>e.items,dataTransfer:e=>e},matchesTypes:["Files"]},[QC]:{exposeProperties:{html:(e,t)=>eS(e,t,""),dataTransfer:e=>e},matchesTypes:["Html","text/html"]},[XC]:{exposeProperties:{urls:(e,t)=>eS(e,t,"").split("\n"),dataTransfer:e=>e},matchesTypes:["Url","text/uri-list"]},[ZC]:{exposeProperties:{text:(e,t)=>eS(e,t,""),dataTransfer:e=>e},matchesTypes:["Text","text/plain"]}};function sS(e){if(!e)return null;const t=Array.prototype.slice.call(e.types||[]);return Object.keys(tS).filter((e=>{const s=tS[e];return!!(null===s||void 0===s?void 0:s.matchesTypes)&&s.matchesTypes.some((e=>t.indexOf(e)>-1))}))[0]||null}const nS=qC((()=>/firefox/i.test(navigator.userAgent))),aS=qC((()=>Boolean(window.safari)));class iS{interpolate(e){const{xs:t,ys:s,c1s:n,c2s:a,c3s:i}=this;let r=t.length-1;if(e===t[r])return s[r];let l,o=0,c=i.length-1;for(;o<=c;){l=Math.floor(.5*(o+c));const n=t[l];if(n<e)o=l+1;else{if(!(n>e))return s[l];c=l-1}}r=Math.max(0,c);const d=e-t[r],u=d*d;return s[r]+n[r]*d+a[r]*u+i[r]*d*u}constructor(e,t){const{length:s}=e,n=[];for(let m=0;m<s;m++)n.push(m);n.sort(((t,s)=>e[t]<e[s]?-1:1));const a=[],i=[],r=[];let l,o;for(let m=0;m<s-1;m++)l=e[m+1]-e[m],o=t[m+1]-t[m],i.push(l),a.push(o),r.push(o/l);const c=[r[0]];for(let m=0;m<i.length-1;m++){const e=r[m],t=r[m+1];if(e*t<=0)c.push(0);else{l=i[m];const s=i[m+1],n=l+s;c.push(3*n/((n+s)/e+(n+l)/t))}}c.push(r[r.length-1]);const d=[],u=[];let h;for(let m=0;m<c.length-1;m++){h=r[m];const e=c[m],t=1/i[m],s=e+c[m+1]-h-h;d.push((h-e-s)*t),u.push(s*t*t)}this.xs=e,this.ys=t,this.c1s=c,this.c2s=d,this.c3s=u}}function rS(e){const t=1===e.nodeType?e:e.parentElement;if(!t)return null;const{top:s,left:n}=t.getBoundingClientRect();return{x:n,y:s}}function lS(e){return{x:e.clientX,y:e.clientY}}function oS(e,t,s,n,a){const i=function(e){var t;return"IMG"===e.nodeName&&(nS()||!(null===(t=document.documentElement)||void 0===t?void 0:t.contains(e)))}(t),r=rS(i?e:t),l={x:s.x-r.x,y:s.y-r.y},{offsetWidth:o,offsetHeight:c}=e,{anchorX:d,anchorY:u}=n,{dragPreviewWidth:h,dragPreviewHeight:m}=function(e,t,s,n){let a=e?t.width:s,i=e?t.height:n;return aS()&&e&&(i/=window.devicePixelRatio,a/=window.devicePixelRatio),{dragPreviewWidth:a,dragPreviewHeight:i}}(i,t,o,c),{offsetX:p,offsetY:x}=a,f=0===x||x;return{x:0===p||p?p:new iS([0,.5,1],[l.x,l.x/o*h,l.x+h-o]).interpolate(d),y:f?x:(()=>{let e=new iS([0,.5,1],[l.y,l.y/c*m,l.y+m-c]).interpolate(u);return aS()&&i&&(e+=(window.devicePixelRatio-1)*m),e})()}}class cS{get window(){return this.globalContext?this.globalContext:"undefined"!==typeof window?window:void 0}get document(){var e;return(null===(e=this.globalContext)||void 0===e?void 0:e.document)?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return(null===(e=this.optionsArgs)||void 0===e?void 0:e.rootElement)||this.window}constructor(e,t){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=t}}function dS(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function uS(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{},n=Object.keys(s);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(s).filter((function(e){return Object.getOwnPropertyDescriptor(s,e).enumerable})))),n.forEach((function(t){dS(e,t,s[t])}))}return e}class hS{profile(){var e,t;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:(null===(e=this.dragStartSourceIds)||void 0===e?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:(null===(t=this.dragOverTargetIds)||void 0===t?void 0:t.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(void 0!==e){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;var t;void 0!==e&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&(null===(t=this.window)||void 0===t||t.cancelAnimationFrame(this.asyncEndDragFrameId)))}connectDragPreview(e,t,s){return this.sourcePreviewNodeOptions.set(e,s),this.sourcePreviewNodes.set(e,t),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,t,s){this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,s);const n=t=>this.handleDragStart(t,e),a=e=>this.handleSelectStart(e);return t.setAttribute("draggable","true"),t.addEventListener("dragstart",n),t.addEventListener("selectstart",a),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",n),t.removeEventListener("selectstart",a),t.setAttribute("draggable","false")}}connectDropTarget(e,t){const s=t=>this.handleDragEnter(t,e),n=t=>this.handleDragOver(t,e),a=t=>this.handleDrop(t,e);return t.addEventListener("dragenter",s),t.addEventListener("dragover",n),t.addEventListener("drop",a),()=>{t.removeEventListener("dragenter",s),t.removeEventListener("dragover",n),t.removeEventListener("drop",a)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return uS({dropEffect:this.altKeyPressed?"copy":"move"},t||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId();return uS({anchorX:.5,anchorY:.5,captureDraggingState:!1},this.sourcePreviewNodeOptions.get(e)||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(t).some((s=>t[s]===e))}beginDragNativeItem(e,t){this.clearCurrentDragSourceNode(),this.currentNativeSource=function(e,t){const s=tS[e];if(!s)throw new Error(`native type ${e} has no configuration`);const n=new KC(s);return n.loadDataTransfer(t),n}(e,t),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;this.mouseMoveTimeoutTimer=setTimeout((()=>{var e;return null===(e=this.rootElement)||void 0===e?void 0:e.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}),1e3)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){var e;if(this.currentDragSourceNode=null,this.rootElement)null===(e=this.window)||void 0===e||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0);return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,t){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t))}handleDragEnter(e,t){this.dragEnterTargetIds.unshift(t)}handleDragOver(e,t){null===this.dragOverTargetIds&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)}handleDrop(e,t){this.dropTargetIds.unshift(t)}constructor(e,t,s){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=e=>{const t=this.sourceNodes.get(e);return t&&rS(t)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=e=>Boolean(e&&this.document&&this.document.body&&this.document.body.contains(e)),this.endDragIfSourceWasRemovedFromDOM=()=>{const e=this.currentDragSourceNode;null==e||this.isNodeInDocument(e)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=e=>{null===this.hoverRafId&&"undefined"!==typeof requestAnimationFrame&&(this.hoverRafId=requestAnimationFrame((()=>{this.monitor.isDragging()&&this.actions.hover(e||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null})))},this.cancelHover=()=>{null!==this.hoverRafId&&"undefined"!==typeof cancelAnimationFrame&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=e=>{if(e.defaultPrevented)return;const{dragStartSourceIds:t}=this;this.dragStartSourceIds=null;const s=lS(e);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(t||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:s});const{dataTransfer:n}=e,a=sS(n);if(this.monitor.isDragging()){if(n&&"function"===typeof n.setDragImage){const e=this.monitor.getSourceId(),t=this.sourceNodes.get(e),a=this.sourcePreviewNodes.get(e)||t;if(a){const{anchorX:e,anchorY:i,offsetX:r,offsetY:l}=this.getCurrentSourcePreviewNodeOptions(),o=oS(t,a,s,{anchorX:e,anchorY:i},{offsetX:r,offsetY:l});n.setDragImage(a,o.x,o.y)}}try{null===n||void 0===n||n.setData("application/json",{})}catch(i){}this.setCurrentDragSourceNode(e.target);const{captureDraggingState:t}=this.getCurrentSourcePreviewNodeOptions();t?this.actions.publishDragSource():setTimeout((()=>this.actions.publishDragSource()),0)}else if(a)this.beginDragNativeItem(a);else{if(n&&!n.types&&(e.target&&!e.target.hasAttribute||!e.target.hasAttribute("draggable")))return;e.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=e=>{var t;(this.dragEnterTargetIds=[],this.isDraggingNativeItem())&&(null===(t=this.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer));if(!this.enterLeaveCounter.enter(e.target)||this.monitor.isDragging())return;const{dataTransfer:s}=e,n=sS(s);n&&this.beginDragNativeItem(n,s)},this.handleTopDragEnter=e=>{const{dragEnterTargetIds:t}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=e.altKey,t.length>0&&this.actions.hover(t,{clientOffset:lS(e)});t.some((e=>this.monitor.canDropOnTarget(e)))&&(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=e=>{var t;(this.dragOverTargetIds=[],this.isDraggingNativeItem())&&(null===(t=this.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer))},this.handleTopDragOver=e=>{const{dragOverTargetIds:t}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging())return e.preventDefault(),void(e.dataTransfer&&(e.dataTransfer.dropEffect="none"));this.altKeyPressed=e.altKey,this.lastClientOffset=lS(e),this.scheduleHover(t);(t||[]).some((e=>this.monitor.canDropOnTarget(e)))?(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?e.preventDefault():(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=e=>{this.isDraggingNativeItem()&&e.preventDefault();this.enterLeaveCounter.leave(e.target)&&(this.isDraggingNativeItem()&&setTimeout((()=>this.endDragNativeItem()),0),this.cancelHover())},this.handleTopDropCapture=e=>{var t;(this.dropTargetIds=[],this.isDraggingNativeItem())?(e.preventDefault(),null===(t=this.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer)):sS(e.dataTransfer)&&e.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=e=>{const{dropTargetIds:t}=this;this.dropTargetIds=[],this.actions.hover(t,{clientOffset:lS(e)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=e=>{const t=e.target;"function"===typeof t.dragDrop&&("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop()))},this.options=new cS(t,s),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new YC(this.isNodeInDocument)}}const mS=function(e,t,s){return new hS(e,t,s)},pS=e=>{var t;let{show:s,handleClose:n,handleSave:i,budgetCategories:r}=e;const[l,o]=(0,a.useState)({category:"",type:"expense",budgetAmount:"",actualAmount:"",notes:""}),[c,d]=(0,a.useState)(!1),[u,h]=(0,a.useState)(!1);(0,a.useEffect)((()=>{s&&(o({category:"",type:"expense",budgetAmount:"",actualAmount:"",notes:""}),d(!1),h(!1))}),[s]);const m=e=>{const{name:t,value:s}=e.target;o({...l,[t]:s}),u&&p()},p=()=>{const e=""!==l.category&&""!==l.type&&""!==l.budgetAmount&&parseFloat(l.budgetAmount)>0;return d(!e),e};return(0,sn.jsx)(yy,{show:s,onHide:n,backdrop:"static",keyboard:!1,"aria-labelledby":"add-budget-modal-title",children:(0,sn.jsxs)(Xi,{noValidate:!0,onSubmit:e=>{if(e.preventDefault(),h(!0),!p())return;const t=parseFloat(l.budgetAmount),s=l.actualAmount?parseFloat(l.actualAmount):0,a=Array(6).fill(0).map((()=>Math.round(t*(.95+.1*Math.random())))),r={category:l.category,type:l.type,budgetAmount:t,actualAmount:s,notes:l.notes||"",historicalData:a};i(r),n()},children:[(0,sn.jsx)(yy.Header,{closeButton:!0,children:(0,sn.jsx)(yy.Title,{id:"add-budget-modal-title",children:"Add New Budget Item"})}),(0,sn.jsxs)(yy.Body,{children:[(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{htmlFor:"new-budget-type",children:"Type"}),(0,sn.jsxs)(Xi.Select,{id:"new-budget-type",name:"type",value:l.type,onChange:m,isInvalid:c&&!l.type,children:[(0,sn.jsx)("option",{value:"revenue",children:"Revenue"}),(0,sn.jsx)("option",{value:"expense",children:"Expense"})]}),(0,sn.jsx)(Xi.Control.Feedback,{type:"invalid",children:"Please select a type."})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{htmlFor:"new-budget-category",children:"Category"}),(0,sn.jsxs)(Xi.Select,{id:"new-budget-category",name:"category",value:l.category,onChange:m,isInvalid:c&&!l.category,children:[(0,sn.jsx)("option",{value:"",children:"-- Select Category --"}),null===(t=r[l.type])||void 0===t?void 0:t.map(((e,t)=>(0,sn.jsx)("option",{value:e,children:e},t)))]}),(0,sn.jsx)(Xi.Control.Feedback,{type:"invalid",children:"Please select a category."})]})})]}),(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{htmlFor:"new-budget-amount",children:"Budget Amount"}),(0,sn.jsxs)(nr,{children:[(0,sn.jsx)(nr.Text,{children:"$"}),(0,sn.jsx)(Xi.Control,{id:"new-budget-amount",type:"number",name:"budgetAmount",value:l.budgetAmount,onChange:m,min:"0.01",step:"100",isInvalid:c&&(!l.budgetAmount||parseFloat(l.budgetAmount)<=0)}),(0,sn.jsx)(Xi.Control.Feedback,{type:"invalid",children:"Please enter a budget amount greater than zero."})]})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{htmlFor:"new-actual-amount",children:"Actual Amount"}),(0,sn.jsxs)(nr,{children:[(0,sn.jsx)(nr.Text,{children:"$"}),(0,sn.jsx)(Xi.Control,{id:"new-actual-amount",type:"number",name:"actualAmount",value:l.actualAmount,onChange:m,min:"0",step:"100",placeholder:"0"})]}),(0,sn.jsx)(Xi.Text,{className:"text-muted",children:"Leave blank for zero (0)"})]})})]}),(0,sn.jsx)(yn,{children:(0,sn.jsx)(Nn,{md:12,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{htmlFor:"new-budget-notes",children:"Notes"}),(0,sn.jsx)(Xi.Control,{id:"new-budget-notes",type:"text",name:"notes",value:l.notes,onChange:m,placeholder:"Optional notes"})]})})})]}),(0,sn.jsxs)(yy.Footer,{children:[(0,sn.jsxs)(ir,{variant:"outline-secondary",onClick:n,children:[(0,sn.jsx)(co,{className:"me-1"})," Cancel"]}),(0,sn.jsxs)(ir,{variant:"primary",type:"submit",children:[(0,sn.jsx)(Vl,{className:"me-1"})," Add Budget Item"]})]})]})})};vv.register(Aj,Mj,Pv,Mv,Hv,uj,kj,cj,Cv);const xS="budgetItem",fS=e=>{let{item:t,index:s,type:n,handleEditBudget:i,handleDeleteBudget:r,moveItem:l}=e;const o=(0,a.useRef)(null),c=(e,t)=>t-e,d=(e,t)=>0===e?0:(t-e)/e*100,u=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),[{handlerId:h},m]=SN({accept:xS,collect:e=>({handlerId:e.getHandlerId()}),hover(e,t){if(!o.current)return;const a=e.index,i=s,r=e.type;if(a===i&&r===n)return;const c=o.current.getBoundingClientRect(),d=(c.bottom-c.top)/2,u=t.getClientOffset().y-c.top;a<i&&u<d||a>i&&u>d||(l(a,i,r,n),e.index=i,e.type=n)}}),[{isDragging:p},x]=IN({type:xS,item:()=>({id:t.id,index:s,type:n}),collect:e=>({isDragging:!!e.isDragging()})});return x(m(o)),(0,sn.jsxs)("tr",{ref:o,style:{opacity:p?.5:1,backgroundColor:p?"#f8f9fa":"inherit"},"data-handler-id":h,tabIndex:0,onKeyDown:e=>{switch(e.key){case"ArrowUp":s>0&&(e.preventDefault(),l(s,s-1,n,n));break;case"ArrowDown":e.preventDefault(),l(s,s+1,n,n);break;case"Home":s>0&&(e.preventDefault(),l(s,0,n,n));break;case"End":e.preventDefault(),l(s,999,n,n)}},"aria-roledescription":"Draggable item","aria-label":`${t.category} budget item, press space to start dragging, arrow keys to reorder`,children:[(0,sn.jsx)("td",{style:{width:"30px",cursor:"move"},children:(0,sn.jsx)(dl,{className:"text-muted","aria-hidden":"true"})}),(0,sn.jsx)("td",{children:t.category}),(0,sn.jsx)("td",{className:"text-end",children:u(t.budgetAmount)}),(0,sn.jsx)("td",{className:"text-end",children:u(t.actualAmount)}),(0,sn.jsxs)("td",{className:"text-end",children:[(0,sn.jsxs)("span",{className:c(t.budgetAmount,t.actualAmount)<=0?"text-success":"text-danger",children:[c(t.budgetAmount,t.actualAmount)<=0?"":"+",u(c(t.budgetAmount,t.actualAmount))]}),(0,sn.jsx)("br",{}),(0,sn.jsxs)("small",{className:d(t.budgetAmount,t.actualAmount)<=0?"text-success":"text-danger",children:["(",d(t.budgetAmount,t.actualAmount)<=0?"":"+",d(t.budgetAmount,t.actualAmount).toFixed(1),"%)"]})]}),(0,sn.jsx)("td",{children:(0,sn.jsx)(rw,{now:Math.min(t.actualAmount/t.budgetAmount*100,100),variant:((e,t)=>"revenue"===e?t>=0?"success":"danger":t<=0?"success":"danger")(t.type,d(t.budgetAmount,t.actualAmount)),label:`${Math.min(t.actualAmount/t.budgetAmount*100,100).toFixed(0)}%`})}),(0,sn.jsx)("td",{children:t.notes}),(0,sn.jsxs)("td",{children:[(0,sn.jsx)(ir,{variant:"outline-primary",size:"sm",className:"me-1",onClick:()=>i(t),"aria-label":`Edit ${t.category}`,children:(0,sn.jsx)(Ll,{"aria-hidden":"true"})}),(0,sn.jsx)(ir,{variant:"outline-danger",size:"sm",onClick:()=>r(t.id),"aria-label":`Delete ${t.category}`,children:(0,sn.jsx)(uo,{"aria-hidden":"true"})})]})]})},gS=e=>{let{show:t,budget:s,handleClose:n,handleSave:i}=e;const[r,l]=(0,a.useState)({id:0,category:"",type:"",budgetAmount:"",actualAmount:"",notes:""});(0,a.useEffect)((()=>{s&&l({id:s.id,category:s.category,type:s.type,budgetAmount:s.budgetAmount.toString(),actualAmount:s.actualAmount.toString(),notes:s.notes||""})}),[s]);const o=e=>{const{name:t,value:s}=e.target;l({...r,[t]:s})};return(0,sn.jsx)(yy,{show:t,onHide:n,children:(0,sn.jsxs)(Xi,{onSubmit:e=>{if(e.preventDefault(),!r.budgetAmount||!r.actualAmount)return void alert("Please fill in all required fields");const t={...r,budgetAmount:parseFloat(r.budgetAmount),actualAmount:parseFloat(r.actualAmount)};i(t)},children:[(0,sn.jsx)(yy.Header,{closeButton:!0,children:(0,sn.jsx)(yy.Title,{children:"Edit Budget Item"})}),(0,sn.jsxs)(yy.Body,{children:[(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Category"}),(0,sn.jsx)(Xi.Control,{type:"text",value:r.category,readOnly:!0})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Type"}),(0,sn.jsx)(Xi.Control,{type:"text",value:r.type.charAt(0).toUpperCase()+r.type.slice(1),readOnly:!0})]})})]}),(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Budget Amount"}),(0,sn.jsxs)(nr,{children:[(0,sn.jsx)(nr.Text,{children:"$"}),(0,sn.jsx)(Xi.Control,{type:"number",name:"budgetAmount",value:r.budgetAmount,onChange:o,min:"0",step:"100",required:!0})]})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Actual Amount"}),(0,sn.jsxs)(nr,{children:[(0,sn.jsx)(nr.Text,{children:"$"}),(0,sn.jsx)(Xi.Control,{type:"number",name:"actualAmount",value:r.actualAmount,onChange:o,min:"0",step:"100",required:!0})]})]})})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Notes"}),(0,sn.jsx)(Xi.Control,{as:"textarea",rows:2,name:"notes",value:r.notes,onChange:o,placeholder:"Optional notes"})]})]}),(0,sn.jsxs)(yy.Footer,{children:[(0,sn.jsx)(ir,{variant:"outline-secondary",onClick:n,children:"Cancel"}),(0,sn.jsx)(ir,{variant:"primary",type:"submit",children:"Save Changes"})]})]})})},vS=()=>{const[e,t]=(0,a.useState)([]),[s,n]=(0,a.useState)((new Date).getMonth()),[i,r]=(0,a.useState)((new Date).getFullYear()),[l,o]=(0,a.useState)(!0),[c,d]=(0,a.useState)(null),[u,h]=(0,a.useState)(!1),[m,p]=(0,a.useState)(!1),[x,f]=(0,a.useState)("budget"),[g,v]=(0,a.useState)(6),[j,b]=(0,a.useState)({revenue:[],expense:[],net:[]}),y=["January","February","March","April","May","June","July","August","September","October","November","December"];(0,a.useEffect)((()=>{o(!0),setTimeout((()=>{const e=[{id:1,category:"Delivery Fees",type:"revenue",budgetAmount:9e4,actualAmount:85e3,notes:"Based on projected contract volume",historicalData:[75e3,78e3,82e3,88e3,9e4,85e3]},{id:2,category:"Subscriptions",type:"revenue",budgetAmount:35e3,actualAmount:38e3,notes:"Monthly subscription revenue",historicalData:[3e4,32e3,33e3,34e3,35e3,38e3]},{id:3,category:"Setup Fees",type:"revenue",budgetAmount:15e3,actualAmount:12e3,notes:"New client onboarding fees",historicalData:[1e4,12e3,14e3,15e3,13e3,12e3]},{id:4,category:"Payroll",type:"expense",budgetAmount:4e4,actualAmount:42e3,notes:"Staff salaries and benefits",historicalData:[38e3,39e3,39500,4e4,41e3,42e3]},{id:5,category:"Fuel",type:"expense",budgetAmount:15e3,actualAmount:16500,notes:"Fleet fuel costs",historicalData:[13e3,14e3,14500,15e3,16e3,16500]},{id:6,category:"Vehicle Maintenance",type:"expense",budgetAmount:8e3,actualAmount:7200,notes:"Regular vehicle maintenance and repairs",historicalData:[7500,7800,8e3,7800,7500,7200]},{id:7,category:"Rent",type:"expense",budgetAmount:1e4,actualAmount:1e4,notes:"Office and warehouse space",historicalData:[1e4,1e4,1e4,1e4,1e4,1e4]},{id:8,category:"Utilities",type:"expense",budgetAmount:3e3,actualAmount:2800,notes:"Electricity, water, internet, etc.",historicalData:[2900,3100,3e3,2900,2850,2800]},{id:9,category:"Insurance",type:"expense",budgetAmount:5e3,actualAmount:5e3,notes:"Vehicle and business insurance",historicalData:[5e3,5e3,5e3,5e3,5e3,5e3]},{id:10,category:"Marketing",type:"expense",budgetAmount:7500,actualAmount:8200,notes:"Digital marketing and advertising",historicalData:[6500,7e3,7200,7500,8e3,8200]}];t(e),w(e,g),o(!1)}),1e3)}),[s,i,g]);const w=(e,t)=>{const s=e.filter((e=>"revenue"===e.type)),n=e.filter((e=>"expense"===e.type)),a=[],i=[];for(let f=0;f<6;f++){const e=s.reduce(((e,t)=>e+(t.historicalData&&t.historicalData[f]?t.historicalData[f]:0)),0),t=n.reduce(((e,t)=>e+(t.historicalData&&t.historicalData[f]?t.historicalData[f]:0)),0);a.push(e),i.push(t)}const r=e=>{const t=[.1,.15,.2,.25,.3,.5];let s=0,n=0;for(let a=0;a<e.length-1;a++){s+=(e[a+1]-e[a])*t[a],n+=t[a]}return s/n},l=e=>{const t=[.1,.15,.2,.25,.3,1];let s=0,n=0;for(let a=0;a<e.length;a++)s+=e[a]*t[a],n+=t[a];return s/n},o=e=>{if(e.length<4)return 1;return e[e.length-1]/(e.slice(0,e.length-1).reduce(((e,t)=>e+t),0)/(e.length-1))},c=r(a),d=r(i),u=o(a),h=o(i),m=[],p=[],x=[];m.push(a[5]),p.push(i[5]),x.push(a[5]-i[5]);for(let f=1;f<=t;f++){const e=l(a),t=l(i),s=.6,n=.3,r=.1,o=s*(a[5]+c*f)+n*e+r*e*u,g=s*(i[5]+d*f)+n*t+r*t*h,v=o-g;m.push(Math.round(o)),p.push(Math.round(g)),x.push(Math.round(v))}b({revenue:m,expense:p,net:x})},N=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),C=(e,t)=>t-e,S=e=>{d(e),h(!0)},k=s=>{if(window.confirm("Are you sure you want to delete this budget item?")){const n=e.filter((e=>e.id!==s));t(n),w(n,g)}},D=(0,a.useCallback)(((s,n,a,i)=>{const r=[...e],l=r.filter((e=>"revenue"===e.type)),o=r.filter((e=>"expense"===e.type));if(a===i){const e="revenue"===a?[...l]:[...o];if(n<0||n>=e.length)return;const[i]=e.splice(s,1);e.splice(n,0,i),t("revenue"===a?[...e,...o]:[...l,...e])}}),[e]),_=(()=>{const t={revenue:{budget:0,actual:0},expense:{budget:0,actual:0}};return e.forEach((e=>{t[e.type].budget+=e.budgetAmount,t[e.type].actual+=e.actualAmount})),t})(),A=_.revenue.budget-_.expense.budget,T=_.revenue.actual-_.expense.actual,E=T-A,L=0!==A?E/A*100:0,M=(()=>{const t={revenue:{favorable:0,unfavorable:0,neutral:0,items:[]},expense:{favorable:0,unfavorable:0,neutral:0,items:[]},largestFavorable:null,largestUnfavorable:null};return e.forEach((e=>{const s=C(e.budgetAmount,e.actualAmount),n=((e,t)=>0===e?0:(t-e)/e*100)(e.budgetAmount,e.actualAmount),a="revenue"===e.type&&s>=0||"expense"===e.type&&s<=0,i=Math.abs(n)<1,r={...e,variance:s,variancePercentage:n,isFavorable:a};t[e.type].items.push(r),i?t[e.type].neutral++:a?(t[e.type].favorable++,(!t.largestFavorable||Math.abs(s)>Math.abs(C(t.largestFavorable.budgetAmount,t.largestFavorable.actualAmount)))&&(t.largestFavorable=e)):(t[e.type].unfavorable++,(!t.largestUnfavorable||Math.abs(s)>Math.abs(C(t.largestUnfavorable.budgetAmount,t.largestUnfavorable.actualAmount)))&&(t.largestUnfavorable=e))})),t.revenue.items.sort(((e,t)=>Math.abs(t.variance)-Math.abs(e.variance))),t.expense.items.sort(((e,t)=>Math.abs(t.variance)-Math.abs(e.variance))),t})(),I={labels:["Revenue","Expenses"],datasets:[{label:"Favorable",data:[M.revenue.favorable,M.expense.favorable],backgroundColor:"rgba(40, 167, 69, 0.6)"},{label:"Neutral",data:[M.revenue.neutral,M.expense.neutral],backgroundColor:"rgba(108, 117, 125, 0.6)"},{label:"Unfavorable",data:[M.revenue.unfavorable,M.expense.unfavorable],backgroundColor:"rgba(220, 53, 69, 0.6)"}]},P={labels:["Revenue - Favorable","Revenue - Unfavorable","Expenses - Favorable","Expenses - Unfavorable"],datasets:[{data:[M.revenue.favorable,M.revenue.unfavorable,M.expense.favorable,M.expense.unfavorable],backgroundColor:["rgba(40, 167, 69, 0.6)","rgba(220, 53, 69, 0.6)","rgba(23, 162, 184, 0.6)","rgba(255, 193, 7, 0.6)"],borderWidth:1}]},O=[],R=new Date(i,s,1);for(let a=0;a<=g;a++){const e=new Date(R);e.setMonth(e.getMonth()+a),O.push(y[e.getMonth()]+" "+e.getFullYear())}const F={labels:O,datasets:[{label:"Revenue",data:j.revenue,borderColor:"rgba(40, 167, 69, 1)",backgroundColor:"rgba(40, 167, 69, 0.1)",fill:!0,tension:.4},{label:"Expenses",data:j.expense,borderColor:"rgba(220, 53, 69, 1)",backgroundColor:"rgba(220, 53, 69, 0.1)",fill:!0,tension:.4},{label:"Net Profit",data:j.net,borderColor:"rgba(0, 123, 255, 1)",backgroundColor:"rgba(0, 123, 255, 0.1)",fill:!0,tension:.4}]};return(0,sn.jsx)(WC,{backend:mS,children:(0,sn.jsxs)(jn,{fluid:!0,className:"py-4",children:[(0,sn.jsx)(Ob,{title:"Budget Planner",backButton:!0}),(0,sn.jsxs)("div",{className:"d-flex justify-content-end mb-4",children:[(0,sn.jsxs)(ir,{variant:"outline-primary",className:"me-2",onClick:()=>f("variance"===x?"budget":"variance"),"aria-pressed":"variance"===x,children:[(0,sn.jsx)(Tr,{className:"me-1","aria-hidden":"true"})," ","variance"===x?"View Budget":"Variance Analysis"]}),(0,sn.jsxs)(ir,{variant:"outline-primary",className:"me-2",onClick:()=>f("forecast"===x?"budget":"forecast"),"aria-pressed":"forecast"===x,children:[(0,sn.jsx)(Er,{className:"me-1","aria-hidden":"true"})," ","forecast"===x?"View Budget":"Budget Forecast"]}),(0,sn.jsxs)(ir,{variant:"primary",onClick:()=>{p(!0)},"aria-label":"Add new budget item",children:[(0,sn.jsx)(Ol,{className:"me-1","aria-hidden":"true"})," Add Budget Item"]})]}),(0,sn.jsx)(yn,{className:"mb-4",children:(0,sn.jsx)(Nn,{md:12,children:(0,sn.jsx)(Yn,{className:"shadow-sm",children:(0,sn.jsxs)(Yn.Body,{children:[(0,sn.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,sn.jsxs)("div",{children:[(0,sn.jsxs)(Bh,{className:"d-inline-block me-2",children:[(0,sn.jsx)(Bh.Toggle,{variant:"outline-secondary",children:y[s]}),(0,sn.jsx)(Bh.Menu,{children:y.map(((e,t)=>(0,sn.jsx)(Bh.Item,{active:s===t,onClick:()=>(e=>{n(e)})(t),children:e},t)))})]}),(0,sn.jsxs)(Bh,{className:"d-inline-block",children:[(0,sn.jsx)(Bh.Toggle,{variant:"outline-secondary",children:i}),(0,sn.jsx)(Bh.Menu,{children:[i-2,i-1,i,i+1,i+2].map((e=>(0,sn.jsx)(Bh.Item,{active:i===e,onClick:()=>(e=>{r(e)})(e),children:e},e)))})]})]}),(0,sn.jsxs)("h5",{className:"mb-0",children:["Budget for ",y[s]," ",i]}),"forecast"===x&&(0,sn.jsxs)("div",{children:[(0,sn.jsx)(Xi.Label,{className:"me-2",htmlFor:"forecast-months",children:"Forecast Months:"}),(0,sn.jsxs)(Xi.Select,{id:"forecast-months",style:{width:"auto",display:"inline-block"},value:g,onChange:e=>v(parseInt(e.target.value)),"aria-label":"Select number of months to forecast",children:[(0,sn.jsx)("option",{value:"3",children:"3 Months"}),(0,sn.jsx)("option",{value:"6",children:"6 Months"}),(0,sn.jsx)("option",{value:"12",children:"12 Months"})]})]})]}),l?(0,sn.jsxs)("div",{className:"text-center py-5",children:[(0,sn.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,sn.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,sn.jsx)("p",{className:"mt-3",children:"Loading budget data..."})]}):(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("div",{className:"budget-summary mb-4",children:(0,sn.jsx)(Yn,{className:"border-0 bg-light",children:(0,sn.jsx)(Yn.Body,{children:(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsxs)("div",{className:"text-center",children:[(0,sn.jsx)("div",{className:"text-muted mb-1",children:"Revenue"}),(0,sn.jsx)("h4",{className:"text-success mb-0",children:N(_.revenue.actual)}),(0,sn.jsxs)("div",{className:"small",children:["of ",N(_.revenue.budget)," budgeted"]}),(0,sn.jsx)(rw,{now:Math.min(_.revenue.actual/_.revenue.budget*100,100),variant:"success",className:"mt-2","aria-label":`Revenue is at ${Math.min(_.revenue.actual/_.revenue.budget*100,100).toFixed(0)}% of budget`})]})}),(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsxs)("div",{className:"text-center",children:[(0,sn.jsx)("div",{className:"text-muted mb-1",children:"Expenses"}),(0,sn.jsx)("h4",{className:"text-danger mb-0",children:N(_.expense.actual)}),(0,sn.jsxs)("div",{className:"small",children:["of ",N(_.expense.budget)," budgeted"]}),(0,sn.jsx)(rw,{now:Math.min(_.expense.actual/_.expense.budget*100,100),variant:_.expense.actual<=_.expense.budget?"success":"danger",className:"mt-2","aria-label":`Expenses are at ${Math.min(_.expense.actual/_.expense.budget*100,100).toFixed(0)}% of budget`})]})}),(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsxs)("div",{className:"text-center",children:[(0,sn.jsx)("div",{className:"text-muted mb-1",children:"Net Budget"}),(0,sn.jsx)("h4",{className:T>=0?"text-success mb-0":"text-danger mb-0",children:N(T)}),(0,sn.jsxs)("div",{className:"small",children:["of ",N(A)," budgeted"]}),(0,sn.jsx)(rw,{now:A>0?Math.min(T/A*100,100):0,variant:T>=A?"success":"danger",className:"mt-2","aria-label":`Net budget is at ${A>0?Math.min(T/A*100,100).toFixed(0):0}% of target`})]})}),(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsxs)("div",{className:"text-center",children:[(0,sn.jsx)("div",{className:"text-muted mb-1",children:"Variance"}),(0,sn.jsxs)("h4",{className:E>=0?"text-success mb-0":"text-danger mb-0",children:[E>=0?"+":"",N(E)]}),(0,sn.jsxs)("div",{className:"small",children:[L>=0?"+":"",L.toFixed(1),"% from budget"]}),(0,sn.jsx)("div",{className:"d-flex justify-content-center align-items-center mt-2",children:E>=0?(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(Pr,{className:"text-success me-1","aria-hidden":"true"})," ",(0,sn.jsx)("span",{className:"text-success",children:"On Track"})]}):(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(Xr,{className:"text-danger me-1","aria-hidden":"true"})," ",(0,sn.jsx)("span",{className:"text-danger",children:"Attention Needed"})]})})]})})]})})})}),"budget"===x&&(0,sn.jsx)("div",{className:"budget-table",children:(()=>{const t=e.filter((e=>"revenue"===e.type)),s=e.filter((e=>"expense"===e.type));return(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsxs)("div",{role:"region","aria-label":"Revenue budget items",children:[(0,sn.jsx)("h5",{className:"mb-3",id:"revenue-table-heading",children:"Revenue"}),(0,sn.jsxs)(Uh,{hover:!0,className:"mb-4","aria-labelledby":"revenue-table-heading",children:[(0,sn.jsx)("thead",{children:(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("th",{style:{width:"30px"},"aria-hidden":"true"}),(0,sn.jsx)("th",{scope:"col",children:"Category"}),(0,sn.jsx)("th",{scope:"col",className:"text-end",children:"Budget"}),(0,sn.jsx)("th",{scope:"col",className:"text-end",children:"Actual"}),(0,sn.jsx)("th",{scope:"col",className:"text-end",children:"Variance"}),(0,sn.jsx)("th",{scope:"col",children:"Progress"}),(0,sn.jsx)("th",{scope:"col",children:"Notes"}),(0,sn.jsx)("th",{scope:"col",children:"Actions"})]})}),(0,sn.jsx)("tbody",{children:t.map(((e,t)=>(0,sn.jsx)(fS,{item:e,index:t,type:"revenue",handleEditBudget:S,handleDeleteBudget:k,moveItem:D},e.id)))})]})]}),(0,sn.jsxs)("div",{role:"region","aria-label":"Expense budget items",children:[(0,sn.jsx)("h5",{className:"mb-3",id:"expense-table-heading",children:"Expenses"}),(0,sn.jsxs)(Uh,{hover:!0,className:"mb-4","aria-labelledby":"expense-table-heading",children:[(0,sn.jsx)("thead",{children:(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("th",{style:{width:"30px"},"aria-hidden":"true"}),(0,sn.jsx)("th",{scope:"col",children:"Category"}),(0,sn.jsx)("th",{scope:"col",className:"text-end",children:"Budget"}),(0,sn.jsx)("th",{scope:"col",className:"text-end",children:"Actual"}),(0,sn.jsx)("th",{scope:"col",className:"text-end",children:"Variance"}),(0,sn.jsx)("th",{scope:"col",children:"Progress"}),(0,sn.jsx)("th",{scope:"col",children:"Notes"}),(0,sn.jsx)("th",{scope:"col",children:"Actions"})]})}),(0,sn.jsx)("tbody",{children:s.map(((e,t)=>(0,sn.jsx)(fS,{item:e,index:t,type:"expense",handleEditBudget:S,handleDeleteBudget:k,moveItem:D},e.id)))})]})]})]})})()}),"variance"===x&&(0,sn.jsxs)("div",{className:"variance-analysis",children:[(0,sn.jsx)("h4",{className:"mb-4",children:"Variance Analysis"}),(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Yn,{className:"shadow-sm mb-4",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white",children:(0,sn.jsx)("h5",{className:"mb-0",children:"Variance Distribution"})}),(0,sn.jsx)(Yn.Body,{children:(0,sn.jsx)("div",{style:{height:"300px"},children:(0,sn.jsx)(rb,{data:I,options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,title:{display:!0,text:"Number of Items"}}},plugins:{legend:{position:"bottom"}}},"aria-label":"Bar chart showing variance distribution by category"})})})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Yn,{className:"shadow-sm mb-4",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white",children:(0,sn.jsx)("h5",{className:"mb-0",children:"Variance Distribution"})}),(0,sn.jsx)(Yn.Body,{children:(0,sn.jsx)("div",{style:{height:"300px"},children:(0,sn.jsx)(ob,{data:P,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"}}},"aria-label":"Doughnut chart showing variance distribution by category"})})})]})})]})]}),"forecast"===x&&(0,sn.jsxs)("div",{className:"budget-forecast",children:[(0,sn.jsx)("h4",{className:"mb-4",children:"Budget Forecast"}),(0,sn.jsxs)(Yn,{className:"shadow-sm mb-4",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white",children:(0,sn.jsxs)("h5",{className:"mb-0",children:[g," Month Forecast"]})}),(0,sn.jsx)(Yn.Body,{children:(0,sn.jsx)("div",{style:{height:"400px"},children:(0,sn.jsx)(ib,{data:F,options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,title:{display:!0,text:"Amount (USD)"},ticks:{callback:function(e){return"$"+e.toLocaleString()}}}},plugins:{legend:{position:"bottom"},tooltip:{callbacks:{label:function(e){let t=e.dataset.label||"";return t&&(t+=": "),null!==e.parsed.y&&(t+=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e.parsed.y)),t}}}}},"aria-label":"Line chart showing budget forecast for future months"})})})]})]})]})]})})})}),(0,sn.jsx)(pS,{show:m,handleClose:()=>{p(!1)},handleSave:s=>{const n={...s,id:Math.max(...e.map((e=>e.id)),0)+1},a=[...e,n];t(a),w(a,g)},budgetCategories:{revenue:["Delivery Fees","Setup Fees","Subscriptions","Other Income"],expense:["Vehicle Maintenance","Fuel","Insurance","Rent","Payroll","Office Expenses","Utilities","Marketing","Other Expenses"]}}),(0,sn.jsx)(gS,{show:u,budget:c,handleClose:()=>{h(!1),d(null)},handleSave:s=>{const n=e.map((e=>e.id===s.id?s:e));t(n),h(!1),d(null),w(n,g)}})]})})},jS=()=>{const e=ee(),[t,s]=(0,a.useState)([]),[n,i]=(0,a.useState)([]),[r,l]=(0,a.useState)(""),[o,c]=(0,a.useState)("all"),[d,u]=(0,a.useState)("all"),[h,m]=(0,a.useState)("list"),[p,x]=(0,a.useState)("date"),[f,g]=(0,a.useState)("desc"),[v,j]=(0,a.useState)(1),[b]=(0,a.useState)(10),[y,w]=(0,a.useState)(!1),[N,C]=(0,a.useState)(null),[S,k]=(0,a.useState)(!0),[D,_]=(0,a.useState)([]),[A,T]=(0,a.useState)(!1),[E,L]=(0,a.useState)(!1),[M,I]=(0,a.useState)("This is a friendly reminder that your invoice is currently overdue. Please process the payment at your earliest convenience."),[P,O]=(0,a.useState)(!1),[R,F]=(0,a.useState)("csv"),z=[{value:"draft",label:"Draft",color:"secondary"},{value:"sent",label:"Sent",color:"primary"},{value:"viewed",label:"Viewed",color:"info"},{value:"overdue",label:"Overdue",color:"danger"},{value:"paid",label:"Paid",color:"success"},{value:"cancelled",label:"Cancelled",color:"dark"}];(0,a.useEffect)((()=>{setTimeout((()=>{const e=new Date,t=[{id:1,invoiceNumber:"INV-2025-001",customer:{id:1,name:"ABC Logistics",email:"accounts@abclogistics.com"},amount:3500,issueDate:new Date(e.getFullYear(),e.getMonth(),e.getDate()-15),dueDate:new Date(e.getFullYear(),e.getMonth(),e.getDate()+15),status:"sent",items:[{description:"Regular Delivery Service - April",quantity:20,unitPrice:150,amount:3e3},{description:"Priority Handling Fee",quantity:1,unitPrice:500,amount:500}]},{id:2,invoiceNumber:"INV-2025-002",customer:{id:2,name:"XYZ Retail",email:"billing@xyzretail.com"},amount:2800,issueDate:new Date(e.getFullYear(),e.getMonth(),e.getDate()-10),dueDate:new Date(e.getFullYear(),e.getMonth(),e.getDate()+20),status:"viewed",items:[{description:"Regular Delivery Service - April",quantity:15,unitPrice:150,amount:2250},{description:"Additional Mileage Fees",quantity:50,unitPrice:11,amount:550}]},{id:3,invoiceNumber:"INV-2025-003",customer:{id:3,name:"Tech Solutions Inc.",email:"ap@techsolutions.com"},amount:4500,issueDate:new Date(e.getFullYear(),e.getMonth(),e.getDate()-30),dueDate:new Date(e.getFullYear(),e.getMonth(),e.getDate()-5),status:"overdue",items:[{description:"Express Delivery Service - March",quantity:25,unitPrice:180,amount:4500}]},{id:4,invoiceNumber:"INV-2025-004",customer:{id:4,name:"Global Shipping Co.",email:"billing@globalshipping.com"},amount:6750,issueDate:new Date(e.getFullYear(),e.getMonth(),e.getDate()-45),dueDate:new Date(e.getFullYear(),e.getMonth(),e.getDate()-15),status:"paid",items:[{description:"Long Distance Delivery - March",quantity:15,unitPrice:350,amount:5250},{description:"Special Handling",quantity:10,unitPrice:150,amount:1500}],paidDate:new Date(e.getFullYear(),e.getMonth(),e.getDate()-14)},{id:5,invoiceNumber:"INV-2025-005",customer:{id:5,name:"Metro Electronics",email:"finance@metroelectronics.com"},amount:1850,issueDate:new Date(e.getFullYear(),e.getMonth(),e.getDate()-2),dueDate:new Date(e.getFullYear(),e.getMonth(),e.getDate()+28),status:"draft",items:[{description:"Regular Delivery Service - April",quantity:10,unitPrice:150,amount:1500},{description:"Insurance Fee",quantity:1,unitPrice:350,amount:350}]},{id:6,invoiceNumber:"INV-2025-006",customer:{id:1,name:"ABC Logistics",email:"accounts@abclogistics.com"},amount:5250,issueDate:new Date(e.getFullYear(),e.getMonth(),e.getDate()-60),dueDate:new Date(e.getFullYear(),e.getMonth(),e.getDate()-30),status:"paid",items:[{description:"Regular Delivery Service - February",quantity:30,unitPrice:150,amount:4500},{description:"Weekend Delivery Surcharge",quantity:5,unitPrice:150,amount:750}],paidDate:new Date(e.getFullYear(),e.getMonth(),e.getDate()-32)},{id:7,invoiceNumber:"INV-2025-007",customer:{id:3,name:"Tech Solutions Inc.",email:"ap@techsolutions.com"},amount:4200,issueDate:new Date(e.getFullYear(),e.getMonth(),e.getDate()-5),dueDate:new Date(e.getFullYear(),e.getMonth(),e.getDate()+25),status:"sent",items:[{description:"Express Delivery Service - April",quantity:20,unitPrice:180,amount:3600},{description:"Packaging Materials",quantity:20,unitPrice:30,amount:600}]}];s(t),i(t),k(!1)}),1e3)}),[]),(0,a.useEffect)((()=>{let e=[...t];"all"!==o&&(e=e.filter((e=>e.status===o)));const s=new Date;s.setHours(0,0,0,0);const n=new Date(s);n.setDate(s.getDate()-s.getDay());const a=new Date(s.getFullYear(),s.getMonth(),1),l=new Date(s.getFullYear(),s.getMonth()-1,1),c=new Date(s.getFullYear(),s.getMonth(),0),u=new Date(s.getFullYear(),3*Math.floor(s.getMonth()/3),1);switch(d){case"today":e=e.filter((e=>{const t=new Date(e.issueDate);return t.setHours(0,0,0,0),t.getTime()===s.getTime()}));break;case"this-week":e=e.filter((e=>{const t=new Date(e.issueDate);return t>=n&&t<s.getTime()+864e5}));break;case"this-month":e=e.filter((e=>{const t=new Date(e.issueDate);return t>=a&&t<s.getTime()+864e5}));break;case"last-month":e=e.filter((e=>{const t=new Date(e.issueDate);return t>=l&&t<=c}));break;case"this-quarter":e=e.filter((e=>{const t=new Date(e.issueDate);return t>=u&&t<s.getTime()+864e5}))}if(r){const t=r.toLowerCase();e=e.filter((e=>e.invoiceNumber.toLowerCase().includes(t)||e.customer.name.toLowerCase().includes(t)||e.customer.email.toLowerCase().includes(t)))}e.sort(((e,t)=>{let s=e[p],n=t[p];return"customer.name"===p&&(s=e.customer.name,n=t.customer.name),s instanceof Date&&n instanceof Date?"asc"===f?s-n:n-s:"string"===typeof s&&"string"===typeof n?"asc"===f?s.localeCompare(n):n.localeCompare(s):"asc"===f?s-n:n-s})),i(e)}),[t,r,o,d,p,f]);const B=v*b,$=B-b,H=n.slice($,B),V=Math.ceil(n.length/b),U=e=>{j(e)},W=e=>{p===e?g("asc"===f?"desc":"asc"):(x(e),g("asc"))},G=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",q=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),Y=e=>{const t=z.find((t=>t.value===e));return t?(0,sn.jsx)(Cb,{bg:t.color,className:"text-uppercase",children:t.label}):null},K=e=>{D.includes(e)?_(D.filter((t=>t!==e))):_([...D,e])},J=e=>{const t=Object.keys(e[0]);let s=t.join(",")+"\n";e.forEach((e=>{const n=t.map((t=>{const s=e[t]||"";return s.toString().includes(",")?`"${s.toString().replace(/"/g,'""')}"`:s}));s+=n.join(",")+"\n"}));const n=new Blob([s],{type:"text/csv;charset=utf-8;"}),a=URL.createObjectURL(n),i=document.createElement("a");i.setAttribute("href",a),i.setAttribute("download",`invoices_${(new Date).toISOString().substring(0,10)}.csv`),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i)},X=e=>{alert("Excel export functionality would be implemented with a library like xlsx in a real application."),console.log("Exporting as Excel:",e)},Z=e=>{alert("PDF export functionality would be implemented with a library like jspdf in a real application."),console.log("Exporting as PDF:",e)};return(0,sn.jsxs)("div",{className:"container-fluid py-4",children:[(0,sn.jsx)(Ob,{title:"Invoices",backButton:!0}),(0,sn.jsxs)("div",{className:"d-flex justify-content-end align-items-center mb-4",children:[(0,sn.jsxs)(ir,{variant:"outline-primary",className:"me-2",onClick:()=>window.open("/financial/invoices/report","_blank"),children:[(0,sn.jsx)(Tr,{className:"me-1"})," Invoice Reports"]}),(0,sn.jsxs)(ir,{variant:"outline-success",className:"me-2",onClick:()=>O(!0),children:[(0,sn.jsx)(Gr,{className:"me-1"})," Export"]}),(0,sn.jsxs)(ir,{variant:"primary",onClick:()=>e("/financial/invoices/new"),children:[(0,sn.jsx)(Ol,{className:"me-1"})," Create Invoice"]})]}),(()=>{const e=(()=>{const e=t.length,s=t.reduce(((e,t)=>e+t.amount),0),n=t.filter((e=>"overdue"===e.status)).length,a=t.filter((e=>"draft"===e.status)).length,i=t.filter((e=>["sent","viewed","overdue"].includes(e.status))),r=i.reduce(((e,t)=>e+t.amount),0);return{totalInvoices:e,totalAmount:s,overdue:n,draft:a,paid:t.filter((e=>"paid"===e.status)).length,unpaid:i.length,unpaidAmount:r}})();return(0,sn.jsxs)(yn,{className:"mb-4",children:[(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsx)(Yn,{className:"border-0 shadow-sm h-100",children:(0,sn.jsxs)(Yn.Body,{className:"d-flex align-items-center",children:[(0,sn.jsx)("div",{className:"icon-wrapper bg-primary bg-opacity-10 rounded p-3 me-3",children:(0,sn.jsx)(rl,{className:"text-primary",size:24})}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("h6",{className:"text-muted mb-1",children:"Total Invoices"}),(0,sn.jsx)("h3",{className:"mb-0",children:e.totalInvoices})]})]})})}),(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsx)(Yn,{className:"border-0 shadow-sm h-100",children:(0,sn.jsxs)(Yn.Body,{className:"d-flex align-items-center",children:[(0,sn.jsx)("div",{className:"icon-wrapper bg-success bg-opacity-10 rounded p-3 me-3",children:(0,sn.jsx)(rl,{className:"text-success",size:24})}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("h6",{className:"text-muted mb-1",children:"Total Amount"}),(0,sn.jsx)("h3",{className:"mb-0",children:q(e.totalAmount)})]})]})})}),(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsx)(Yn,{className:"border-0 shadow-sm h-100",children:(0,sn.jsxs)(Yn.Body,{className:"d-flex align-items-center",children:[(0,sn.jsx)("div",{className:"icon-wrapper bg-warning bg-opacity-10 rounded p-3 me-3",children:(0,sn.jsx)(rl,{className:"text-warning",size:24})}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("h6",{className:"text-muted mb-1",children:"Unpaid Invoices"}),(0,sn.jsx)("h3",{className:"mb-0",children:e.unpaid}),(0,sn.jsx)("div",{className:"small text-muted",children:q(e.unpaidAmount)})]})]})})}),(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsx)(Yn,{className:"border-0 shadow-sm h-100",children:(0,sn.jsxs)(Yn.Body,{className:"d-flex align-items-center",children:[(0,sn.jsx)("div",{className:"icon-wrapper bg-danger bg-opacity-10 rounded p-3 me-3",children:(0,sn.jsx)(rl,{className:"text-danger",size:24})}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("h6",{className:"text-muted mb-1",children:"Overdue Invoices"}),(0,sn.jsx)("h3",{className:"mb-0",children:e.overdue})]})]})})})]})})(),(0,sn.jsx)(Yn,{className:"shadow-sm mb-4",children:(0,sn.jsxs)(Yn.Body,{children:[(0,sn.jsxs)(yn,{className:"mb-3",children:[(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsxs)(nr,{children:[(0,sn.jsx)(nr.Text,{children:(0,sn.jsx)(Ul,{})}),(0,sn.jsx)(Xi.Control,{placeholder:"Search invoices...",value:r,onChange:e=>l(e.target.value)})]})}),(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsxs)(nr,{children:[(0,sn.jsx)(nr.Text,{children:(0,sn.jsx)(ol,{})}),(0,sn.jsxs)(Xi.Select,{value:o,onChange:e=>c(e.target.value),children:[(0,sn.jsx)("option",{value:"all",children:"All Statuses"}),z.map((e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value)))]})]})}),(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsxs)(nr,{children:[(0,sn.jsx)(nr.Text,{children:(0,sn.jsx)(kr,{})}),(0,sn.jsx)(Xi.Select,{value:d,onChange:e=>u(e.target.value),children:[{value:"all",label:"All Dates"},{value:"today",label:"Today"},{value:"this-week",label:"This Week"},{value:"this-month",label:"This Month"},{value:"last-month",label:"Last Month"},{value:"this-quarter",label:"This Quarter"},{value:"custom",label:"Custom Range"}].map((e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value)))})]})}),(0,sn.jsx)(Nn,{md:2,children:(0,sn.jsx)(ir,{variant:"outline-secondary",className:"w-100",onClick:()=>{l(""),c("all"),u("all")},children:"Clear Filters"})}),(0,sn.jsx)(Nn,{md:1,className:"d-flex justify-content-end",children:(0,sn.jsxs)("div",{className:"btn-group",children:[(0,sn.jsx)(ir,{variant:"list"===h?"primary":"outline-primary",onClick:()=>m("list"),children:(0,sn.jsx)(jl,{})}),(0,sn.jsx)(ir,{variant:"grid"===h?"primary":"outline-primary",onClick:()=>m("grid"),children:(0,sn.jsx)(lo,{})})]})})]}),D.length>0&&(0,sn.jsxs)("div",{className:"bg-light p-2 mb-3 d-flex align-items-center",children:[(0,sn.jsxs)("span",{className:"me-2",children:[(0,sn.jsx)("strong",{children:D.length})," invoices selected"]}),(0,sn.jsxs)(ir,{variant:"outline-primary",size:"sm",className:"me-2",onClick:()=>L(!0),children:[(0,sn.jsx)(Kr,{className:"me-1"})," Send Reminder"]}),(0,sn.jsxs)(ir,{variant:"outline-success",size:"sm",className:"me-2",onClick:()=>(e=>{if(D.length>0){const n=t.map((t=>D.includes(t.id)?{...t,status:e}:t));s(n),_([])}})("paid"),children:[(0,sn.jsx)(Pr,{className:"me-1"})," Mark as Paid"]}),(0,sn.jsxs)(ir,{variant:"outline-danger",size:"sm",onClick:()=>T(!0),children:[(0,sn.jsx)(uo,{className:"me-1"})," Delete Selected"]})]}),S?(0,sn.jsxs)("div",{className:"text-center py-5",children:[(0,sn.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,sn.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,sn.jsx)("p",{className:"mt-3",children:"Loading invoices..."})]}):(0,sn.jsxs)(sn.Fragment,{children:[0===n.length?(0,sn.jsxs)("div",{className:"text-center py-5",children:[(0,sn.jsx)("p",{className:"text-muted mb-3",children:"No invoices found matching your filters."}),(0,sn.jsxs)(ir,{variant:"primary",onClick:()=>e("/financial/invoices/new"),children:[(0,sn.jsx)(Ol,{className:"me-1"})," Create Invoice"]})]}):"list"===h?(0,sn.jsx)("div",{className:"table-responsive",children:(0,sn.jsxs)(Uh,{hover:!0,className:"align-middle",children:[(0,sn.jsx)("thead",{children:(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("th",{children:(0,sn.jsx)(Xi.Check,{type:"checkbox",onChange:e=>{e.target.checked?_(H.map((e=>e.id))):_([])},checked:H.length>0&&H.every((e=>D.includes(e.id)))})}),(0,sn.jsxs)("th",{onClick:()=>W("invoiceNumber"),style:{cursor:"pointer",whiteSpace:"nowrap"},children:["Invoice # ","invoiceNumber"===p&&(0,sn.jsx)(Jl,{className:"ms-1 text-"+("asc"===f?"muted":"dark")})]}),(0,sn.jsxs)("th",{onClick:()=>W("customer.name"),style:{cursor:"pointer"},children:["Customer ","customer.name"===p&&(0,sn.jsx)(Jl,{className:"ms-1 text-"+("asc"===f?"muted":"dark")})]}),(0,sn.jsxs)("th",{onClick:()=>W("issueDate"),style:{cursor:"pointer",whiteSpace:"nowrap"},children:["Issue Date ","issueDate"===p&&(0,sn.jsx)(Jl,{className:"ms-1 text-"+("asc"===f?"muted":"dark")})]}),(0,sn.jsxs)("th",{onClick:()=>W("dueDate"),style:{cursor:"pointer",whiteSpace:"nowrap"},children:["Due Date ","dueDate"===p&&(0,sn.jsx)(Jl,{className:"ms-1 text-"+("asc"===f?"muted":"dark")})]}),(0,sn.jsxs)("th",{onClick:()=>W("amount"),style:{cursor:"pointer",whiteSpace:"nowrap"},children:["Amount ","amount"===p&&(0,sn.jsx)(Jl,{className:"ms-1 text-"+("asc"===f?"muted":"dark")})]}),(0,sn.jsxs)("th",{onClick:()=>W("status"),style:{cursor:"pointer"},children:["Status ","status"===p&&(0,sn.jsx)(Jl,{className:"ms-1 text-"+("asc"===f?"muted":"dark")})]}),(0,sn.jsx)("th",{children:"Actions"})]})}),(0,sn.jsx)("tbody",{children:H.map((e=>(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("td",{children:(0,sn.jsx)(Xi.Check,{type:"checkbox",checked:D.includes(e.id),onChange:()=>K(e.id)})}),(0,sn.jsx)("td",{children:(0,sn.jsx)(Le,{to:`/financial/invoices/${e.id}`,className:"fw-bold text-decoration-none",children:e.invoiceNumber})}),(0,sn.jsx)("td",{children:(0,sn.jsxs)("div",{children:[(0,sn.jsx)("div",{className:"fw-bold",children:e.customer.name}),(0,sn.jsx)("div",{className:"text-muted small",children:e.customer.email})]})}),(0,sn.jsx)("td",{style:{whiteSpace:"nowrap"},children:G(e.issueDate)}),(0,sn.jsx)("td",{style:{whiteSpace:"nowrap"},children:G(e.dueDate)}),(0,sn.jsx)("td",{className:"fw-bold",children:q(e.amount)}),(0,sn.jsx)("td",{children:Y(e.status)}),(0,sn.jsx)("td",{children:(0,sn.jsxs)(Bh,{children:[(0,sn.jsx)(Bh.Toggle,{variant:"light",size:"sm",id:`dropdown-${e.id}`,children:(0,sn.jsx)(Yr,{})}),(0,sn.jsxs)(Bh.Menu,{children:[(0,sn.jsxs)(Bh.Item,{as:Le,to:`/financial/invoices/${e.id}`,children:[(0,sn.jsx)(rl,{className:"me-2"})," View Invoice"]}),(0,sn.jsxs)(Bh.Item,{as:Le,to:`/financial/invoices/${e.id}/edit`,children:[(0,sn.jsx)(Ll,{className:"me-2"})," Edit"]}),(0,sn.jsxs)(Bh.Item,{onClick:()=>window.open(`/financial/invoices/${e.id}/print`,"_blank"),children:[(0,sn.jsx)(Rl,{className:"me-2"})," Print"]}),(0,sn.jsxs)(Bh.Item,{children:[(0,sn.jsx)(Kr,{className:"me-2"})," Send Email"]}),(0,sn.jsx)(Bh.Divider,{}),(0,sn.jsxs)(Bh.Item,{className:"text-danger",onClick:()=>(e=>{C(e),w(!0)})(e),children:[(0,sn.jsx)(uo,{className:"me-2"})," Delete"]})]})]})})]},e.id)))})]})}):(0,sn.jsx)(yn,{children:H.map((e=>(0,sn.jsx)(Nn,{md:4,className:"mb-4",children:(0,sn.jsxs)(Yn,{className:"h-100 shadow-sm border-top-0 border-end-0 border-bottom-0 border-3  border-start-0",children:[(0,sn.jsxs)(Yn.Header,{className:"d-flex justify-content-between align-items-center bg-white",children:[(0,sn.jsxs)("div",{className:"d-flex align-items-center",children:[(0,sn.jsx)(Xi.Check,{type:"checkbox",className:"me-2",checked:D.includes(e.id),onChange:()=>K(e.id)}),(0,sn.jsx)("span",{className:"fw-bold",children:e.invoiceNumber})]}),Y(e.status)]}),(0,sn.jsxs)(Yn.Body,{children:[(0,sn.jsxs)("div",{className:"mb-3",children:[(0,sn.jsx)("div",{className:"text-muted small",children:"Customer"}),(0,sn.jsx)("div",{className:"fw-bold",children:e.customer.name}),(0,sn.jsx)("div",{className:"small",children:e.customer.email})]}),(0,sn.jsxs)("div",{className:"d-flex justify-content-between mb-3",children:[(0,sn.jsxs)("div",{children:[(0,sn.jsx)("div",{className:"text-muted small",children:"Issue Date"}),(0,sn.jsx)("div",{children:G(e.issueDate)})]}),(0,sn.jsxs)("div",{className:"text-end",children:[(0,sn.jsx)("div",{className:"text-muted small",children:"Due Date"}),(0,sn.jsx)("div",{children:G(e.dueDate)})]})]}),(0,sn.jsxs)("div",{className:"text-center mb-3",children:[(0,sn.jsx)("div",{className:"text-muted small",children:"Amount"}),(0,sn.jsx)("div",{className:"fs-4 fw-bold",children:q(e.amount)})]})]}),(0,sn.jsx)(Yn.Footer,{className:"bg-white",children:(0,sn.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,sn.jsx)(ir,{as:Le,to:`/financial/invoices/${e.id}`,variant:"outline-primary",size:"sm",children:"View"}),(0,sn.jsx)(ir,{as:Le,to:`/financial/invoices/${e.id}/edit`,variant:"outline-secondary",size:"sm",children:"Edit"}),(0,sn.jsxs)(ir,{variant:"outline-success",size:"sm",children:[(0,sn.jsx)(Kr,{className:"me-1"})," Send"]})]})})]})},e.id)))}),(()=>{if(V<=1)return null;const e=[];for(let t=1;t<=V;t++)e.push((0,sn.jsx)(Ib.Item,{active:t===v,onClick:()=>U(t),children:t},t));return(0,sn.jsxs)(Ib,{className:"justify-content-center",children:[(0,sn.jsx)(Ib.Prev,{onClick:()=>U(Math.max(1,v-1)),disabled:1===v}),e,(0,sn.jsx)(Ib.Next,{onClick:()=>U(Math.min(V,v+1)),disabled:v===V})]})})()]})]})}),(0,sn.jsxs)(yy,{show:y,onHide:()=>w(!1),children:[(0,sn.jsx)(yy.Header,{closeButton:!0,children:(0,sn.jsx)(yy.Title,{children:"Confirm Delete"})}),(0,sn.jsxs)(yy.Body,{children:["Are you sure you want to delete invoice ",(0,sn.jsx)("strong",{children:null===N||void 0===N?void 0:N.invoiceNumber})," for"," ",(0,sn.jsx)("strong",{children:null===N||void 0===N?void 0:N.customer.name}),"?",(0,sn.jsx)("div",{className:"mt-3 text-danger",children:"This action cannot be undone."})]}),(0,sn.jsxs)(yy.Footer,{children:[(0,sn.jsx)(ir,{variant:"secondary",onClick:()=>w(!1),children:"Cancel"}),(0,sn.jsx)(ir,{variant:"danger",onClick:()=>{N&&(s(t.filter((e=>e.id!==N.id))),w(!1),C(null))},children:"Delete Invoice"})]})]}),(0,sn.jsxs)(yy,{show:A,onHide:()=>T(!1),children:[(0,sn.jsx)(yy.Header,{closeButton:!0,children:(0,sn.jsx)(yy.Title,{children:"Confirm Bulk Delete"})}),(0,sn.jsxs)(yy.Body,{children:["Are you sure you want to delete ",(0,sn.jsx)("strong",{children:D.length})," selected invoice",1!==D.length?"s":"","?",(0,sn.jsx)("div",{className:"mt-3 text-danger",children:"This action cannot be undone."})]}),(0,sn.jsxs)(yy.Footer,{children:[(0,sn.jsx)(ir,{variant:"secondary",onClick:()=>T(!1),children:"Cancel"}),(0,sn.jsx)(ir,{variant:"danger",onClick:()=>{D.length>0&&(s(t.filter((e=>!D.includes(e.id)))),_([]),T(!1))},children:"Delete Invoices"})]})]}),(0,sn.jsxs)(yy,{show:E,onHide:()=>L(!1),children:[(0,sn.jsx)(yy.Header,{closeButton:!0,children:(0,sn.jsx)(yy.Title,{children:"Send Payment Reminder"})}),(0,sn.jsxs)(yy.Body,{children:[(0,sn.jsxs)("p",{children:["You are about to send payment reminders for ",(0,sn.jsx)("strong",{children:D.length})," invoice",1!==D.length?"s":"","."]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Reminder Message"}),(0,sn.jsx)(Xi.Control,{as:"textarea",rows:4,value:M,onChange:e=>I(e.target.value)}),(0,sn.jsx)(Xi.Text,{className:"text-muted",children:"This message will be included in the reminder emails."})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Recipients"}),(0,sn.jsx)("div",{className:"p-2 border rounded bg-light",children:D.map((e=>{const s=t.find((t=>t.id===e));return s?(0,sn.jsxs)("div",{className:"mb-1",children:[s.customer.email," (",s.customer.name,", ",s.invoiceNumber,")"]},s.id):null}))})]})]}),(0,sn.jsxs)(yy.Footer,{children:[(0,sn.jsx)(ir,{variant:"secondary",onClick:()=>L(!1),children:"Cancel"}),(0,sn.jsxs)(ir,{variant:"primary",onClick:()=>{console.log("Sending payment reminder to:",D),console.log("Reminder message:",M),L(!1),_([]),alert("Payment reminders have been sent successfully!")},children:[(0,sn.jsx)(Kr,{className:"me-1"})," Send Reminders"]})]})]}),(0,sn.jsxs)(yy,{show:P,onHide:()=>O(!1),children:[(0,sn.jsx)(yy.Header,{closeButton:!0,children:(0,sn.jsx)(yy.Title,{children:"Export Invoices"})}),(0,sn.jsxs)(yy.Body,{children:[(0,sn.jsxs)("p",{children:["You are about to export ",(0,sn.jsx)("strong",{children:n.length})," invoice",1!==n.length?"s":"","."]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Export Format"}),(0,sn.jsxs)(Xi.Select,{value:R,onChange:e=>F(e.target.value),children:[(0,sn.jsx)("option",{value:"csv",children:"CSV (.csv)"}),(0,sn.jsx)("option",{value:"excel",children:"Excel (.xlsx)"}),(0,sn.jsx)("option",{value:"pdf",children:"PDF (.pdf)"})]})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Fields to Export"}),(0,sn.jsxs)("div",{className:"p-2 border rounded bg-light",children:[(0,sn.jsx)("div",{className:"mb-1",children:"Invoice Number"}),(0,sn.jsx)("div",{className:"mb-1",children:"Customer"}),(0,sn.jsx)("div",{className:"mb-1",children:"Email"}),(0,sn.jsx)("div",{className:"mb-1",children:"Issue Date"}),(0,sn.jsx)("div",{className:"mb-1",children:"Due Date"}),(0,sn.jsx)("div",{className:"mb-1",children:"Amount"}),(0,sn.jsx)("div",{children:"Status"})]}),(0,sn.jsx)(Xi.Text,{className:"text-muted",children:"All fields will be included in the export."})]})]}),(0,sn.jsxs)(yy.Footer,{children:[(0,sn.jsx)(ir,{variant:"secondary",onClick:()=>O(!1),children:"Cancel"}),(0,sn.jsxs)(ir,{variant:"primary",onClick:()=>{const e=n.map((e=>({"Invoice Number":e.invoiceNumber,Customer:e.customer.name,Email:e.customer.email,"Issue Date":G(e.issueDate),"Due Date":G(e.dueDate),Amount:q(e.amount),Status:e.status})));"csv"===R?J(e):"excel"===R?X(e):"pdf"===R&&Z(e),O(!1)},children:[(0,sn.jsx)(Gr,{className:"me-1"})," Export"]})]})]})]})},bS=()=>{var e,t;const s=ee(),{id:n}=se(),i=!!n,[r,l]=(0,a.useState)(!1),[o,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(""),[h,m]=(0,a.useState)({invoiceNumber:"",customerId:"",issueDate:"",dueDate:"",status:"draft",items:[{id:1,description:"",quantity:1,unitPrice:0,amount:0}],notes:"",terms:"Payment is due within 30 days of issue."}),[p,x]=(0,a.useState)([]),[f,g]=(0,a.useState)(0),[v,j]=(0,a.useState)(0),[b,y]=(0,a.useState)(0),[w,N]=(0,a.useState)(0);(0,a.useEffect)((()=>{if(x([{id:1,name:"ABC Logistics",email:"accounts@abclogistics.com"},{id:2,name:"XYZ Retail",email:"billing@xyzretail.com"},{id:3,name:"Tech Solutions Inc.",email:"ap@techsolutions.com"},{id:4,name:"Global Shipping Co.",email:"billing@globalshipping.com"},{id:5,name:"Metro Electronics",email:"finance@metroelectronics.com"}]),i)l(!0),setTimeout((()=>{const e={id:parseInt(n),invoiceNumber:`INV-2025-00${n}`,customerId:n%5+1,issueDate:(new Date).toISOString().split("T")[0],dueDate:new Date((new Date).setDate((new Date).getDate()+30)).toISOString().split("T")[0],status:["draft","sent","viewed","paid"][n%4],items:[{id:1,description:"Regular Delivery Service",quantity:15,unitPrice:150,amount:2250},{id:2,description:"Additional Mileage Fees",quantity:50,unitPrice:11,amount:550}],notes:"Thank you for your business!",terms:"Payment is due within 30 days of issue."};m(e),l(!1)}),1e3);else{const e=new Date,t=e.getFullYear(),s=(e.getMonth()+1).toString().padStart(2,"0"),n=Math.floor(1e3*Math.random()).toString().padStart(3,"0");m((a=>({...a,invoiceNumber:`INV-${t}${s}-${n}`,issueDate:e.toISOString().split("T")[0],dueDate:new Date(e.setDate(e.getDate()+30)).toISOString().split("T")[0]})))}}),[n,i]),(0,a.useEffect)((()=>{const e=h.items.reduce(((e,t)=>e+t.quantity*t.unitPrice),0);g(e);const t=e*(v/100);y(t),N(e+t)}),[h.items,v]);const C=e=>{const{name:t,value:s}=e.target;m({...h,[t]:s})},S=(e,t,s)=>{const n=[...h.items];n[e]={...n[e],[t]:s},"quantity"!==t&&"unitPrice"!==t||(n[e].amount=n[e].quantity*n[e].unitPrice),m({...h,items:n})},k=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(e);return(0,sn.jsxs)("div",{className:"container-fluid py-4",children:[(0,sn.jsx)(Ob,{title:i?"Edit Invoice":"Create New Invoice",subtitle:i?h.invoiceNumber:"Create a new invoice",backButton:!0}),(0,sn.jsxs)("div",{className:"d-flex justify-content-end mb-4",children:[i&&(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsxs)(ir,{variant:"outline-primary",className:"me-2",onClick:()=>window.open(`/financial/invoices/${n}/print`,"_blank"),children:[(0,sn.jsx)(Rl,{className:"me-1"})," Print"]}),(0,sn.jsxs)(ir,{variant:"outline-success",className:"me-2",children:[(0,sn.jsx)(Kr,{className:"me-1"})," Send Email"]})]}),(0,sn.jsxs)(ir,{variant:"outline-secondary",onClick:()=>s("/financial/invoices"),children:[(0,sn.jsx)(co,{className:"me-1"})," Cancel"]})]}),(0,sn.jsxs)(Xi,{onSubmit:e=>{e.preventDefault(),l(!0),u(""),setTimeout((()=>{try{if(!h.customerId||!h.issueDate||!h.dueDate)throw new Error("Please fill in all required fields");if(h.items.some((e=>!e.description||e.quantity<=0)))throw new Error("Please fill in all item details correctly");console.log("Saving invoice:",h),c(!0),setTimeout((()=>{s("/financial/invoices")}),1500)}catch(e){u(e.message),l(!1)}}),1e3)},children:[o&&(0,sn.jsxs)(gi,{variant:"success",className:"mb-4",children:["Invoice ",i?"updated":"created"," successfully!"]}),d&&(0,sn.jsx)(gi,{variant:"danger",className:"mb-4",children:d}),(0,sn.jsxs)(yn,{children:[(0,sn.jsxs)(Nn,{lg:8,children:[(0,sn.jsxs)(Yn,{className:"shadow-sm mb-4",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white",children:(0,sn.jsx)("h5",{className:"mb-0",children:"Invoice Details"})}),(0,sn.jsxs)(Yn.Body,{children:[(0,sn.jsxs)(yn,{className:"mb-3",children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:[(0,sn.jsx)(rl,{className:"me-1"}),"Invoice Number"]}),(0,sn.jsx)(Xi.Control,{type:"text",name:"invoiceNumber",value:h.invoiceNumber,onChange:C,readOnly:!0})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Status"}),(0,sn.jsx)(Xi.Select,{name:"status",value:h.status,onChange:C,children:[{value:"draft",label:"Draft"},{value:"sent",label:"Sent"},{value:"viewed",label:"Viewed"},{value:"paid",label:"Paid"},{value:"cancelled",label:"Cancelled"}].map((e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value)))})]})})]}),(0,sn.jsx)(yn,{className:"mb-3",children:(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:[(0,sn.jsx)(Sr,{className:"me-1"}),"Customer ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsxs)(Xi.Select,{name:"customerId",value:h.customerId,onChange:C,required:!0,children:[(0,sn.jsx)("option",{value:"",children:"-- Select Customer --"}),p.map((e=>(0,sn.jsx)("option",{value:e.id,children:e.name},e.id)))]})]})})}),(0,sn.jsxs)(yn,{className:"mb-3",children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:[(0,sn.jsx)(kr,{className:"me-1"}),"Issue Date ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsx)(Xi.Control,{type:"date",name:"issueDate",value:h.issueDate,onChange:C,required:!0})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:[(0,sn.jsx)(kr,{className:"me-1"}),"Due Date ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsx)(Xi.Control,{type:"date",name:"dueDate",value:h.dueDate,onChange:C,required:!0})]})})]}),(0,sn.jsx)("hr",{}),(0,sn.jsx)("h5",{className:"mb-3",children:"Invoice Items"}),(0,sn.jsxs)(Uh,{responsive:!0,children:[(0,sn.jsx)("thead",{children:(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("th",{style:{width:"40%"},children:"Description"}),(0,sn.jsx)("th",{className:"text-center",children:"Quantity"}),(0,sn.jsx)("th",{className:"text-center",children:"Unit Price"}),(0,sn.jsx)("th",{className:"text-center",children:"Amount"}),(0,sn.jsx)("th",{style:{width:"60px"},children:"Actions"})]})}),(0,sn.jsx)("tbody",{children:h.items.map(((e,t)=>(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("td",{children:(0,sn.jsx)(Xi.Control,{type:"text",value:e.description,onChange:e=>S(t,"description",e.target.value),placeholder:"Item description",required:!0})}),(0,sn.jsx)("td",{children:(0,sn.jsx)(Xi.Control,{type:"number",value:e.quantity,onChange:e=>S(t,"quantity",parseInt(e.target.value)||0),min:"1",className:"text-center",required:!0})}),(0,sn.jsx)("td",{children:(0,sn.jsxs)(nr,{children:[(0,sn.jsx)(nr.Text,{children:"$"}),(0,sn.jsx)(Xi.Control,{type:"number",value:e.unitPrice,onChange:e=>S(t,"unitPrice",parseFloat(e.target.value)||0),min:"0",step:"0.01",className:"text-end",required:!0})]})}),(0,sn.jsx)("td",{className:"text-end",children:k(e.quantity*e.unitPrice)}),(0,sn.jsx)("td",{children:(0,sn.jsx)(ir,{variant:"outline-danger",size:"sm",onClick:()=>(e=>{if(h.items.length<=1)return;const t=h.items.filter(((t,s)=>s!==e));m({...h,items:t})})(t),disabled:h.items.length<=1,children:(0,sn.jsx)(Sl,{})})})]},t)))}),(0,sn.jsx)("tfoot",{children:(0,sn.jsx)("tr",{children:(0,sn.jsx)("td",{colSpan:"5",children:(0,sn.jsxs)(ir,{variant:"outline-primary",size:"sm",onClick:()=>{const e={id:h.items.length+1,description:"",quantity:1,unitPrice:0,amount:0};m({...h,items:[...h.items,e]})},children:[(0,sn.jsx)(Ol,{className:"me-1"})," Add Item"]})})})})]}),(0,sn.jsx)(yn,{className:"justify-content-end",children:(0,sn.jsxs)(Nn,{md:6,children:[(0,sn.jsxs)("div",{className:"d-flex justify-content-between mb-2",children:[(0,sn.jsx)("span",{children:"Subtotal:"}),(0,sn.jsx)("span",{children:k(f)})]}),(0,sn.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[(0,sn.jsx)("span",{children:"Tax Rate:"}),(0,sn.jsx)("div",{style:{width:"100px"},children:(0,sn.jsxs)(nr,{size:"sm",children:[(0,sn.jsx)(Xi.Control,{type:"number",value:v,onChange:e=>{j(parseFloat(e.target.value)||0)},min:"0",max:"100",step:"0.1",className:"text-end"}),(0,sn.jsx)(nr.Text,{children:"%"})]})})]}),(0,sn.jsxs)("div",{className:"d-flex justify-content-between mb-2",children:[(0,sn.jsx)("span",{children:"Tax Amount:"}),(0,sn.jsx)("span",{children:k(b)})]}),(0,sn.jsx)("hr",{}),(0,sn.jsxs)("div",{className:"d-flex justify-content-between mb-2 fw-bold",children:[(0,sn.jsx)("span",{children:"Total:"}),(0,sn.jsx)("span",{children:k(w)})]})]})})]})]}),(0,sn.jsxs)(Yn,{className:"shadow-sm mb-4",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white",children:(0,sn.jsx)("h5",{className:"mb-0",children:"Additional Information"})}),(0,sn.jsxs)(Yn.Body,{children:[(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Notes"}),(0,sn.jsx)(Xi.Control,{as:"textarea",rows:3,name:"notes",value:h.notes,onChange:C,placeholder:"Add notes to the customer (will appear on invoice)"})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Terms and Conditions"}),(0,sn.jsx)(Xi.Control,{as:"textarea",rows:3,name:"terms",value:h.terms,onChange:C,placeholder:"Payment terms and conditions"})]})]})]})]}),(0,sn.jsxs)(Nn,{lg:4,children:[(0,sn.jsxs)(Yn,{className:"shadow-sm mb-4",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white",children:(0,sn.jsx)("h5",{className:"mb-0",children:"Preview"})}),(0,sn.jsx)(Yn.Body,{className:"p-0",children:(0,sn.jsxs)("div",{className:"invoice-preview p-3",children:[(0,sn.jsxs)("div",{className:"text-center mb-4",children:[(0,sn.jsx)("h4",{children:"INVOICE"}),(0,sn.jsx)("div",{className:"text-muted",children:h.invoiceNumber})]}),(0,sn.jsxs)("div",{className:"row mb-4",children:[(0,sn.jsxs)("div",{className:"col-6",children:[(0,sn.jsx)("div",{className:"fw-bold mb-2",children:"From:"}),(0,sn.jsx)("div",{children:"Areti Alliance"}),(0,sn.jsx)("div",{children:"1201 West Peachtree St. NW"}),(0,sn.jsx)("div",{children:"Ste. 2300"}),(0,sn.jsx)("div",{children:"Atlanta, GA 30309"}),(0,sn.jsx)("div",{children:"info@aretialliance.com"})]}),(0,sn.jsxs)("div",{className:"col-6 text-end",children:[(0,sn.jsx)("div",{className:"fw-bold mb-2",children:"To:"}),(0,sn.jsx)("div",{children:(null===(e=p.find((e=>e.id===parseInt(h.customerId))))||void 0===e?void 0:e.name)||"Customer Name"}),(0,sn.jsx)("div",{children:(null===(t=p.find((e=>e.id===parseInt(h.customerId))))||void 0===t?void 0:t.email)||"customer@email.com"})]})]}),(0,sn.jsxs)("div",{className:"row mb-4",children:[(0,sn.jsxs)("div",{className:"col-6",children:[(0,sn.jsx)("div",{className:"fw-bold mb-2",children:"Invoice Date:"}),(0,sn.jsx)("div",{children:h.issueDate?new Date(h.issueDate).toLocaleDateString():"Issue Date"})]}),(0,sn.jsxs)("div",{className:"col-6 text-end",children:[(0,sn.jsx)("div",{className:"fw-bold mb-2",children:"Due Date:"}),(0,sn.jsx)("div",{children:h.dueDate?new Date(h.dueDate).toLocaleDateString():"Due Date"})]})]}),(0,sn.jsx)("hr",{}),(0,sn.jsxs)("table",{className:"table table-sm",children:[(0,sn.jsx)("thead",{className:"table-light",children:(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("th",{children:"Description"}),(0,sn.jsx)("th",{className:"text-center",children:"Qty"}),(0,sn.jsx)("th",{className:"text-end",children:"Price"}),(0,sn.jsx)("th",{className:"text-end",children:"Amount"})]})}),(0,sn.jsx)("tbody",{children:h.items.map(((e,t)=>(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("td",{children:e.description||"Item description"}),(0,sn.jsx)("td",{className:"text-center",children:e.quantity}),(0,sn.jsx)("td",{className:"text-end",children:k(e.unitPrice)}),(0,sn.jsx)("td",{className:"text-end",children:k(e.quantity*e.unitPrice)})]},t)))}),(0,sn.jsxs)("tfoot",{children:[(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("td",{colSpan:"3",className:"text-end",children:"Subtotal:"}),(0,sn.jsx)("td",{className:"text-end",children:k(f)})]}),(0,sn.jsxs)("tr",{children:[(0,sn.jsxs)("td",{colSpan:"3",className:"text-end",children:["Tax (",v,"%):"]}),(0,sn.jsx)("td",{className:"text-end",children:k(b)})]}),(0,sn.jsxs)("tr",{className:"fw-bold",children:[(0,sn.jsx)("td",{colSpan:"3",className:"text-end",children:"Total:"}),(0,sn.jsx)("td",{className:"text-end",children:k(w)})]})]})]}),(0,sn.jsx)("hr",{}),(0,sn.jsxs)("div",{className:"mb-3",children:[(0,sn.jsx)("div",{className:"fw-bold mb-2",children:"Notes:"}),(0,sn.jsx)("div",{className:"small",children:h.notes||"No notes"})]}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("div",{className:"fw-bold mb-2",children:"Terms and Conditions:"}),(0,sn.jsx)("div",{className:"small",children:h.terms||"No terms"})]})]})})]}),(0,sn.jsxs)(Yn,{className:"shadow-sm",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white",children:(0,sn.jsx)("h5",{className:"mb-0",children:"Help"})}),(0,sn.jsxs)(Yn.Body,{children:[(0,sn.jsxs)("p",{className:"small mb-2",children:[(0,sn.jsx)("strong",{children:"Required fields"})," are marked with ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsx)("p",{className:"small mb-2",children:"The invoice preview shows how your invoice will look when sent or printed."}),(0,sn.jsx)("p",{className:"small mb-0",children:"You can add as many items as needed and customize the tax rate."})]})]})]})]}),(0,sn.jsxs)("div",{className:"d-flex justify-content-between mt-4",children:[i&&(0,sn.jsxs)(ir,{variant:"outline-danger",onClick:()=>{window.confirm("Are you sure you want to delete this invoice?")&&s("/financial/invoices")},children:[(0,sn.jsx)(uo,{className:"me-1"})," Delete Invoice"]}),(0,sn.jsxs)("div",{className:"ms-auto",children:[(0,sn.jsx)(ir,{variant:"outline-secondary",className:"me-2",onClick:()=>s("/financial/invoices"),children:"Cancel"}),(0,sn.jsx)(ir,{variant:"primary",type:"submit",disabled:r,children:r?(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Saving..."]}):(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(Vl,{className:"me-1"})," ",i?"Update Invoice":"Create Invoice"]})})]})]})]})]})},yS=()=>{const e=ee(),[t,s]=(0,a.useState)([]),[n,i]=(0,a.useState)([]),[r,l]=(0,a.useState)(""),[o,c]=(0,a.useState)("all"),[d,u]=(0,a.useState)("all"),[h,m]=(0,a.useState)("all"),[p,x]=(0,a.useState)("list"),[f,g]=(0,a.useState)("date"),[v,j]=(0,a.useState)("desc"),[b,y]=(0,a.useState)(1),[w]=(0,a.useState)(10),[N,C]=(0,a.useState)(!1),[S,k]=(0,a.useState)(null),[D,_]=(0,a.useState)(!0),A=[{value:"fuel",label:"Fuel",color:"danger"},{value:"maintenance",label:"Vehicle Maintenance",color:"warning"},{value:"insurance",label:"Insurance",color:"info"},{value:"rent",label:"Rent",color:"dark"},{value:"utilities",label:"Utilities",color:"primary"},{value:"payroll",label:"Payroll",color:"success"},{value:"office",label:"Office Expenses",color:"secondary"},{value:"other",label:"Other",color:"light"}],T=[{value:"pending",label:"Pending",color:"warning"},{value:"approved",label:"Approved",color:"success"},{value:"rejected",label:"Rejected",color:"danger"},{value:"paid",label:"Paid",color:"info"}];(0,a.useEffect)((()=>{setTimeout((()=>{const e=new Date,t=[{id:1,description:"Fuel for delivery trucks",amount:450.75,category:"fuel",date:new Date(e.getFullYear(),e.getMonth(),e.getDate()-2),status:"paid",paymentMethod:"Company Card",vendor:"Shell Gas Station",receipt:!0,submittedBy:"Michael Rodriguez",approvedBy:"Admin User"},{id:2,description:"Office rent payment - May",amount:2500,category:"rent",date:new Date(e.getFullYear(),e.getMonth(),e.getDate()-5),status:"paid",paymentMethod:"Bank Transfer",vendor:"Highrise Properties",receipt:!0,submittedBy:"Admin User",approvedBy:"Admin User"},{id:3,description:"Vehicle maintenance - Fleet #3",amount:783.5,category:"maintenance",date:new Date(e.getFullYear(),e.getMonth(),e.getDate()-7),status:"paid",paymentMethod:"Company Card",vendor:"City Auto Service",receipt:!0,submittedBy:"David Wilson",approvedBy:"Admin User"},{id:4,description:"Office supplies",amount:124.37,category:"office",date:new Date(e.getFullYear(),e.getMonth(),e.getDate()-3),status:"paid",paymentMethod:"Company Card",vendor:"Office Supply Co.",receipt:!0,submittedBy:"Sarah Johnson",approvedBy:"Admin User"},{id:5,description:"Internet and phone service - May",amount:189.99,category:"utilities",date:new Date(e.getFullYear(),e.getMonth(),e.getDate()-10),status:"pending",paymentMethod:"Pending",vendor:"AT&T",receipt:!1,submittedBy:"Admin User",approvedBy:null},{id:6,description:"Driver training program",amount:750,category:"other",date:new Date(e.getFullYear(),e.getMonth(),e.getDate()-15),status:"approved",paymentMethod:"ACH Transfer",vendor:"Pro Drivers Training Academy",receipt:!0,submittedBy:"Admin User",approvedBy:"Admin User"},{id:7,description:"Vehicle insurance - Q2",amount:3650,category:"insurance",date:new Date(e.getFullYear(),e.getMonth(),e.getDate()-20),status:"paid",paymentMethod:"Bank Transfer",vendor:"SafeGuard Insurance",receipt:!0,submittedBy:"Admin User",approvedBy:"Admin User"},{id:8,description:"Fuel for delivery trucks",amount:385.25,category:"fuel",date:new Date(e.getFullYear(),e.getMonth(),e.getDate()-8),status:"paid",paymentMethod:"Company Card",vendor:"Shell Gas Station",receipt:!0,submittedBy:"Michael Rodriguez",approvedBy:"Admin User"},{id:9,description:"Software subscription - Fleet management",amount:299,category:"other",date:new Date(e.getFullYear(),e.getMonth(),e.getDate()),status:"pending",paymentMethod:"Pending",vendor:"FleetTrack Solutions",receipt:!1,submittedBy:"Admin User",approvedBy:null},{id:10,description:"Office cleaning service - April",amount:175,category:"office",date:new Date(e.getFullYear(),e.getMonth(),e.getDate()-25),status:"paid",paymentMethod:"ACH Transfer",vendor:"Clean Spaces Inc.",receipt:!0,submittedBy:"Admin User",approvedBy:"Admin User"}];s(t),i(t),_(!1)}),1e3)}),[]),(0,a.useEffect)((()=>{let e=[...t];"all"!==o&&(e=e.filter((e=>e.category===o))),"all"!==d&&(e=e.filter((e=>e.status===d)));const s=new Date;s.setHours(0,0,0,0);const n=new Date(s);n.setDate(s.getDate()-s.getDay());const a=new Date(s.getFullYear(),s.getMonth(),1),l=new Date(s.getFullYear(),s.getMonth()-1,1),c=new Date(s.getFullYear(),s.getMonth(),0),u=new Date(s.getFullYear(),3*Math.floor(s.getMonth()/3),1);switch(h){case"today":e=e.filter((e=>{const t=new Date(e.date);return t.setHours(0,0,0,0),t.getTime()===s.getTime()}));break;case"this-week":e=e.filter((e=>{const t=new Date(e.date);return t>=n&&t<s.getTime()+864e5}));break;case"this-month":e=e.filter((e=>{const t=new Date(e.date);return t>=a&&t<s.getTime()+864e5}));break;case"last-month":e=e.filter((e=>{const t=new Date(e.date);return t>=l&&t<=c}));break;case"this-quarter":e=e.filter((e=>{const t=new Date(e.date);return t>=u&&t<s.getTime()+864e5}))}if(r){const t=r.toLowerCase();e=e.filter((e=>e.description.toLowerCase().includes(t)||e.vendor.toLowerCase().includes(t)||e.submittedBy.toLowerCase().includes(t)))}e.sort(((e,t)=>{let s=e[f],n=t[f];return s instanceof Date&&n instanceof Date?"asc"===v?s-n:n-s:"string"===typeof s&&"string"===typeof n?"asc"===v?s.localeCompare(n):n.localeCompare(s):"asc"===v?s-n:n-s})),i(e)}),[t,r,o,d,h,f,v]);const E=b*w,L=E-w,M=n.slice(L,E),I=Math.ceil(n.length/w),P=e=>{y(e)},O=e=>{f===e?j("asc"===v?"desc":"asc"):(g(e),j("asc"))},R=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",F=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),z=e=>{const t=A.find((t=>t.value===e));return t?(0,sn.jsx)(Cb,{bg:t.color,className:"text-uppercase",children:t.label}):null},B=e=>{const t=T.find((t=>t.value===e));return t?(0,sn.jsx)(Cb,{bg:t.color,className:"text-uppercase",children:t.label}):null},$=()=>{e("/financial/expenses/new")};return(0,sn.jsxs)("div",{className:"container-fluid py-4",children:[(0,sn.jsx)(Ob,{title:"Expenses",backButton:!1}),(0,sn.jsxs)("div",{className:"d-flex justify-content-end mb-4",children:[(0,sn.jsxs)(ir,{variant:"outline-primary",className:"me-2",onClick:()=>e("/financial/expenses/reports"),children:[(0,sn.jsx)(Tr,{className:"me-1"})," Expense Reports"]}),(0,sn.jsxs)(ir,{variant:"outline-success",className:"me-2",onClick:()=>{},children:[(0,sn.jsx)(Gr,{className:"me-1"})," Export"]}),(0,sn.jsxs)(ir,{variant:"primary",onClick:$,children:[(0,sn.jsx)(Ol,{className:"me-1"})," Record Expense"]})]}),(()=>{const e={totalExpenses:t.length,totalAmount:t.reduce(((e,t)=>e+t.amount),0),pendingExpenses:t.filter((e=>"pending"===e.status)).length,pendingAmount:t.filter((e=>"pending"===e.status)).reduce(((e,t)=>e+t.amount),0),thisMonthAmount:t.filter((e=>new Date(e.date)>=new Date((new Date).getFullYear(),(new Date).getMonth(),1))).reduce(((e,t)=>e+t.amount),0)};return(0,sn.jsxs)(yn,{className:"mb-4",children:[(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsx)(Yn,{className:"border-0 shadow-sm h-100",children:(0,sn.jsxs)(Yn.Body,{className:"d-flex align-items-center",children:[(0,sn.jsx)("div",{className:"icon-wrapper bg-primary bg-opacity-10 rounded p-3 me-3",children:(0,sn.jsx)(Dl,{className:"text-primary",size:24})}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("h6",{className:"text-muted mb-1",children:"Total Expenses"}),(0,sn.jsx)("h3",{className:"mb-0",children:e.totalExpenses})]})]})})}),(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsx)(Yn,{className:"border-0 shadow-sm h-100",children:(0,sn.jsxs)(Yn.Body,{className:"d-flex align-items-center",children:[(0,sn.jsx)("div",{className:"icon-wrapper bg-danger bg-opacity-10 rounded p-3 me-3",children:(0,sn.jsx)(Dl,{className:"text-danger",size:24})}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("h6",{className:"text-muted mb-1",children:"Total Amount"}),(0,sn.jsx)("h3",{className:"mb-0",children:F(e.totalAmount)})]})]})})}),(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsx)(Yn,{className:"border-0 shadow-sm h-100",children:(0,sn.jsxs)(Yn.Body,{className:"d-flex align-items-center",children:[(0,sn.jsx)("div",{className:"icon-wrapper bg-info bg-opacity-10 rounded p-3 me-3",children:(0,sn.jsx)(Dl,{className:"text-info",size:24})}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("h6",{className:"text-muted mb-1",children:"This Month"}),(0,sn.jsx)("h3",{className:"mb-0",children:F(e.thisMonthAmount)})]})]})})}),(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsx)(Yn,{className:"border-0 shadow-sm h-100",children:(0,sn.jsxs)(Yn.Body,{className:"d-flex align-items-center",children:[(0,sn.jsx)("div",{className:"icon-wrapper bg-warning bg-opacity-10 rounded p-3 me-3",children:(0,sn.jsx)(Dl,{className:"text-warning",size:24})}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("h6",{className:"text-muted mb-1",children:"Pending Approval"}),(0,sn.jsx)("h3",{className:"mb-0",children:F(e.pendingAmount)})]})]})})})]})})(),(0,sn.jsx)(Yn,{className:"shadow-sm mb-4",children:(0,sn.jsxs)(Yn.Body,{children:[(0,sn.jsxs)(yn,{className:"mb-3",children:[(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsxs)(nr,{children:[(0,sn.jsx)(nr.Text,{children:(0,sn.jsx)(Ul,{})}),(0,sn.jsx)(Xi.Control,{placeholder:"Search expenses...",value:r,onChange:e=>l(e.target.value)})]})}),(0,sn.jsx)(Nn,{md:2,children:(0,sn.jsxs)(nr,{children:[(0,sn.jsx)(nr.Text,{children:(0,sn.jsx)(ol,{})}),(0,sn.jsxs)(Xi.Select,{value:o,onChange:e=>c(e.target.value),children:[(0,sn.jsx)("option",{value:"all",children:"All Categories"}),A.map((e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value)))]})]})}),(0,sn.jsx)(Nn,{md:2,children:(0,sn.jsxs)(nr,{children:[(0,sn.jsx)(nr.Text,{children:(0,sn.jsx)(ol,{})}),(0,sn.jsxs)(Xi.Select,{value:d,onChange:e=>u(e.target.value),children:[(0,sn.jsx)("option",{value:"all",children:"All Statuses"}),T.map((e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value)))]})]})}),(0,sn.jsx)(Nn,{md:2,children:(0,sn.jsxs)(nr,{children:[(0,sn.jsx)(nr.Text,{children:(0,sn.jsx)(kr,{})}),(0,sn.jsx)(Xi.Select,{value:h,onChange:e=>m(e.target.value),children:[{value:"all",label:"All Dates"},{value:"today",label:"Today"},{value:"this-week",label:"This Week"},{value:"this-month",label:"This Month"},{value:"last-month",label:"Last Month"},{value:"this-quarter",label:"This Quarter"},{value:"custom",label:"Custom Range"}].map((e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value)))})]})}),(0,sn.jsx)(Nn,{md:2,children:(0,sn.jsx)(ir,{variant:"outline-secondary",className:"w-100",onClick:()=>{l(""),c("all"),u("all"),m("all")},children:"Clear Filters"})}),(0,sn.jsx)(Nn,{md:1,className:"d-flex justify-content-end",children:(0,sn.jsxs)("div",{className:"btn-group",children:[(0,sn.jsx)(ir,{variant:"list"===p?"primary":"outline-primary",onClick:()=>x("list"),children:(0,sn.jsx)(jl,{})}),(0,sn.jsx)(ir,{variant:"grid"===p?"primary":"outline-primary",onClick:()=>x("grid"),children:(0,sn.jsx)(lo,{})})]})})]}),D?(0,sn.jsxs)("div",{className:"text-center py-5",children:[(0,sn.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,sn.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,sn.jsx)("p",{className:"mt-3",children:"Loading expenses..."})]}):(0,sn.jsxs)(sn.Fragment,{children:[0===n.length?(0,sn.jsxs)("div",{className:"text-center py-5",children:[(0,sn.jsx)("p",{className:"text-muted mb-3",children:"No expenses found matching your filters."}),(0,sn.jsxs)(ir,{variant:"primary",onClick:$,children:[(0,sn.jsx)(Ol,{className:"me-1"})," Record Expense"]})]}):"list"===p?(0,sn.jsx)("div",{className:"table-responsive",children:(0,sn.jsxs)(Uh,{hover:!0,className:"align-middle",children:[(0,sn.jsx)("thead",{children:(0,sn.jsxs)("tr",{children:[(0,sn.jsxs)("th",{onClick:()=>O("description"),style:{cursor:"pointer"},children:["Description ","description"===f&&(0,sn.jsx)(Jl,{className:"ms-1 text-"+("asc"===v?"muted":"dark")})]}),(0,sn.jsxs)("th",{onClick:()=>O("category"),style:{cursor:"pointer"},children:["Category ","category"===f&&(0,sn.jsx)(Jl,{className:"ms-1 text-"+("asc"===v?"muted":"dark")})]}),(0,sn.jsxs)("th",{onClick:()=>O("amount"),style:{cursor:"pointer",whiteSpace:"nowrap"},children:["Amount ","amount"===f&&(0,sn.jsx)(Jl,{className:"ms-1 text-"+("asc"===v?"muted":"dark")})]}),(0,sn.jsxs)("th",{onClick:()=>O("date"),style:{cursor:"pointer",whiteSpace:"nowrap"},children:["Date ","date"===f&&(0,sn.jsx)(Jl,{className:"ms-1 text-"+("asc"===v?"muted":"dark")})]}),(0,sn.jsx)("th",{children:"Vendor"}),(0,sn.jsxs)("th",{onClick:()=>O("status"),style:{cursor:"pointer"},children:["Status ","status"===f&&(0,sn.jsx)(Jl,{className:"ms-1 text-"+("asc"===v?"muted":"dark")})]}),(0,sn.jsx)("th",{children:"Receipt"}),(0,sn.jsx)("th",{children:"Actions"})]})}),(0,sn.jsx)("tbody",{children:M.map((e=>(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("td",{children:(0,sn.jsx)(Le,{to:`/financial/expenses/${e.id}`,className:"text-decoration-none",children:e.description})}),(0,sn.jsx)("td",{children:z(e.category)}),(0,sn.jsx)("td",{className:"fw-bold",children:F(e.amount)}),(0,sn.jsx)("td",{style:{whiteSpace:"nowrap"},children:R(e.date)}),(0,sn.jsx)("td",{children:e.vendor}),(0,sn.jsx)("td",{children:B(e.status)}),(0,sn.jsx)("td",{children:e.receipt?(0,sn.jsx)(Fl,{className:"text-success",title:"Receipt Attached"}):(0,sn.jsx)("span",{className:"text-muted",children:"-"})}),(0,sn.jsx)("td",{children:(0,sn.jsxs)(Bh,{children:[(0,sn.jsx)(Bh.Toggle,{variant:"light",size:"sm",id:`dropdown-${e.id}`,children:(0,sn.jsx)(Yr,{})}),(0,sn.jsxs)(Bh.Menu,{children:[(0,sn.jsxs)(Bh.Item,{as:Le,to:`/financial/expenses/${e.id}`,children:[(0,sn.jsx)(Dl,{className:"me-2"})," View Details"]}),(0,sn.jsxs)(Bh.Item,{as:Le,to:`/financial/expenses/${e.id}/edit`,children:[(0,sn.jsx)(Ll,{className:"me-2"})," Edit"]}),"pending"===e.status&&(0,sn.jsxs)(Bh.Item,{children:[(0,sn.jsx)(Pr,{className:"me-2"})," Approve"]}),(0,sn.jsx)(Bh.Divider,{}),(0,sn.jsxs)(Bh.Item,{className:"text-danger",onClick:()=>(e=>{k(e),C(!0)})(e),children:[(0,sn.jsx)(uo,{className:"me-2"})," Delete"]})]})]})})]},e.id)))})]})}):(0,sn.jsx)(yn,{children:M.map((e=>(0,sn.jsx)(Nn,{md:4,className:"mb-4",children:(0,sn.jsxs)(Yn,{className:"h-100 shadow-sm border-top-0 border-end-0 border-bottom-0 border-3  border-start-0",children:[(0,sn.jsxs)(Yn.Header,{className:"d-flex justify-content-between align-items-center bg-white",children:[(0,sn.jsx)("div",{children:z(e.category)}),B(e.status)]}),(0,sn.jsxs)(Yn.Body,{children:[(0,sn.jsx)("h5",{className:"mb-3 text-truncate",title:e.description,children:e.description}),(0,sn.jsxs)("div",{className:"mb-3",children:[(0,sn.jsx)("div",{className:"text-muted small",children:"Vendor"}),(0,sn.jsx)("div",{children:e.vendor})]}),(0,sn.jsxs)("div",{className:"d-flex justify-content-between mb-3",children:[(0,sn.jsxs)("div",{children:[(0,sn.jsx)("div",{className:"text-muted small",children:"Date"}),(0,sn.jsx)("div",{children:R(e.date)})]}),(0,sn.jsxs)("div",{className:"text-end",children:[(0,sn.jsx)("div",{className:"text-muted small",children:"Amount"}),(0,sn.jsx)("div",{className:"fw-bold",children:F(e.amount)})]})]}),(0,sn.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,sn.jsxs)("div",{children:[(0,sn.jsx)("div",{className:"text-muted small",children:"Submitted By"}),(0,sn.jsx)("div",{children:e.submittedBy})]}),(0,sn.jsxs)("div",{className:"text-end",children:[(0,sn.jsx)("div",{className:"text-muted small",children:"Receipt"}),(0,sn.jsx)("div",{children:e.receipt?(0,sn.jsx)(Fl,{className:"text-success",title:"Receipt Attached"}):(0,sn.jsx)("span",{className:"text-muted",children:"Not Attached"})})]})]})]}),(0,sn.jsx)(Yn.Footer,{className:"bg-white",children:(0,sn.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,sn.jsx)(ir,{as:Le,to:`/financial/expenses/${e.id}`,variant:"outline-primary",size:"sm",children:"View"}),(0,sn.jsx)(ir,{as:Le,to:`/financial/expenses/${e.id}/edit`,variant:"outline-secondary",size:"sm",children:"Edit"}),"pending"===e.status&&(0,sn.jsx)(ir,{variant:"outline-success",size:"sm",children:"Approve"})]})})]})},e.id)))}),(()=>{if(I<=1)return null;const e=[];for(let t=1;t<=I;t++)e.push((0,sn.jsx)(Ib.Item,{active:t===b,onClick:()=>P(t),children:t},t));return(0,sn.jsxs)(Ib,{className:"justify-content-center",children:[(0,sn.jsx)(Ib.Prev,{onClick:()=>P(Math.max(1,b-1)),disabled:1===b}),e,(0,sn.jsx)(Ib.Next,{onClick:()=>P(Math.min(I,b+1)),disabled:b===I})]})})()]})]})}),(0,sn.jsxs)(yy,{show:N,onHide:()=>C(!1),children:[(0,sn.jsx)(yy.Header,{closeButton:!0,children:(0,sn.jsx)(yy.Title,{children:"Confirm Delete"})}),(0,sn.jsxs)(yy.Body,{children:["Are you sure you want to delete this expense for ",(0,sn.jsx)("strong",{children:null===S||void 0===S?void 0:S.description}),"?",(0,sn.jsx)("div",{className:"mt-3 text-danger",children:"This action cannot be undone."})]}),(0,sn.jsxs)(yy.Footer,{children:[(0,sn.jsx)(ir,{variant:"secondary",onClick:()=>C(!1),children:"Cancel"}),(0,sn.jsx)(ir,{variant:"danger",onClick:()=>{S&&(s(t.filter((e=>e.id!==S.id))),C(!1),k(null))},children:"Delete Expense"})]})]})]})},wS=()=>{const e=ee(),[t,s]=(0,a.useState)([]),[n,i]=(0,a.useState)(!0),[r,l]=(0,a.useState)(!1),[o,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(!1),[h,m]=(0,a.useState)(null),[p,x]=(0,a.useState)({fromAccount:"",toAccount:"",amount:"",description:""}),[f,g]=(0,a.useState)({name:"",type:"checking",balance:"",institution:"",accountNumber:"",description:""}),v=[{value:"checking",label:"Checking",color:"primary"},{value:"savings",label:"Savings",color:"success"},{value:"credit",label:"Credit Card",color:"danger"},{value:"loan",label:"Loan",color:"warning"},{value:"investment",label:"Investment",color:"info"},{value:"other",label:"Other",color:"secondary"}];(0,a.useEffect)((()=>{setTimeout((()=>{const e=[{id:1,name:"Business Checking",type:"checking",balance:125000.75,institution:"Bank of America",accountNumber:"******1234",description:"Main operational account",lastTransaction:new Date((new Date).setDate((new Date).getDate()-1)),isReconciled:!0},{id:2,name:"Business Savings",type:"savings",balance:75e3,institution:"Bank of America",accountNumber:"******5678",description:"Emergency fund and reserves",lastTransaction:new Date((new Date).setDate((new Date).getDate()-5)),isReconciled:!0},{id:3,name:"Company Credit Card",type:"credit",balance:-4250.85,institution:"American Express",accountNumber:"******9012",description:"Primary business expenses",lastTransaction:new Date((new Date).setDate((new Date).getDate()-2)),isReconciled:!1},{id:4,name:"Vehicle Loan",type:"loan",balance:-85e3,institution:"Motor Finance Co.",accountNumber:"******3456",description:"Fleet vehicle loans",lastTransaction:new Date((new Date).setDate((new Date).getDate()-15)),isReconciled:!0},{id:5,name:"Tax Reserve",type:"savings",balance:35e3,institution:"Bank of America",accountNumber:"******7890",description:"Reserved for quarterly tax payments",lastTransaction:new Date((new Date).setDate((new Date).getDate()-20)),isReconciled:!0},{id:6,name:"Payroll Account",type:"checking",balance:42500,institution:"Wells Fargo",accountNumber:"******2468",description:"Dedicated for payroll transactions",lastTransaction:new Date((new Date).setDate((new Date).getDate()-7)),isReconciled:!0}];s(e),i(!1)}),1e3)}),[]);const j=e=>{const t=e<0;return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",signDisplay:t?"never":"auto"}).format(Math.abs(e))},b=e=>{const t=v.find((t=>t.value===e));return t?(0,sn.jsx)(Cb,{bg:t.color,className:"text-uppercase",children:t.label}):null},y=e=>{const{name:t,value:s}=e.target;x({...p,[t]:s})},w=e=>{const{name:t,value:s}=e.target;g({...f,[t]:s})},N=()=>{g({name:"",type:"checking",balance:"",institution:"",accountNumber:"",description:""}),u(!0)},C=(()=>{const e=t.filter((e=>e.balance>0)).reduce(((e,t)=>e+t.balance),0),s=t.filter((e=>e.balance<0)).reduce(((e,t)=>e+Math.abs(t.balance)),0);return{totalAssets:e,totalLiabilities:s,netWorth:e-s}})();return(0,sn.jsxs)("div",{className:"container-fluid py-4",children:[(0,sn.jsx)(Ob,{title:"Accounts",backButton:!1}),(0,sn.jsxs)("div",{className:"d-flex justify-content-end mb-4",children:[(0,sn.jsxs)(ir,{variant:"outline-primary",className:"me-2",onClick:()=>l(!0),children:[(0,sn.jsx)(Jr,{className:"me-1"})," Transfer Funds"]}),(0,sn.jsxs)(ir,{variant:"primary",onClick:N,children:[(0,sn.jsx)(Ol,{className:"me-1"})," Add Account"]})]}),(0,sn.jsxs)(yn,{className:"mb-4",children:[(0,sn.jsx)(Nn,{md:4,children:(0,sn.jsx)(Yn,{className:"border-0 shadow-sm h-100",children:(0,sn.jsxs)(Yn.Body,{className:"d-flex align-items-center",children:[(0,sn.jsx)("div",{className:"icon-wrapper bg-success bg-opacity-10 rounded p-3 me-3",children:(0,sn.jsx)(Dl,{className:"text-success",size:24})}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("h6",{className:"text-muted mb-1",children:"Total Assets"}),(0,sn.jsx)("h3",{className:"mb-0 text-success",children:j(C.totalAssets)})]})]})})}),(0,sn.jsx)(Nn,{md:4,children:(0,sn.jsx)(Yn,{className:"border-0 shadow-sm h-100",children:(0,sn.jsxs)(Yn.Body,{className:"d-flex align-items-center",children:[(0,sn.jsx)("div",{className:"icon-wrapper bg-danger bg-opacity-10 rounded p-3 me-3",children:(0,sn.jsx)(Dl,{className:"text-danger",size:24})}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("h6",{className:"text-muted mb-1",children:"Total Liabilities"}),(0,sn.jsx)("h3",{className:"mb-0 text-danger",children:j(C.totalLiabilities)})]})]})})}),(0,sn.jsx)(Nn,{md:4,children:(0,sn.jsx)(Yn,{className:"border-0 shadow-sm h-100",children:(0,sn.jsxs)(Yn.Body,{className:"d-flex align-items-center",children:[(0,sn.jsx)("div",{className:"icon-wrapper bg-primary bg-opacity-10 rounded p-3 me-3",children:(0,sn.jsx)(Dl,{className:"text-primary",size:24})}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("h6",{className:"text-muted mb-1",children:"Net Worth"}),(0,sn.jsx)("h3",{className:"mb-0 "+(C.netWorth>=0?"text-success":"text-danger"),children:j(C.netWorth)})]})]})})})]}),(0,sn.jsx)(Yn,{className:"shadow-sm mb-4",children:(0,sn.jsx)(Yn.Body,{children:n?(0,sn.jsxs)("div",{className:"text-center py-5",children:[(0,sn.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,sn.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,sn.jsx)("p",{className:"mt-3",children:"Loading accounts..."})]}):(0,sn.jsx)(sn.Fragment,{children:0===t.length?(0,sn.jsxs)("div",{className:"text-center py-5",children:[(0,sn.jsx)("p",{className:"text-muted mb-3",children:"No accounts found."}),(0,sn.jsxs)(ir,{variant:"primary",onClick:N,children:[(0,sn.jsx)(Ol,{className:"me-1"})," Add Account"]})]}):(0,sn.jsx)("div",{className:"table-responsive",children:(0,sn.jsxs)(Uh,{hover:!0,className:"align-middle",children:[(0,sn.jsx)("thead",{children:(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("th",{children:"Account Name"}),(0,sn.jsx)("th",{children:"Type"}),(0,sn.jsx)("th",{children:"Institution"}),(0,sn.jsx)("th",{children:"Balance"}),(0,sn.jsx)("th",{children:"Last Transaction"}),(0,sn.jsx)("th",{children:"Status"}),(0,sn.jsx)("th",{children:"Actions"})]})}),(0,sn.jsx)("tbody",{children:t.map((n=>{return(0,sn.jsxs)("tr",{children:[(0,sn.jsxs)("td",{children:[(0,sn.jsx)("div",{className:"fw-bold",children:n.name}),(0,sn.jsx)("div",{className:"text-muted small",children:n.description})]}),(0,sn.jsx)("td",{children:b(n.type)}),(0,sn.jsxs)("td",{children:[(0,sn.jsx)("div",{children:n.institution}),(0,sn.jsx)("div",{className:"text-muted small",children:n.accountNumber})]}),(0,sn.jsxs)("td",{className:"fw-bold "+(n.balance>=0?"text-success":"text-danger"),children:[n.balance>=0?"":"-",j(Math.abs(n.balance))]}),(0,sn.jsx)("td",{style:{whiteSpace:"nowrap"},children:(a=n.lastTransaction,a?new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A")}),(0,sn.jsx)("td",{children:n.isReconciled?(0,sn.jsx)(Cb,{bg:"success",children:"Reconciled"}):(0,sn.jsx)(Cb,{bg:"warning",children:"Pending"})}),(0,sn.jsxs)("td",{children:[(0,sn.jsx)(ir,{variant:"outline-primary",size:"sm",className:"me-1",onClick:()=>{return t=n.id,void e(`/financial/accounts/${t}/transactions`);var t},children:(0,sn.jsx)(ul,{})}),(0,sn.jsx)(ir,{variant:"outline-secondary",size:"sm",className:"me-1",onClick:()=>(e=>{m(e),g({name:e.name,type:e.type,balance:e.balance.toString(),institution:e.institution,accountNumber:e.accountNumber,description:e.description}),c(!0)})(n),children:(0,sn.jsx)(Ll,{})}),(0,sn.jsx)(ir,{variant:"outline-danger",size:"sm",onClick:()=>{return e=n.id,void(window.confirm("Are you sure you want to delete this account? This action cannot be undone.")&&s(t.filter((t=>t.id!==e))));var e},children:(0,sn.jsx)(uo,{})})]})]},n.id);var a}))})]})})})})}),(0,sn.jsx)(yy,{show:r,onHide:()=>l(!1),children:(0,sn.jsxs)(Xi,{onSubmit:e=>{if(e.preventDefault(),!p.fromAccount||!p.toAccount||!p.amount)return;const n=[...t],a=n.find((e=>e.id===parseInt(p.fromAccount))),i=n.find((e=>e.id===parseInt(p.toAccount)));if(a&&i){const e=parseFloat(p.amount);a.balance-=e,i.balance+=e;const t=new Date;a.lastTransaction=t,i.lastTransaction=t,s(n),x({fromAccount:"",toAccount:"",amount:"",description:""}),l(!1)}},children:[(0,sn.jsx)(yy.Header,{closeButton:!0,children:(0,sn.jsx)(yy.Title,{children:"Transfer Funds"})}),(0,sn.jsxs)(yy.Body,{children:[(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"From Account"}),(0,sn.jsxs)(Xi.Select,{name:"fromAccount",value:p.fromAccount,onChange:y,required:!0,children:[(0,sn.jsx)("option",{value:"",children:"-- Select Account --"}),t.map((e=>(0,sn.jsxs)("option",{value:e.id,children:[e.name," (",j(e.balance),")"]},e.id)))]})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"To Account"}),(0,sn.jsxs)(Xi.Select,{name:"toAccount",value:p.toAccount,onChange:y,required:!0,children:[(0,sn.jsx)("option",{value:"",children:"-- Select Account --"}),t.map((e=>(0,sn.jsxs)("option",{value:e.id,disabled:e.id===parseInt(p.fromAccount),children:[e.name," (",j(e.balance),")"]},e.id)))]})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Amount"}),(0,sn.jsxs)("div",{className:"input-group",children:[(0,sn.jsx)("span",{className:"input-group-text",children:"$"}),(0,sn.jsx)(Xi.Control,{type:"number",step:"0.01",min:"0.01",name:"amount",value:p.amount,onChange:y,required:!0})]})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Description"}),(0,sn.jsx)(Xi.Control,{as:"textarea",rows:2,name:"description",value:p.description,onChange:y,placeholder:"Transfer description (optional)"})]})]}),(0,sn.jsxs)(yy.Footer,{children:[(0,sn.jsx)(ir,{variant:"secondary",onClick:()=>l(!1),children:"Cancel"}),(0,sn.jsx)(ir,{variant:"primary",type:"submit",children:"Transfer Funds"})]})]})}),(0,sn.jsx)(yy,{show:o,onHide:()=>c(!1),children:(0,sn.jsxs)(Xi,{onSubmit:e=>{if(e.preventDefault(),!f.name||!f.balance)return;const n=t.map((e=>e.id===h.id?{...e,name:f.name,type:f.type,balance:parseFloat(f.balance),institution:f.institution,accountNumber:f.accountNumber,description:f.description}:e));s(n),g({name:"",type:"checking",balance:"",institution:"",accountNumber:"",description:""}),m(null),c(!1)},children:[(0,sn.jsx)(yy.Header,{closeButton:!0,children:(0,sn.jsx)(yy.Title,{children:"Edit Account"})}),(0,sn.jsxs)(yy.Body,{children:[(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Account Name"}),(0,sn.jsx)(Xi.Control,{type:"text",name:"name",value:f.name,onChange:w,required:!0})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Account Type"}),(0,sn.jsx)(Xi.Select,{name:"type",value:f.type,onChange:w,required:!0,children:v.map((e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value)))})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Institution"}),(0,sn.jsx)(Xi.Control,{type:"text",name:"institution",value:f.institution,onChange:w})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Account Number"}),(0,sn.jsx)(Xi.Control,{type:"text",name:"accountNumber",value:f.accountNumber,onChange:w})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Current Balance"}),(0,sn.jsxs)("div",{className:"input-group",children:[(0,sn.jsx)("span",{className:"input-group-text",children:"$"}),(0,sn.jsx)(Xi.Control,{type:"number",step:"0.01",name:"balance",value:f.balance,onChange:w,required:!0})]})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Description"}),(0,sn.jsx)(Xi.Control,{as:"textarea",rows:2,name:"description",value:f.description,onChange:w,placeholder:"Account description (optional)"})]})]}),(0,sn.jsxs)(yy.Footer,{children:[(0,sn.jsx)(ir,{variant:"secondary",onClick:()=>c(!1),children:"Cancel"}),(0,sn.jsx)(ir,{variant:"primary",type:"submit",children:"Save Changes"})]})]})}),(0,sn.jsx)(yy,{show:d,onHide:()=>u(!1),children:(0,sn.jsxs)(Xi,{onSubmit:e=>{if(e.preventDefault(),!f.name||!f.balance)return;const n={id:Math.max(...t.map((e=>e.id)),0)+1,name:f.name,type:f.type,balance:parseFloat(f.balance),institution:f.institution,accountNumber:f.accountNumber,description:f.description,lastTransaction:new Date,isReconciled:!0};s([...t,n]),g({name:"",type:"checking",balance:"",institution:"",accountNumber:"",description:""}),u(!1)},children:[(0,sn.jsx)(yy.Header,{closeButton:!0,children:(0,sn.jsx)(yy.Title,{children:"Add New Account"})}),(0,sn.jsxs)(yy.Body,{children:[(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Account Name"}),(0,sn.jsx)(Xi.Control,{type:"text",name:"name",value:f.name,onChange:w,required:!0})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Account Type"}),(0,sn.jsx)(Xi.Select,{name:"type",value:f.type,onChange:w,required:!0,children:v.map((e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value)))})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Institution"}),(0,sn.jsx)(Xi.Control,{type:"text",name:"institution",value:f.institution,onChange:w})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Account Number"}),(0,sn.jsx)(Xi.Control,{type:"text",name:"accountNumber",value:f.accountNumber,onChange:w,placeholder:"Last 4 digits will be displayed"})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Initial Balance"}),(0,sn.jsxs)("div",{className:"input-group",children:[(0,sn.jsx)("span",{className:"input-group-text",children:"$"}),(0,sn.jsx)(Xi.Control,{type:"number",step:"0.01",name:"balance",value:f.balance,onChange:w,required:!0})]}),(0,sn.jsx)(Xi.Text,{className:"text-muted",children:"Use negative values for credit cards and loans."})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Description"}),(0,sn.jsx)(Xi.Control,{as:"textarea",rows:2,name:"description",value:f.description,onChange:w,placeholder:"Account description (optional)"})]})]}),(0,sn.jsxs)(yy.Footer,{children:[(0,sn.jsx)(ir,{variant:"secondary",onClick:()=>u(!1),children:"Cancel"}),(0,sn.jsx)(ir,{variant:"primary",type:"submit",children:"Add Account"})]})]})})]})},NS=()=>{var e,t,s;const n=ee(),{id:i}=se(),r=!!i,[l,o]=(0,a.useState)(!1),[c,d]=(0,a.useState)(!1),[u,h]=(0,a.useState)(""),[m,p]=(0,a.useState)(null),[x,f]=(0,a.useState)(""),[g,v]=(0,a.useState)({description:"",amount:"",category:"",date:"",status:"pending",paymentMethod:"",vendor:"",receipt:!1,submittedBy:"",notes:""}),j=[{value:"fuel",label:"Fuel"},{value:"maintenance",label:"Vehicle Maintenance"},{value:"insurance",label:"Insurance"},{value:"rent",label:"Rent"},{value:"utilities",label:"Utilities"},{value:"payroll",label:"Payroll"},{value:"office",label:"Office Expenses"},{value:"other",label:"Other"}],b=[{value:"pending",label:"Pending"},{value:"approved",label:"Approved"},{value:"rejected",label:"Rejected"},{value:"paid",label:"Paid"}],y=[{value:"cash",label:"Cash"},{value:"creditCard",label:"Company Card"},{value:"bankTransfer",label:"Bank Transfer"},{value:"check",label:"Check"},{value:"paypal",label:"PayPal"},{value:"other",label:"Other"}];(0,a.useEffect)((()=>{if(r)o(!0),setTimeout((()=>{const e={id:parseInt(i),description:"Fuel for delivery trucks",amount:450.75,category:"fuel",date:(new Date).toISOString().split("T")[0],status:"paid",paymentMethod:"creditCard",vendor:"Shell Gas Station",receipt:!0,submittedBy:"Michael Rodriguez",notes:"Regular refueling for fleet vehicles"};v(e),o(!1)}),1e3);else{const e=(new Date).toISOString().split("T")[0];v((t=>({...t,date:e,submittedBy:"Current User"})))}}),[i,r]);const w=e=>{const{name:t,value:s,type:n,checked:a}=e.target;v("checkbox"===n?{...g,[t]:a}:{...g,[t]:s})};return(0,sn.jsxs)("div",{className:"container-fluid py-4",children:[(0,sn.jsx)(Ob,{title:r?"Edit Expense":"Record New Expense",subtitle:r?g.description:"Create a new expense record",backButton:!0}),(0,sn.jsxs)(Xi,{onSubmit:e=>{if(e.preventDefault(),o(!0),h(""),!g.description||!g.amount||!g.category||!g.date||!g.vendor)return h("Please fill out all required fields"),void o(!1);setTimeout((()=>{try{console.log("Saving expense:",g),console.log("Receipt file:",m),d(!0),setTimeout((()=>{n("/financial/expenses")}),1500)}catch(e){h(e.message||"An error occurred while saving the expense"),o(!1)}}),1e3)},children:[c&&(0,sn.jsxs)(gi,{variant:"success",className:"mb-4",children:["Expense ",r?"updated":"recorded"," successfully!"]}),u&&(0,sn.jsx)(gi,{variant:"danger",className:"mb-4",children:u}),(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{lg:8,children:(0,sn.jsxs)(Yn,{className:"shadow-sm mb-4",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white",children:(0,sn.jsx)("h5",{className:"mb-0",children:"Expense Details"})}),(0,sn.jsxs)(Yn.Body,{children:[(0,sn.jsx)(yn,{className:"mb-3",children:(0,sn.jsx)(Nn,{md:12,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:["Description ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsx)(Xi.Control,{type:"text",name:"description",value:g.description,onChange:w,placeholder:"Enter expense description",required:!0})]})})}),(0,sn.jsxs)(yn,{className:"mb-3",children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:["Amount ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsxs)(nr,{children:[(0,sn.jsx)(nr.Text,{children:"$"}),(0,sn.jsx)(Xi.Control,{type:"number",step:"0.01",min:"0",name:"amount",value:g.amount,onChange:w,placeholder:"0.00",required:!0})]})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:[(0,sn.jsx)(io,{className:"me-1"}),"Category ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsxs)(Xi.Select,{name:"category",value:g.category,onChange:w,required:!0,children:[(0,sn.jsx)("option",{value:"",children:"-- Select Category --"}),j.map((e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value)))]})]})})]}),(0,sn.jsxs)(yn,{className:"mb-3",children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:[(0,sn.jsx)(kr,{className:"me-1"}),"Date ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsx)(Xi.Control,{type:"date",name:"date",value:g.date,onChange:w,required:!0})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Status"}),(0,sn.jsx)(Xi.Select,{name:"status",value:g.status,onChange:w,children:b.map((e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value)))})]})})]}),(0,sn.jsxs)(yn,{className:"mb-3",children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:[(0,sn.jsx)(Sr,{className:"me-1"}),"Vendor ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsx)(Xi.Control,{type:"text",name:"vendor",value:g.vendor,onChange:w,placeholder:"Vendor name",required:!0})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Payment Method"}),(0,sn.jsxs)(Xi.Select,{name:"paymentMethod",value:g.paymentMethod,onChange:w,children:[(0,sn.jsx)("option",{value:"",children:"-- Select Payment Method --"}),y.map((e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value)))]})]})})]}),(0,sn.jsxs)(yn,{className:"mb-3",children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:[(0,sn.jsx)(yo,{className:"me-1"}),"Submitted By"]}),(0,sn.jsx)(Xi.Control,{type:"text",name:"submittedBy",value:g.submittedBy,onChange:w,placeholder:"Your name"})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Receipt Upload"}),(0,sn.jsx)(Xi.Control,{type:"file",accept:"image/*,.pdf",onChange:e=>{const t=e.target.files[0];if(t){p(t);const e=new FileReader;e.onloadend=()=>{f(e.result)},e.readAsDataURL(t),v({...g,receipt:!0})}}}),(0,sn.jsx)(Xi.Text,{className:"text-muted",children:"Upload a receipt or invoice (PDF, JPG, PNG)"})]})})]}),x&&(0,sn.jsx)("div",{className:"mb-3",children:(0,sn.jsx)("div",{className:"border rounded p-2",children:(0,sn.jsx)("div",{className:"text-center",children:x.includes("data:image")?(0,sn.jsx)("img",{src:x,alt:"Receipt preview",style:{maxHeight:"200px",maxWidth:"100%"},className:"img-fluid"}):(0,sn.jsxs)("div",{className:"p-4 text-center",children:[(0,sn.jsx)(Fl,{size:48,className:"text-danger mb-2"}),(0,sn.jsx)("div",{children:"PDF Receipt"})]})})})}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Notes"}),(0,sn.jsx)(Xi.Control,{as:"textarea",rows:3,name:"notes",value:g.notes,onChange:w,placeholder:"Additional notes about this expense"})]})]})]})}),(0,sn.jsxs)(Nn,{lg:4,children:[(0,sn.jsxs)(Yn,{className:"shadow-sm mb-4",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white",children:(0,sn.jsx)("h5",{className:"mb-0",children:"Expense Summary"})}),(0,sn.jsx)(Yn.Body,{className:"p-3",children:(0,sn.jsxs)("div",{className:"expense-summary",children:[(0,sn.jsxs)("div",{className:"d-flex justify-content-between mb-3",children:[(0,sn.jsx)("span",{className:"text-muted",children:"Description:"}),(0,sn.jsx)("span",{className:"fw-bold text-truncate",children:g.description||"Not set"})]}),(0,sn.jsxs)("div",{className:"d-flex justify-content-between mb-3",children:[(0,sn.jsx)("span",{className:"text-muted",children:"Amount:"}),(0,sn.jsx)("span",{className:"fw-bold",children:g.amount?(N=g.amount,N?`$${parseFloat(N).toFixed(2)}`:""):"$0.00"})]}),(0,sn.jsxs)("div",{className:"d-flex justify-content-between mb-3",children:[(0,sn.jsx)("span",{className:"text-muted",children:"Category:"}),(0,sn.jsx)("span",{children:g.category?(null===(e=j.find((e=>e.value===g.category)))||void 0===e?void 0:e.label)||g.category:"Not set"})]}),(0,sn.jsxs)("div",{className:"d-flex justify-content-between mb-3",children:[(0,sn.jsx)("span",{className:"text-muted",children:"Date:"}),(0,sn.jsx)("span",{children:g.date?new Date(g.date).toLocaleDateString():"Not set"})]}),(0,sn.jsxs)("div",{className:"d-flex justify-content-between mb-3",children:[(0,sn.jsx)("span",{className:"text-muted",children:"Vendor:"}),(0,sn.jsx)("span",{children:g.vendor||"Not set"})]}),(0,sn.jsxs)("div",{className:"d-flex justify-content-between mb-3",children:[(0,sn.jsx)("span",{className:"text-muted",children:"Status:"}),(0,sn.jsx)("span",{children:g.status?(null===(t=b.find((e=>e.value===g.status)))||void 0===t?void 0:t.label)||g.status:"Not set"})]}),(0,sn.jsxs)("div",{className:"d-flex justify-content-between mb-3",children:[(0,sn.jsx)("span",{className:"text-muted",children:"Payment Method:"}),(0,sn.jsx)("span",{children:g.paymentMethod?(null===(s=y.find((e=>e.value===g.paymentMethod)))||void 0===s?void 0:s.label)||g.paymentMethod:"Not set"})]}),(0,sn.jsxs)("div",{className:"d-flex justify-content-between mb-3",children:[(0,sn.jsx)("span",{className:"text-muted",children:"Receipt:"}),(0,sn.jsx)("span",{children:g.receipt?(0,sn.jsx)("span",{className:"text-success",children:"Attached"}):(0,sn.jsx)("span",{className:"text-muted",children:"Not attached"})})]})]})}),(0,sn.jsx)(Yn.Footer,{className:"bg-white",children:(0,sn.jsx)("div",{className:"d-grid gap-2",children:(0,sn.jsx)(ir,{variant:"primary",type:"submit",disabled:l,children:l?(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Saving..."]}):(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(Vl,{className:"me-1"})," ",r?"Update Expense":"Record Expense"]})})})})]}),(0,sn.jsxs)(Yn,{className:"shadow-sm",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white",children:(0,sn.jsx)("h5",{className:"mb-0",children:"Help"})}),(0,sn.jsxs)(Yn.Body,{children:[(0,sn.jsxs)("p",{className:"small mb-2",children:[(0,sn.jsx)("strong",{children:"Required fields"})," are marked with ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsx)("p",{className:"small mb-2",children:"Attach receipts or invoices to ensure proper documentation of expenses."}),(0,sn.jsx)("p",{className:"small mb-0",children:"The expense summary on the right shows a preview of the expense details as you fill them in."})]})]})]})]}),(0,sn.jsxs)("div",{className:"d-flex justify-content-between mt-4",children:[r&&(0,sn.jsxs)(ir,{variant:"outline-danger",onClick:()=>{window.confirm("Are you sure you want to delete this expense?")&&n("/financial/expenses")},children:[(0,sn.jsx)(uo,{className:"me-1"})," Delete Expense"]}),(0,sn.jsxs)("div",{className:"ms-auto",children:[(0,sn.jsx)(ir,{variant:"outline-secondary",className:"me-2",onClick:()=>n("/financial/expenses"),children:"Cancel"}),(0,sn.jsx)(ir,{variant:"primary",type:"submit",disabled:l,children:l?(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Saving..."]}):(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(Vl,{className:"me-1"})," ",r?"Update Expense":"Record Expense"]})})]})]})]})]});var N},CS=()=>{var e,t;const{id:s}=se(),[n,i]=(ee(),(0,a.useState)(null)),[r,l]=(0,a.useState)([]),[o,c]=(0,a.useState)([]),[d,u]=(0,a.useState)(!0),[h,m]=(0,a.useState)(""),[p,x]=(0,a.useState)("all"),[f,g]=(0,a.useState)("all"),[v,j]=(0,a.useState)("date"),[b,y]=(0,a.useState)("desc"),[w,N]=(0,a.useState)(1),[C]=(0,a.useState)(10),[S,k]=(0,a.useState)(!1),[D,_]=(0,a.useState)(!1),[A,T]=(0,a.useState)(!1),[E,L]=(0,a.useState)(null),[M,I]=(0,a.useState)({}),[P,O]=(0,a.useState)(!1),[R,F]=(0,a.useState)(""),[z,B]=(0,a.useState)({id:"",accountId:parseInt(s),type:"deposit",amount:"",description:"",date:(new Date).toISOString().split("T")[0],category:"",reference:"",notes:""}),$=[{value:"deposit",label:"Deposit",color:"success"},{value:"withdrawal",label:"Withdrawal",color:"danger"},{value:"transfer_in",label:"Transfer In",color:"info"},{value:"transfer_out",label:"Transfer Out",color:"warning"},{value:"adjustment",label:"Adjustment",color:"secondary"}],H={deposit:["Income","Interest","Transfer","Refund","Other"],withdrawal:["Expense","Fee","Transfer","Payment","Other"],transfer_in:["Internal Transfer"],transfer_out:["Internal Transfer"],adjustment:["Correction","Fee Reversal","Interest Adjustment","Other"]};(0,a.useEffect)((()=>{u(!0),setTimeout((()=>{const e={id:parseInt(s),name:"1"===s?"Business Checking":"2"===s?"Business Savings":"3"===s?"Company Credit Card":"4"===s?"Vehicle Loan":"5"===s?"Tax Reserve":"Payroll Account",type:"1"===s?"checking":"2"===s?"savings":"3"===s?"credit":"4"===s?"loan":"5"===s?"savings":"checking",balance:"1"===s?125000.75:"2"===s?75e3:"3"===s?-4250.85:"4"===s?-85e3:"5"===s?35e3:42500,institution:["Bank of America","Bank of America","American Express","Motor Finance Co.","Bank of America","Wells Fargo"][parseInt(s)-1]||"Unknown Bank",accountNumber:`******${1234+parseInt(s)}`,description:["Main operational account","Emergency fund and reserves","Primary business expenses","Fleet vehicle loans","Reserved for quarterly tax payments","Dedicated for payroll transactions"][parseInt(s)-1]||"Account description",lastTransaction:new Date,isReconciled:!0},t=new Date,n=[];let a=e.balance;for(let s=0;s<20;s++){const i=new Date(t);let r;i.setDate(t.getDate()-Math.floor(90*Math.random())),r="savings"===e.type?Math.random()>.3?"deposit":"withdrawal":"credit"===e.type||"loan"===e.type?Math.random()>.7?"deposit":"withdrawal":Math.random()>.5?"deposit":"withdrawal",s%5===0&&(r=Math.random()>.5?"transfer_in":"transfer_out"),s%10===0&&(r="adjustment");const l=Math.round(100*(10+4990*Math.random()))/100;"deposit"===r||"transfer_in"===r?a-=l:a+=l;const o=H[r][Math.floor(Math.random()*H[r].length)];let c="";c="deposit"===r?"Income"===o?"Client payment":"Interest"===o?"Monthly interest":"Transfer"===o?"Transfer from another account":"Refund"===o?"Vendor refund":"Deposit":"withdrawal"===r?"Expense"===o?"Office supplies":"Fee"===o?"Monthly service fee":"Transfer"===o?"Transfer to another account":"Payment"===o?"Vendor payment":"Withdrawal":"transfer_in"===r?"Transfer from account ending in "+(1e3+Math.floor(9e3*Math.random())).toString().slice(-4):"transfer_out"===r?"Transfer to account ending in "+(1e3+Math.floor(9e3*Math.random())).toString().slice(-4):"Correction"===o?"Balance correction":"Fee Reversal"===o?"Fee reversal":"Interest Adjustment"===o?"Interest adjustment":"Account adjustment";const d="REF-"+Math.floor(1e6*Math.random()).toString().padStart(6,"0");n.push({id:s+1,accountId:e.id,type:r,amount:l,description:c,date:i,category:o,reference:d,balanceAfter:a,notes:"",createdAt:new Date(i.getTime()-72e5),updatedAt:new Date(i)})}n.sort(((e,t)=>new Date(t.date)-new Date(e.date))),i(e),l(n),c(n),u(!1)}),1e3)}),[s]),(0,a.useEffect)((()=>{if(!r.length)return;let e=[...r];"all"!==f&&(e=e.filter((e=>e.type===f)));const t=new Date;t.setHours(0,0,0,0);const s=new Date(t);s.setDate(s.getDate()-1);const n=new Date(t);n.setDate(t.getDate()-t.getDay());const a=new Date(n);a.setDate(a.getDate()-7);const i=new Date(n);i.setDate(i.getDate()-1);const l=new Date(t.getFullYear(),t.getMonth(),1),o=new Date(t.getFullYear(),t.getMonth()-1,1),d=new Date(t.getFullYear(),t.getMonth(),0),u=new Date(t.getFullYear(),0,1),m=new Date(t.getFullYear()-1,0,1),x=new Date(t.getFullYear(),0,0);switch(p){case"today":e=e.filter((e=>{const s=new Date(e.date);return s.setHours(0,0,0,0),s.getTime()===t.getTime()}));break;case"yesterday":e=e.filter((e=>{const t=new Date(e.date);return t.setHours(0,0,0,0),t.getTime()===s.getTime()}));break;case"this-week":e=e.filter((e=>{const s=new Date(e.date);return s>=n&&s<t.getTime()+864e5}));break;case"last-week":e=e.filter((e=>{const t=new Date(e.date);return t>=a&&t<=i}));break;case"this-month":e=e.filter((e=>{const s=new Date(e.date);return s>=l&&s<t.getTime()+864e5}));break;case"last-month":e=e.filter((e=>{const t=new Date(e.date);return t>=o&&t<=d}));break;case"this-year":e=e.filter((e=>{const s=new Date(e.date);return s>=u&&s<t.getTime()+864e5}));break;case"last-year":e=e.filter((e=>{const t=new Date(e.date);return t>=m&&t<=x}))}if(h){const t=h.toLowerCase();e=e.filter((e=>e.description.toLowerCase().includes(t)||e.category.toLowerCase().includes(t)||e.reference.toLowerCase().includes(t)||e.notes&&e.notes.toLowerCase().includes(t)))}e.sort(((e,t)=>{let s=e[v],n=t[v];return s instanceof Date&&n instanceof Date?"asc"===b?s-n:n-s:"string"===typeof s&&"string"===typeof n?"asc"===b?s.localeCompare(n):n.localeCompare(s):"asc"===b?s-n:n-s})),c(e)}),[r,h,f,p,v,b]);const V=w*C,U=V-C,W=o.slice(U,V),G=Math.ceil(o.length/C),q=e=>{N(e)},Y=e=>{v===e?y("asc"===b?"desc":"asc"):(j(e),y("asc"))},K=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",J=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),X=e=>{const t=$.find((t=>t.value===e));return t?(0,sn.jsx)(Cb,{bg:t.color,className:"text-uppercase",children:t.label}):null},Z=e=>{const{name:t,value:s}=e.target;B({...z,[t]:s}),"type"===t&&B((e=>({...e,category:""})))},Q=()=>{const e={};return z.type||(e.type="Transaction type is required"),(!z.amount||isNaN(parseFloat(z.amount))||parseFloat(z.amount)<=0)&&(e.amount="Please enter a valid amount"),z.description.trim()||(e.description="Description is required"),z.date||(e.date="Date is required"),z.category||(e.category="Category is required"),I(e),0===Object.keys(e).length},te=()=>{B({id:"",accountId:parseInt(s),type:"deposit",amount:"",description:"",date:(new Date).toISOString().split("T")[0],category:"",reference:"REF-"+Math.floor(1e6*Math.random()).toString().padStart(6,"0"),notes:""}),I({}),k(!0)},ne=(()=>{if(!r.length)return{deposits:0,withdrawals:0,balance:0};const e=r.filter((e=>"deposit"===e.type||"transfer_in"===e.type)).reduce(((e,t)=>e+t.amount),0),t=r.filter((e=>"withdrawal"===e.type||"transfer_out"===e.type)).reduce(((e,t)=>e+t.amount),0),s=r.filter((e=>"adjustment"===e.type)).reduce(((e,t)=>e+t.amount*("Correction"===t.category||"Fee Reversal"===t.category?1:-1)),0);return{deposits:e,withdrawals:t,adjustments:s,total:e-t+s}})();return(0,sn.jsx)("div",{className:"container-fluid py-4",children:d?(0,sn.jsxs)("div",{className:"text-center py-5",children:[(0,sn.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,sn.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,sn.jsx)("p",{className:"mt-3",children:"Loading transaction history..."})]}):(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(Ob,{title:`${null===n||void 0===n?void 0:n.name} - Transaction History`,backButton:!0}),(0,sn.jsxs)("div",{className:"d-flex justify-content-end mb-4",children:[(0,sn.jsxs)(ir,{variant:"outline-success",className:"me-2",onClick:()=>console.log("Export functionality"),children:[(0,sn.jsx)(Gr,{className:"me-1"})," Export"]}),(0,sn.jsxs)(ir,{variant:"primary",onClick:te,children:[(0,sn.jsx)(Ol,{className:"me-1"})," Add Transaction"]})]}),(0,sn.jsxs)(yn,{className:"mb-4",children:[(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsx)(Yn,{className:"border-0 shadow-sm h-100",children:(0,sn.jsxs)(Yn.Body,{className:"d-flex align-items-center",children:[(0,sn.jsx)("div",{className:"icon-wrapper bg-success bg-opacity-10 rounded p-3 me-3",children:(0,sn.jsx)(Dl,{className:"text-success",size:24})}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("h6",{className:"text-muted mb-1",children:"Current Balance"}),(0,sn.jsx)("h3",{className:"mb-0 "+((null===n||void 0===n?void 0:n.balance)>=0?"text-success":"text-danger"),children:J((null===n||void 0===n?void 0:n.balance)||0)})]})]})})}),(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsx)(Yn,{className:"border-0 shadow-sm h-100",children:(0,sn.jsxs)(Yn.Body,{className:"d-flex align-items-center",children:[(0,sn.jsx)("div",{className:"icon-wrapper bg-success bg-opacity-10 rounded p-3 me-3",children:(0,sn.jsx)(Dl,{className:"text-success",size:24})}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("h6",{className:"text-muted mb-1",children:"Total Deposits"}),(0,sn.jsx)("h3",{className:"mb-0 text-success",children:J(ne.deposits)})]})]})})}),(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsx)(Yn,{className:"border-0 shadow-sm h-100",children:(0,sn.jsxs)(Yn.Body,{className:"d-flex align-items-center",children:[(0,sn.jsx)("div",{className:"icon-wrapper bg-danger bg-opacity-10 rounded p-3 me-3",children:(0,sn.jsx)(Dl,{className:"text-danger",size:24})}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("h6",{className:"text-muted mb-1",children:"Total Withdrawals"}),(0,sn.jsx)("h3",{className:"mb-0 text-danger",children:J(ne.withdrawals)})]})]})})}),(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsx)(Yn,{className:"border-0 shadow-sm h-100",children:(0,sn.jsxs)(Yn.Body,{className:"d-flex align-items-center",children:[(0,sn.jsx)("div",{className:"icon-wrapper bg-primary bg-opacity-10 rounded p-3 me-3",children:(0,sn.jsx)(Dl,{className:"text-primary",size:24})}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("h6",{className:"text-muted mb-1",children:"Net Flow"}),(0,sn.jsx)("h3",{className:"mb-0 "+(ne.total>=0?"text-success":"text-danger"),children:J(ne.total)})]})]})})})]}),(0,sn.jsx)(Yn,{className:"shadow-sm mb-4",children:(0,sn.jsxs)(Yn.Body,{children:[(0,sn.jsxs)(yn,{className:"mb-3",children:[(0,sn.jsx)(Nn,{md:4,children:(0,sn.jsxs)(nr,{children:[(0,sn.jsx)(nr.Text,{children:(0,sn.jsx)(Ul,{})}),(0,sn.jsx)(Xi.Control,{placeholder:"Search transactions...",value:h,onChange:e=>m(e.target.value)})]})}),(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsxs)(nr,{children:[(0,sn.jsx)(nr.Text,{children:(0,sn.jsx)(ol,{})}),(0,sn.jsxs)(Xi.Select,{value:f,onChange:e=>g(e.target.value),children:[(0,sn.jsx)("option",{value:"all",children:"All Types"}),$.map((e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value)))]})]})}),(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsxs)(nr,{children:[(0,sn.jsx)(nr.Text,{children:(0,sn.jsx)(kr,{})}),(0,sn.jsx)(Xi.Select,{value:p,onChange:e=>x(e.target.value),children:[{value:"all",label:"All Dates"},{value:"today",label:"Today"},{value:"yesterday",label:"Yesterday"},{value:"this-week",label:"This Week"},{value:"last-week",label:"Last Week"},{value:"this-month",label:"This Month"},{value:"last-month",label:"Last Month"},{value:"this-year",label:"This Year"},{value:"last-year",label:"Last Year"}].map((e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value)))})]})}),(0,sn.jsx)(Nn,{md:2,children:(0,sn.jsx)(ir,{variant:"outline-secondary",className:"w-100",onClick:()=>{m(""),g("all"),x("all")},children:"Clear Filters"})})]}),0===o.length?(0,sn.jsxs)("div",{className:"text-center py-5",children:[(0,sn.jsx)("p",{className:"text-muted mb-3",children:"No transactions found matching your filters."}),(0,sn.jsxs)(ir,{variant:"primary",onClick:te,children:[(0,sn.jsx)(Ol,{className:"me-1"})," Add Transaction"]})]}):(0,sn.jsx)("div",{className:"table-responsive",children:(0,sn.jsxs)(Uh,{hover:!0,className:"align-middle",children:[(0,sn.jsx)("thead",{children:(0,sn.jsxs)("tr",{children:[(0,sn.jsxs)("th",{onClick:()=>Y("date"),style:{cursor:"pointer",whiteSpace:"nowrap"},children:["Date ","date"===v&&(0,sn.jsx)(Jl,{className:"ms-1 text-"+("asc"===b?"muted":"dark")})]}),(0,sn.jsxs)("th",{onClick:()=>Y("description"),style:{cursor:"pointer"},children:["Description ","description"===v&&(0,sn.jsx)(Jl,{className:"ms-1 text-"+("asc"===b?"muted":"dark")})]}),(0,sn.jsxs)("th",{onClick:()=>Y("type"),style:{cursor:"pointer"},children:["Type ","type"===v&&(0,sn.jsx)(Jl,{className:"ms-1 text-"+("asc"===b?"muted":"dark")})]}),(0,sn.jsxs)("th",{onClick:()=>Y("category"),style:{cursor:"pointer"},children:["Category ","category"===v&&(0,sn.jsx)(Jl,{className:"ms-1 text-"+("asc"===b?"muted":"dark")})]}),(0,sn.jsxs)("th",{onClick:()=>Y("reference"),style:{cursor:"pointer"},children:["Reference ","reference"===v&&(0,sn.jsx)(Jl,{className:"ms-1 text-"+("asc"===b?"muted":"dark")})]}),(0,sn.jsxs)("th",{onClick:()=>Y("amount"),style:{cursor:"pointer",textAlign:"right"},children:["Amount ","amount"===v&&(0,sn.jsx)(Jl,{className:"ms-1 text-"+("asc"===b?"muted":"dark")})]}),(0,sn.jsxs)("th",{onClick:()=>Y("balanceAfter"),style:{cursor:"pointer",textAlign:"right"},children:["Balance ","balanceAfter"===v&&(0,sn.jsx)(Jl,{className:"ms-1 text-"+("asc"===b?"muted":"dark")})]}),(0,sn.jsx)("th",{style:{width:"100px"},children:"Actions"})]})}),(0,sn.jsx)("tbody",{children:W.map((e=>(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("td",{style:{whiteSpace:"nowrap"},children:K(e.date)}),(0,sn.jsxs)("td",{children:[(0,sn.jsx)("div",{className:"text-truncate",style:{maxWidth:"200px"},children:e.description}),e.notes&&(0,sn.jsx)("div",{className:"text-muted small text-truncate",style:{maxWidth:"200px"},children:e.notes})]}),(0,sn.jsx)("td",{children:X(e.type)}),(0,sn.jsx)("td",{children:e.category}),(0,sn.jsx)("td",{children:e.reference}),(0,sn.jsxs)("td",{className:`text-${"deposit"===e.type||"transfer_in"===e.type?"success":"withdrawal"===e.type||"transfer_out"===e.type?"danger":"warning"} text-end`,children:["deposit"===e.type||"transfer_in"===e.type?"+ ":"withdrawal"===e.type||"transfer_out"===e.type?"- ":"\xb1 ",J(e.amount)]}),(0,sn.jsx)("td",{className:"text-end fw-bold",children:J(e.balanceAfter)}),(0,sn.jsx)("td",{children:(0,sn.jsxs)(Bh,{children:[(0,sn.jsx)(Bh.Toggle,{variant:"light",size:"sm",id:`dropdown-${e.id}`,children:(0,sn.jsx)(Yr,{})}),(0,sn.jsxs)(Bh.Menu,{children:[(0,sn.jsxs)(Bh.Item,{onClick:()=>(e=>{L(e),B({id:e.id,accountId:e.accountId,type:e.type,amount:e.amount.toString(),description:e.description,date:new Date(e.date).toISOString().split("T")[0],category:e.category,reference:e.reference,notes:e.notes||""}),I({}),_(!0)})(e),children:[(0,sn.jsx)(Ll,{className:"me-2"})," Edit"]}),(0,sn.jsx)(Bh.Divider,{}),(0,sn.jsxs)(Bh.Item,{className:"text-danger",onClick:()=>(e=>{L(e),T(!0)})(e),children:[(0,sn.jsx)(uo,{className:"me-2"})," Delete"]})]})]})})]},e.id)))})]})}),(()=>{if(G<=1)return null;const e=[];let t=Math.max(1,w-Math.floor(2.5)),s=Math.min(G,t+5-1);s-t+1<5&&(t=Math.max(1,s-5+1)),t>1&&(e.push((0,sn.jsx)(Ib.Item,{onClick:()=>q(1),children:"1"},1)),t>2&&e.push((0,sn.jsx)(Ib.Ellipsis,{disabled:!0},"ellipsis-start")));for(let n=t;n<=s;n++)e.push((0,sn.jsx)(Ib.Item,{active:n===w,onClick:()=>q(n),children:n},n));return s<G&&(s<G-1&&e.push((0,sn.jsx)(Ib.Ellipsis,{disabled:!0},"ellipsis-end")),e.push((0,sn.jsx)(Ib.Item,{onClick:()=>q(G),children:G},G))),(0,sn.jsxs)(Ib,{className:"justify-content-center",children:[(0,sn.jsx)(Ib.Prev,{onClick:()=>q(Math.max(1,w-1)),disabled:1===w}),e,(0,sn.jsx)(Ib.Next,{onClick:()=>q(Math.min(G,w+1)),disabled:w===G})]})})()]})}),(0,sn.jsx)(yy,{show:S,onHide:()=>k(!1),size:"lg",children:(0,sn.jsxs)(Xi,{onSubmit:e=>{if(e.preventDefault(),Q()){O(!1),F("");try{const e=parseFloat(z.amount),t={id:Math.max(...r.map((e=>e.id)),0)+1,accountId:parseInt(s),type:z.type,amount:e,description:z.description,date:new Date(z.date),category:z.category,reference:z.reference,balanceAfter:n.balance+("deposit"===z.type||"transfer_in"===z.type?e:-e),notes:z.notes,createdAt:new Date,updatedAt:new Date},a={...n,balance:n.balance+("deposit"===z.type||"transfer_in"===z.type?e:-e),lastTransaction:new Date};i(a),l([t,...r]),O(!0),setTimeout((()=>{k(!1),O(!1)}),1500)}catch(t){F("An error occurred while saving the transaction"),console.error("Error adding transaction:",t)}}},children:[(0,sn.jsx)(yy.Header,{closeButton:!0,children:(0,sn.jsx)(yy.Title,{children:"Add New Transaction"})}),(0,sn.jsxs)(yy.Body,{children:[P&&(0,sn.jsx)(gi,{variant:"success",className:"mb-4",children:"Transaction created successfully!"}),R&&(0,sn.jsx)(gi,{variant:"danger",className:"mb-4",children:R}),(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:["Transaction Type ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsx)(Xi.Select,{name:"type",value:z.type,onChange:Z,isInvalid:!!M.type,required:!0,children:$.map((e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value)))}),(0,sn.jsx)(Xi.Control.Feedback,{type:"invalid",children:M.type})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:[(0,sn.jsx)(kr,{className:"me-1"}),"Transaction Date ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsx)(Xi.Control,{type:"date",name:"date",value:z.date,onChange:Z,isInvalid:!!M.date,required:!0}),(0,sn.jsx)(Xi.Control.Feedback,{type:"invalid",children:M.date})]})})]}),(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:["Amount ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsxs)(nr,{children:[(0,sn.jsx)(nr.Text,{children:"$"}),(0,sn.jsx)(Xi.Control,{type:"number",step:"0.01",min:"0.01",name:"amount",value:z.amount,onChange:Z,isInvalid:!!M.amount,required:!0}),(0,sn.jsx)(Xi.Control.Feedback,{type:"invalid",children:M.amount})]})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:["Category ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsxs)(Xi.Select,{name:"category",value:z.category,onChange:Z,isInvalid:!!M.category,required:!0,children:[(0,sn.jsx)("option",{value:"",children:"-- Select Category --"}),null===(e=H[z.type])||void 0===e?void 0:e.map((e=>(0,sn.jsx)("option",{value:e,children:e},e)))]}),(0,sn.jsx)(Xi.Control.Feedback,{type:"invalid",children:M.category})]})})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:["Description ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsx)(Xi.Control,{type:"text",name:"description",value:z.description,onChange:Z,placeholder:"Enter transaction description",isInvalid:!!M.description,required:!0}),(0,sn.jsx)(Xi.Control.Feedback,{type:"invalid",children:M.description})]}),(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Reference Number"}),(0,sn.jsx)(Xi.Control,{type:"text",name:"reference",value:z.reference,onChange:Z,placeholder:"Transaction reference or ID"})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Account"}),(0,sn.jsx)(Xi.Control,{type:"text",value:null===n||void 0===n?void 0:n.name,disabled:!0})]})})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Notes"}),(0,sn.jsx)(Xi.Control,{as:"textarea",rows:3,name:"notes",value:z.notes,onChange:Z,placeholder:"Additional notes about this transaction"})]})]}),(0,sn.jsxs)(yy.Footer,{children:[(0,sn.jsx)(ir,{variant:"secondary",onClick:()=>k(!1),children:"Cancel"}),(0,sn.jsx)(ir,{variant:"primary",type:"submit",children:"Add Transaction"})]})]})}),(0,sn.jsx)(yy,{show:D,onHide:()=>_(!1),size:"lg",children:(0,sn.jsxs)(Xi,{onSubmit:e=>{if(e.preventDefault(),Q()){O(!1),F("");try{const e=parseFloat(z.amount),t=r.find((e=>e.id===E.id)),s=t.amount,a=t.type;let o=0;"deposit"===a||"transfer_in"===a?o-=s:o+=s,"deposit"===z.type||"transfer_in"===z.type?o+=e:o-=e;const c=r.map((t=>t.id===E.id?{...t,type:z.type,amount:e,description:z.description,date:new Date(z.date),category:z.category,reference:z.reference,notes:z.notes,updatedAt:new Date}:t)),d={...n,balance:n.balance+o,lastTransaction:new Date};i(d),l(c),O(!0),setTimeout((()=>{_(!1),O(!1)}),1500)}catch(t){F("An error occurred while updating the transaction"),console.error("Error updating transaction:",t)}}},children:[(0,sn.jsx)(yy.Header,{closeButton:!0,children:(0,sn.jsx)(yy.Title,{children:"Edit Transaction"})}),(0,sn.jsxs)(yy.Body,{children:[P&&(0,sn.jsx)(gi,{variant:"success",className:"mb-4",children:"Transaction updated successfully!"}),R&&(0,sn.jsx)(gi,{variant:"danger",className:"mb-4",children:R}),(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:["Transaction Type ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsx)(Xi.Select,{name:"type",value:z.type,onChange:Z,isInvalid:!!M.type,required:!0,children:$.map((e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value)))}),(0,sn.jsx)(Xi.Control.Feedback,{type:"invalid",children:M.type})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:[(0,sn.jsx)(kr,{className:"me-1"}),"Transaction Date ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsx)(Xi.Control,{type:"date",name:"date",value:z.date,onChange:Z,isInvalid:!!M.date,required:!0}),(0,sn.jsx)(Xi.Control.Feedback,{type:"invalid",children:M.date})]})})]}),(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:["Amount ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsxs)(nr,{children:[(0,sn.jsx)(nr.Text,{children:"$"}),(0,sn.jsx)(Xi.Control,{type:"number",step:"0.01",min:"0.01",name:"amount",value:z.amount,onChange:Z,isInvalid:!!M.amount,required:!0}),(0,sn.jsx)(Xi.Control.Feedback,{type:"invalid",children:M.amount})]})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:["Category ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsxs)(Xi.Select,{name:"category",value:z.category,onChange:Z,isInvalid:!!M.category,required:!0,children:[(0,sn.jsx)("option",{value:"",children:"-- Select Category --"}),null===(t=H[z.type])||void 0===t?void 0:t.map((e=>(0,sn.jsx)("option",{value:e,children:e},e)))]}),(0,sn.jsx)(Xi.Control.Feedback,{type:"invalid",children:M.category})]})})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:["Description ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsx)(Xi.Control,{type:"text",name:"description",value:z.description,onChange:Z,placeholder:"Enter transaction description",isInvalid:!!M.description,required:!0}),(0,sn.jsx)(Xi.Control.Feedback,{type:"invalid",children:M.description})]}),(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Reference Number"}),(0,sn.jsx)(Xi.Control,{type:"text",name:"reference",value:z.reference,onChange:Z,placeholder:"Transaction reference or ID"})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Account"}),(0,sn.jsx)(Xi.Control,{type:"text",value:null===n||void 0===n?void 0:n.name,disabled:!0})]})})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Notes"}),(0,sn.jsx)(Xi.Control,{as:"textarea",rows:3,name:"notes",value:z.notes,onChange:Z,placeholder:"Additional notes about this transaction"})]})]}),(0,sn.jsxs)(yy.Footer,{children:[(0,sn.jsx)(ir,{variant:"secondary",onClick:()=>_(!1),children:"Cancel"}),(0,sn.jsx)(ir,{variant:"primary",type:"submit",children:"Save Changes"})]})]})}),(0,sn.jsxs)(yy,{show:A,onHide:()=>T(!1),children:[(0,sn.jsx)(yy.Header,{closeButton:!0,children:(0,sn.jsx)(yy.Title,{children:"Confirm Delete"})}),(0,sn.jsxs)(yy.Body,{children:["Are you sure you want to delete this transaction?",E&&(0,sn.jsxs)("div",{className:"mt-3 border rounded p-3",children:[(0,sn.jsxs)("p",{className:"mb-1",children:[(0,sn.jsx)("strong",{children:"Date:"})," ",K(E.date)]}),(0,sn.jsxs)("p",{className:"mb-1",children:[(0,sn.jsx)("strong",{children:"Description:"})," ",E.description]}),(0,sn.jsxs)("p",{className:"mb-1",children:[(0,sn.jsx)("strong",{children:"Type:"})," ",E.type.replace("_"," ").replace(/\b\w/g,(e=>e.toUpperCase()))]}),(0,sn.jsxs)("p",{className:"mb-0",children:[(0,sn.jsx)("strong",{children:"Amount:"})," ",J(E.amount)]})]}),(0,sn.jsx)("div",{className:"mt-3 text-danger",children:"This action cannot be undone and will affect the account balance."})]}),(0,sn.jsxs)(yy.Footer,{children:[(0,sn.jsx)(ir,{variant:"secondary",onClick:()=>T(!1),children:"Cancel"}),(0,sn.jsx)(ir,{variant:"danger",onClick:()=>{if(E)try{let e=0;"deposit"===E.type||"transfer_in"===E.type?e-=E.amount:e+=E.amount;const t={...n,balance:n.balance+e};i(t),l(r.filter((e=>e.id!==E.id))),T(!1),L(null)}catch(e){console.error("Error deleting transaction:",e)}},children:"Delete Transaction"})]})]})]})})},SS=()=>{const e=ee(),[t,s]=(0,a.useState)(""),[n,i]=(0,a.useState)("all"),[r,l]=(0,a.useState)(1),[o]=(0,a.useState)(10),[c,d]=(0,a.useState)("name"),[u,h]=(0,a.useState)("asc"),[m,p]=(0,a.useState)(!0),[x,f]=(0,a.useState)([]);(0,a.useEffect)((()=>{p(!0),setTimeout((()=>{f([{id:1,name:"John Doe",phone:"(555) 123-4567",email:"john.doe@example.com",vehicleType:"Delivery Van",licensePlate:"ABC-1234",status:"active",deliveries:{completed:145,pending:3,cancelled:2},rating:4.8,areasCovered:["North Zone","Central Zone"]},{id:2,name:"Jane Smith",phone:"(555) 987-6543",email:"jane.smith@example.com",vehicleType:"Cargo Truck",licensePlate:"XYZ-7890",status:"active",deliveries:{completed:203,pending:0,cancelled:5},rating:4.9,areasCovered:["South Zone","West Zone"]},{id:3,name:"Bob Johnson",phone:"(555) 456-7890",email:"bob.johnson@example.com",vehicleType:"Compact Car",licensePlate:"DEF-4567",status:"inactive",deliveries:{completed:78,pending:0,cancelled:8},rating:3.7,areasCovered:["East Zone"]},{id:4,name:"Sarah Williams",phone:"(555) 789-0123",email:"sarah.williams@example.com",vehicleType:"Delivery Van",licensePlate:"GHI-9012",status:"active",deliveries:{completed:112,pending:2,cancelled:1},rating:4.6,areasCovered:["North Zone","East Zone"]},{id:5,name:"Mike Turner",phone:"(555) 234-5678",email:"mike.turner@example.com",vehicleType:"Cargo Truck",licensePlate:"JKL-3456",status:"on-leave",deliveries:{completed:89,pending:0,cancelled:3},rating:4.5,areasCovered:["West Zone","Central Zone"]}]),p(!1)}),1e3)}),[]);const g=[...x.filter((e=>{const s=e.name.toLowerCase().includes(t.toLowerCase())||e.email.toLowerCase().includes(t.toLowerCase())||e.vehicleType.toLowerCase().includes(t.toLowerCase())||e.licensePlate.toLowerCase().includes(t.toLowerCase()),a="all"===n||e.status===n;return s&&a}))].sort(((e,t)=>{let s=e[c],n=t[c];return"deliveries.completed"===c&&(s=e.deliveries.completed,n=t.deliveries.completed),"string"===typeof s?"asc"===u?s.localeCompare(n):n.localeCompare(s):"asc"===u?s-n:n-s})),v=r*o,j=v-o,b=g.slice(j,v),y=Math.ceil(g.length/o),w=e=>{switch(e){case"active":return(0,sn.jsx)(Cb,{bg:"success",children:"Active"});case"inactive":return(0,sn.jsx)(Cb,{bg:"danger",children:"Inactive"});case"on-leave":return(0,sn.jsx)(Cb,{bg:"warning",children:"On Leave"});default:return(0,sn.jsx)(Cb,{bg:"secondary",children:e})}},N=e=>{c===e?h("asc"===u?"desc":"asc"):(d(e),h("asc"))};return(0,sn.jsxs)(jn,{fluid:!0,className:"py-4",children:[(0,sn.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,sn.jsx)("h1",{children:"Drivers"}),(0,sn.jsxs)("div",{children:[(0,sn.jsxs)(ir,{variant:"outline-primary",className:"me-2",onClick:()=>e("/drivers/import"),children:[(0,sn.jsx)(il,{className:"me-2"})," Import Drivers"]}),(0,sn.jsxs)(ir,{variant:"primary",onClick:()=>e("/drivers/new"),children:[(0,sn.jsx)(jo,{className:"me-2"})," Add New Driver"]})]})]}),(0,sn.jsxs)(yn,{className:"mb-4",children:[(0,sn.jsx)(Nn,{md:6,lg:4,children:(0,sn.jsxs)(nr,{children:[(0,sn.jsx)(nr.Text,{children:(0,sn.jsx)(Ul,{})}),(0,sn.jsx)(Xi.Control,{placeholder:"Search drivers...",value:t,onChange:e=>s(e.target.value)})]})}),(0,sn.jsx)(Nn,{md:6,lg:2,children:(0,sn.jsxs)(nr,{children:[(0,sn.jsx)(nr.Text,{children:(0,sn.jsx)(ol,{})}),(0,sn.jsxs)(Xi.Select,{value:n,onChange:e=>i(e.target.value),children:[(0,sn.jsx)("option",{value:"all",children:"All Statuses"}),(0,sn.jsx)("option",{value:"active",children:"Active"}),(0,sn.jsx)("option",{value:"inactive",children:"Inactive"}),(0,sn.jsx)("option",{value:"on-leave",children:"On Leave"})]})]})}),(0,sn.jsxs)(Nn,{lg:6,className:"d-flex justify-content-end mt-3 mt-lg-0",children:[(0,sn.jsxs)(Bh,{className:"me-2",children:[(0,sn.jsxs)(Bh.Toggle,{variant:"outline-secondary",id:"dropdown-export",children:[(0,sn.jsx)(Gr,{className:"me-1"})," Export"]}),(0,sn.jsxs)(Bh.Menu,{children:[(0,sn.jsx)(Bh.Item,{href:"#/action-1",children:"Export as CSV"}),(0,sn.jsx)(Bh.Item,{href:"#/action-2",children:"Export as Excel"}),(0,sn.jsx)(Bh.Item,{href:"#/action-3",children:"Export as PDF"})]})]}),(0,sn.jsxs)(ir,{variant:"outline-secondary",children:[(0,sn.jsx)(ol,{className:"me-1"})," Advanced Filter"]})]})]}),(0,sn.jsx)(Yn,{className:"border-0 shadow-sm",children:(0,sn.jsx)(Yn.Body,{children:m?(0,sn.jsxs)("div",{className:"text-center py-5",children:[(0,sn.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,sn.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,sn.jsx)("p",{className:"mt-3",children:"Loading drivers..."})]}):0===b.length?(0,sn.jsxs)(gi,{variant:"info",children:["No drivers found matching your search criteria. Try adjusting your filters or ",(0,sn.jsx)(Le,{to:"/drivers/new",children:"add a new driver"}),"."]}):(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsxs)(Uh,{hover:!0,responsive:!0,className:"align-middle",children:[(0,sn.jsx)("thead",{className:"bg-light",children:(0,sn.jsxs)("tr",{children:[(0,sn.jsxs)("th",{onClick:()=>N("name"),style:{cursor:"pointer"},children:["Name ","name"===c&&(0,sn.jsx)(Kl,{className:"ms-1 "+("asc"===u?"text-muted":""),style:{transform:"asc"===u?"rotate(180deg)":""}})]}),(0,sn.jsx)("th",{children:"Contact"}),(0,sn.jsx)("th",{children:"Vehicle"}),(0,sn.jsxs)("th",{onClick:()=>N("status"),style:{cursor:"pointer"},children:["Status ","status"===c&&(0,sn.jsx)(Kl,{className:"ms-1 "+("asc"===u?"text-muted":""),style:{transform:"asc"===u?"rotate(180deg)":""}})]}),(0,sn.jsxs)("th",{onClick:()=>N("deliveries.completed"),style:{cursor:"pointer"},children:["Deliveries ","deliveries.completed"===c&&(0,sn.jsx)(Kl,{className:"ms-1 "+("asc"===u?"text-muted":""),style:{transform:"asc"===u?"rotate(180deg)":""}})]}),(0,sn.jsxs)("th",{onClick:()=>N("rating"),style:{cursor:"pointer"},children:["Rating ","rating"===c&&(0,sn.jsx)(Kl,{className:"ms-1 "+("asc"===u?"text-muted":""),style:{transform:"asc"===u?"rotate(180deg)":""}})]}),(0,sn.jsx)("th",{children:"Areas Covered"}),(0,sn.jsx)("th",{children:"Actions"})]})}),(0,sn.jsx)("tbody",{children:b.map((t=>(0,sn.jsxs)("tr",{onClick:()=>e(`/drivers/${t.id}`),style:{cursor:"pointer"},className:"hover-highlight",children:[(0,sn.jsx)("td",{children:(0,sn.jsx)(Le,{to:`/drivers/${t.id}`,className:"text-decoration-none",onClick:e=>e.stopPropagation(),children:t.name})}),(0,sn.jsxs)("td",{children:[(0,sn.jsx)("div",{children:t.phone}),(0,sn.jsx)("div",{className:"text-muted small",children:t.email})]}),(0,sn.jsxs)("td",{children:[(0,sn.jsx)("div",{children:t.vehicleType}),(0,sn.jsx)("div",{className:"text-muted small",children:t.licensePlate})]}),(0,sn.jsx)("td",{children:w(t.status)}),(0,sn.jsxs)("td",{children:[(0,sn.jsxs)("div",{children:[(0,sn.jsx)("span",{className:"fw-bold",children:t.deliveries.completed})," completed"]}),t.deliveries.pending>0&&(0,sn.jsxs)("div",{className:"text-warning small",children:[t.deliveries.pending," pending"]})]}),(0,sn.jsx)("td",{children:(0,sn.jsxs)("div",{className:"d-flex align-items-center",children:[(0,sn.jsx)("div",{className:"me-2",children:t.rating}),(0,sn.jsx)("div",{children:[...Array(5)].map(((e,s)=>(0,sn.jsx)("span",{className:s<Math.floor(t.rating)?"text-warning":"text-muted",children:"\u2605"},s)))})]})}),(0,sn.jsx)("td",{children:t.areasCovered.map((e=>(0,sn.jsx)(Cb,{bg:"info",className:"me-1",children:e},e)))}),(0,sn.jsx)("td",{onClick:e=>e.stopPropagation(),children:(0,sn.jsxs)(Bh,{children:[(0,sn.jsx)(Bh.Toggle,{variant:"light",size:"sm",id:`dropdown-${t.id}`,className:"border",children:(0,sn.jsx)(Yr,{})}),(0,sn.jsxs)(Bh.Menu,{children:[(0,sn.jsxs)(Bh.Item,{as:Le,to:`/drivers/${t.id}`,children:[(0,sn.jsx)(el,{className:"me-2"})," View Details"]}),(0,sn.jsxs)(Bh.Item,{as:Le,to:`/drivers/${t.id}/edit`,children:[(0,sn.jsx)(Ll,{className:"me-2"})," Edit"]}),(0,sn.jsxs)(Bh.Item,{as:Le,to:`/drivers/${t.id}/schedule`,children:[(0,sn.jsx)(kr,{className:"me-2"})," Schedule"]}),(0,sn.jsx)(Bh.Divider,{}),(0,sn.jsxs)(Bh.Item,{className:"text-danger",children:[(0,sn.jsx)(uo,{className:"me-2"})," Delete"]})]})]})})]},t.id)))})]}),y<=1?null:(0,sn.jsxs)(Ib,{className:"justify-content-center mt-4",children:[(0,sn.jsx)(Ib.Prev,{onClick:()=>l(Math.max(1,r-1)),disabled:1===r}),Array.from({length:y},((e,t)=>(0,sn.jsx)(Ib.Item,{active:t+1===r,onClick:()=>l(t+1),children:t+1},t+1))),(0,sn.jsx)(Ib.Next,{onClick:()=>l(Math.min(y,r+1)),disabled:r===y})]})]})})})]})},kS=()=>{const{id:e}=se(),[t,s]=(ee(),(0,a.useState)(null)),[n,i]=(0,a.useState)(!0),[r,l]=(0,a.useState)("overview");(0,a.useEffect)((()=>{i(!0),setTimeout((()=>{const t={id:parseInt(e),name:"John Doe",phone:"(555) 123-4567",email:"john.doe@example.com",vehicleType:"Delivery Van",licensePlate:"ABC-1234",vehicleYear:"2020",vehicleModel:"Ford Transit",status:"active",deliveries:{completed:145,pending:3,cancelled:2},rating:4.8,areasCovered:["North Zone","Central Zone"],address:"123 Driver St, Atlanta, GA 30303",licenseNumber:"DL-123456789",licenseExpiry:"2025-06-30",joinedDate:"2022-03-15",emergencyContact:{name:"Jane Doe",relation:"Spouse",phone:"(555) 987-6543"},notes:"Excellent driver with consistent on-time deliveries. Prefers morning routes.",recentDeliveries:[{id:1,deliveryId:"DEL-10001",date:"2025-05-05",customer:"ABC Logistics",status:"completed",amount:120},{id:2,deliveryId:"DEL-10002",date:"2025-05-06",customer:"XYZ Retail",status:"completed",amount:85.5},{id:3,deliveryId:"DEL-10003",date:"2025-05-07",customer:"Tech Solutions Inc.",status:"in-progress",amount:150.75}],documents:[{id:1,name:"Driver License",dateUploaded:"2022-03-15",fileType:"pdf"},{id:2,name:"Vehicle Insurance",dateUploaded:"2022-03-15",fileType:"pdf"},{id:3,name:"Background Check",dateUploaded:"2022-03-16",fileType:"pdf"}]};s(t),i(!1)}),1e3)}),[e]);const o=e=>new Date(e).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"}),c=e=>{switch(e){case"completed":return(0,sn.jsx)(Cb,{bg:"success",children:"Completed"});case"in-progress":return(0,sn.jsx)(Cb,{bg:"info",children:"In Progress"});case"pending":return(0,sn.jsx)(Cb,{bg:"warning",children:"Pending"});case"cancelled":return(0,sn.jsx)(Cb,{bg:"danger",children:"Cancelled"});default:return(0,sn.jsx)(Cb,{bg:"secondary",children:e})}};return n?(0,sn.jsx)(jn,{fluid:!0,className:"py-4",children:(0,sn.jsxs)("div",{className:"text-center py-5",children:[(0,sn.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,sn.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,sn.jsx)("p",{className:"mt-3",children:"Loading driver details..."})]})}):(0,sn.jsxs)(jn,{fluid:!0,className:"py-4",children:[(0,sn.jsx)(Ob,{title:`Driver: ${t.name}`,backButton:!0}),(0,sn.jsxs)("div",{className:"d-flex justify-content-end mb-4",children:[(0,sn.jsxs)(ir,{variant:"outline-primary",className:"me-2",as:Le,to:`/drivers/${e}/schedule`,children:[(0,sn.jsx)(kr,{className:"me-1"})," View Schedule"]}),(0,sn.jsxs)(ir,{variant:"primary",as:Le,to:`/drivers/${e}/edit`,children:[(0,sn.jsx)(qr,{className:"me-1"})," Edit Driver"]})]}),(0,sn.jsxs)(yn,{children:[(0,sn.jsxs)(Nn,{lg:4,children:[(0,sn.jsx)(Yn,{className:"border-0 shadow-sm mb-4",children:(0,sn.jsxs)(Yn.Body,{children:[(0,sn.jsxs)("div",{className:"text-center mb-4",children:[(0,sn.jsx)("div",{className:"display-1 text-muted mb-3",children:(0,sn.jsx)(yo,{})}),(0,sn.jsx)("h4",{children:t.name}),(0,sn.jsxs)("div",{className:"text-muted mb-3",children:[t.vehicleType," Driver"]}),(0,sn.jsx)("div",{className:"mb-3",children:(e=>{switch(e){case"active":return(0,sn.jsx)(Cb,{bg:"success",children:"Active"});case"inactive":return(0,sn.jsx)(Cb,{bg:"danger",children:"Inactive"});case"on-leave":return(0,sn.jsx)(Cb,{bg:"warning",children:"On Leave"});default:return(0,sn.jsx)(Cb,{bg:"secondary",children:e})}})(t.status)}),(0,sn.jsxs)("div",{className:"d-flex justify-content-center mb-2",children:[(0,sn.jsx)("div",{className:"mx-2",children:(0,sn.jsxs)(ir,{variant:"outline-primary",onClick:()=>(e=>{const t=e.replace(/\D/g,"");window.location.href=`tel:${t}`})(t.phone),size:"sm",children:[(0,sn.jsx)(Pl,{className:"me-1"})," Call"]})}),(0,sn.jsx)("div",{className:"mx-2",children:(0,sn.jsxs)(ir,{variant:"outline-success",onClick:()=>{return e=t.email,void(window.location.href=`mailto:${e}`);var e},size:"sm",children:[(0,sn.jsx)(Kr,{className:"me-1"})," Email"]})})]})]}),(0,sn.jsxs)(mb,{variant:"flush",children:[(0,sn.jsx)(mb.Item,{className:"px-0",children:(0,sn.jsxs)("div",{className:"d-flex align-items-center",children:[(0,sn.jsx)("div",{className:"me-3 text-primary",children:(0,sn.jsx)(Pl,{})}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("div",{className:"text-muted small",children:"Phone"}),(0,sn.jsx)("div",{children:(0,sn.jsx)("a",{href:`tel:${t.phone.replace(/\D/g,"")}`,children:t.phone})})]})]})}),(0,sn.jsx)(mb.Item,{className:"px-0",children:(0,sn.jsxs)("div",{className:"d-flex align-items-center",children:[(0,sn.jsx)("div",{className:"me-3 text-primary",children:(0,sn.jsx)(Kr,{})}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("div",{className:"text-muted small",children:"Email"}),(0,sn.jsx)("div",{children:(0,sn.jsx)("a",{href:`mailto:${t.email}`,children:t.email})})]})]})}),(0,sn.jsx)(mb.Item,{className:"px-0",children:(0,sn.jsxs)("div",{className:"d-flex align-items-center",children:[(0,sn.jsx)("div",{className:"me-3 text-primary",children:(0,sn.jsx)(Cl,{})}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("div",{className:"text-muted small",children:"Address"}),(0,sn.jsx)("div",{children:t.address})]})]})}),(0,sn.jsx)(mb.Item,{className:"px-0",children:(0,sn.jsxs)("div",{className:"d-flex align-items-center",children:[(0,sn.jsx)("div",{className:"me-3 text-primary",children:(0,sn.jsx)(ml,{})}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("div",{className:"text-muted small",children:"License Number"}),(0,sn.jsx)("div",{children:t.licenseNumber}),(0,sn.jsxs)("div",{className:"text-muted small",children:["Expires: ",o(t.licenseExpiry)]})]})]})}),(0,sn.jsx)(mb.Item,{className:"px-0",children:(0,sn.jsxs)("div",{className:"d-flex align-items-center",children:[(0,sn.jsx)("div",{className:"me-3 text-primary",children:(0,sn.jsx)(Xl,{})}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("div",{className:"text-muted small",children:"Overall Rating"}),(0,sn.jsxs)("div",{className:"d-flex align-items-center",children:[(0,sn.jsx)("div",{className:"me-2",children:t.rating}),(0,sn.jsx)("div",{children:[...Array(5)].map(((e,s)=>(0,sn.jsx)("span",{className:s<Math.floor(t.rating)?"text-warning":"text-muted",children:"\u2605"},s)))})]})]})]})}),(0,sn.jsx)(mb.Item,{className:"px-0",children:(0,sn.jsxs)("div",{className:"d-flex align-items-center",children:[(0,sn.jsx)("div",{className:"me-3 text-primary",children:(0,sn.jsx)(kr,{})}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("div",{className:"text-muted small",children:"Joined On"}),(0,sn.jsx)("div",{children:o(t.joinedDate)})]})]})})]})]})}),(0,sn.jsxs)(Yn,{className:"border-0 shadow-sm mb-4",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white",children:(0,sn.jsx)("h5",{className:"mb-0",children:"Vehicle Information"})}),(0,sn.jsx)(Yn.Body,{children:(0,sn.jsxs)(mb,{variant:"flush",children:[(0,sn.jsx)(mb.Item,{className:"px-0",children:(0,sn.jsxs)("div",{className:"d-flex align-items-center",children:[(0,sn.jsx)("div",{className:"me-3 text-primary",children:(0,sn.jsx)(Ar,{})}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("div",{className:"text-muted small",children:"Vehicle"}),(0,sn.jsxs)("div",{children:[t.vehicleYear," ",t.vehicleModel]}),(0,sn.jsx)("div",{className:"text-muted small",children:t.vehicleType})]})]})}),(0,sn.jsx)(mb.Item,{className:"px-0",children:(0,sn.jsxs)("div",{className:"d-flex align-items-center",children:[(0,sn.jsx)("div",{className:"me-3 text-primary",children:(0,sn.jsx)(ml,{})}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("div",{className:"text-muted small",children:"License Plate"}),(0,sn.jsx)("div",{children:t.licensePlate})]})]})})]})})]}),(0,sn.jsxs)(Yn,{className:"border-0 shadow-sm mb-4",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white",children:(0,sn.jsx)("h5",{className:"mb-0",children:"Emergency Contact"})}),(0,sn.jsxs)(Yn.Body,{children:[(0,sn.jsxs)("div",{className:"mb-3",children:[(0,sn.jsx)("div",{className:"text-muted small",children:"Name"}),(0,sn.jsx)("div",{children:t.emergencyContact.name})]}),(0,sn.jsxs)("div",{className:"mb-3",children:[(0,sn.jsx)("div",{className:"text-muted small",children:"Relation"}),(0,sn.jsx)("div",{children:t.emergencyContact.relation})]}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("div",{className:"text-muted small",children:"Phone"}),(0,sn.jsx)("div",{children:(0,sn.jsx)("a",{href:`tel:${t.emergencyContact.phone.replace(/\D/g,"")}`,children:t.emergencyContact.phone})})]})]})]})]}),(0,sn.jsx)(Nn,{lg:8,children:(0,sn.jsx)(Yn,{className:"border-0 shadow-sm mb-4",children:(0,sn.jsx)(Yn.Body,{children:(0,sn.jsxs)(Hy,{activeKey:r,onSelect:e=>l(e),className:"mb-4",children:[(0,sn.jsxs)(qy,{eventKey:"overview",title:"Overview",children:[(0,sn.jsxs)("div",{className:"mb-4",children:[(0,sn.jsx)("h5",{children:"Areas Covered"}),(0,sn.jsx)("div",{className:"d-flex flex-wrap",children:t.areasCovered.map((e=>(0,sn.jsx)(Cb,{bg:"info",className:"me-2 mb-2 p-2",children:e},e)))})]}),(0,sn.jsxs)("div",{className:"mb-4",children:[(0,sn.jsx)("h5",{children:"Delivery Statistics"}),(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:4,children:(0,sn.jsx)(Yn,{className:"text-center mb-3",children:(0,sn.jsxs)(Yn.Body,{children:[(0,sn.jsx)("h3",{className:"mb-0",children:t.deliveries.completed}),(0,sn.jsx)("div",{className:"text-muted",children:"Completed"})]})})}),(0,sn.jsx)(Nn,{md:4,children:(0,sn.jsx)(Yn,{className:"text-center mb-3",children:(0,sn.jsxs)(Yn.Body,{children:[(0,sn.jsx)("h3",{className:"mb-0",children:t.deliveries.pending}),(0,sn.jsx)("div",{className:"text-muted",children:"Pending"})]})})}),(0,sn.jsx)(Nn,{md:4,children:(0,sn.jsx)(Yn,{className:"text-center mb-3",children:(0,sn.jsxs)(Yn.Body,{children:[(0,sn.jsx)("h3",{className:"mb-0",children:t.deliveries.cancelled}),(0,sn.jsx)("div",{className:"text-muted",children:"Cancelled"})]})})})]})]}),(0,sn.jsxs)("div",{className:"mb-4",children:[(0,sn.jsx)("h5",{children:"Notes"}),(0,sn.jsx)(Yn,{bg:"light",children:(0,sn.jsx)(Yn.Body,{children:t.notes})})]})]}),(0,sn.jsx)(qy,{eventKey:"deliveries",title:"Recent Deliveries",children:(0,sn.jsxs)("div",{className:"mb-4",children:[(0,sn.jsx)("h5",{className:"mb-3",children:"Recent Deliveries"}),(0,sn.jsxs)(Uh,{hover:!0,children:[(0,sn.jsx)("thead",{children:(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("th",{children:"ID"}),(0,sn.jsx)("th",{children:"Date"}),(0,sn.jsx)("th",{children:"Customer"}),(0,sn.jsx)("th",{children:"Status"}),(0,sn.jsx)("th",{children:"Amount"}),(0,sn.jsx)("th",{children:"Actions"})]})}),(0,sn.jsx)("tbody",{children:t.recentDeliveries.map((e=>(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("td",{children:(0,sn.jsx)(Le,{to:`/deliveries/${e.id}`,className:"text-decoration-none",children:e.deliveryId})}),(0,sn.jsx)("td",{children:o(e.date)}),(0,sn.jsx)("td",{children:e.customer}),(0,sn.jsx)("td",{children:c(e.status)}),(0,sn.jsxs)("td",{children:["$",e.amount.toFixed(2)]}),(0,sn.jsx)("td",{children:(0,sn.jsx)(ir,{as:Le,to:`/deliveries/${e.id}`,variant:"outline-primary",size:"sm",children:"View"})})]},e.id)))})]}),(0,sn.jsx)("div",{className:"text-center mt-3",children:(0,sn.jsx)(ir,{as:Le,to:`/deliveries?driver=${e}`,variant:"outline-primary",children:"View All Deliveries"})})]})}),(0,sn.jsx)(qy,{eventKey:"documents",title:"Documents",children:(0,sn.jsxs)("div",{className:"mb-4",children:[(0,sn.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,sn.jsx)("h5",{className:"mb-0",children:"Driver Documents"}),(0,sn.jsxs)(ir,{variant:"outline-primary",size:"sm",children:[(0,sn.jsx)(Fr,{className:"me-1"})," Upload Document"]})]}),(0,sn.jsxs)(Uh,{hover:!0,children:[(0,sn.jsx)("thead",{children:(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("th",{children:"Document"}),(0,sn.jsx)("th",{children:"Date Uploaded"}),(0,sn.jsx)("th",{children:"Actions"})]})}),(0,sn.jsx)("tbody",{children:t.documents.map((e=>(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("td",{children:e.name}),(0,sn.jsx)("td",{children:o(e.dateUploaded)}),(0,sn.jsxs)("td",{children:[(0,sn.jsx)(ir,{variant:"outline-primary",size:"sm",className:"me-2",children:"View"}),(0,sn.jsx)(ir,{variant:"outline-secondary",size:"sm",children:"Download"})]})]},e.id)))})]})]})}),(0,sn.jsx)(qy,{eventKey:"history",title:"History",children:(0,sn.jsx)(gi,{variant:"info",children:"Driver activity history will be displayed here."})})]})})})})]})]})},DS=()=>{const e=ee(),{id:t}=se(),s=!!t,[n,i]=(0,a.useState)(!1),[r,l]=(0,a.useState)(!1),[o,c]=(0,a.useState)(""),[d,u]=(0,a.useState)("personal"),[h,m]=(0,a.useState)({name:"",email:"",phone:"",address:"",city:"",state:"",zip:"",licenseNumber:"",licenseExpiry:"",licenseState:"",vehicleType:"",vehicleModel:"",vehicleYear:"",licensePlate:"",status:"active",joinDate:"",areasCovered:[],emergencyContact:{name:"",relationship:"",phone:""},bankDetails:{accountName:"",accountNumber:"",routingNumber:"",bankName:""},documents:[]}),[p,x]=(0,a.useState)([]),[f,g]=(0,a.useState)([]);(0,a.useEffect)((()=>{if(x(["North Zone","South Zone","East Zone","West Zone","Central Zone","Metro Area"]),g(["Compact Car","Sedan","SUV","Cargo Van","Box Truck","Refrigerated Van"]),s)i(!0),setTimeout((()=>{const e={id:parseInt(t),name:"John Doe",email:"john.doe@example.com",phone:"(555) 123-4567",address:"123 Main St",city:"Atlanta",state:"GA",zip:"30303",licenseNumber:"DL-123456789",licenseExpiry:"2026-05-15",licenseState:"GA",vehicleType:"Delivery Van",vehicleModel:"Ford Transit",vehicleYear:"2023",licensePlate:"ABC-1234",status:"active",joinDate:"2022-03-10",areasCovered:["North Zone","Central Zone"],emergencyContact:{name:"Jane Doe",relationship:"Spouse",phone:"(555) 987-6543"},bankDetails:{accountName:"John Doe",accountNumber:"****1234",routingNumber:"****5678",bankName:"Atlanta Credit Union"},documents:[{id:1,name:"Driver License.pdf",type:"license",uploaded:"2023-06-15"},{id:2,name:"Vehicle Insurance.pdf",type:"insurance",uploaded:"2023-06-15"},{id:3,name:"Training Certificate.pdf",type:"certificate",uploaded:"2023-01-20"}]};m(e),i(!1)}),1e3);else{const e=(new Date).toISOString().split("T")[0];m((t=>({...t,joinDate:e,status:"active"})))}}),[t,s]);const v=e=>{const{name:t,value:s}=e.target;if(t.includes(".")){const[e,n]=t.split(".");m({...h,[e]:{...h[e],[n]:s}})}else m({...h,[t]:s})};return(0,sn.jsxs)(jn,{fluid:!0,className:"py-4",children:[(0,sn.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,sn.jsx)("h1",{children:s?"Edit Driver":"Add New Driver"}),(0,sn.jsxs)(ir,{variant:"outline-secondary",onClick:()=>e("/drivers"),children:[(0,sn.jsx)(co,{className:"me-1"})," Cancel"]})]}),r&&(0,sn.jsxs)(gi,{variant:"success",className:"mb-4",children:["Driver ",s?"updated":"created"," successfully!"]}),o&&(0,sn.jsx)(gi,{variant:"danger",className:"mb-4",children:o}),(0,sn.jsx)(Xi,{onSubmit:t=>{if(t.preventDefault(),i(!0),c(""),!h.name||!h.email||!h.phone)return c("Please fill in all required fields"),void i(!1);setTimeout((()=>{console.log("Saving driver:",h),l(!0),i(!1),setTimeout((()=>{e("/drivers")}),1500)}),1e3)},children:(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{lg:9,children:(0,sn.jsxs)(Yn,{className:"border-0 shadow-sm mb-4",children:[(0,sn.jsx)(Yn.Body,{children:(0,sn.jsx)(qy.Container,{activeKey:d,onSelect:e=>u(e),children:(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsxs)(ec,{variant:"pills",className:"flex-column",children:[(0,sn.jsx)(ec.Item,{children:(0,sn.jsxs)(ec.Link,{eventKey:"personal",className:"d-flex align-items-center",children:[(0,sn.jsx)(yo,{className:"me-2"})," Personal Info"]})}),(0,sn.jsx)(ec.Item,{children:(0,sn.jsxs)(ec.Link,{eventKey:"license",className:"d-flex align-items-center",children:[(0,sn.jsx)(ml,{className:"me-2"})," License & Vehicle"]})}),(0,sn.jsx)(ec.Item,{children:(0,sn.jsxs)(ec.Link,{eventKey:"areas",className:"d-flex align-items-center",children:[(0,sn.jsx)(Cl,{className:"me-2"})," Service Areas"]})}),(0,sn.jsx)(ec.Item,{children:(0,sn.jsxs)(ec.Link,{eventKey:"emergency",className:"d-flex align-items-center",children:[(0,sn.jsx)(yo,{className:"me-2"})," Emergency Contact"]})}),(0,sn.jsx)(ec.Item,{children:(0,sn.jsxs)(ec.Link,{eventKey:"payment",className:"d-flex align-items-center",children:[(0,sn.jsx)(yo,{className:"me-2"})," Payment Info"]})}),(0,sn.jsx)(ec.Item,{children:(0,sn.jsxs)(ec.Link,{eventKey:"documents",className:"d-flex align-items-center",children:[(0,sn.jsx)(yo,{className:"me-2"})," Documents"]})})]})}),(0,sn.jsx)(Nn,{md:9,children:(0,sn.jsxs)(qy.Content,{children:[(0,sn.jsxs)(qy.Pane,{eventKey:"personal",children:[(0,sn.jsx)("h5",{className:"mb-3",children:"Personal Information"}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:["Full Name ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsx)(Xi.Control,{type:"text",name:"name",value:h.name,onChange:v,required:!0})]}),(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:["Email ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsx)(Xi.Control,{type:"email",name:"email",value:h.email,onChange:v,required:!0})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:["Phone ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsx)(Xi.Control,{type:"tel",name:"phone",value:h.phone,onChange:v,required:!0})]})})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Address"}),(0,sn.jsx)(Xi.Control,{type:"text",name:"address",value:h.address,onChange:v})]}),(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:5,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"City"}),(0,sn.jsx)(Xi.Control,{type:"text",name:"city",value:h.city,onChange:v})]})}),(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"State"}),(0,sn.jsx)(Xi.Control,{type:"text",name:"state",value:h.state,onChange:v})]})}),(0,sn.jsx)(Nn,{md:4,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"ZIP Code"}),(0,sn.jsx)(Xi.Control,{type:"text",name:"zip",value:h.zip,onChange:v})]})})]}),(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Join Date"}),(0,sn.jsx)(Xi.Control,{type:"date",name:"joinDate",value:h.joinDate,onChange:v})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Status"}),(0,sn.jsxs)(Xi.Select,{name:"status",value:h.status,onChange:v,children:[(0,sn.jsx)("option",{value:"active",children:"Active"}),(0,sn.jsx)("option",{value:"inactive",children:"Inactive"}),(0,sn.jsx)("option",{value:"on-leave",children:"On Leave"})]})]})})]}),(0,sn.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,sn.jsx)("div",{}),(0,sn.jsx)(ir,{variant:"primary",onClick:()=>u("license"),children:"Next: License & Vehicle"})]})]}),(0,sn.jsxs)(qy.Pane,{eventKey:"license",children:[(0,sn.jsx)("h5",{className:"mb-3",children:"License Information"}),(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:["License Number ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsx)(Xi.Control,{type:"text",name:"licenseNumber",value:h.licenseNumber,onChange:v,required:!0})]})}),(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"State"}),(0,sn.jsx)(Xi.Control,{type:"text",name:"licenseState",value:h.licenseState,onChange:v})]})}),(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Expiration Date"}),(0,sn.jsx)(Xi.Control,{type:"date",name:"licenseExpiry",value:h.licenseExpiry,onChange:v})]})})]}),(0,sn.jsx)("h5",{className:"mb-3 mt-4",children:"Vehicle Information"}),(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Vehicle Type"}),(0,sn.jsxs)(Xi.Select,{name:"vehicleType",value:h.vehicleType,onChange:v,children:[(0,sn.jsx)("option",{value:"",children:"-- Select Vehicle Type --"}),f.map(((e,t)=>(0,sn.jsx)("option",{value:e,children:e},t)))]})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Vehicle Model"}),(0,sn.jsx)(Xi.Control,{type:"text",name:"vehicleModel",value:h.vehicleModel,onChange:v})]})})]}),(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Vehicle Year"}),(0,sn.jsx)(Xi.Control,{type:"text",name:"vehicleYear",value:h.vehicleYear,onChange:v})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"License Plate"}),(0,sn.jsx)(Xi.Control,{type:"text",name:"licensePlate",value:h.licensePlate,onChange:v})]})})]}),(0,sn.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,sn.jsx)(ir,{variant:"outline-secondary",onClick:()=>u("personal"),children:"Previous: Personal Info"}),(0,sn.jsx)(ir,{variant:"primary",onClick:()=>u("areas"),children:"Next: Service Areas"})]})]}),(0,sn.jsxs)(qy.Pane,{eventKey:"areas",children:[(0,sn.jsx)("h5",{className:"mb-3",children:"Service Areas"}),(0,sn.jsx)("p",{className:"text-muted mb-4",children:"Select the areas that this driver can service for deliveries."}),(0,sn.jsx)(yn,{children:p.map(((e,t)=>(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsx)(Xi.Check,{type:"checkbox",id:`area-${t}`,label:e,checked:h.areasCovered.includes(e),onChange:()=>(e=>{const t=[...h.areasCovered];if(t.includes(e)){const s=t.indexOf(e);t.splice(s,1)}else t.push(e);m({...h,areasCovered:t})})(e),className:"mb-3"})},t)))}),(0,sn.jsxs)("div",{className:"d-flex justify-content-between mt-3",children:[(0,sn.jsx)(ir,{variant:"outline-secondary",onClick:()=>u("license"),children:"Previous: License & Vehicle"}),(0,sn.jsx)(ir,{variant:"primary",onClick:()=>u("emergency"),children:"Next: Emergency Contact"})]})]}),(0,sn.jsxs)(qy.Pane,{eventKey:"emergency",children:[(0,sn.jsx)("h5",{className:"mb-3",children:"Emergency Contact"}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Contact Name"}),(0,sn.jsx)(Xi.Control,{type:"text",name:"emergencyContact.name",value:h.emergencyContact.name,onChange:v})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Relationship"}),(0,sn.jsx)(Xi.Control,{type:"text",name:"emergencyContact.relationship",value:h.emergencyContact.relationship,onChange:v})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Phone Number"}),(0,sn.jsx)(Xi.Control,{type:"tel",name:"emergencyContact.phone",value:h.emergencyContact.phone,onChange:v})]}),(0,sn.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,sn.jsx)(ir,{variant:"outline-secondary",onClick:()=>u("areas"),children:"Previous: Service Areas"}),(0,sn.jsx)(ir,{variant:"primary",onClick:()=>u("payment"),children:"Next: Payment Info"})]})]}),(0,sn.jsxs)(qy.Pane,{eventKey:"payment",children:[(0,sn.jsx)("h5",{className:"mb-3",children:"Payment Information"}),(0,sn.jsx)("p",{className:"text-muted mb-4",children:"This information is used for processing payments to the driver."}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Account Holder Name"}),(0,sn.jsx)(Xi.Control,{type:"text",name:"bankDetails.accountName",value:h.bankDetails.accountName,onChange:v})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Bank Name"}),(0,sn.jsx)(Xi.Control,{type:"text",name:"bankDetails.bankName",value:h.bankDetails.bankName,onChange:v})]}),(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Account Number"}),(0,sn.jsx)(Xi.Control,{type:"text",name:"bankDetails.accountNumber",value:h.bankDetails.accountNumber,onChange:v})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Routing Number"}),(0,sn.jsx)(Xi.Control,{type:"text",name:"bankDetails.routingNumber",value:h.bankDetails.routingNumber,onChange:v})]})})]}),(0,sn.jsx)(gi,{variant:"info",children:(0,sn.jsx)("small",{children:"Payment information is encrypted and stored securely in compliance with financial regulations."})}),(0,sn.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,sn.jsx)(ir,{variant:"outline-secondary",onClick:()=>u("emergency"),children:"Previous: Emergency Contact"}),(0,sn.jsx)(ir,{variant:"primary",onClick:()=>u("documents"),children:"Next: Documents"})]})]}),(0,sn.jsxs)(qy.Pane,{eventKey:"documents",children:[(0,sn.jsx)("h5",{className:"mb-3",children:"Driver Documents"}),(0,sn.jsx)("p",{className:"text-muted mb-4",children:"Upload relevant documents like license, insurance, and certifications."}),(0,sn.jsxs)(Xi.Group,{className:"mb-4",children:[(0,sn.jsx)(Xi.Label,{children:"Upload Documents"}),(0,sn.jsx)(Xi.Control,{type:"file",multiple:!0,onChange:e=>{const t=Array.from(e.target.files).map(((e,t)=>({id:h.documents.length+t+1,name:e.name,type:"other",uploaded:(new Date).toISOString().split("T")[0]})));m({...h,documents:[...h.documents,...t]})}}),(0,sn.jsx)(Xi.Text,{className:"text-muted",children:"You can upload multiple files at once. Accepted formats: PDF, JPG, PNG"})]}),h.documents.length>0?(0,sn.jsxs)("div",{className:"mb-4",children:[(0,sn.jsx)("h6",{children:"Uploaded Documents"}),(0,sn.jsx)("ul",{className:"list-group",children:h.documents.map((e=>(0,sn.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[(0,sn.jsxs)("div",{children:[(0,sn.jsx)("span",{className:"fw-bold",children:e.name}),(0,sn.jsx)("br",{}),(0,sn.jsxs)("small",{className:"text-muted",children:["Uploaded: ",e.uploaded]})]}),(0,sn.jsx)(ir,{variant:"outline-danger",size:"sm",onClick:()=>{return t=e.id,void m({...h,documents:h.documents.filter((e=>e.id!==t))});var t},children:"Remove"})]},e.id)))})]}):(0,sn.jsx)(gi,{variant:"warning",children:"No documents uploaded yet."}),(0,sn.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,sn.jsx)(ir,{variant:"outline-secondary",onClick:()=>u("payment"),children:"Previous: Payment Info"}),(0,sn.jsx)("div",{})]})]})]})})]})})}),(0,sn.jsx)(Yn.Footer,{className:"bg-white",children:(0,sn.jsxs)("div",{className:"d-flex justify-content-between",children:[s&&(0,sn.jsxs)(ir,{variant:"outline-danger",onClick:()=>{window.confirm("Are you sure you want to delete this driver?")&&e("/drivers")},children:[(0,sn.jsx)(uo,{className:"me-1"})," Delete Driver"]}),(0,sn.jsxs)("div",{className:"ms-auto",children:[(0,sn.jsx)(ir,{variant:"outline-secondary",className:"me-2",onClick:()=>e("/drivers"),children:"Cancel"}),(0,sn.jsx)(ir,{variant:"primary",type:"submit",disabled:n,children:n?(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Saving..."]}):(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(Vl,{className:"me-1"})," ",s?"Update Driver":"Create Driver"]})})]})]})})]})}),(0,sn.jsx)(Nn,{lg:3,children:(0,sn.jsxs)(Yn,{className:"border-0 shadow-sm",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white",children:(0,sn.jsx)("h5",{className:"mb-0",children:"Driver Summary"})}),(0,sn.jsxs)(Yn.Body,{children:[(0,sn.jsxs)("div",{className:"mb-3",children:[(0,sn.jsx)("strong",{children:"Name:"})," ",h.name||"Not set"]}),(0,sn.jsxs)("div",{className:"mb-3",children:[(0,sn.jsx)("strong",{children:"Contact:"}),(0,sn.jsxs)("div",{className:"small text-muted",children:[h.email||"No email"," | ",h.phone||"No phone"]})]}),(0,sn.jsxs)("div",{className:"mb-3",children:[(0,sn.jsx)("strong",{children:"Status:"})," ","active"===h.status?"Active":"inactive"===h.status?"Inactive":"On Leave"]}),(0,sn.jsxs)("div",{className:"mb-3",children:[(0,sn.jsx)("strong",{children:"Vehicle:"}),(0,sn.jsx)("div",{className:"small text-muted",children:h.vehicleType?`${h.vehicleType} (${h.vehicleModel})`:"Not assigned"})]}),(0,sn.jsxs)("div",{className:"mb-3",children:[(0,sn.jsx)("strong",{children:"Areas:"}),(0,sn.jsx)("div",{children:h.areasCovered.length>0?(0,sn.jsx)("div",{className:"mt-1",children:h.areasCovered.join(", ")}):(0,sn.jsx)("div",{className:"small text-muted",children:"No areas selected"})})]}),(0,sn.jsxs)("div",{className:"mb-3",children:[(0,sn.jsx)("strong",{children:"Documents:"}),(0,sn.jsxs)("div",{className:"small text-muted",children:[h.documents.length," documents uploaded"]})]}),(0,sn.jsx)("hr",{}),(0,sn.jsxs)("div",{className:"small text-muted",children:[(0,sn.jsx)("strong",{children:"Required fields"})," are marked with ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]})]})]})})]})})]})},_S=()=>{ee();const{id:e}=se(),[t,s]=(0,a.useState)(null),[n,i]=(0,a.useState)(!0),[r,l]=(0,a.useState)("month"),[o,c]=(0,a.useState)(new Date),[d,u]=(0,a.useState)(!1),[h,m]=(0,a.useState)({title:"",type:"delivery",start:"",end:"",description:"",location:""}),[p,x]=(0,a.useState)([]),[f,g]=(0,a.useState)(null),[v,j]=(0,a.useState)(!1);(0,a.useEffect)((()=>{i(!0),setTimeout((()=>{const t={id:parseInt(e),name:"John Doe",phone:"(555) 123-4567",email:"john.doe@example.com",status:"active"},n=[{id:1,title:"Delivery to ABC Corp",type:"delivery",start:new Date(o.getFullYear(),o.getMonth(),2,9,0),end:new Date(o.getFullYear(),o.getMonth(),2,11,0),description:"Deliver 3 packages of office supplies",location:"123 Business St, Atlanta, GA",deliveryId:"DEL-10032"},{id:2,title:"Delivery to XYZ Inc",type:"delivery",start:new Date(o.getFullYear(),o.getMonth(),4,14,0),end:new Date(o.getFullYear(),o.getMonth(),4,16,0),description:"Deliver 2 large equipment packages",location:"456 Corporate Ave, Atlanta, GA",deliveryId:"DEL-10035"},{id:3,title:"Safety Training",type:"training",start:new Date(o.getFullYear(),o.getMonth(),10,9,0),end:new Date(o.getFullYear(),o.getMonth(),10,12,0),description:"Annual safety refresher course",location:"Main Office - Training Room B"},{id:4,title:"Time Off",type:"time-off",start:new Date(o.getFullYear(),o.getMonth(),15,0,0),end:new Date(o.getFullYear(),o.getMonth(),17,23,59),description:"Personal time off",location:"N/A"},{id:5,title:"Vehicle Maintenance",type:"maintenance",start:new Date(o.getFullYear(),o.getMonth(),20,13,0),end:new Date(o.getFullYear(),o.getMonth(),20,15,0),description:"Scheduled maintenance for delivery van",location:"Fleet Service Center"}];s(t),x(n),i(!1)}),1e3)}),[e,o]);const b=e=>{const{name:t,value:s}=e.target;m({...h,[t]:s})},y=e=>new Date(e).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),w=()=>{m({title:"",type:"delivery",start:(new Date).toISOString().slice(0,16),end:new Date((new Date).getTime()+72e5).toISOString().slice(0,16),description:"",location:""}),g(null),u(!0)},N=e=>{g(e),m({title:e.title,type:e.type,start:e.start.toISOString().slice(0,16),end:e.end.toISOString().slice(0,16),description:e.description,location:e.location,deliveryId:e.deliveryId||""}),u(!0)},C=e=>{g(e),j(!0)},S=e=>{switch(e){case"delivery":return"primary";case"training":return"info";case"maintenance":return"warning";case"time-off":return"success";default:return"secondary"}};return n?(0,sn.jsx)("div",{className:"container-fluid py-4",children:(0,sn.jsxs)("div",{className:"text-center py-5",children:[(0,sn.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,sn.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,sn.jsx)("p",{className:"mt-3",children:"Loading schedule..."})]})}):(0,sn.jsxs)(jn,{fluid:!0,className:"py-4",children:[(0,sn.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,sn.jsxs)("div",{className:"d-flex align-items-center",children:[(0,sn.jsxs)(ir,{variant:"outline-secondary",className:"me-3",as:Le,to:`/drivers/${e}`,children:[(0,sn.jsx)(vr,{})," ",(0,sn.jsx)("span",{className:"d-none d-md-inline ms-1",children:"Back to Driver"})]}),(0,sn.jsxs)("h1",{className:"mb-0",children:[t.name,"'s Schedule"]})]}),(0,sn.jsx)("div",{children:(0,sn.jsxs)(ir,{variant:"primary",onClick:w,children:[(0,sn.jsx)(Ol,{className:"me-1"})," Add Event"]})})]}),(0,sn.jsx)(Yn,{className:"border-0 shadow-sm mb-4",children:(0,sn.jsxs)(Yn.Body,{children:[(0,sn.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,sn.jsxs)("div",{children:[(0,sn.jsx)(ir,{variant:"outline-secondary",className:"me-2",onClick:()=>{const e=new Date(o);"month"===r?e.setMonth(e.getMonth()-1):"week"===r?e.setDate(e.getDate()-7):e.setDate(e.getDate()-1),c(e)},children:"\xab Previous"}),(0,sn.jsx)(ir,{variant:"outline-secondary",className:"me-2",onClick:()=>{c(new Date)},children:"Today"}),(0,sn.jsx)(ir,{variant:"outline-secondary",onClick:()=>{const e=new Date(o);"month"===r?e.setMonth(e.getMonth()+1):"week"===r?e.setDate(e.getDate()+7):e.setDate(e.getDate()+1),c(e)},children:"Next \xbb"})]}),(0,sn.jsx)("h4",{className:"mb-0",children:"month"===r?(k=o,new Date(k).toLocaleDateString("en-US",{month:"long",year:"numeric"})):"week"===r?`Week of ${new Date(o).toLocaleDateString()}`:new Date(o).toLocaleDateString()}),(0,sn.jsxs)("div",{className:"btn-group",children:[(0,sn.jsx)(ir,{variant:"month"===r?"primary":"outline-primary",onClick:()=>l("month"),children:"Month"}),(0,sn.jsx)(ir,{variant:"week"===r?"primary":"outline-primary",onClick:()=>l("week"),children:"Week"})]})]}),(0,sn.jsx)("div",{className:"calendar",children:"month"===r?(()=>{const e=o.getMonth(),t=o.getFullYear(),s=new Date(t,e,1),n=new Date(t,e+1,0),a=s.getDay(),i=n.getDate(),r=[];for(let o=0;o<a;o++)r.push(null);for(let o=1;o<=i;o++)r.push(o);const l=[];let c=[];r.forEach(((e,t)=>{if(c.push(e),t%7===6||t===r.length-1){for(;c.length<7;)c.push(null);l.push(c),c=[]}}));const d=s=>{if(!s)return[];new Date(t,e,s);return p.filter((n=>{const a=new Date(n.start);return a.getDate()===s&&a.getMonth()===e&&a.getFullYear()===t}))};return(0,sn.jsx)("div",{className:"calendar-month-view",children:(0,sn.jsxs)("table",{className:"table table-bordered",children:[(0,sn.jsx)("thead",{children:(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("th",{children:"Sunday"}),(0,sn.jsx)("th",{children:"Monday"}),(0,sn.jsx)("th",{children:"Tuesday"}),(0,sn.jsx)("th",{children:"Wednesday"}),(0,sn.jsx)("th",{children:"Thursday"}),(0,sn.jsx)("th",{children:"Friday"}),(0,sn.jsx)("th",{children:"Saturday"})]})}),(0,sn.jsx)("tbody",{children:l.map(((s,n)=>(0,sn.jsx)("tr",{style:{height:"120px"},children:s.map(((s,n)=>(0,sn.jsx)("td",{className:""+(s?"":"bg-light"),children:s&&(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-1",children:[(0,sn.jsx)("span",{className:"calendar-day-number "+(s===(new Date).getDate()&&e===(new Date).getMonth()&&t===(new Date).getFullYear()?"bg-primary text-white rounded-circle p-1":""),children:s}),(0,sn.jsx)(ir,{size:"sm",variant:"outline-secondary",className:"btn-sm py-0 px-1",onClick:w,children:(0,sn.jsx)(Ol,{size:10})})]}),(0,sn.jsx)("div",{className:"calendar-day-events",children:d(s).map((e=>(0,sn.jsxs)("div",{className:`calendar-event bg-${S(e.type)} bg-opacity-10 text-${S(e.type)} mb-1 p-1 rounded small`,style:{cursor:"pointer"},onClick:()=>N(e),children:[y(e.start)," - ",e.title]},e.id)))})]})},n)))},n)))})]})})})():(()=>{const e=new Date(o),t=e.getDay();e.setDate(e.getDate()-t);const s=[];for(let n=0;n<7;n++){const t=new Date(e);t.setDate(t.getDate()+n),s.push(t)}return(0,sn.jsx)("div",{className:"calendar-week-view",children:(0,sn.jsxs)("table",{className:"table table-bordered",children:[(0,sn.jsx)("thead",{children:(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("th",{style:{width:"100px"},children:"Time"}),s.map(((e,t)=>(0,sn.jsxs)("th",{className:"text-center "+(e.getDate()===(new Date).getDate()&&e.getMonth()===(new Date).getMonth()&&e.getFullYear()===(new Date).getFullYear()?"bg-light":""),children:[(0,sn.jsx)("div",{children:e.toLocaleDateString("en-US",{weekday:"short"})}),(0,sn.jsx)("div",{className:""+(e.getDate()===(new Date).getDate()&&e.getMonth()===(new Date).getMonth()&&e.getFullYear()===(new Date).getFullYear()?"bg-primary text-white rounded-circle d-inline-block px-2":""),children:e.getDate()})]},t)))]})}),(0,sn.jsx)("tbody",{children:Array.from({length:13},((e,t)=>t+8)).map((e=>(0,sn.jsxs)("tr",{style:{height:"60px"},children:[(0,sn.jsx)("td",{className:"hour-cell",children:e>12?e-12+" PM":12===e?"12 PM":`${e} AM`}),s.map(((t,s)=>{new Date(t).setHours(e,0,0,0);const n=(e=>p.filter((t=>{const s=new Date(t.start);return s.getDate()===e.getDate()&&s.getMonth()===e.getMonth()&&s.getFullYear()===e.getFullYear()})))(t).filter((t=>new Date(t.start).getHours()===e));return(0,sn.jsx)("td",{className:"position-relative",children:n.map((e=>(0,sn.jsxs)("div",{className:`calendar-event bg-${S(e.type)} bg-opacity-10 text-${S(e.type)} p-1 rounded small`,style:{cursor:"pointer"},onClick:()=>N(e),children:[(0,sn.jsxs)("div",{className:"fw-bold",children:[y(e.start)," - ",y(e.end)]}),(0,sn.jsx)("div",{children:e.title})]},e.id)))},s)}))]},e)))})]})})})()}),(()=>{const e=new Date,t=p.filter((t=>new Date(t.start)>=e)).sort(((e,t)=>new Date(e.start)-new Date(t.start)));return(0,sn.jsxs)("div",{className:"upcoming-events mt-4",children:[(0,sn.jsx)("h5",{children:"Upcoming Events"}),(0,sn.jsxs)(Uh,{responsive:!0,hover:!0,children:[(0,sn.jsx)("thead",{className:"bg-light",children:(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("th",{children:"Date & Time"}),(0,sn.jsx)("th",{children:"Event"}),(0,sn.jsx)("th",{children:"Type"}),(0,sn.jsx)("th",{children:"Location"}),(0,sn.jsx)("th",{children:"Actions"})]})}),(0,sn.jsxs)("tbody",{children:[t.map((e=>(0,sn.jsxs)("tr",{children:[(0,sn.jsxs)("td",{children:[(0,sn.jsx)("div",{children:new Date(e.start).toLocaleDateString()}),(0,sn.jsxs)("div",{className:"text-muted small",children:[y(e.start)," - ",y(e.end)]})]}),(0,sn.jsxs)("td",{children:[(0,sn.jsx)("div",{className:"fw-bold",children:e.title}),(0,sn.jsx)("div",{className:"small text-muted",children:e.description})]}),(0,sn.jsx)("td",{children:(0,sn.jsx)(Cb,{bg:S(e.type),children:e.type.charAt(0).toUpperCase()+e.type.slice(1)})}),(0,sn.jsx)("td",{children:e.location}),(0,sn.jsxs)("td",{children:[(0,sn.jsx)(ir,{variant:"outline-primary",size:"sm",className:"me-1",onClick:()=>N(e),children:"Edit"}),(0,sn.jsx)(ir,{variant:"outline-danger",size:"sm",onClick:()=>C(e),children:"Delete"})]})]},e.id))),0===t.length&&(0,sn.jsx)("tr",{children:(0,sn.jsx)("td",{colSpan:"5",className:"text-center py-3",children:"No upcoming events scheduled"})})]})]})]})})()]})}),(0,sn.jsxs)(yy,{show:d,onHide:()=>u(!1),size:"lg",children:[(0,sn.jsx)(yy.Header,{closeButton:!0,children:(0,sn.jsx)(yy.Title,{children:f?"Edit Event":"Add New Event"})}),(0,sn.jsx)(yy.Body,{children:(0,sn.jsxs)(Xi,{children:[(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Event Title"}),(0,sn.jsx)(Xi.Control,{type:"text",name:"title",value:h.title,onChange:b,required:!0})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Event Type"}),(0,sn.jsxs)(Xi.Select,{name:"type",value:h.type,onChange:b,children:[(0,sn.jsx)("option",{value:"delivery",children:"Delivery"}),(0,sn.jsx)("option",{value:"training",children:"Training"}),(0,sn.jsx)("option",{value:"maintenance",children:"Maintenance"}),(0,sn.jsx)("option",{value:"time-off",children:"Time Off"}),(0,sn.jsx)("option",{value:"other",children:"Other"})]})]}),(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Start Time"}),(0,sn.jsx)(Xi.Control,{type:"datetime-local",name:"start",value:h.start,onChange:b})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"End Time"}),(0,sn.jsx)(Xi.Control,{type:"datetime-local",name:"end",value:h.end,onChange:b})]})})]}),"delivery"===h.type&&(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Delivery ID"}),(0,sn.jsx)(Xi.Control,{type:"text",name:"deliveryId",value:h.deliveryId||"",onChange:b,placeholder:"e.g. DEL-10032"})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Location"}),(0,sn.jsx)(Xi.Control,{type:"text",name:"location",value:h.location,onChange:b})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Description"}),(0,sn.jsx)(Xi.Control,{as:"textarea",rows:3,name:"description",value:h.description,onChange:b})]})]})}),(0,sn.jsxs)(yy.Footer,{children:[(0,sn.jsx)(ir,{variant:"secondary",onClick:()=>u(!1),children:"Cancel"}),f&&(0,sn.jsx)(ir,{variant:"danger",className:"me-auto",onClick:()=>{u(!1),C(f)},children:"Delete Event"}),(0,sn.jsx)(ir,{variant:"primary",onClick:()=>{if(f){const e=p.map((e=>e.id===f.id?{...e,title:h.title,type:h.type,start:new Date(h.start),end:new Date(h.end),description:h.description,location:h.location,deliveryId:h.deliveryId}:e));x(e)}else{const e={id:Math.max(...p.map((e=>e.id)),0)+1,title:h.title,type:h.type,start:new Date(h.start),end:new Date(h.end),description:h.description,location:h.location,deliveryId:h.deliveryId};x([...p,e])}u(!1)},children:f?"Update Event":"Add Event"})]})]}),(0,sn.jsxs)(yy,{show:v,onHide:()=>j(!1),children:[(0,sn.jsx)(yy.Header,{closeButton:!0,children:(0,sn.jsx)(yy.Title,{children:"Confirm Delete"})}),(0,sn.jsxs)(yy.Body,{children:['Are you sure you want to delete the event "',null===f||void 0===f?void 0:f.title,'"?',(0,sn.jsx)("div",{className:"mt-2 text-danger",children:"This action cannot be undone."})]}),(0,sn.jsxs)(yy.Footer,{children:[(0,sn.jsx)(ir,{variant:"secondary",onClick:()=>j(!1),children:"Cancel"}),(0,sn.jsx)(ir,{variant:"danger",onClick:()=>{if(f){const e=p.filter((e=>e.id!==f.id));x(e),j(!1)}},children:"Delete Event"})]})]})]});var k};var AS=s(766),TS=s.n(AS);const ES=()=>{const e=ee(),[t,s]=(0,a.useState)("file"),[n,i]=(0,a.useState)(null),[r,l]=(0,a.useState)(""),[o,c]=(0,a.useState)([]),[d,u]=(0,a.useState)(!0),[h,m]=(0,a.useState)({}),[p,x]=(0,a.useState)([]),[f,g]=(0,a.useState)(!1),[v,j]=(0,a.useState)(!1),[b,y]=(0,a.useState)(!1),[w,N]=(0,a.useState)(1),C=[{key:"name",label:"Full Name",required:!0},{key:"email",label:"Email Address",required:!0},{key:"phone",label:"Phone Number",required:!0},{key:"address",label:"Address",required:!1},{key:"city",label:"City",required:!1},{key:"state",label:"State",required:!1},{key:"zip",label:"ZIP Code",required:!1},{key:"licenseNumber",label:"License Number",required:!0},{key:"licenseExpiry",label:"License Expiry Date",required:!0},{key:"vehicleType",label:"Vehicle Type",required:!1},{key:"vehicleModel",label:"Vehicle Model",required:!1},{key:"licensePlate",label:"License Plate",required:!1},{key:"status",label:"Status",required:!1},{key:"emergencyContactName",label:"Emergency Contact Name",required:!1},{key:"emergencyContactPhone",label:"Emergency Contact Phone",required:!1},{key:"areasCovered",label:"Areas Covered",required:!1}],S=()=>{j(!0),setTimeout((()=>{console.log("Importing drivers..."),console.log("Mapped fields:",h);const e=[];for(let t=d?1:0;t<o.length;t++){const s=o[t],n={};Object.entries(h).forEach((e=>{let[t,a]=e;n[a]=s[t]})),e.push(n)}console.log("Processed data:",e),y(!0),j(!1)}),2e3)},k=()=>{i(null),l(""),c([]),m({}),x([]),y(!1),N(1)};return(0,sn.jsxs)(jn,{fluid:!0,className:"py-4",children:[(0,sn.jsx)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:(0,sn.jsxs)("div",{className:"d-flex align-items-center",children:[(0,sn.jsxs)(ir,{variant:"outline-secondary",className:"me-3",onClick:()=>e("/drivers"),children:[(0,sn.jsx)(vr,{})," ",(0,sn.jsx)("span",{className:"d-none d-md-inline ms-1",children:"Back to Drivers"})]}),(0,sn.jsx)("h1",{className:"mb-0",children:"Import Drivers"})]})}),(0,sn.jsx)(Yn,{className:"border-0 shadow-sm mb-4",children:(0,sn.jsxs)(Yn.Body,{children:[(0,sn.jsxs)("div",{className:"mb-4",children:[(0,sn.jsx)(rw,{className:"mb-3",now:w/4*100,style:{height:"8px"}}),(0,sn.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,sn.jsxs)("div",{className:"text-center "+(w>=1?"text-primary":""),children:[(0,sn.jsx)("div",{className:"rounded-circle d-inline-flex align-items-center justify-content-center mb-2 "+(w>=1?"bg-primary text-white":"bg-light"),style:{width:"32px",height:"32px"},children:"1"}),(0,sn.jsx)("div",{children:"Upload"})]}),(0,sn.jsxs)("div",{className:"text-center "+(w>=2?"text-primary":""),children:[(0,sn.jsx)("div",{className:"rounded-circle d-inline-flex align-items-center justify-content-center mb-2 "+(w>=2?"bg-primary text-white":"bg-light"),style:{width:"32px",height:"32px"},children:"2"}),(0,sn.jsx)("div",{children:"Map Fields"})]}),(0,sn.jsxs)("div",{className:"text-center "+(w>=3?"text-primary":""),children:[(0,sn.jsx)("div",{className:"rounded-circle d-inline-flex align-items-center justify-content-center mb-2 "+(w>=3?"bg-primary text-white":"bg-light"),style:{width:"32px",height:"32px"},children:"3"}),(0,sn.jsx)("div",{children:"Confirm"})]}),(0,sn.jsxs)("div",{className:"text-center "+(w>=4?"text-primary":""),children:[(0,sn.jsx)("div",{className:"rounded-circle d-inline-flex align-items-center justify-content-center mb-2 "+(w>=4?"bg-primary text-white":"bg-light"),style:{width:"32px",height:"32px"},children:"4"}),(0,sn.jsx)("div",{children:"Complete"})]})]})]}),b?(()=>{if(!b)return null;const t=d?1:0,s=o.length-t;return(0,sn.jsxs)(gi,{variant:"success",className:"mb-4",children:[(0,sn.jsx)(gi.Heading,{children:"Import Successful!"}),(0,sn.jsxs)("p",{children:["Successfully imported ",s," drivers into the system."]}),(0,sn.jsx)("hr",{}),(0,sn.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,sn.jsx)(ir,{variant:"outline-success",onClick:k,children:"Import More Drivers"}),(0,sn.jsx)(ir,{variant:"success",onClick:()=>e("/drivers"),children:"Go to Drivers List"})]})]})})():(0,sn.jsxs)(sn.Fragment,{children:[1===w&&(0,sn.jsxs)(qy.Container,{activeKey:t,onSelect:e=>s(e),children:[(0,sn.jsx)(yn,{className:"mb-4",children:(0,sn.jsxs)(Nn,{md:12,children:[(0,sn.jsxs)(ec,{variant:"pills",className:"mb-3",children:[(0,sn.jsx)(ec.Item,{children:(0,sn.jsxs)(ec.Link,{eventKey:"file",children:[(0,sn.jsx)(po,{className:"me-2"})," Upload File"]})}),(0,sn.jsx)(ec.Item,{children:(0,sn.jsxs)(ec.Link,{eventKey:"google",children:[(0,sn.jsx)(pr,{className:"me-2"})," Google Sheets"]})})]}),(0,sn.jsxs)(qy.Content,{children:[(0,sn.jsx)(qy.Pane,{eventKey:"file",children:(0,sn.jsx)(Yn,{className:"border",children:(0,sn.jsxs)(Yn.Body,{className:"text-center p-5",children:[(0,sn.jsxs)("div",{className:"mb-4",children:[(0,sn.jsx)("div",{className:"rounded-circle bg-light d-inline-flex align-items-center justify-content-center mb-3",style:{width:"80px",height:"80px"},children:(0,sn.jsx)(po,{size:32,className:"text-primary"})}),(0,sn.jsx)("h4",{children:"Upload Driver Data"}),(0,sn.jsx)("p",{className:"text-muted",children:"Upload a CSV or Excel file containing driver information"})]}),(0,sn.jsxs)(Xi.Group,{controlId:"formFile",className:"mb-3",children:[(0,sn.jsx)(Xi.Control,{type:"file",accept:".csv,.xlsx,.xls",onChange:e=>{const t=e.target.files[0];if(i(t),t)if(c([]),m({}),x([]),y(!1),"text/csv"===t.type||t.name.endsWith(".csv"))TS().parse(t,{complete:e=>{if(e.data&&e.data.length>0&&(c(e.data),d&&e.data.length>1)){const t=e.data[0],s={};t.forEach(((e,t)=>{const n=C.find((t=>t.label.toLowerCase()===e.toLowerCase()||t.key.toLowerCase()===e.toLowerCase()));n&&(s[t]=n.key)})),m(s)}},header:!1,skipEmptyLines:!0});else if("application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===t.type||"application/vnd.ms-excel"===t.type||t.name.endsWith(".xlsx")||t.name.endsWith(".xls")){alert("Excel file format detected. In a production environment, this would use SheetJS to parse the Excel file.");const e=[["Name","Email","Phone","License Number","Vehicle Type"],["John Doe","john.doe@example.com","(555) 123-4567","DL123456","Delivery Van"],["Jane Smith","jane.smith@example.com","(555) 987-6543","DL654321","Cargo Truck"]];if(c(e),d&&e.length>1){const t=e[0],s={};t.forEach(((e,t)=>{const n=C.find((t=>t.label.toLowerCase().includes(e.toLowerCase())||e.toLowerCase().includes(t.key.toLowerCase())));n&&(s[t]=n.key)})),m(s)}}else alert("Please select a CSV or Excel file."),i(null)},className:"d-none",id:"fileUpload"}),(0,sn.jsxs)("div",{className:"d-flex justify-content-center",children:[(0,sn.jsxs)(ir,{variant:"outline-primary",className:"me-2",onClick:()=>document.getElementById("fileUpload").click(),children:[(0,sn.jsx)(sl,{className:"me-2"})," Select CSV File"]}),(0,sn.jsxs)(ir,{variant:"outline-success",onClick:()=>document.getElementById("fileUpload").click(),children:[(0,sn.jsx)(nl,{className:"me-2"})," Select Excel File"]})]})]}),n&&(0,sn.jsxs)(gi,{variant:"info",className:"d-flex align-items-center",children:[(0,sn.jsx)("div",{className:"me-3",children:n.name.endsWith(".csv")?(0,sn.jsx)(sl,{size:24}):(0,sn.jsx)(nl,{size:24})}),(0,sn.jsxs)("div",{className:"flex-grow-1",children:[(0,sn.jsx)("div",{children:(0,sn.jsx)("strong",{children:n.name})}),(0,sn.jsxs)("div",{className:"small text-muted",children:[(n.size/1024).toFixed(2)," KB"]})]})]}),(0,sn.jsx)(Xi.Check,{type:"checkbox",id:"has-headers",label:"File contains header row",checked:d,onChange:e=>u(e.target.checked),className:"mt-3 mb-4"}),(0,sn.jsx)(ir,{variant:"primary",disabled:!n,onClick:()=>N(2),className:"px-4",children:"Continue to Field Mapping"})]})})}),(0,sn.jsx)(qy.Pane,{eventKey:"google",children:(0,sn.jsx)(Yn,{className:"border",children:(0,sn.jsxs)(Yn.Body,{className:"text-center p-5",children:[(0,sn.jsxs)("div",{className:"mb-4",children:[(0,sn.jsx)("div",{className:"rounded-circle bg-light d-inline-flex align-items-center justify-content-center mb-3",style:{width:"80px",height:"80px"},children:(0,sn.jsx)(pr,{size:32,className:"text-primary"})}),(0,sn.jsx)("h4",{children:"Import from Google Sheets"}),(0,sn.jsx)("p",{className:"text-muted",children:"Connect to a Google Sheet containing driver information"})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-4",children:[(0,sn.jsx)(Xi.Label,{children:"Google Sheet URL"}),(0,sn.jsxs)(nr,{children:[(0,sn.jsx)(Xi.Control,{type:"text",placeholder:"Paste Google Sheet URL here...",value:r,onChange:e=>l(e.target.value)}),(0,sn.jsx)(ir,{variant:"primary",onClick:()=>{r&&(j(!0),setTimeout((()=>{const e=[["Name","Email","Phone","License Number","Vehicle Type"],["John Doe","john.doe@example.com","(555) 123-4567","DL123456","Delivery Van"],["Jane Smith","jane.smith@example.com","(555) 987-6543","DL654321","Cargo Truck"],["Robert Brown","robert.brown@example.com","(555) 456-7890","DL789012","Compact Car"],["Sarah Williams","sarah.williams@example.com","(555) 789-0123","DL345678","Delivery Van"]];if(c(e),d&&e.length>1){const t={};e[0].forEach(((e,s)=>{const n=C.find((t=>t.label.toLowerCase().includes(e.toLowerCase())||e.toLowerCase().includes(t.key.toLowerCase())));n&&(t[s]=n.key)})),m(t)}j(!1)}),2e3))},disabled:!r||v,children:v?(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Connecting..."]}):(0,sn.jsx)(sn.Fragment,{children:"Connect"})})]}),(0,sn.jsx)(Xi.Text,{className:"text-muted",children:"Make sure the Google Sheet is publicly accessible or shared with the appropriate permissions."})]}),(0,sn.jsx)(Xi.Check,{type:"checkbox",id:"google-has-headers",label:"Sheet contains header row",checked:d,onChange:e=>u(e.target.checked),className:"mb-4"}),o.length>0&&(0,sn.jsx)(ir,{variant:"primary",onClick:()=>N(2),className:"px-4",children:"Continue to Field Mapping"})]})})})]})]})}),(0,sn.jsxs)("div",{className:"mt-4",children:[(0,sn.jsx)("h5",{children:"Sample Template"}),(0,sn.jsx)("p",{children:"You can download our sample template to see the expected format for driver imports."}),(0,sn.jsxs)("div",{children:[(0,sn.jsxs)(ir,{variant:"outline-primary",className:"me-2",children:[(0,sn.jsx)(sl,{className:"me-2"})," Download CSV Template"]}),(0,sn.jsxs)(ir,{variant:"outline-success",children:[(0,sn.jsx)(nl,{className:"me-2"})," Download Excel Template"]})]})]})]}),2===w&&(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsxs)("div",{className:"mb-4",children:[(0,sn.jsx)("h5",{children:"Map Data Fields"}),(0,sn.jsx)("p",{className:"text-muted",children:"Map the columns from your file to the driver fields in our system. Required fields are marked with an asterisk (*)."})]}),(()=>{if(0===o.length)return null;const e=d?1:0,t=d?o.slice(0,6):o.slice(0,5),s=d?t[0]:Array(t[0].length).fill("").map(((e,t)=>`Column ${t+1}`));return(0,sn.jsx)("div",{className:"table-responsive",children:(0,sn.jsxs)(Uh,{bordered:!0,hover:!0,className:"mb-0",children:[(0,sn.jsx)("thead",{className:"bg-light",children:(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("th",{children:"#"}),s.map(((e,t)=>(0,sn.jsxs)("th",{children:[e,(0,sn.jsxs)(Xi.Select,{size:"sm",className:"mt-2",value:h[t]||"",onChange:e=>{return s=t,n=e.target.value,void m({...h,[s]:n});var s,n},children:[(0,sn.jsx)("option",{value:"",children:"-- Map Field --"}),C.map((e=>(0,sn.jsxs)("option",{value:e.key,disabled:Object.values(h).includes(e.key)&&h[t]!==e.key,children:[e.label," ",e.required?"*":""]},e.key)))]})]},t)))]})}),(0,sn.jsx)("tbody",{children:t.slice(e).map(((t,s)=>(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("td",{children:e+s+1}),t.map(((e,t)=>(0,sn.jsx)("td",{children:e},t)))]},s)))})]})})})(),0===p.length?null:(0,sn.jsx)("div",{className:"mt-4",children:(0,sn.jsxs)(gi,{variant:"warning",children:[(0,sn.jsx)(gi.Heading,{children:"Validation Errors"}),(0,sn.jsx)("p",{children:"Please fix the following errors before proceeding:"}),(0,sn.jsx)(mb,{children:p.map(((e,t)=>(0,sn.jsxs)(mb.Item,{className:"bg-transparent border-0",children:[(0,sn.jsx)(oo,{className:"text-danger me-2"}),e.message]},t)))})]})}),(0,sn.jsxs)("div",{className:"mt-4 d-flex justify-content-between",children:[(0,sn.jsx)(ir,{variant:"outline-secondary",onClick:()=>N(1),children:"Back"}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)(ir,{variant:"outline-primary",onClick:()=>{g(!0),x([]);const e=[],t=d?1:0,s=C.filter((e=>e.required)).map((e=>e.key));Object.values(h).filter((e=>s.includes(e))).length<s.length&&e.push({type:"mapping",message:"Not all required fields are mapped. Please map all required fields."});for(let n=t;n<o.length;n++){const t=o[n],s=n+1;Object.entries(h).forEach((n=>{let[a,i]=n;const r=t[a],l=C.find((e=>e.key===i));if(l){if(!l.required||r&&""!==r.trim()||e.push({row:s,field:l.label,message:`Required field '${l.label}' is empty in row ${s}.`}),"email"===i&&r){/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)||e.push({row:s,field:l.label,message:`Invalid email format in row ${s}: '${r}'.`})}if("phone"===i&&r){/^[(]?\d{3}[)]?[-\s]?\d{3}[-\s]?\d{4}$/.test(r)||e.push({row:s,field:l.label,message:`Invalid phone format in row ${s}: '${r}'. Expected format: (XXX) XXX-XXXX or XXX-XXX-XXXX.`})}if("licenseExpiry"===i&&r){const t=new Date(r);isNaN(t.getTime())&&e.push({row:s,field:l.label,message:`Invalid date format in row ${s}: '${r}'. Expected format: YYYY-MM-DD.`})}}}))}x(e),g(!1),0===e.length&&N(3)},className:"me-2",disabled:f||0===Object.keys(h).length,children:f?(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Validating..."]}):(0,sn.jsx)(sn.Fragment,{children:"Validate Data"})}),(0,sn.jsx)(ir,{variant:"primary",onClick:()=>N(3),disabled:p.length>0||0===Object.keys(h).length||C.filter((e=>e.required)).some((e=>!Object.values(h).includes(e.key))),children:"Continue"})]})]})]}),3===w&&(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsxs)("div",{className:"mb-4",children:[(0,sn.jsx)("h5",{children:"Confirm Import"}),(0,sn.jsx)("p",{className:"text-muted",children:"Review the information below and confirm to import the drivers into the system."})]}),(()=>{if(0===o.length)return null;const e=d?1:0,t=o.length-e,s=C.filter((e=>e.required)),n=C.filter((e=>!e.required)),a=s.filter((e=>Object.values(h).includes(e.key))).length,i=n.filter((e=>Object.values(h).includes(e.key))).length;return(0,sn.jsx)(Yn,{className:"mb-4",children:(0,sn.jsxs)(Yn.Body,{children:[(0,sn.jsx)("h5",{children:"Import Summary"}),(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:4,children:(0,sn.jsxs)("div",{className:"mb-3",children:[(0,sn.jsx)("div",{className:"text-muted",children:"Total Drivers"}),(0,sn.jsx)("h3",{children:t})]})}),(0,sn.jsx)(Nn,{md:4,children:(0,sn.jsxs)("div",{className:"mb-3",children:[(0,sn.jsx)("div",{className:"text-muted",children:"Required Fields"}),(0,sn.jsxs)("h3",{children:[a," / ",s.length,(0,sn.jsx)("span",{className:"ms-2",children:a===s.length?(0,sn.jsx)(Cb,{bg:"success",children:"All Mapped"}):(0,sn.jsx)(Cb,{bg:"danger",children:"Incomplete"})})]})]})}),(0,sn.jsx)(Nn,{md:4,children:(0,sn.jsxs)("div",{className:"mb-3",children:[(0,sn.jsx)("div",{className:"text-muted",children:"Optional Fields"}),(0,sn.jsxs)("h3",{children:[i," / ",n.length,(0,sn.jsx)("span",{className:"ms-2",children:(0,sn.jsxs)(Cb,{bg:"info",children:[Math.round(i/n.length*100),"%"]})})]})]})})]}),(0,sn.jsx)("h5",{className:"mt-4",children:"Field Mapping"}),(0,sn.jsxs)(Uh,{bordered:!0,size:"sm",children:[(0,sn.jsx)("thead",{className:"bg-light",children:(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("th",{children:"Field Name"}),(0,sn.jsx)("th",{children:"Source Column"}),(0,sn.jsx)("th",{children:"Status"})]})}),(0,sn.jsxs)("tbody",{children:[C.filter((e=>e.required)).map((e=>{const t=Object.values(h).includes(e.key),s=t?Object.entries(h).find((t=>{let[s,n]=t;return n===e.key}))[0]:null,n=d&&s?o[0][s]:null;return(0,sn.jsxs)("tr",{children:[(0,sn.jsxs)("td",{children:[(0,sn.jsx)("span",{className:"fw-bold",children:e.label}),(0,sn.jsx)(Cb,{bg:"danger",className:"ms-2",children:"Required"})]}),(0,sn.jsx)("td",{children:t?n||`Column ${parseInt(s)+1}`:"Not Mapped"}),(0,sn.jsx)("td",{children:t?(0,sn.jsxs)("span",{className:"text-success",children:[(0,sn.jsx)(Mr,{className:"me-1"})," Mapped"]}):(0,sn.jsxs)("span",{className:"text-danger",children:[(0,sn.jsx)(oo,{className:"me-1"})," Not Mapped"]})})]},e.key)})),C.filter((e=>!e.required)).map((e=>{const t=Object.values(h).includes(e.key),s=t?Object.entries(h).find((t=>{let[s,n]=t;return n===e.key}))[0]:null,n=d&&s?o[0][s]:null;return(0,sn.jsxs)("tr",{children:[(0,sn.jsxs)("td",{children:[(0,sn.jsx)("span",{children:e.label}),(0,sn.jsx)(Cb,{bg:"secondary",className:"ms-2",children:"Optional"})]}),(0,sn.jsx)("td",{children:t?n||`Column ${parseInt(s)+1}`:"Not Mapped"}),(0,sn.jsx)("td",{children:t?(0,sn.jsxs)("span",{className:"text-success",children:[(0,sn.jsx)(Mr,{className:"me-1"})," Mapped"]}):(0,sn.jsxs)("span",{className:"text-muted",children:[(0,sn.jsx)(oo,{className:"me-1"})," Not Mapped"]})})]},e.key)}))]})]}),(0,sn.jsxs)("div",{className:"mt-4 d-flex justify-content-between",children:[(0,sn.jsx)(ir,{variant:"outline-secondary",onClick:()=>N(2),children:"Back to Mapping"}),(0,sn.jsx)(ir,{variant:"primary",onClick:S,disabled:v||a<s.length,children:v?(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Importing..."]}):(0,sn.jsxs)(sn.Fragment,{children:["Import ",t," Drivers"]})})]})]})})})()]})]})]})})]})},LS=()=>{const e=ee(),{id:t}=se(),[s,n]=(0,a.useState)(null),[i,r]=(0,a.useState)(!0);(0,a.useEffect)((()=>{r(!0),setTimeout((()=>{const e=new Date,s={id:parseInt(t),routeId:"RT-10001",name:"Downtown Atlanta Delivery Route",date:e,status:"active",driver:{id:1,name:"David Wilson",phone:"(555) 765-4321",email:"david.wilson@aretialliance.com"},vehicle:{id:3,name:"Cargo Van - AT-789",type:"Cargo Van",licensePlate:"AT-789",capacity:"1,000 lbs"},startLocation:"123 Warehouse St, Atlanta, GA 30303",endLocation:"123 Warehouse St, Atlanta, GA 30303",stops:[{id:1,address:"123 Warehouse St, Atlanta, GA 30303",type:"depot",status:"completed",scheduledTime:new Date(e.getFullYear(),e.getMonth(),e.getDate(),8,0),actualTime:new Date(e.getFullYear(),e.getMonth(),e.getDate(),8,0),notes:"Route start - loading completed"},{id:2,address:"101 Marietta St NW, Atlanta, GA 30303",type:"delivery",status:"completed",scheduledTime:new Date(e.getFullYear(),e.getMonth(),e.getDate(),8,30),actualTime:new Date(e.getFullYear(),e.getMonth(),e.getDate(),8,35),customer:"Peachtree Office Supplies",contact:"Sarah Johnson",phone:"(555) 123-4567",deliveryId:"DEL-10015",notes:"Leave packages at front desk"},{id:3,address:"55 Park Place NE, Atlanta, GA 30303",type:"delivery",status:"completed",scheduledTime:new Date(e.getFullYear(),e.getMonth(),e.getDate(),9,0),actualTime:new Date(e.getFullYear(),e.getMonth(),e.getDate(),9,5),customer:"GSU Business School",contact:"Robert Chen",phone:"(555) 234-5678",deliveryId:"DEL-10016",notes:"Signature required from recipient"},{id:4,address:"100 Piedmont Ave NE, Atlanta, GA 30303",type:"delivery",status:"completed",scheduledTime:new Date(e.getFullYear(),e.getMonth(),e.getDate(),9,30),actualTime:new Date(e.getFullYear(),e.getMonth(),e.getDate(),9,45),customer:"Student Center",contact:"James Wilson",phone:"(555) 345-6789",deliveryId:"DEL-10017",notes:"Deliver to loading dock in rear"},{id:5,address:"30 Pryor St SW, Atlanta, GA 30303",type:"delivery",status:"in-progress",scheduledTime:new Date(e.getFullYear(),e.getMonth(),e.getDate(),10,0),actualTime:null,customer:"City Law Offices",contact:"Amanda Garcia",phone:"(555) 456-7890",deliveryId:"DEL-10018",notes:"Call customer upon arrival"},{id:6,address:"200 Peachtree St NE, Atlanta, GA 30303",type:"delivery",status:"pending",scheduledTime:new Date(e.getFullYear(),e.getMonth(),e.getDate(),10,30),actualTime:null,customer:"Downtown Hotel",contact:"Michael Brown",phone:"(555) 567-8901",deliveryId:"DEL-10019",notes:"Deliver to concierge"},{id:7,address:"265 Park Ave W NW, Atlanta, GA 30313",type:"delivery",status:"pending",scheduledTime:new Date(e.getFullYear(),e.getMonth(),e.getDate(),11,0),actualTime:null,customer:"Centennial Park Offices",contact:"David Lee",phone:"(555) 678-9012",deliveryId:"DEL-10020",notes:"Security check required at entrance"},{id:8,address:"190 Marietta St NW, Atlanta, GA 30303",type:"delivery",status:"pending",scheduledTime:new Date(e.getFullYear(),e.getMonth(),e.getDate(),11,30),actualTime:null,customer:"CNN Center",contact:"Lisa Miller",phone:"(555) 789-0123",deliveryId:"DEL-10021",notes:"Visitor badge will be provided at security"},{id:9,address:"123 Warehouse St, Atlanta, GA 30303",type:"depot",status:"pending",scheduledTime:new Date(e.getFullYear(),e.getMonth(),e.getDate(),12,30),actualTime:null,notes:"Route end - return to warehouse"}],distance:"32.5 miles",duration:"4 hours 30 minutes",deliveries:7,createdAt:new Date(e.getFullYear(),e.getMonth(),e.getDate()-5),updatedAt:new Date(e.getFullYear(),e.getMonth(),e.getDate()-1)};n(s),r(!1)}),1e3)}),[t]);const l=e=>e?new Date(e).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):"N/A",o=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",c=e=>(0,sn.jsx)(Cb,{bg:{active:"success",completed:"info",scheduled:"primary",cancelled:"danger",delayed:"warning","in-progress":"success",pending:"secondary"}[e]||"secondary",className:"text-uppercase",children:{active:"Active",completed:"Completed",scheduled:"Scheduled",cancelled:"Cancelled",delayed:"Delayed","in-progress":"In Progress",pending:"Pending"}[e]||e});return i?(0,sn.jsx)("div",{className:"container-fluid py-4",children:(0,sn.jsxs)("div",{className:"text-center py-5",children:[(0,sn.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,sn.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,sn.jsx)("p",{className:"mt-3",children:"Loading route details..."})]})}):(0,sn.jsxs)("div",{className:"container-fluid py-4",children:[(0,sn.jsx)(Ob,{title:`Route ${s.routeId}`,subtitle:s.name,backButton:!0}),(0,sn.jsxs)("div",{className:"d-flex justify-content-end mb-4",children:[(0,sn.jsxs)(ir,{variant:"outline-info",className:"me-2",onClick:()=>e(`/routes/${t}/map`),children:[(0,sn.jsx)(wl,{className:"me-1"})," View on Map"]}),(0,sn.jsxs)(ir,{variant:"outline-secondary",className:"me-2",onClick:()=>window.print(),children:[(0,sn.jsx)(Rl,{className:"me-1"})," Print"]}),(0,sn.jsxs)(ir,{variant:"outline-primary",className:"me-2",onClick:()=>e(`/routes/${t}/edit`),children:[(0,sn.jsx)(Ll,{className:"me-1"})," Edit Route"]}),(0,sn.jsxs)(ir,{variant:"primary",onClick:()=>e(`/routes/optimize?routeId=${t}`),children:[(0,sn.jsx)(Jr,{className:"me-1"})," Optimize Route"]})]}),(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{lg:8,children:(0,sn.jsxs)(Yn,{className:"shadow-sm mb-4",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white",children:(0,sn.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,sn.jsx)("h5",{className:"mb-0",children:"Route Stops"}),(0,sn.jsx)("div",{children:c(s.status)})]})}),(0,sn.jsxs)(Yn.Body,{className:"p-0",children:[(0,sn.jsxs)("div",{className:"route-map-preview mb-3 bg-light p-4 text-center",children:[(0,sn.jsx)("p",{className:"text-muted",children:"Map visualization would be displayed here"}),(0,sn.jsxs)("p",{className:"mb-0 small text-muted",children:["Distance: ",s.distance," | Duration: ",s.duration]})]}),(0,sn.jsx)(mb,{variant:"flush",children:s.stops.map(((e,t)=>{return(0,sn.jsx)(mb.Item,{className:"p-3",children:(0,sn.jsxs)("div",{className:"d-flex",children:[(0,sn.jsxs)("div",{className:"me-3 text-center",children:[(0,sn.jsx)("div",{className:"timeline-icon mb-2 rounded-circle bg-light p-2",children:"depot"===e.type?(0,sn.jsx)(Cl,{className:"text-dark"}):"delivery"===e.type?(0,sn.jsx)(Gl,{className:"text-primary"}):(0,sn.jsx)(mo,{className:"text-info"})}),(0,sn.jsxs)("div",{className:"small text-muted",children:["Stop ",t+1]})]}),(0,sn.jsxs)("div",{className:"flex-grow-1",children:[(0,sn.jsxs)("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[(0,sn.jsxs)("div",{children:[(0,sn.jsx)("h6",{className:"mb-0",children:e.customer||("depot"===e.type?"Depot / Warehouse":e.address)}),(0,sn.jsx)("div",{className:"text-muted small",children:e.address})]}),(0,sn.jsxs)("div",{className:"d-flex",children:[(s=e.type,(0,sn.jsx)(Cb,{bg:{depot:"dark",delivery:"primary",pickup:"info"}[s]||"secondary",className:"text-uppercase",children:{depot:"Depot",delivery:"Delivery",pickup:"Pickup"}[s]||s})),(0,sn.jsx)("div",{className:"ms-2",children:c(e.status)})]})]}),(0,sn.jsxs)("div",{className:"d-flex justify-content-between mb-2",children:[(0,sn.jsxs)("div",{children:[(0,sn.jsx)("div",{className:"text-muted small",children:"Scheduled Time"}),(0,sn.jsx)("div",{children:l(e.scheduledTime)})]}),(0,sn.jsxs)("div",{className:"text-end",children:[(0,sn.jsx)("div",{className:"text-muted small",children:"Actual Time"}),(0,sn.jsx)("div",{children:e.actualTime?l(e.actualTime):"Pending"})]})]}),"delivery"===e.type&&(0,sn.jsxs)("div",{className:"mb-2",children:[(0,sn.jsx)("div",{className:"text-muted small",children:"Contact"}),(0,sn.jsxs)("div",{children:[e.contact," | ",e.phone]}),(0,sn.jsx)("div",{children:(0,sn.jsx)(Le,{to:`/deliveries/${e.deliveryId.split("-")[1]}`,children:e.deliveryId})})]}),e.notes&&(0,sn.jsxs)("div",{className:"mt-2 bg-light p-2 rounded small",children:[(0,sn.jsx)("strong",{children:"Notes:"})," ",e.notes]})]})]})},e.id);var s}))})]})]})}),(0,sn.jsxs)(Nn,{lg:4,children:[(0,sn.jsxs)(Yn,{className:"shadow-sm mb-4",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white",children:(0,sn.jsx)("h5",{className:"mb-0",children:"Route Information"})}),(0,sn.jsx)(Yn.Body,{className:"p-0",children:(0,sn.jsxs)(mb,{variant:"flush",children:[(0,sn.jsxs)(mb.Item,{className:"p-3",children:[(0,sn.jsx)("div",{className:"text-muted small",children:"Route ID"}),(0,sn.jsx)("div",{className:"fw-bold",children:s.routeId})]}),(0,sn.jsxs)(mb.Item,{className:"p-3",children:[(0,sn.jsx)("div",{className:"text-muted small",children:"Route Name"}),(0,sn.jsx)("div",{children:s.name})]}),(0,sn.jsxs)(mb.Item,{className:"p-3",children:[(0,sn.jsx)("div",{className:"text-muted small",children:"Date"}),(0,sn.jsxs)("div",{className:"d-flex align-items-center",children:[(0,sn.jsx)(kr,{className:"text-primary me-2"}),(0,sn.jsx)("span",{children:(d=s.date,d?new Date(d).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A")})]})]}),(0,sn.jsxs)(mb.Item,{className:"p-3",children:[(0,sn.jsx)("div",{className:"text-muted small",children:"Driver"}),(0,sn.jsxs)("div",{className:"d-flex align-items-center",children:[(0,sn.jsx)(yo,{className:"text-primary me-2"}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("div",{children:s.driver.name}),(0,sn.jsx)("div",{className:"small text-muted",children:s.driver.phone})]})]})]}),(0,sn.jsxs)(mb.Item,{className:"p-3",children:[(0,sn.jsx)("div",{className:"text-muted small",children:"Vehicle"}),(0,sn.jsxs)("div",{className:"d-flex align-items-center",children:[(0,sn.jsx)(mo,{className:"text-primary me-2"}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("div",{children:s.vehicle.name}),(0,sn.jsxs)("div",{className:"small text-muted",children:["Capacity: ",s.vehicle.capacity]})]})]})]}),(0,sn.jsx)(mb.Item,{className:"p-3",children:(0,sn.jsxs)(yn,{children:[(0,sn.jsxs)(Nn,{xs:6,children:[(0,sn.jsx)("div",{className:"text-muted small",children:"Distance"}),(0,sn.jsx)("div",{children:s.distance})]}),(0,sn.jsxs)(Nn,{xs:6,children:[(0,sn.jsx)("div",{className:"text-muted small",children:"Duration"}),(0,sn.jsx)("div",{children:s.duration})]})]})}),(0,sn.jsx)(mb.Item,{className:"p-3",children:(0,sn.jsxs)(yn,{children:[(0,sn.jsxs)(Nn,{xs:6,children:[(0,sn.jsx)("div",{className:"text-muted small",children:"Stops"}),(0,sn.jsx)("div",{children:s.stops.length})]}),(0,sn.jsxs)(Nn,{xs:6,children:[(0,sn.jsx)("div",{className:"text-muted small",children:"Deliveries"}),(0,sn.jsx)("div",{children:s.deliveries})]})]})}),(0,sn.jsxs)(mb.Item,{className:"p-3",children:[(0,sn.jsx)("div",{className:"text-muted small",children:"Status"}),(0,sn.jsx)("div",{children:c(s.status)})]})]})})]}),(0,sn.jsxs)(Yn,{className:"shadow-sm",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white",children:(0,sn.jsx)("h5",{className:"mb-0",children:"Route Timeline"})}),(0,sn.jsx)(Yn.Body,{className:"p-0",children:(0,sn.jsxs)(mb,{variant:"flush",children:[(0,sn.jsx)(mb.Item,{className:"p-3",children:(0,sn.jsxs)("div",{className:"timeline-item d-flex",children:[(0,sn.jsx)("div",{className:"timeline-icon bg-primary rounded-circle p-2 me-3",children:(0,sn.jsx)(Hl,{className:"text-white",size:14})}),(0,sn.jsxs)("div",{className:"timeline-content",children:[(0,sn.jsx)("div",{className:"fw-bold",children:"Route Created"}),(0,sn.jsx)("div",{className:"text-muted small",children:o(s.createdAt)})]})]})}),(0,sn.jsx)(mb.Item,{className:"p-3",children:(0,sn.jsxs)("div",{className:"timeline-item d-flex",children:[(0,sn.jsx)("div",{className:"timeline-icon bg-info rounded-circle p-2 me-3",children:(0,sn.jsx)(Ll,{className:"text-white",size:14})}),(0,sn.jsxs)("div",{className:"timeline-content",children:[(0,sn.jsx)("div",{className:"fw-bold",children:"Route Updated"}),(0,sn.jsx)("div",{className:"text-muted small",children:o(s.updatedAt)})]})]})}),(0,sn.jsx)(mb.Item,{className:"p-3",children:(0,sn.jsxs)("div",{className:"timeline-item d-flex",children:[(0,sn.jsx)("div",{className:"timeline-icon bg-success rounded-circle p-2 me-3",children:(0,sn.jsx)(Cl,{className:"text-white",size:14})}),(0,sn.jsxs)("div",{className:"timeline-content",children:[(0,sn.jsx)("div",{className:"fw-bold",children:"Route Started"}),(0,sn.jsx)("div",{className:"text-muted small",children:o(s.stops[0].actualTime)})]})]})}),"active"===s.status&&(0,sn.jsx)(mb.Item,{className:"p-3",children:(0,sn.jsxs)("div",{className:"timeline-item d-flex",children:[(0,sn.jsx)("div",{className:"timeline-icon bg-warning rounded-circle p-2 me-3",children:(0,sn.jsx)(mo,{className:"text-white",size:14})}),(0,sn.jsxs)("div",{className:"timeline-content",children:[(0,sn.jsx)("div",{className:"fw-bold",children:"Route In Progress"}),(0,sn.jsxs)("div",{className:"text-muted small",children:[s.stops.filter((e=>"completed"===e.status)).length," of ",s.stops.length," stops completed"]})]})]})})]})})]})]})]})]});var d},MS=()=>{const e=ee(),{id:t}=se(),s=!!t,[n,i]=(0,a.useState)(!1),[r,l]=(0,a.useState)(!1),[o,c]=(0,a.useState)(""),[d,u]=(0,a.useState)({}),[h,m]=(0,a.useState)({routeId:"",name:"",date:"",status:"scheduled",driverId:"",vehicleId:"",startLocation:"",endLocation:"",notes:"",stops:[]}),[p,x]=(0,a.useState)([]),[f,g]=(0,a.useState)([]),[v,j]=(0,a.useState)([]);(0,a.useEffect)((()=>{const e=new Date,n=new Date(e);n.setDate(n.getDate()+1);const a=[{id:1,deliveryId:"DEL-10015",customer:"Peachtree Office Supplies",contact:"Sarah Johnson",phone:"(555) 123-4567",address:"101 Marietta St NW, Atlanta, GA 30303",scheduledDate:n},{id:2,deliveryId:"DEL-10016",customer:"GSU Business School",contact:"Robert Chen",phone:"(555) 234-5678",address:"55 Park Place NE, Atlanta, GA 30303",scheduledDate:n},{id:3,deliveryId:"DEL-10017",customer:"Student Center",contact:"James Wilson",phone:"(555) 345-6789",address:"100 Piedmont Ave NE, Atlanta, GA 30303",scheduledDate:n},{id:4,deliveryId:"DEL-10018",customer:"City Law Offices",contact:"Amanda Garcia",phone:"(555) 456-7890",address:"30 Pryor St SW, Atlanta, GA 30303",scheduledDate:n},{id:5,deliveryId:"DEL-10019",customer:"Downtown Hotel",contact:"Michael Brown",phone:"(555) 567-8901",address:"200 Peachtree St NE, Atlanta, GA 30303",scheduledDate:n},{id:6,deliveryId:"DEL-10020",customer:"Centennial Park Offices",contact:"David Lee",phone:"(555) 678-9012",address:"265 Park Ave W NW, Atlanta, GA 30313",scheduledDate:n},{id:7,deliveryId:"DEL-10021",customer:"CNN Center",contact:"Lisa Miller",phone:"(555) 789-0123",address:"190 Marietta St NW, Atlanta, GA 30303",scheduledDate:n}];if(x([{id:1,name:"David Wilson"},{id:2,name:"Sarah Johnson"},{id:3,name:"Michael Brown"},{id:4,name:"Jennifer Davis"},{id:5,name:"Robert Martinez"}]),g([{id:1,name:"Cargo Van - AT-123",type:"Cargo Van",licensePlate:"AT-123",capacity:"1,000 lbs"},{id:2,name:"Box Truck - AT-456",type:"Box Truck",licensePlate:"AT-456",capacity:"5,000 lbs"},{id:3,name:"Cargo Van - AT-789",type:"Cargo Van",licensePlate:"AT-789",capacity:"1,000 lbs"},{id:4,name:"Sprinter - AT-321",type:"Sprinter",licensePlate:"AT-321",capacity:"3,000 lbs"},{id:5,name:"Box Truck - AT-654",type:"Box Truck",licensePlate:"AT-654",capacity:"5,000 lbs"}]),j(a),s)i(!0),setTimeout((()=>{const e=new Date,s={id:parseInt(t),routeId:"RT-10001",name:"Downtown Atlanta Delivery Route",date:new Date(e.getFullYear(),e.getMonth(),e.getDate()+1).toISOString().split("T")[0],status:"scheduled",driverId:1,vehicleId:3,startLocation:"123 Warehouse St, Atlanta, GA 30303",endLocation:"123 Warehouse St, Atlanta, GA 30303",notes:"This route covers the downtown Atlanta business district. Several deliveries require security check-in.",stops:[{id:1,type:"depot",address:"123 Warehouse St, Atlanta, GA 30303",scheduledTime:"08:00",notes:"Route start - loading"},{id:2,type:"delivery",deliveryId:1,address:"101 Marietta St NW, Atlanta, GA 30303",scheduledTime:"08:30",notes:"Leave packages at front desk"},{id:3,type:"delivery",deliveryId:2,address:"55 Park Place NE, Atlanta, GA 30303",scheduledTime:"09:00",notes:"Signature required from recipient"},{id:4,type:"delivery",deliveryId:3,address:"100 Piedmont Ave NE, Atlanta, GA 30303",scheduledTime:"09:30",notes:"Deliver to loading dock in rear"},{id:5,type:"delivery",deliveryId:4,address:"30 Pryor St SW, Atlanta, GA 30303",scheduledTime:"10:00",notes:"Call customer upon arrival"},{id:6,type:"depot",address:"123 Warehouse St, Atlanta, GA 30303",scheduledTime:"11:00",notes:"Route end - return to warehouse"}]};m({...s,stops:s.stops.map((e=>{if("delivery"===e.type&&e.deliveryId){const t=a.find((t=>t.id===e.deliveryId));return{...e,deliveryDetails:t||null}}return e}))}),i(!1)}),1e3);else{const e=new Date,t=new Date(e);t.setDate(t.getDate()+1);const s="123 Warehouse St, Atlanta, GA 30303",n=`RT-${1e4+Math.floor(9e4*Math.random())}`;m((e=>({...e,routeId:n,date:t.toISOString().split("T")[0],startLocation:s,endLocation:s,stops:[{id:Date.now(),type:"depot",address:s,scheduledTime:"08:00",notes:"Route start"}]})))}}),[t,s]);const b=e=>{const{name:t,value:s}=e.target;m({...h,[t]:s})},y=(e,t,s)=>{const n=[...h.stops];n[e]={...n[e],[t]:s},m({...h,stops:n})},w=()=>{const e={id:Date.now(),type:"delivery",address:"",scheduledTime:"",notes:""};m({...h,stops:[...h.stops,e]})};return(0,sn.jsxs)("div",{className:"container-fluid py-4",children:[(0,sn.jsx)(Ob,{title:s?"Edit Route":"Create New Route",backButton:!0}),(0,sn.jsxs)(Xi,{onSubmit:t=>{t.preventDefault(),(()=>{const e={};h.name.trim()||(e.name="Route name is required"),h.date||(e.date="Date is required"),h.driverId||(e.driverId="Please select a driver"),h.vehicleId||(e.vehicleId="Please select a vehicle"),h.startLocation.trim()||(e.startLocation="Start location is required"),h.endLocation.trim()||(e.endLocation="End location is required"),h.stops.length<2&&(e.stops="Route must have at least 2 stops");const t=[];let s=!1;return h.stops.forEach(((e,n)=>{const a={};e.address.trim()||(a.address="Address is required",s=!0),e.scheduledTime||(a.scheduledTime="Time is required",s=!0),"delivery"!==e.type||e.deliveryId||(a.deliveryId="Please select a delivery",s=!0),t[n]=a})),s&&(e.stopErrors=t),u(e),0===Object.keys(e).length})()&&(i(!0),c(""),setTimeout((()=>{try{console.log("Saving route:",h),l(!0),setTimeout((()=>{e("/routes")}),1500)}catch(t){c(t.message||"An error occurred while saving the route"),i(!1)}}),1e3))},children:[r&&(0,sn.jsxs)(gi,{variant:"success",className:"mb-4",children:["Route ",s?"updated":"created"," successfully!"]}),o&&(0,sn.jsx)(gi,{variant:"danger",className:"mb-4",children:o}),(0,sn.jsxs)(Yn,{className:"shadow-sm mb-4",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white",children:(0,sn.jsx)("h5",{className:"mb-0",children:"Route Information"})}),(0,sn.jsx)(Yn.Body,{children:n&&s?(0,sn.jsxs)("div",{className:"text-center py-5",children:[(0,sn.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,sn.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,sn.jsx)("p",{className:"mt-3",children:"Loading route data..."})]}):(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:4,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Route ID"}),(0,sn.jsx)(Xi.Control,{type:"text",name:"routeId",value:h.routeId,readOnly:!0})]})}),(0,sn.jsx)(Nn,{md:8,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:["Route Name ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsx)(Xi.Control,{type:"text",name:"name",value:h.name,onChange:b,isInvalid:!!d.name,placeholder:"e.g., Downtown Atlanta Delivery Route",required:!0}),(0,sn.jsx)(Xi.Control.Feedback,{type:"invalid",children:d.name})]})}),(0,sn.jsx)(Nn,{md:4,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:[(0,sn.jsx)(kr,{className:"me-1"}),"Date ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsx)(Xi.Control,{type:"date",name:"date",value:h.date,onChange:b,isInvalid:!!d.date,required:!0}),(0,sn.jsx)(Xi.Control.Feedback,{type:"invalid",children:d.date})]})}),(0,sn.jsx)(Nn,{md:4,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Status"}),(0,sn.jsx)(Xi.Select,{name:"status",value:h.status,onChange:b,children:[{value:"scheduled",label:"Scheduled"},{value:"active",label:"Active"},{value:"completed",label:"Completed"},{value:"cancelled",label:"Cancelled"},{value:"delayed",label:"Delayed"}].map((e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value)))})]})}),(0,sn.jsx)(Nn,{md:4,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:[(0,sn.jsx)(yo,{className:"me-1"}),"Driver ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsxs)(Xi.Select,{value:h.driverId||"",onChange:e=>{return t=e.target.value,void m({...h,driverId:parseInt(t)});var t},isInvalid:!!d.driverId,required:!0,children:[(0,sn.jsx)("option",{value:"",children:"-- Select Driver --"}),p.map((e=>(0,sn.jsx)("option",{value:e.id,children:e.name},e.id)))]}),(0,sn.jsx)(Xi.Control.Feedback,{type:"invalid",children:d.driverId})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:[(0,sn.jsx)(mo,{className:"me-1"}),"Vehicle ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsxs)(Xi.Select,{value:h.vehicleId||"",onChange:e=>{return t=e.target.value,void m({...h,vehicleId:parseInt(t)});var t},isInvalid:!!d.vehicleId,required:!0,children:[(0,sn.jsx)("option",{value:"",children:"-- Select Vehicle --"}),f.map((e=>(0,sn.jsxs)("option",{value:e.id,children:[e.name," (",e.capacity,")"]},e.id)))]}),(0,sn.jsx)(Xi.Control.Feedback,{type:"invalid",children:d.vehicleId})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:[(0,sn.jsx)(Cl,{className:"me-1"}),"Start Location ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsx)(Xi.Control,{type:"text",name:"startLocation",value:h.startLocation,onChange:b,isInvalid:!!d.startLocation,placeholder:"Enter warehouse or starting point address",required:!0}),(0,sn.jsx)(Xi.Control.Feedback,{type:"invalid",children:d.startLocation})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:[(0,sn.jsx)(Cl,{className:"me-1"}),"End Location ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsx)(Xi.Control,{type:"text",name:"endLocation",value:h.endLocation,onChange:b,isInvalid:!!d.endLocation,placeholder:"Enter warehouse or ending point address",required:!0}),(0,sn.jsx)(Xi.Control.Feedback,{type:"invalid",children:d.endLocation})]})}),(0,sn.jsx)(Nn,{md:12,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Notes"}),(0,sn.jsx)(Xi.Control,{as:"textarea",rows:3,name:"notes",value:h.notes,onChange:b,placeholder:"Enter any additional notes about this route"})]})})]})})]}),(0,sn.jsxs)(Yn,{className:"shadow-sm mb-4",children:[(0,sn.jsxs)(Yn.Header,{className:"bg-white d-flex justify-content-between align-items-center",children:[(0,sn.jsx)("h5",{className:"mb-0",children:"Route Stops"}),(0,sn.jsxs)("div",{children:[(0,sn.jsxs)(ir,{variant:"outline-primary",size:"sm",className:"me-2",onClick:w,children:[(0,sn.jsx)(Ol,{className:"me-1"})," Add Delivery Stop"]}),(0,sn.jsxs)(ir,{variant:"outline-dark",size:"sm",onClick:()=>{const e={id:Date.now(),type:"depot",address:h.endLocation||h.startLocation,scheduledTime:"",notes:"Route end - return to warehouse"};m({...h,stops:[...h.stops,e]})},children:[(0,sn.jsx)(Ol,{className:"me-1"})," Add Depot Stop"]})]})]}),(0,sn.jsx)(Yn.Body,{children:n&&s?(0,sn.jsxs)("div",{className:"text-center py-5",children:[(0,sn.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,sn.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,sn.jsx)("p",{className:"mt-3",children:"Loading route data..."})]}):(0,sn.jsxs)(sn.Fragment,{children:[d.stops&&(0,sn.jsx)(gi,{variant:"danger",className:"mb-3",children:d.stops}),0===h.stops.length?(0,sn.jsxs)("div",{className:"text-center py-4",children:[(0,sn.jsx)("p",{className:"text-muted mb-3",children:"No stops added to this route yet."}),(0,sn.jsxs)(ir,{variant:"primary",onClick:w,children:[(0,sn.jsx)(Ol,{className:"me-1"})," Add Stop"]})]}):(0,sn.jsxs)(Uh,{bordered:!0,hover:!0,responsive:!0,children:[(0,sn.jsx)("thead",{children:(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("th",{style:{width:"60px"},children:"#"}),(0,sn.jsx)("th",{style:{width:"120px"},children:"Type"}),(0,sn.jsx)("th",{children:"Address / Delivery"}),(0,sn.jsx)("th",{style:{width:"150px"},children:"Time"}),(0,sn.jsx)("th",{style:{width:"200px"},children:"Notes"}),(0,sn.jsx)("th",{style:{width:"180px"},children:"Actions"})]})}),(0,sn.jsx)("tbody",{children:h.stops.map(((e,t)=>{var s,n,a,i;return(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("td",{className:"text-center",children:t+1}),(0,sn.jsx)("td",{children:(0,sn.jsxs)(Xi.Select,{size:"sm",value:e.type,onChange:e=>((e,t)=>{const s=[...h.stops];s[e]={...s[e],type:t,deliveryId:"delivery"===t?s[e].deliveryId:null,deliveryDetails:"delivery"===t?s[e].deliveryDetails:null},m({...h,stops:s})})(t,e.target.value),children:[(0,sn.jsx)("option",{value:"depot",children:"Depot"}),(0,sn.jsx)("option",{value:"delivery",children:"Delivery"}),(0,sn.jsx)("option",{value:"pickup",children:"Pickup"})]})}),(0,sn.jsx)("td",{children:"delivery"===e.type?(0,sn.jsxs)(Xi.Group,{children:[(0,sn.jsxs)(Xi.Select,{size:"sm",value:e.deliveryId||"",onChange:e=>((e,t)=>{const s=v.find((e=>e.id===parseInt(t))),n=[...h.stops];n[e]={...n[e],deliveryId:parseInt(t),deliveryDetails:s||null,address:s?s.address:n[e].address},m({...h,stops:n})})(t,e.target.value),isInvalid:d.stopErrors&&(null===(s=d.stopErrors[t])||void 0===s?void 0:s.deliveryId),children:[(0,sn.jsx)("option",{value:"",children:"-- Select Delivery --"}),v.map((e=>(0,sn.jsxs)("option",{value:e.id,children:[e.deliveryId," - ",e.customer]},e.id)))]}),e.deliveryDetails&&(0,sn.jsx)("div",{className:"small text-muted mt-1",children:e.deliveryDetails.address}),(0,sn.jsx)(Xi.Control.Feedback,{type:"invalid",children:d.stopErrors&&(null===(n=d.stopErrors[t])||void 0===n?void 0:n.deliveryId)})]}):(0,sn.jsx)(Xi.Control,{size:"sm",type:"text",value:e.address||"",onChange:e=>y(t,"address",e.target.value),isInvalid:d.stopErrors&&(null===(a=d.stopErrors[t])||void 0===a?void 0:a.address)})}),(0,sn.jsx)("td",{children:(0,sn.jsx)(Xi.Control,{size:"sm",type:"time",value:e.scheduledTime||"",onChange:e=>y(t,"scheduledTime",e.target.value),isInvalid:d.stopErrors&&(null===(i=d.stopErrors[t])||void 0===i?void 0:i.scheduledTime)})}),(0,sn.jsx)("td",{children:(0,sn.jsx)(Xi.Control,{size:"sm",type:"text",value:e.notes||"",onChange:e=>y(t,"notes",e.target.value)})}),(0,sn.jsx)("td",{children:(0,sn.jsxs)("div",{className:"d-flex",children:[(0,sn.jsx)(ir,{variant:"light",size:"sm",className:"me-1",onClick:()=>(e=>{if(0===e)return;const t=[...h.stops],s=t[e];t[e]=t[e-1],t[e-1]=s,m({...h,stops:t})})(t),disabled:0===t,children:(0,sn.jsx)(jr,{})}),(0,sn.jsx)(ir,{variant:"light",size:"sm",className:"me-1",onClick:()=>(e=>{if(e===h.stops.length-1)return;const t=[...h.stops],s=t[e];t[e]=t[e+1],t[e+1]=s,m({...h,stops:t})})(t),disabled:t===h.stops.length-1,children:(0,sn.jsx)(gr,{})}),(0,sn.jsx)(ir,{variant:"danger",size:"sm",onClick:()=>(e=>{const t=[...h.stops];t.splice(e,1),m({...h,stops:t})})(t),children:(0,sn.jsx)(uo,{})})]})})]},e.id)}))})]}),(0,sn.jsx)("div",{className:"text-center mt-3",children:(0,sn.jsxs)(ir,{variant:"outline-primary",onClick:()=>w(),children:[(0,sn.jsx)(Ol,{className:"me-1"})," Add Delivery Stop"]})})]})}),!n&&(0,sn.jsx)(Yn.Footer,{className:"bg-white",children:(0,sn.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,sn.jsx)("div",{children:h.stops.length>0&&(0,sn.jsxs)("div",{className:"text-muted",children:[h.stops.length," stops in this route"]})}),(0,sn.jsxs)("div",{children:[(0,sn.jsxs)(ir,{variant:"outline-primary",className:"me-2",onClick:()=>{alert("Route optimization would be implemented in a real application")},children:[(0,sn.jsx)(Jr,{className:"me-1"})," Optimize Route"]}),(0,sn.jsxs)(ir,{variant:"primary",type:"submit",disabled:n,children:[(0,sn.jsx)(Vl,{className:"me-1"})," Save Route"]})]})]})})]}),(0,sn.jsx)("div",{className:"d-flex justify-content-between mt-4",children:s&&(0,sn.jsxs)(ir,{variant:"outline-danger",onClick:()=>{window.confirm("Are you sure you want to delete this route?")&&e("/routes")},children:[(0,sn.jsx)(uo,{className:"me-1"})," Delete Route"]})})]})]})},IS=()=>{const e=ee(),[t,s]=(0,a.useState)([]),[n,i]=(0,a.useState)([]),[r,l]=(0,a.useState)(""),[o,c]=(0,a.useState)("all"),[d,u]=(0,a.useState)("all"),[h,m]=(0,a.useState)("all"),[p,x]=(0,a.useState)("list"),[f,g]=(0,a.useState)("date"),[v,j]=(0,a.useState)("desc"),[b,y]=(0,a.useState)(1),[w]=(0,a.useState)(10),[N,C]=(0,a.useState)(!1),[S,k]=(0,a.useState)(null),[D,_]=(0,a.useState)(!0),[A,T]=(0,a.useState)([]),E=[{value:"active",label:"Active",color:"success"},{value:"completed",label:"Completed",color:"info"},{value:"scheduled",label:"Scheduled",color:"primary"},{value:"cancelled",label:"Cancelled",color:"danger"},{value:"delayed",label:"Delayed",color:"warning"}];(0,a.useEffect)((()=>{setTimeout((()=>{const e=new Date,t=new Date(e);t.setDate(t.getDate()+1);const n=new Date(e);n.setDate(n.getDate()+7);const a=[{id:1,name:"David Wilson"},{id:2,name:"Sarah Johnson"},{id:3,name:"Michael Brown"},{id:4,name:"Jennifer Davis"},{id:5,name:"Robert Martinez"}];T(a);const r=[{id:1,routeId:"RT-10001",name:"Downtown Atlanta Delivery Route",date:e,status:"active",driver:a[0],vehicle:"Cargo Van - AT-789",startLocation:"123 Warehouse St, Atlanta, GA 30303",endLocation:"123 Warehouse St, Atlanta, GA 30303",stops:8,distance:"32.5 miles",duration:"2 hours 15 minutes",deliveries:12,createdAt:new Date(e.getFullYear(),e.getMonth(),e.getDate()-5)},{id:2,routeId:"RT-10002",name:"Buckhead Business District Route",date:e,status:"completed",driver:a[1],vehicle:"Box Truck - AT-456",startLocation:"123 Warehouse St, Atlanta, GA 30303",endLocation:"123 Warehouse St, Atlanta, GA 30303",stops:6,distance:"28.3 miles",duration:"1 hour 50 minutes",deliveries:9,createdAt:new Date(e.getFullYear(),e.getMonth(),e.getDate()-2)},{id:3,routeId:"RT-10003",name:"Midtown Express Route",date:t,status:"scheduled",driver:a[2],vehicle:"Cargo Van - AT-123",startLocation:"123 Warehouse St, Atlanta, GA 30303",endLocation:"123 Warehouse St, Atlanta, GA 30303",stops:12,distance:"40.8 miles",duration:"2 hours 45 minutes",deliveries:15,createdAt:new Date(e.getFullYear(),e.getMonth(),e.getDate()-1)},{id:4,routeId:"RT-10004",name:"Decatur Area Route",date:t,status:"scheduled",driver:a[3],vehicle:"Box Truck - AT-789",startLocation:"123 Warehouse St, Atlanta, GA 30303",endLocation:"123 Warehouse St, Atlanta, GA 30303",stops:7,distance:"35.2 miles",duration:"2 hours 10 minutes",deliveries:10,createdAt:new Date(e.getFullYear(),e.getMonth(),e.getDate()-3)},{id:5,routeId:"RT-10005",name:"Sandy Springs Commercial Route",date:n,status:"scheduled",driver:a[4],vehicle:"Box Truck - AT-456",startLocation:"123 Warehouse St, Atlanta, GA 30303",endLocation:"123 Warehouse St, Atlanta, GA 30303",stops:9,distance:"42.6 miles",duration:"2 hours 30 minutes",deliveries:14,createdAt:new Date(e.getFullYear(),e.getMonth(),e.getDate()-4)},{id:6,routeId:"RT-10006",name:"Marietta Express Route",date:new Date(e.getFullYear(),e.getMonth(),e.getDate()-1),status:"completed",driver:a[0],vehicle:"Cargo Van - AT-123",startLocation:"123 Warehouse St, Atlanta, GA 30303",endLocation:"123 Warehouse St, Atlanta, GA 30303",stops:10,distance:"38.9 miles",duration:"2 hours 20 minutes",deliveries:13,createdAt:new Date(e.getFullYear(),e.getMonth(),e.getDate()-7)}];s(r),i(r),_(!1)}),1e3)}),[]),(0,a.useEffect)((()=>{let e=[...t];if("all"!==o&&(e=e.filter((e=>e.status===o))),"all"!==h){const t=parseInt(h);e=e.filter((e=>e.driver.id===t))}const s=new Date;s.setHours(0,0,0,0);const n=new Date(s);n.setDate(n.getDate()+1);const a=new Date(s);a.setDate(s.getDate()-s.getDay());const l=new Date(a);l.setDate(l.getDate()+6);const c=new Date(l);c.setDate(c.getDate()+1);const u=new Date(c);u.setDate(u.getDate()+6);const m=new Date(s.getFullYear(),s.getMonth(),1),p=new Date(s.getFullYear(),s.getMonth()+1,0);switch(d){case"today":e=e.filter((e=>{const t=new Date(e.date);return t.setHours(0,0,0,0),t.getTime()===s.getTime()}));break;case"tomorrow":e=e.filter((e=>{const t=new Date(e.date);return t.setHours(0,0,0,0),t.getTime()===n.getTime()}));break;case"this-week":e=e.filter((e=>{const t=new Date(e.date);return t.setHours(0,0,0,0),t>=a&&t<=l}));break;case"next-week":e=e.filter((e=>{const t=new Date(e.date);return t.setHours(0,0,0,0),t>=c&&t<=u}));break;case"this-month":e=e.filter((e=>{const t=new Date(e.date);return t.setHours(0,0,0,0),t>=m&&t<=p}))}if(r){const t=r.toLowerCase();e=e.filter((e=>e.routeId.toLowerCase().includes(t)||e.name.toLowerCase().includes(t)||e.driver.name.toLowerCase().includes(t)||e.startLocation.toLowerCase().includes(t)||e.endLocation.toLowerCase().includes(t)))}e.sort(((e,t)=>{let s=e[f],n=t[f];return"driver.name"===f&&(s=e.driver.name,n=t.driver.name),s instanceof Date&&n instanceof Date?"asc"===v?s-n:n-s:"string"===typeof s&&"string"===typeof n?"asc"===v?s.localeCompare(n):n.localeCompare(s):"asc"===v?s-n:n-s})),i(e)}),[t,r,o,d,h,f,v]);const L=b*w,M=L-w,I=n.slice(M,L),P=Math.ceil(n.length/w),O=e=>{y(e)},R=e=>{f===e?j("asc"===v?"desc":"asc"):(g(e),j("asc"))},F=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",z=e=>{const t=E.find((t=>t.value===e));return t?(0,sn.jsx)(Cb,{bg:t.color,className:"text-uppercase",children:t.label}):null};return(0,sn.jsxs)("div",{className:"container-fluid py-4",children:[(0,sn.jsx)(Ob,{title:"Routes",backButton:!0}),(0,sn.jsxs)("div",{className:"d-flex justify-content-end align-items-center mb-4",children:[(0,sn.jsxs)(ir,{variant:"outline-primary",className:"me-2",onClick:()=>e("/routes/map"),children:[(0,sn.jsx)(Nl,{className:"me-1"})," Route Map"]}),(0,sn.jsxs)(ir,{variant:"outline-success",className:"me-2",onClick:()=>e("/routes/optimize"),children:[(0,sn.jsx)(Jr,{className:"me-1"})," Optimize Routes"]}),(0,sn.jsxs)(ir,{variant:"primary",onClick:()=>e("/routes/new"),children:[(0,sn.jsx)(Ol,{className:"me-1"})," Create Route"]})]}),(()=>{const e=(()=>{const e=new Date;e.setHours(0,0,0,0);const s=new Date(e);s.setDate(s.getDate()+1);const n=t.filter((e=>"active"===e.status)).length,a=t.filter((t=>{const s=new Date(t.date);return s.setHours(0,0,0,0),s.getTime()===e.getTime()})).length,i=t.filter((e=>{const t=new Date(e.date);return t.setHours(0,0,0,0),t.getTime()===s.getTime()})).length,r=t.reduce(((e,t)=>e+t.deliveries),0);return{totalRoutes:t.length,activeRoutes:n,routesToday:a,routesTomorrow:i,totalDeliveries:r}})();return(0,sn.jsxs)(yn,{className:"mb-4",children:[(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsx)(Yn,{className:"border-0 shadow-sm h-100",children:(0,sn.jsxs)(Yn.Body,{className:"d-flex align-items-center",children:[(0,sn.jsx)("div",{className:"icon-wrapper bg-primary bg-opacity-10 rounded p-3 me-3",children:(0,sn.jsx)(Hl,{className:"text-primary",size:24})}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("h6",{className:"text-muted mb-1",children:"Total Routes"}),(0,sn.jsx)("h3",{className:"mb-0",children:e.totalRoutes})]})]})})}),(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsx)(Yn,{className:"border-0 shadow-sm h-100",children:(0,sn.jsxs)(Yn.Body,{className:"d-flex align-items-center",children:[(0,sn.jsx)("div",{className:"icon-wrapper bg-success bg-opacity-10 rounded p-3 me-3",children:(0,sn.jsx)(Hl,{className:"text-success",size:24})}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("h6",{className:"text-muted mb-1",children:"Active Routes"}),(0,sn.jsx)("h3",{className:"mb-0",children:e.activeRoutes})]})]})})}),(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsx)(Yn,{className:"border-0 shadow-sm h-100",children:(0,sn.jsxs)(Yn.Body,{className:"d-flex align-items-center",children:[(0,sn.jsx)("div",{className:"icon-wrapper bg-info bg-opacity-10 rounded p-3 me-3",children:(0,sn.jsx)(Hl,{className:"text-info",size:24})}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("h6",{className:"text-muted mb-1",children:"Routes Today"}),(0,sn.jsx)("h3",{className:"mb-0",children:e.routesToday}),(0,sn.jsxs)("div",{className:"small text-muted",children:["Tomorrow: ",e.routesTomorrow]})]})]})})}),(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsx)(Yn,{className:"border-0 shadow-sm h-100",children:(0,sn.jsxs)(Yn.Body,{className:"d-flex align-items-center",children:[(0,sn.jsx)("div",{className:"icon-wrapper bg-warning bg-opacity-10 rounded p-3 me-3",children:(0,sn.jsx)(mo,{className:"text-warning",size:24})}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("h6",{className:"text-muted mb-1",children:"Total Deliveries"}),(0,sn.jsx)("h3",{className:"mb-0",children:e.totalDeliveries})]})]})})})]})})(),(0,sn.jsx)(Yn,{className:"shadow-sm mb-4",children:(0,sn.jsxs)(Yn.Body,{children:[(0,sn.jsxs)(yn,{className:"mb-3",children:[(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsxs)(nr,{children:[(0,sn.jsx)(nr.Text,{children:(0,sn.jsx)(Ul,{})}),(0,sn.jsx)(Xi.Control,{placeholder:"Search routes...",value:r,onChange:e=>l(e.target.value)})]})}),(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsxs)(nr,{children:[(0,sn.jsx)(nr.Text,{children:(0,sn.jsx)(ol,{})}),(0,sn.jsxs)(Xi.Select,{value:o,onChange:e=>c(e.target.value),children:[(0,sn.jsx)("option",{value:"all",children:"All Statuses"}),E.map((e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value)))]})]})}),(0,sn.jsx)(Nn,{md:2,children:(0,sn.jsxs)(nr,{children:[(0,sn.jsx)(nr.Text,{children:(0,sn.jsx)(kr,{})}),(0,sn.jsx)(Xi.Select,{value:d,onChange:e=>u(e.target.value),children:[{value:"all",label:"All Dates"},{value:"today",label:"Today"},{value:"tomorrow",label:"Tomorrow"},{value:"this-week",label:"This Week"},{value:"next-week",label:"Next Week"},{value:"this-month",label:"This Month"},{value:"custom",label:"Custom Range"}].map((e=>(0,sn.jsx)("option",{value:e.value,children:e.label},e.value)))})]})}),(0,sn.jsx)(Nn,{md:2,children:(0,sn.jsxs)(nr,{children:[(0,sn.jsx)(nr.Text,{children:(0,sn.jsx)(yo,{})}),(0,sn.jsxs)(Xi.Select,{value:h,onChange:e=>m(e.target.value),children:[(0,sn.jsx)("option",{value:"all",children:"All Drivers"}),A.map((e=>(0,sn.jsx)("option",{value:e.id,children:e.name},e.id)))]})]})}),(0,sn.jsx)(Nn,{md:1,children:(0,sn.jsx)(ir,{variant:"outline-secondary",className:"w-100",onClick:()=>{l(""),c("all"),u("all"),m("all")},children:"Clear"})}),(0,sn.jsx)(Nn,{md:1,className:"d-flex justify-content-end",children:(0,sn.jsxs)("div",{className:"btn-group",children:[(0,sn.jsx)(ir,{variant:"list"===p?"primary":"outline-primary",onClick:()=>x("list"),children:(0,sn.jsx)(jl,{})}),(0,sn.jsx)(ir,{variant:"grid"===p?"primary":"outline-primary",onClick:()=>x("grid"),children:(0,sn.jsx)(lo,{})})]})})]}),D?(0,sn.jsxs)("div",{className:"text-center py-5",children:[(0,sn.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,sn.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,sn.jsx)("p",{className:"mt-3",children:"Loading routes..."})]}):(0,sn.jsxs)(sn.Fragment,{children:[0===n.length?(0,sn.jsxs)("div",{className:"text-center py-5",children:[(0,sn.jsx)("p",{className:"text-muted mb-3",children:"No routes found matching your filters."}),(0,sn.jsxs)(ir,{variant:"primary",onClick:()=>e("/routes/new"),children:[(0,sn.jsx)(Ol,{className:"me-1"})," Create Route"]})]}):"list"===p?(0,sn.jsx)("div",{className:"table-responsive",children:(0,sn.jsxs)(Uh,{hover:!0,className:"align-middle",children:[(0,sn.jsx)("thead",{children:(0,sn.jsxs)("tr",{children:[(0,sn.jsxs)("th",{onClick:()=>R("routeId"),style:{cursor:"pointer",whiteSpace:"nowrap"},children:["Route ID ","routeId"===f&&(0,sn.jsx)(Jl,{className:"ms-1 text-"+("asc"===v?"muted":"dark")})]}),(0,sn.jsxs)("th",{onClick:()=>R("name"),style:{cursor:"pointer"},children:["Name ","name"===f&&(0,sn.jsx)(Jl,{className:"ms-1 text-"+("asc"===v?"muted":"dark")})]}),(0,sn.jsxs)("th",{onClick:()=>R("date"),style:{cursor:"pointer",whiteSpace:"nowrap"},children:["Date ","date"===f&&(0,sn.jsx)(Jl,{className:"ms-1 text-"+("asc"===v?"muted":"dark")})]}),(0,sn.jsxs)("th",{onClick:()=>R("driver.name"),style:{cursor:"pointer"},children:["Driver ","driver.name"===f&&(0,sn.jsx)(Jl,{className:"ms-1 text-"+("asc"===v?"muted":"dark")})]}),(0,sn.jsxs)("th",{onClick:()=>R("stops"),style:{cursor:"pointer"},children:["Stops ","stops"===f&&(0,sn.jsx)(Jl,{className:"ms-1 text-"+("asc"===v?"muted":"dark")})]}),(0,sn.jsxs)("th",{onClick:()=>R("distance"),style:{cursor:"pointer"},children:["Distance ","distance"===f&&(0,sn.jsx)(Jl,{className:"ms-1 text-"+("asc"===v?"muted":"dark")})]}),(0,sn.jsxs)("th",{onClick:()=>R("status"),style:{cursor:"pointer"},children:["Status ","status"===f&&(0,sn.jsx)(Jl,{className:"ms-1 text-"+("asc"===v?"muted":"dark")})]}),(0,sn.jsx)("th",{children:"Actions"})]})}),(0,sn.jsx)("tbody",{children:I.map((e=>(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("td",{children:(0,sn.jsx)(Le,{to:`/routes/${e.id}`,className:"fw-bold text-decoration-none",children:e.routeId})}),(0,sn.jsx)("td",{children:(0,sn.jsx)("div",{className:"text-truncate",style:{maxWidth:"200px"},children:e.name})}),(0,sn.jsx)("td",{style:{whiteSpace:"nowrap"},children:F(e.date)}),(0,sn.jsx)("td",{children:e.driver.name}),(0,sn.jsx)("td",{children:e.stops}),(0,sn.jsx)("td",{children:e.distance}),(0,sn.jsx)("td",{children:z(e.status)}),(0,sn.jsx)("td",{children:(0,sn.jsxs)(Bh,{children:[(0,sn.jsx)(Bh.Toggle,{variant:"light",size:"sm",id:`dropdown-${e.id}`,children:(0,sn.jsx)(Yr,{})}),(0,sn.jsxs)(Bh.Menu,{children:[(0,sn.jsxs)(Bh.Item,{as:Le,to:`/routes/${e.id}`,children:[(0,sn.jsx)(Hl,{className:"me-2"})," View Details"]}),(0,sn.jsxs)(Bh.Item,{as:Le,to:`/routes/${e.id}/map`,children:[(0,sn.jsx)(Cl,{className:"me-2"})," View on Map"]}),(0,sn.jsxs)(Bh.Item,{as:Le,to:`/routes/${e.id}/edit`,children:[(0,sn.jsx)(Ll,{className:"me-2"})," Edit"]}),(0,sn.jsx)(Bh.Divider,{}),(0,sn.jsxs)(Bh.Item,{className:"text-danger",onClick:()=>(e=>{k(e),C(!0)})(e),children:[(0,sn.jsx)(uo,{className:"me-2"})," Delete"]})]})]})})]},e.id)))})]})}):(0,sn.jsx)(yn,{children:I.map((e=>(0,sn.jsx)(Nn,{md:4,className:"mb-4",children:(0,sn.jsxs)(Yn,{className:"h-100 shadow-sm border-top-0 border-end-0 border-bottom-0 border-3  border-start-0",children:[(0,sn.jsxs)(Yn.Header,{className:"d-flex justify-content-between align-items-center bg-white",children:[(0,sn.jsx)("span",{className:"fw-bold",children:e.routeId}),z(e.status)]}),(0,sn.jsxs)(Yn.Body,{children:[(0,sn.jsx)("h5",{className:"mb-3",children:e.name}),(0,sn.jsxs)("div",{className:"d-flex justify-content-between mb-3",children:[(0,sn.jsxs)("div",{children:[(0,sn.jsx)("div",{className:"text-muted small",children:"Date"}),(0,sn.jsx)("div",{children:F(e.date)})]}),(0,sn.jsxs)("div",{className:"text-end",children:[(0,sn.jsx)("div",{className:"text-muted small",children:"Driver"}),(0,sn.jsx)("div",{children:e.driver.name})]})]}),(0,sn.jsxs)("div",{className:"d-flex justify-content-between mb-3",children:[(0,sn.jsxs)("div",{children:[(0,sn.jsx)("div",{className:"text-muted small",children:"Stops"}),(0,sn.jsx)("div",{children:e.stops})]}),(0,sn.jsxs)("div",{className:"text-end",children:[(0,sn.jsx)("div",{className:"text-muted small",children:"Deliveries"}),(0,sn.jsx)("div",{children:e.deliveries})]})]}),(0,sn.jsxs)("div",{className:"d-flex justify-content-between mb-3",children:[(0,sn.jsxs)("div",{children:[(0,sn.jsx)("div",{className:"text-muted small",children:"Distance"}),(0,sn.jsx)("div",{children:e.distance})]}),(0,sn.jsxs)("div",{className:"text-end",children:[(0,sn.jsx)("div",{className:"text-muted small",children:"Duration"}),(0,sn.jsx)("div",{children:e.duration})]})]}),(0,sn.jsxs)("div",{className:"mb-3",children:[(0,sn.jsx)("div",{className:"text-muted small",children:"Start Location"}),(0,sn.jsx)("div",{className:"small text-truncate",children:e.startLocation})]})]}),(0,sn.jsx)(Yn.Footer,{className:"bg-white",children:(0,sn.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,sn.jsx)(ir,{as:Le,to:`/routes/${e.id}`,variant:"outline-primary",size:"sm",children:"View"}),(0,sn.jsx)(ir,{as:Le,to:`/routes/${e.id}/map`,variant:"outline-info",size:"sm",children:"Map"}),(0,sn.jsx)(ir,{as:Le,to:`/routes/${e.id}/edit`,variant:"outline-secondary",size:"sm",children:"Edit"})]})})]})},e.id)))}),(()=>{if(P<=1)return null;const e=[];for(let t=1;t<=P;t++)e.push((0,sn.jsx)(Ib.Item,{active:t===b,onClick:()=>O(t),children:t},t));return(0,sn.jsxs)(Ib,{className:"justify-content-center",children:[(0,sn.jsx)(Ib.Prev,{onClick:()=>O(Math.max(1,b-1)),disabled:1===b}),e,(0,sn.jsx)(Ib.Next,{onClick:()=>O(Math.min(P,b+1)),disabled:b===P})]})})()]})]})}),(0,sn.jsxs)(yy,{show:N,onHide:()=>C(!1),children:[(0,sn.jsx)(yy.Header,{closeButton:!0,children:(0,sn.jsx)(yy.Title,{children:"Confirm Delete"})}),(0,sn.jsxs)(yy.Body,{children:["Are you sure you want to delete route ",(0,sn.jsx)("strong",{children:null===S||void 0===S?void 0:S.routeId})," - ",(0,sn.jsx)("strong",{children:null===S||void 0===S?void 0:S.name}),"?",(0,sn.jsx)("div",{className:"mt-3 text-danger",children:"This action cannot be undone."})]}),(0,sn.jsxs)(yy.Footer,{children:[(0,sn.jsx)(ir,{variant:"secondary",onClick:()=>C(!1),children:"Cancel"}),(0,sn.jsx)(ir,{variant:"danger",onClick:()=>{S&&(s(t.filter((e=>e.id!==S.id))),C(!1),k(null))},children:"Delete Route"})]})]})]})};vv.register(Aj,Mj,Pv,Mv,Hv,Hj,uj,kj,cj,ij,Cv);const PS=()=>{const[e,t]=(0,a.useState)("monthly"),[s,n]=(0,a.useState)("overview"),[i,r]=(0,a.useState)(!0),[l,o]=(0,a.useState)(null),[c,d]=(0,a.useState)("previous");(0,a.useEffect)((()=>{r(!0),setTimeout((()=>{const e=u();o(e),r(!1)}),1e3)}),[e]);const u=()=>({timeframeData:{weekly:{labels:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],deliveryCount:[32,29,35,38,41,27,18],onTimeRate:[94.2,95.3,93.1,96.5,97.2,94.8,95.9],revenue:[3200,2900,3500,3800,4100,2700,1800],cost:[2050,1850,2250,2400,2600,1700,1150]},monthly:{labels:["Week 1","Week 2","Week 3","Week 4"],deliveryCount:[220,245,235,250],onTimeRate:[94.5,95.2,96.3,95.8],revenue:[22e3,24500,23500,25e3],cost:[14e3,15600,15e3,16e3]},quarterly:{labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],deliveryCount:[720,680,750,790,810,840,820,860,880,900,920,950],onTimeRate:[94.2,94.8,95.1,95.5,96,96.2,95.8,96.4,96.7,96.9,97.1,97.3],revenue:[72e3,68e3,75e3,79e3,81e3,84e3,82e3,86e3,88e3,9e4,92e3,95e3],cost:[46e3,43500,48e3,50500,51800,53600,52500,55e3,56200,57500,58800,60700]}}[e],kpis:{deliveryAccuracy:{value:98.2,target:95,previous:97.5},customerSatisfaction:{value:4.7,target:4.5,previous:4.6},onTimeDelivery:{value:94.8,target:95,previous:93.2},routeEfficiency:{value:88.5,target:90,previous:86.3},fuelEfficiency:{value:92.1,target:90,previous:91.2},costPerDelivery:{value:23.5,target:25,previous:24.2},averageDeliveryTime:{value:37,target:40,previous:39},deliverySuccessRate:{value:99.3,target:98,previous:99.1}},driverPerformance:[{name:"Jane Smith",deliveries:203,rating:4.9,onTime:98.5,efficiency:94.2},{name:"John Doe",deliveries:187,rating:4.8,onTime:97.8,efficiency:92.7},{name:"Sarah Williams",deliveries:165,rating:4.7,onTime:96.4,efficiency:91.5},{name:"Mike Johnson",deliveries:142,rating:4.6,onTime:95.2,efficiency:90.8},{name:"David Wilson",deliveries:178,rating:4.5,onTime:94.7,efficiency:89.3}],regionalPerformance:[{region:"North Zone",deliveries:450,onTime:96.2,satisfaction:4.7,cost:10350},{region:"South Zone",deliveries:380,onTime:95.7,satisfaction:4.6,cost:8740},{region:"East Zone",deliveries:320,onTime:94.5,satisfaction:4.5,cost:7360},{region:"West Zone",deliveries:410,onTime:96.8,satisfaction:4.8,cost:9430},{region:"Central Zone",deliveries:520,onTime:97.2,satisfaction:4.9,cost:11960}],satisfactionBreakdown:{labels:["Excellent","Good","Average","Poor","Very Poor"],data:[65,25,7,2,1]},issueTypes:{labels:["Late Delivery","Damaged Package","Incorrect Item","Driver Behavior","Other"],data:[45,25,15,10,5]},timeDistribution:{labels:["< 30 mins","30-45 mins","45-60 mins","60-90 mins","> 90 mins"],data:[35,42,15,6,2]}});if(i||!l)return(0,sn.jsx)(jn,{fluid:!0,className:"py-4",children:(0,sn.jsxs)("div",{className:"text-center py-5",children:[(0,sn.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,sn.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,sn.jsx)("p",{className:"mt-3",children:"Loading performance data..."})]})});const h={labels:l.timeframeData.labels,datasets:[{label:"Delivery Count",data:l.timeframeData.deliveryCount,borderColor:"rgba(75, 192, 192, 1)",backgroundColor:"rgba(75, 192, 192, 0.2)",fill:!0,tension:.4,yAxisID:"y"},{label:"On-Time Rate (%)",data:l.timeframeData.onTimeRate,borderColor:"rgba(54, 162, 235, 1)",backgroundColor:"rgba(54, 162, 235, 0.2)",fill:!1,tension:.4,yAxisID:"y1"}]},m={labels:l.timeframeData.labels,datasets:[{label:"Revenue",data:l.timeframeData.revenue,backgroundColor:"rgba(75, 192, 192, 0.6)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1},{label:"Cost",data:l.timeframeData.cost,backgroundColor:"rgba(255, 99, 132, 0.6)",borderColor:"rgba(255, 99, 132, 1)",borderWidth:1}]},p={labels:l.satisfactionBreakdown.labels,datasets:[{data:l.satisfactionBreakdown.data,backgroundColor:["rgba(75, 192, 192, 0.6)","rgba(54, 162, 235, 0.6)","rgba(255, 206, 86, 0.6)","rgba(255, 99, 132, 0.6)","rgba(153, 102, 255, 0.6)"],borderColor:["rgba(75, 192, 192, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(255, 99, 132, 1)","rgba(153, 102, 255, 1)"],borderWidth:1}]},x={labels:l.issueTypes.labels,datasets:[{data:l.issueTypes.data,backgroundColor:["rgba(255, 99, 132, 0.6)","rgba(255, 159, 64, 0.6)","rgba(255, 205, 86, 0.6)","rgba(75, 192, 192, 0.6)","rgba(54, 162, 235, 0.6)"],borderColor:["rgba(255, 99, 132, 1)","rgba(255, 159, 64, 1)","rgba(255, 205, 86, 1)","rgba(75, 192, 192, 1)","rgba(54, 162, 235, 1)"],borderWidth:1}]},f={labels:l.timeDistribution.labels,datasets:[{label:"Delivery Time Distribution",data:l.timeDistribution.data,backgroundColor:"rgba(54, 162, 235, 0.6)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1}]},g={labels:["On-Time Rate","Customer Rating","Route Efficiency","Fuel Efficiency","Cost Efficiency"],datasets:l.driverPerformance.slice(0,3).map(((e,t)=>({label:e.name,data:[e.onTime,20*e.rating,e.efficiency,10*Math.random()+85,10*Math.random()+85],backgroundColor:`rgba(${0===t?"75, 192, 192":1===t?"54, 162, 235":"153, 102, 255"}, 0.2)`,borderColor:`rgba(${0===t?"75, 192, 192":1===t?"54, 162, 235":"153, 102, 255"}, 1)`,borderWidth:2})))},v={labels:l.regionalPerformance.map((e=>e.region)),datasets:[{label:"Deliveries Completed",data:l.regionalPerformance.map((e=>e.deliveries)),backgroundColor:"rgba(75, 192, 192, 0.6)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1},{label:"On-Time Rate (%)",data:l.regionalPerformance.map((e=>e.onTime)),backgroundColor:"rgba(54, 162, 235, 0.6)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1}]},j=(e,t,s,n)=>{const a=(t.value-t.previous)/t.previous*100,i="Cost Per Delivery"===e||"Average Delivery Time"===e?a<0:a>0;let r="primary";return r="Cost Per Delivery"===e||"Average Delivery Time"===e?t.value<=t.target?"success":t.value<=1.1*t.target?"warning":"danger":t.value>=t.target?"success":t.value>=.9*t.target?"warning":"danger",(0,sn.jsx)(Yn,{className:"h-100 border-0 shadow-sm",children:(0,sn.jsxs)(Yn.Body,{children:[(0,sn.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[(0,sn.jsxs)("div",{className:"d-flex align-items-center",children:[n,(0,sn.jsx)("h6",{className:"mb-0 ms-2",children:e})]}),(0,sn.jsxs)("span",{className:"badge bg-"+(i?"success":"danger"),children:[i?"+":"",Math.abs(a).toFixed(1),"%"]})]}),(0,sn.jsx)("h3",{className:"mb-1",children:"percent"===s?`${t.value}%`:"rating"===s?t.value:"time"===s?`${t.value} min`:"money"===s?`$${t.value}`:t.value}),(0,sn.jsxs)("div",{className:"text-muted mb-3",children:["Target: ","percent"===s?`${t.target}%`:"rating"===s?t.target:"time"===s?`${t.target} min`:"money"===s?`$${t.target}`:t.target]}),(0,sn.jsx)(rw,{variant:r,now:"rating"===s?t.value/5*100:"Cost Per Delivery"===e||"Average Delivery Time"===e?t.target/t.value*100:t.value/t.target*100,max:100})]})})};return(0,sn.jsxs)(jn,{fluid:!0,className:"py-4",children:[(0,sn.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,sn.jsx)("h1",{children:"Performance Dashboard"}),(0,sn.jsxs)("div",{className:"d-flex",children:[(0,sn.jsxs)(Xi.Select,{className:"me-2",style:{width:"auto"},value:e,onChange:e=>t(e.target.value),children:[(0,sn.jsx)("option",{value:"weekly",children:"Weekly View"}),(0,sn.jsx)("option",{value:"monthly",children:"Monthly View"}),(0,sn.jsx)("option",{value:"quarterly",children:"Quarterly View"})]}),(0,sn.jsxs)(Bh,{children:[(0,sn.jsxs)(Bh.Toggle,{variant:"outline-secondary",id:"dropdown-export",children:[(0,sn.jsx)(Gr,{className:"me-1"})," Export"]}),(0,sn.jsxs)(Bh.Menu,{children:[(0,sn.jsx)(Bh.Item,{href:"#/export-pdf",children:"Export as PDF"}),(0,sn.jsx)(Bh.Item,{href:"#/export-csv",children:"Export as CSV"}),(0,sn.jsx)(Bh.Item,{href:"#/export-excel",children:"Export as Excel"})]})]})]})]}),(0,sn.jsxs)(qy.Container,{activeKey:s,onSelect:e=>n(e),children:[(0,sn.jsxs)(ec,{variant:"tabs",className:"mb-4",children:[(0,sn.jsx)(ec.Item,{children:(0,sn.jsxs)(ec.Link,{eventKey:"overview",children:[(0,sn.jsx)(Er,{className:"me-1"})," Overview"]})}),(0,sn.jsx)(ec.Item,{children:(0,sn.jsxs)(ec.Link,{eventKey:"drivers",children:[(0,sn.jsx)(yo,{className:"me-1"})," Driver Performance"]})}),(0,sn.jsx)(ec.Item,{children:(0,sn.jsxs)(ec.Link,{eventKey:"regional",children:[(0,sn.jsx)(Cl,{className:"me-1"})," Regional Analysis"]})}),(0,sn.jsx)(ec.Item,{children:(0,sn.jsxs)(ec.Link,{eventKey:"customer",children:[(0,sn.jsx)(Xl,{className:"me-1"})," Customer Satisfaction"]})}),(0,sn.jsx)(ec.Item,{children:(0,sn.jsxs)(ec.Link,{eventKey:"financial",children:[(0,sn.jsx)(Dl,{className:"me-1"})," Financial Metrics"]})})]}),(0,sn.jsxs)(qy.Content,{children:[(0,sn.jsxs)(qy.Pane,{eventKey:"overview",children:[(0,sn.jsxs)(yn,{className:"mb-4",children:[(0,sn.jsx)(Nn,{md:3,children:j("On-Time Delivery",l.kpis.onTimeDelivery,"percent",(0,sn.jsx)(zr,{className:"text-primary"}))}),(0,sn.jsx)(Nn,{md:3,children:j("Customer Satisfaction",l.kpis.customerSatisfaction,"rating",(0,sn.jsx)(Xl,{className:"text-warning"}))}),(0,sn.jsx)(Nn,{md:3,children:j("Delivery Accuracy",l.kpis.deliveryAccuracy,"percent",(0,sn.jsx)(Mr,{className:"text-success"}))}),(0,sn.jsx)(Nn,{md:3,children:j("Route Efficiency",l.kpis.routeEfficiency,"percent",(0,sn.jsx)(Hl,{className:"text-info"}))})]}),(0,sn.jsxs)(yn,{className:"mb-4",children:[(0,sn.jsx)(Nn,{md:8,children:(0,sn.jsxs)(Yn,{className:"border-0 shadow-sm h-100",children:[(0,sn.jsxs)(Yn.Header,{className:"bg-white d-flex justify-content-between align-items-center",children:[(0,sn.jsx)("h5",{className:"mb-0",children:"Delivery Performance Trend"}),(0,sn.jsxs)("div",{children:[(0,sn.jsxs)(ir,{variant:"outline-secondary",size:"sm",className:"me-2",children:[(0,sn.jsx)(Er,{className:"me-1"})," Line"]}),(0,sn.jsxs)(ir,{variant:"outline-secondary",size:"sm",children:[(0,sn.jsx)(Tr,{className:"me-1"})," Bar"]})]})]}),(0,sn.jsx)(Yn.Body,{children:(0,sn.jsx)("div",{style:{height:"350px"},children:(0,sn.jsx)(ib,{data:h,options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{type:"linear",display:!0,position:"left",title:{display:!0,text:"Delivery Count"}},y1:{type:"linear",display:!0,position:"right",title:{display:!0,text:"On-Time Rate (%)"},min:80,max:100,grid:{drawOnChartArea:!1}}}}})})})]})}),(0,sn.jsx)(Nn,{md:4,children:(0,sn.jsxs)(Yn,{className:"border-0 shadow-sm h-100",children:[(0,sn.jsxs)(Yn.Header,{className:"bg-white d-flex justify-content-between align-items-center",children:[(0,sn.jsx)("h5",{className:"mb-0",children:"Issue Types"}),(0,sn.jsxs)(ir,{variant:"outline-secondary",size:"sm",children:[(0,sn.jsx)(ol,{className:"me-1"})," Filter"]})]}),(0,sn.jsx)(Yn.Body,{children:(0,sn.jsx)("div",{style:{height:"350px"},children:(0,sn.jsx)(ob,{data:x,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"}}}})})})]})})]}),(0,sn.jsx)(yn,{children:(0,sn.jsx)(Nn,{md:12,children:(0,sn.jsxs)(Yn,{className:"border-0 shadow-sm mb-4",children:[(0,sn.jsxs)(Yn.Header,{className:"bg-white d-flex justify-content-between align-items-center",children:[(0,sn.jsx)("h5",{className:"mb-0",children:"Top Performing Drivers"}),(0,sn.jsx)(ir,{variant:"outline-primary",size:"sm",onClick:()=>n("drivers"),children:"View All Drivers"})]}),(0,sn.jsx)(Yn.Body,{children:(0,sn.jsxs)(Uh,{hover:!0,responsive:!0,className:"align-middle",children:[(0,sn.jsx)("thead",{className:"bg-light",children:(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("th",{children:"Name"}),(0,sn.jsx)("th",{children:"Deliveries Completed"}),(0,sn.jsx)("th",{children:"Customer Rating"}),(0,sn.jsx)("th",{children:"On-Time Percentage"}),(0,sn.jsx)("th",{children:"Efficiency Score"})]})}),(0,sn.jsx)("tbody",{children:l.driverPerformance.slice(0,3).map(((e,t)=>(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("td",{children:e.name}),(0,sn.jsx)("td",{children:e.deliveries}),(0,sn.jsx)("td",{children:(0,sn.jsxs)("div",{className:"d-flex align-items-center",children:[(0,sn.jsx)("div",{className:"me-2",children:e.rating.toFixed(1)}),(0,sn.jsx)("div",{children:[...Array(5)].map(((t,s)=>(0,sn.jsx)("span",{className:s<Math.floor(e.rating)?"text-warning":"text-muted",children:"\u2605"},s)))})]})}),(0,sn.jsxs)("td",{children:[e.onTime.toFixed(1),"%"]}),(0,sn.jsx)("td",{children:(0,sn.jsx)(rw,{variant:"success",now:e.efficiency,label:`${e.efficiency.toFixed(1)}%`})})]},t)))})]})})]})})})]}),(0,sn.jsxs)(qy.Pane,{eventKey:"drivers",children:[(0,sn.jsx)(gi,{variant:"info",className:"mb-4",children:(0,sn.jsxs)("div",{className:"d-flex",children:[(0,sn.jsx)(Xr,{className:"me-2 mt-1"}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("strong",{children:"Driver Performance Overview"}),(0,sn.jsx)("p",{className:"mb-0",children:"This section provides detailed performance metrics for all drivers. Use the filters to customize your view."})]})]})}),(0,sn.jsxs)(yn,{className:"mb-4",children:[(0,sn.jsx)(Nn,{md:4,children:(0,sn.jsxs)(Yn,{className:"border-0 shadow-sm",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white",children:(0,sn.jsx)("h5",{className:"mb-0",children:"Driver Efficiency Radar"})}),(0,sn.jsx)(Yn.Body,{children:(0,sn.jsx)("div",{style:{height:"350px"},children:(0,sn.jsx)(lb,{data:g,options:{responsive:!0,maintainAspectRatio:!1,scales:{r:{min:70,max:100,ticks:{stepSize:10}}},elements:{line:{borderWidth:3}}}})})})]})}),(0,sn.jsx)(Nn,{md:8,children:(0,sn.jsxs)(Yn,{className:"border-0 shadow-sm",children:[(0,sn.jsxs)(Yn.Header,{className:"bg-white d-flex justify-content-between align-items-center",children:[(0,sn.jsx)("h5",{className:"mb-0",children:"Driver Performance Matrix"}),(0,sn.jsxs)(Xi.Select,{style:{width:"auto"},children:[(0,sn.jsx)("option",{children:"Last 30 Days"}),(0,sn.jsx)("option",{children:"Last 90 Days"}),(0,sn.jsx)("option",{children:"Year to Date"}),(0,sn.jsx)("option",{children:"Custom Range"})]})]}),(0,sn.jsx)(Yn.Body,{children:(0,sn.jsxs)(Uh,{hover:!0,responsive:!0,className:"align-middle",children:[(0,sn.jsx)("thead",{className:"bg-light",children:(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("th",{children:"Driver"}),(0,sn.jsx)("th",{children:"Deliveries"}),(0,sn.jsx)("th",{children:"On-Time Rate"}),(0,sn.jsx)("th",{children:"Avg. Time"}),(0,sn.jsx)("th",{children:"Customer Rating"}),(0,sn.jsx)("th",{children:"Efficiency"}),(0,sn.jsx)("th",{children:"Performance"})]})}),(0,sn.jsx)("tbody",{children:l.driverPerformance.map(((e,t)=>(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("td",{children:(0,sn.jsx)("strong",{children:e.name})}),(0,sn.jsx)("td",{children:e.deliveries}),(0,sn.jsx)("td",{children:(0,sn.jsxs)("span",{className:""+(e.onTime>=95?"text-success":e.onTime>=90?"text-warning":"text-danger"),children:[e.onTime.toFixed(1),"%"]})}),(0,sn.jsxs)("td",{children:[Math.floor(10*Math.random())+35," min"]}),(0,sn.jsx)("td",{children:(0,sn.jsxs)("div",{className:"d-flex align-items-center",children:[(0,sn.jsx)("div",{className:"me-2",children:e.rating.toFixed(1)}),(0,sn.jsx)("div",{children:[...Array(5)].map(((t,s)=>(0,sn.jsx)("span",{className:s<Math.floor(e.rating)?"text-warning":"text-muted",children:"\u2605"},s)))})]})}),(0,sn.jsxs)("td",{children:[e.efficiency.toFixed(1),"%"]}),(0,sn.jsx)("td",{children:(0,sn.jsx)(rw,{variant:(e.onTime+e.efficiency)/2>=95?"success":(e.onTime+e.efficiency)/2>=90?"info":"warning",now:(e.onTime+e.efficiency)/2,label:`${((e.onTime+e.efficiency)/2).toFixed(1)}%`})})]},t)))})]})})]})})]}),(0,sn.jsxs)(yn,{className:"mb-4",children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Yn,{className:"border-0 shadow-sm",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white",children:(0,sn.jsx)("h5",{className:"mb-0",children:"Delivery Time Distribution"})}),(0,sn.jsx)(Yn.Body,{children:(0,sn.jsx)("div",{style:{height:"250px"},children:(0,sn.jsx)(rb,{data:f,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}}}})})})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Yn,{className:"border-0 shadow-sm",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white",children:(0,sn.jsx)("h5",{className:"mb-0",children:"Improvement Opportunities"})}),(0,sn.jsxs)(Yn.Body,{children:[(0,sn.jsxs)("div",{className:"mb-3",children:[(0,sn.jsx)("h6",{children:"Route Optimization"}),(0,sn.jsx)("p",{className:"text-muted small",children:"Drivers could reduce delivery time by 15% with improved route planning."}),(0,sn.jsx)(rw,{variant:"info",now:85,label:"85% Optimized"})]}),(0,sn.jsxs)("div",{className:"mb-3",children:[(0,sn.jsx)("h6",{children:"Customer Communication"}),(0,sn.jsx)("p",{className:"text-muted small",children:"Better communication during delivery can improve customer ratings."}),(0,sn.jsx)(rw,{variant:"info",now:70,label:"70% Effective"})]}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("h6",{children:"Package Handling"}),(0,sn.jsx)("p",{className:"text-muted small",children:"Additional training can reduce package damage rates."}),(0,sn.jsx)(rw,{variant:"info",now:90,label:"90% Effective"})]})]})]})})]})]}),(0,sn.jsxs)(qy.Pane,{eventKey:"regional",children:[(0,sn.jsx)(gi,{variant:"info",className:"mb-4",children:(0,sn.jsxs)("div",{className:"d-flex",children:[(0,sn.jsx)(Cl,{className:"me-2 mt-1"}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("strong",{children:"Regional Performance Analysis"}),(0,sn.jsx)("p",{className:"mb-0",children:"Compare delivery metrics across different service regions to identify patterns and opportunities."})]})]})}),(0,sn.jsx)(yn,{className:"mb-4",children:(0,sn.jsx)(Nn,{md:12,children:(0,sn.jsxs)(Yn,{className:"border-0 shadow-sm",children:[(0,sn.jsxs)(Yn.Header,{className:"bg-white d-flex justify-content-between align-items-center",children:[(0,sn.jsx)("h5",{className:"mb-0",children:"Regional Comparison"}),(0,sn.jsxs)("div",{children:[(0,sn.jsxs)(Xi.Select,{style:{width:"auto"},className:"d-inline-block me-2",children:[(0,sn.jsx)("option",{children:"All Regions"}),(0,sn.jsx)("option",{children:"North Zone"}),(0,sn.jsx)("option",{children:"South Zone"}),(0,sn.jsx)("option",{children:"East Zone"}),(0,sn.jsx)("option",{children:"West Zone"}),(0,sn.jsx)("option",{children:"Central Zone"})]}),(0,sn.jsxs)(Xi.Select,{style:{width:"auto"},className:"d-inline-block",value:c,onChange:e=>d(e.target.value),children:[(0,sn.jsx)("option",{value:"previous",children:"vs Previous Period"}),(0,sn.jsx)("option",{value:"year",children:"vs Same Period Last Year"}),(0,sn.jsx)("option",{value:"target",children:"vs Target"})]})]})]}),(0,sn.jsx)(Yn.Body,{children:(0,sn.jsx)("div",{style:{height:"400px"},children:(0,sn.jsx)(rb,{data:v,options:{responsive:!0,maintainAspectRatio:!1,scales:{x:{grid:{display:!1}},y:{beginAtZero:!0,title:{display:!0,text:"Deliveries"}},y1:{position:"right",beginAtZero:!0,min:90,max:100,title:{display:!0,text:"On-Time Rate (%)"},grid:{drawOnChartArea:!1}}}}})})})]})})}),(0,sn.jsx)(yn,{children:(0,sn.jsx)(Nn,{md:12,children:(0,sn.jsxs)(Yn,{className:"border-0 shadow-sm",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white",children:(0,sn.jsx)("h5",{className:"mb-0",children:"Regional Performance Metrics"})}),(0,sn.jsx)(Yn.Body,{children:(0,sn.jsxs)(Uh,{hover:!0,responsive:!0,className:"align-middle",children:[(0,sn.jsx)("thead",{className:"bg-light",children:(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("th",{children:"Region"}),(0,sn.jsx)("th",{children:"Deliveries"}),(0,sn.jsx)("th",{children:"On-Time Rate"}),(0,sn.jsx)("th",{children:"Avg. Delivery Time"}),(0,sn.jsx)("th",{children:"Customer Satisfaction"}),(0,sn.jsx)("th",{children:"Cost Efficiency"}),(0,sn.jsx)("th",{children:"Performance Score"})]})}),(0,sn.jsx)("tbody",{children:l.regionalPerformance.map(((e,t)=>{const s=(.4*e.onTime+20*e.satisfaction*.4+100*(1-e.cost/(25*e.deliveries))*.2).toFixed(1);return(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("td",{children:(0,sn.jsx)("strong",{children:e.region})}),(0,sn.jsx)("td",{children:e.deliveries}),(0,sn.jsx)("td",{children:(0,sn.jsxs)("span",{className:""+(e.onTime>=95?"text-success":"text-warning"),children:[e.onTime.toFixed(1),"%"]})}),(0,sn.jsxs)("td",{children:[Math.floor(25+15*Math.random())," min"]}),(0,sn.jsx)("td",{children:(0,sn.jsxs)("div",{className:"d-flex align-items-center",children:[(0,sn.jsx)("div",{className:"me-2",children:e.satisfaction.toFixed(1)}),(0,sn.jsx)("div",{children:[...Array(5)].map(((t,s)=>(0,sn.jsx)("span",{className:s<Math.floor(e.satisfaction)?"text-warning":"text-muted",children:"\u2605"},s)))})]})}),(0,sn.jsxs)("td",{children:["$",(e.cost/e.deliveries).toFixed(2),"/delivery"]}),(0,sn.jsx)("td",{children:(0,sn.jsx)(rw,{variant:s>=95?"success":s>=90?"info":s>=85?"warning":"danger",now:s,label:`${s}%`})})]},t)}))})]})})]})})})]}),(0,sn.jsxs)(qy.Pane,{eventKey:"customer",children:[(0,sn.jsx)(gi,{variant:"info",className:"mb-4",children:(0,sn.jsxs)("div",{className:"d-flex",children:[(0,sn.jsx)(Xl,{className:"me-2 mt-1"}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("strong",{children:"Customer Satisfaction Analysis"}),(0,sn.jsx)("p",{className:"mb-0",children:"Detailed breakdown of customer feedback, ratings, and satisfaction metrics."})]})]})}),(0,sn.jsxs)(yn,{className:"mb-4",children:[(0,sn.jsx)(Nn,{md:4,children:j("Customer Satisfaction",l.kpis.customerSatisfaction,"rating",(0,sn.jsx)(Xl,{className:"text-warning"}))}),(0,sn.jsx)(Nn,{md:4,children:j("Delivery Success Rate",l.kpis.deliverySuccessRate,"percent",(0,sn.jsx)(Mr,{className:"text-success"}))}),(0,sn.jsx)(Nn,{md:4,children:j("Average Delivery Time",l.kpis.averageDeliveryTime,"time",(0,sn.jsx)(zr,{className:"text-info"}))})]}),(0,sn.jsxs)(yn,{className:"mb-4",children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Yn,{className:"border-0 shadow-sm h-100",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white",children:(0,sn.jsx)("h5",{className:"mb-0",children:"Customer Rating Distribution"})}),(0,sn.jsx)(Yn.Body,{children:(0,sn.jsx)("div",{style:{height:"350px"},children:(0,sn.jsx)(ob,{data:p,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"}}}})})})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Yn,{className:"border-0 shadow-sm h-100",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white",children:(0,sn.jsx)("h5",{className:"mb-0",children:"Delivery Issue Breakdown"})}),(0,sn.jsx)(Yn.Body,{children:(0,sn.jsx)("div",{style:{height:"350px"},children:(0,sn.jsx)(ob,{data:x,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"}}}})})})]})})]}),(0,sn.jsx)(yn,{children:(0,sn.jsx)(Nn,{md:12,children:(0,sn.jsxs)(Yn,{className:"border-0 shadow-sm",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white",children:(0,sn.jsx)("h5",{className:"mb-0",children:"Recent Customer Feedback"})}),(0,sn.jsx)(Yn.Body,{children:(0,sn.jsxs)(Uh,{hover:!0,responsive:!0,children:[(0,sn.jsx)("thead",{className:"bg-light",children:(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("th",{children:"Customer"}),(0,sn.jsx)("th",{children:"Delivery Date"}),(0,sn.jsx)("th",{children:"Rating"}),(0,sn.jsx)("th",{children:"Comments"}),(0,sn.jsx)("th",{children:"Driver"})]})}),(0,sn.jsxs)("tbody",{children:[(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("td",{children:"ABC Corporation"}),(0,sn.jsx)("td",{children:"May 1, 2025"}),(0,sn.jsx)("td",{children:(0,sn.jsxs)("div",{className:"d-flex align-items-center",children:[(0,sn.jsx)("div",{className:"me-2",children:"5.0"}),(0,sn.jsx)("div",{children:"\u2605\u2605\u2605\u2605\u2605"})]})}),(0,sn.jsx)("td",{children:'"Excellent service, driver was very professional and delivery was on time."'}),(0,sn.jsx)("td",{children:"Jane Smith"})]}),(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("td",{children:"XYZ Inc."}),(0,sn.jsx)("td",{children:"April 30, 2025"}),(0,sn.jsx)("td",{children:(0,sn.jsxs)("div",{className:"d-flex align-items-center",children:[(0,sn.jsx)("div",{className:"me-2",children:"4.0"}),(0,sn.jsx)("div",{children:"\u2605\u2605\u2605\u2605\u2606"})]})}),(0,sn.jsx)("td",{children:'"Good service, but delivery was a bit later than the scheduled window."'}),(0,sn.jsx)("td",{children:"John Doe"})]}),(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("td",{children:"Acme LLC"}),(0,sn.jsx)("td",{children:"April 29, 2025"}),(0,sn.jsx)("td",{children:(0,sn.jsxs)("div",{className:"d-flex align-items-center",children:[(0,sn.jsx)("div",{className:"me-2",children:"5.0"}),(0,sn.jsx)("div",{children:"\u2605\u2605\u2605\u2605\u2605"})]})}),(0,sn.jsx)("td",{children:'"Very satisfied with the service. Driver helped unload the packages."'}),(0,sn.jsx)("td",{children:"Sarah Williams"})]}),(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("td",{children:"Global Tech"}),(0,sn.jsx)("td",{children:"April 28, 2025"}),(0,sn.jsx)("td",{children:(0,sn.jsxs)("div",{className:"d-flex align-items-center",children:[(0,sn.jsx)("div",{className:"me-2",children:"3.0"}),(0,sn.jsx)("div",{children:"\u2605\u2605\u2605\u2606\u2606"})]})}),(0,sn.jsx)("td",{children:'"Delivery was late and one package was slightly damaged."'}),(0,sn.jsx)("td",{children:"Mike Johnson"})]}),(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("td",{children:"Metro Corp"}),(0,sn.jsx)("td",{children:"April 28, 2025"}),(0,sn.jsx)("td",{children:(0,sn.jsxs)("div",{className:"d-flex align-items-center",children:[(0,sn.jsx)("div",{className:"me-2",children:"5.0"}),(0,sn.jsx)("div",{children:"\u2605\u2605\u2605\u2605\u2605"})]})}),(0,sn.jsx)("td",{children:'"Excellent service as always. Very reliable company."'}),(0,sn.jsx)("td",{children:"David Wilson"})]})]})]})})]})})})]}),(0,sn.jsxs)(qy.Pane,{eventKey:"financial",children:[(0,sn.jsx)(gi,{variant:"info",className:"mb-4",children:(0,sn.jsxs)("div",{className:"d-flex",children:[(0,sn.jsx)(Dl,{className:"me-2 mt-1"}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("strong",{children:"Financial Performance Metrics"}),(0,sn.jsx)("p",{className:"mb-0",children:"Analyze revenue, costs, and profitability metrics for delivery operations."})]})]})}),(0,sn.jsxs)(yn,{className:"mb-4",children:[(0,sn.jsx)(Nn,{md:4,children:j("Cost Per Delivery",l.kpis.costPerDelivery,"money",(0,sn.jsx)(Dl,{className:"text-danger"}))}),(0,sn.jsx)(Nn,{md:4,children:j("Fuel Efficiency",l.kpis.fuelEfficiency,"percent",(0,sn.jsx)(Bl,{className:"text-primary"}))}),(0,sn.jsx)(Nn,{md:4,children:j("Route Efficiency",l.kpis.routeEfficiency,"percent",(0,sn.jsx)(Hl,{className:"text-info"}))})]}),(0,sn.jsx)(yn,{className:"mb-4",children:(0,sn.jsx)(Nn,{md:12,children:(0,sn.jsxs)(Yn,{className:"border-0 shadow-sm",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white",children:(0,sn.jsx)("h5",{className:"mb-0",children:"Revenue vs. Cost Trend"})}),(0,sn.jsx)(Yn.Body,{children:(0,sn.jsx)("div",{style:{height:"400px"},children:(0,sn.jsx)(rb,{data:m,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},tooltip:{callbacks:{label:function(e){let t=e.dataset.label||"";return t&&(t+=": "),null!==e.parsed.y&&(t+=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e.parsed.y)),t}}}}}})})})]})})}),(0,sn.jsx)(yn,{children:(0,sn.jsx)(Nn,{md:12,children:(0,sn.jsxs)(Yn,{className:"border-0 shadow-sm",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white",children:(0,sn.jsx)("h5",{className:"mb-0",children:"Cost Breakdown Analysis"})}),(0,sn.jsx)(Yn.Body,{children:(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:7,children:(0,sn.jsxs)(Uh,{hover:!0,responsive:!0,children:[(0,sn.jsx)("thead",{className:"bg-light",children:(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("th",{children:"Cost Category"}),(0,sn.jsx)("th",{children:"Amount"}),(0,sn.jsx)("th",{children:"% of Total"}),(0,sn.jsx)("th",{children:"Per Delivery"}),(0,sn.jsx)("th",{children:"vs Previous"})]})}),(0,sn.jsxs)("tbody",{children:[(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("td",{children:"Driver Wages"}),(0,sn.jsx)("td",{children:"$35,250"}),(0,sn.jsx)("td",{children:"45.2%"}),(0,sn.jsx)("td",{children:"$14.10"}),(0,sn.jsx)("td",{className:"text-success",children:"-2.1%"})]}),(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("td",{children:"Fuel"}),(0,sn.jsx)("td",{children:"$18,750"}),(0,sn.jsx)("td",{children:"24.0%"}),(0,sn.jsx)("td",{children:"$7.50"}),(0,sn.jsx)("td",{className:"text-danger",children:"+3.5%"})]}),(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("td",{children:"Vehicle Maintenance"}),(0,sn.jsx)("td",{children:"$8,325"}),(0,sn.jsx)("td",{children:"10.7%"}),(0,sn.jsx)("td",{children:"$3.33"}),(0,sn.jsx)("td",{className:"text-success",children:"-1.2%"})]}),(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("td",{children:"Insurance"}),(0,sn.jsx)("td",{children:"$6,250"}),(0,sn.jsx)("td",{children:"8.0%"}),(0,sn.jsx)("td",{children:"$2.50"}),(0,sn.jsx)("td",{className:"text-muted",children:"0.0%"})]}),(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("td",{children:"Administrative"}),(0,sn.jsx)("td",{children:"$9,425"}),(0,sn.jsx)("td",{children:"12.1%"}),(0,sn.jsx)("td",{children:"$3.77"}),(0,sn.jsx)("td",{className:"text-success",children:"-0.8%"})]})]}),(0,sn.jsx)("tfoot",{className:"bg-light",children:(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("th",{children:"Total Costs"}),(0,sn.jsx)("th",{children:"$78,000"}),(0,sn.jsx)("th",{children:"100%"}),(0,sn.jsx)("th",{children:"$31.20"}),(0,sn.jsx)("th",{className:"text-success",children:"-0.5%"})]})})]})}),(0,sn.jsx)(Nn,{md:5,children:(0,sn.jsx)("div",{style:{height:"300px"},children:(0,sn.jsx)(ob,{data:{labels:["Driver Wages","Fuel","Vehicle Maintenance","Insurance","Administrative"],datasets:[{data:[45.2,24,10.7,8,12.1],backgroundColor:["rgba(75, 192, 192, 0.6)","rgba(255, 99, 132, 0.6)","rgba(255, 206, 86, 0.6)","rgba(153, 102, 255, 0.6)","rgba(54, 162, 235, 0.6)"]}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right"}}}})})})]})})]})})})]})]})]})]})};vv.register(Aj,Mj,Pv,Mv,Hv,Cv,uj,kj,cj,ij);const OS=()=>{const[e,t]=(0,a.useState)("generator"),[s,n]=(0,a.useState)("deliveryPerformance"),[i,r]=(0,a.useState)("month"),[l,o]=(0,a.useState)("bar"),[c,d]=(0,a.useState)(!1),[u,h]=(0,a.useState)(!1),[m,p]=(0,a.useState)(null),[x,f]=(0,a.useState)({start:new Date((new Date).setDate((new Date).getDate()-30)).toISOString().split("T")[0],end:(new Date).toISOString().split("T")[0]}),[g,v]=(0,a.useState)(!1),[j,b]=(0,a.useState)({regions:["All Regions"],drivers:["All Drivers"],customers:["All Customers"],status:["All Statuses"]}),[y,w]=(0,a.useState)({region:"All Regions",driver:"All Drivers",customer:"All Customers",status:"All Statuses"}),[N,C]=(0,a.useState)([]),[S,k]=(0,a.useState)([]),[D,_]=(0,a.useState)(!1),[A,T]=(0,a.useState)(""),[E,L]=(0,a.useState)(!1),[M,I]=(0,a.useState)({name:"",frequency:"weekly",day:"monday",time:"09:00",recipients:"",format:"pdf"}),[P,O]=(0,a.useState)(""),[R,F]=(0,a.useState)("fgill@aretialliance.com, nholder@aretialliance.com, info@aretialliance.com"),z=(0,a.useRef)(null),B=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e);(0,a.useEffect)((()=>{b({regions:["All Regions","North Zone","South Zone","East Zone","West Zone","Central Zone"],drivers:["All Drivers","John Doe","Jane Smith","Mike Johnson","Sarah Williams","David Wilson"],customers:["All Customers","ABC Corp","XYZ Inc","Acme LLC","Global Tech","Metro Electronics"],status:["All Statuses","Completed","In Progress","Delayed","Cancelled","Failed"]}),C([{id:1,name:"Q1 2025 Financial Review",type:"financialSummary",date:"2025-04-05",createdBy:"Admin User"},{id:2,name:"March 2025 Driver Analysis",type:"driverPerformance",date:"2025-04-02",createdBy:"Admin User"},{id:3,name:"Customer Retention Analysis",type:"customerAnalysis",date:"2025-04-10",createdBy:"Admin User"},{id:4,name:"Delivery Time Analysis by Region",type:"deliveryPerformance",date:"2025-04-15",createdBy:"Admin User"}]),k([{id:1,name:"Weekly Delivery Report",type:"deliveryPerformance",frequency:"Weekly (Monday)",recipients:"Management Team",lastRun:"2025-04-29",status:"active"},{id:2,name:"Monthly Financial Summary",type:"financialSummary",frequency:"Monthly (1st)",recipients:"Finance Department",lastRun:"2025-04-01",status:"active"},{id:3,name:"Driver Performance Review",type:"driverPerformance",frequency:"Bi-weekly",recipients:"Operations Team",lastRun:"2025-04-15",status:"active"}])}),[]);const $=()=>({deliveryPerformance:H(),financialSummary:V(),driverPerformance:U(),customerAnalysis:W(),routeOptimization:G(),deliveryIssues:q()}[s]),H=()=>({title:"Delivery Performance Report",description:"Overview of delivery times, success rates, and issues.",date:(new Date).toLocaleDateString(),summary:{totalDeliveries:590,onTimeRate:"91.5%",avgDeliveryTime:"39 mins",completionRate:"98.8%"},charts:{main:{labels:{week:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],month:["Week 1","Week 2","Week 3","Week 4"],quarter:["Jan","Feb","Mar","Apr","May","Jun"],year:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],custom:["Period 1","Period 2","Period 3","Period 4"]}[i],datasets:[{label:"On-Time Deliveries",data:"week"===i?[32,29,35,38,41,27,18]:"month"===i?[120,145,135,140]:"quarter"===i?[520,580,610,590,605,625]:[520,580,610,590,605,625,640,630,650,670,690,710],backgroundColor:"rgba(75, 192, 192, 0.6)",borderColor:"rgba(75, 192, 192, 1)"},{label:"Delayed Deliveries",data:"week"===i?[4,3,2,5,3,2,1]:"month"===i?[15,10,13,12]:"quarter"===i?[45,50,55,48,52,49]:[45,50,55,48,52,49,51,53,48,47,45,43],backgroundColor:"rgba(255, 159, 64, 0.6)",borderColor:"rgba(255, 159, 64, 1)"}]},secondary:{labels:["< 30 mins","30-45 mins","45-60 mins","60-90 mins","> 90 mins"],datasets:[{data:[35,42,15,6,2],backgroundColor:["rgba(75, 192, 192, 0.6)","rgba(54, 162, 235, 0.6)","rgba(255, 206, 86, 0.6)","rgba(255, 99, 132, 0.6)","rgba(153, 102, 255, 0.6)"],borderColor:["rgba(75, 192, 192, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(255, 99, 132, 1)","rgba(153, 102, 255, 1)"]}]}},tableData:"week"===i?[{period:"Monday",total:36,onTime:32,delayed:4,cancelled:0},{period:"Tuesday",total:32,onTime:29,delayed:3,cancelled:0},{period:"Wednesday",total:38,onTime:35,delayed:2,cancelled:1},{period:"Thursday",total:43,onTime:38,delayed:5,cancelled:0},{period:"Friday",total:44,onTime:41,delayed:3,cancelled:0},{period:"Saturday",total:30,onTime:27,delayed:2,cancelled:1},{period:"Sunday",total:19,onTime:18,delayed:1,cancelled:0}]:"month"===i?[{period:"Week 1",total:135,onTime:120,delayed:15,cancelled:0},{period:"Week 2",total:155,onTime:145,delayed:10,cancelled:0},{period:"Week 3",total:148,onTime:135,delayed:13,cancelled:0},{period:"Week 4",total:152,onTime:140,delayed:12,cancelled:0}]:[{period:"January",total:565,onTime:520,delayed:45,cancelled:0},{period:"February",total:630,onTime:580,delayed:50,cancelled:0},{period:"March",total:665,onTime:610,delayed:55,cancelled:0},{period:"April",total:638,onTime:590,delayed:48,cancelled:0},{period:"May",total:657,onTime:605,delayed:52,cancelled:0},{period:"June",total:674,onTime:625,delayed:49,cancelled:0}],insights:["On-time delivery rate is highest on Fridays (93.2%) and lowest on Thursdays (88.4%).","The average delivery time has improved by 5.2% compared to the previous period.","Delivery issues are most commonly related to traffic delays (45%) and weather conditions (22%).","Customer satisfaction is strongly correlated with on-time delivery performance (r=0.87)."]}),V=()=>({title:"Financial Summary Report",description:"Overview of revenue, expenses, and profit metrics.",date:(new Date).toLocaleDateString(),summary:{totalRevenue:"$285,000",totalExpenses:"$189,000",profit:"$96,000",marginRate:"33.7%"},charts:{main:{labels:{week:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],month:["Week 1","Week 2","Week 3","Week 4"],quarter:["Jan","Feb","Mar","Apr","May","Jun"],year:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],custom:["Period 1","Period 2","Period 3","Period 4"]}[i],datasets:[{label:"Revenue",data:"week"===i?[3200,2900,3500,3800,4100,2700,1800]:"month"===i?[21e3,24500,23e3,22500]:"quarter"===i?[85e3,95e3,105e3,95e3,97e3,98e3]:[85e3,95e3,105e3,95e3,97e3,98e3,99e3,102e3,108e3,112e3,115e3,12e4],backgroundColor:"rgba(54, 162, 235, 0.6)",borderColor:"rgba(54, 162, 235, 1)"},{label:"Expenses",data:"week"===i?[2100,1900,2300,2500,2700,1800,1200]:"month"===i?[13500,16e3,15e3,14500]:"quarter"===i?[56e3,63e3,7e4,63e3,64e3,65e3]:[56e3,63e3,7e4,63e3,64e3,65e3,66e3,68e3,72e3,74e3,76e3,79e3],backgroundColor:"rgba(255, 99, 132, 0.6)",borderColor:"rgba(255, 99, 132, 1)"}]},secondary:{labels:["Driver Wages","Fuel","Vehicle Maintenance","Insurance","Administrative"],datasets:[{data:[45,25,12,8,10],backgroundColor:["rgba(75, 192, 192, 0.6)","rgba(54, 162, 235, 0.6)","rgba(255, 206, 86, 0.6)","rgba(255, 99, 132, 0.6)","rgba(153, 102, 255, 0.6)"],borderColor:["rgba(75, 192, 192, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(255, 99, 132, 1)","rgba(153, 102, 255, 1)"]}]}},tableData:"week"===i?[{period:"Monday",revenue:"$3,200",expenses:"$2,100",profit:"$1,100",margin:"34.4%"},{period:"Tuesday",revenue:"$2,900",expenses:"$1,900",profit:"$1,000",margin:"34.5%"},{period:"Wednesday",revenue:"$3,500",expenses:"$2,300",profit:"$1,200",margin:"34.3%"},{period:"Thursday",revenue:"$3,800",expenses:"$2,500",profit:"$1,300",margin:"34.2%"},{period:"Friday",revenue:"$4,100",expenses:"$2,700",profit:"$1,400",margin:"34.1%"},{period:"Saturday",revenue:"$2,700",expenses:"$1,800",profit:"$900",margin:"33.3%"},{period:"Sunday",revenue:"$1,800",expenses:"$1,200",profit:"$600",margin:"33.3%"}]:"month"===i?[{period:"Week 1",revenue:"$21,000",expenses:"$13,500",profit:"$7,500",margin:"35.7%"},{period:"Week 2",revenue:"$24,500",expenses:"$16,000",profit:"$8,500",margin:"34.7%"},{period:"Week 3",revenue:"$23,000",expenses:"$15,000",profit:"$8,000",margin:"34.8%"},{period:"Week 4",revenue:"$22,500",expenses:"$14,500",profit:"$8,000",margin:"35.6%"}]:[{period:"January",revenue:"$85,000",expenses:"$56,000",profit:"$29,000",margin:"34.1%"},{period:"February",revenue:"$95,000",expenses:"$63,000",profit:"$32,000",margin:"33.7%"},{period:"March",revenue:"$105,000",expenses:"$70,000",profit:"$35,000",margin:"33.3%"},{period:"April",revenue:"$95,000",expenses:"$63,000",profit:"$32,000",margin:"33.7%"},{period:"May",revenue:"$97,000",expenses:"$64,000",profit:"$33,000",margin:"34.0%"},{period:"June",revenue:"$98,000",expenses:"$65,000",profit:"$33,000",margin:"33.7%"}],insights:["Profit margins have remained stable at around 34% throughout the period.","Fuel costs have increased by 3.5% compared to the previous period.","Revenue per delivery is highest for express deliveries ($42.50) compared to standard deliveries ($28.75).","Administrative costs have decreased by 5.2% due to recent process improvements."]}),U=()=>({title:"Driver Performance Report",description:"Analysis of driver metrics, ratings, and efficiency.",date:(new Date).toLocaleDateString(),summary:{totalDeliveries:1758,avgRating:"4.5",topDriver:"Jane Smith",avgTimePerDelivery:"40 mins"},charts:{main:{labels:["John D.","Jane S.","Mike T.","Sarah W.","Bob J."],datasets:[{label:"Deliveries Completed",data:[148,155,89,112,78],backgroundColor:"rgba(153, 102, 255, 0.6)",borderColor:"rgba(153, 102, 255, 1)"},{label:"Customer Rating (x10)",data:[48,49,45,46,37],backgroundColor:"rgba(255, 206, 86, 0.6)",borderColor:"rgba(255, 206, 86, 1)"}]},secondary:{labels:["On-Time","Customer Rating","Route Efficiency","Fuel Efficiency","Cost Per Delivery"],datasets:[{label:"Jane Smith",data:[98,96,94,90,92],backgroundColor:"rgba(75, 192, 192, 0.2)",borderColor:"rgba(75, 192, 192, 1)",fill:!0},{label:"John Doe",data:[95,92,90,88,89],backgroundColor:"rgba(54, 162, 235, 0.2)",borderColor:"rgba(54, 162, 235, 1)",fill:!0}]}},tableData:[{driver:"Jane Smith",deliveries:155,rating:"4.9",onTimeRate:"97.4%",efficiency:"94.2%"},{driver:"John Doe",deliveries:148,rating:"4.8",onTimeRate:"95.9%",efficiency:"92.8%"},{driver:"Sarah Williams",deliveries:112,rating:"4.6",onTimeRate:"96.1%",efficiency:"90.5%"},{driver:"Mike Turner",deliveries:89,rating:"4.5",onTimeRate:"94.3%",efficiency:"89.7%"},{driver:"Bob Johnson",deliveries:78,rating:"3.7",onTimeRate:"88.5%",efficiency:"82.3%"}],insights:["Jane Smith demonstrates the highest overall performance with excellent customer ratings (4.9/5) and on-time delivery rate (97.4%).","Bob Johnson has the lowest performance metrics and may benefit from additional training and support.","On-time delivery rates are strongly correlated with customer satisfaction ratings (r=0.92).","Drivers who follow optimized routes have 15% better fuel efficiency than those who deviate from suggested routes."]}),W=()=>({title:"Customer Analysis Report",description:"Analysis of customer behavior, retention, and demographics.",date:(new Date).toLocaleDateString(),summary:{totalCustomers:647,newCustomers:85,returnRate:"86.9%",avgOrderValue:"$183"},charts:{main:{labels:["New","Returning","30+ Orders","10+ Orders","First-Time"],datasets:[{label:"Customer Segments",data:[85,245,125,107,85],backgroundColor:["rgba(54, 162, 235, 0.6)","rgba(75, 192, 192, 0.6)","rgba(153, 102, 255, 0.6)","rgba(255, 206, 86, 0.6)","rgba(255, 99, 132, 0.6)"],borderColor:["rgba(54, 162, 235, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 206, 86, 1)","rgba(255, 99, 132, 1)"]}]},secondary:{labels:{week:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],month:["Week 1","Week 2","Week 3","Week 4"],quarter:["Jan","Feb","Mar","Apr","May","Jun"],year:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],custom:["Period 1","Period 2","Period 3","Period 4"]}[i],datasets:[{label:"Customer Satisfaction",data:"week"===i?[4.6,4.7,4.5,4.6,4.8,4.7,4.6]:"month"===i?[4.6,4.7,4.6,4.7]:[4.5,4.6,4.7,4.6,4.7,4.8],backgroundColor:"rgba(75, 192, 192, 0.6)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:2,tension:.4}]}},tableData:[{segment:"New Customers",count:85,percentage:"13.1%",avgOrderValue:"$132",satisfaction:"4.3"},{segment:"Returning Customers",count:245,percentage:"37.9%",avgOrderValue:"$178",satisfaction:"4.7"},{segment:"30+ Orders",count:125,percentage:"19.3%",avgOrderValue:"$215",satisfaction:"4.9"},{segment:"10+ Orders",count:107,percentage:"16.5%",avgOrderValue:"$195",satisfaction:"4.8"},{segment:"First-Time",count:85,percentage:"13.1%",avgOrderValue:"$132",satisfaction:"4.3"}],insights:["Returning customers (3+ orders) have a 31.8% higher average order value than new customers.","Customer satisfaction ratings increase with the number of completed orders.","Highest customer retention rates are in the Central Zone (92.4%) and lowest in the East Zone (81.2%).","Business customers have a 40% higher average order value compared to individual customers."]}),G=()=>({title:"Route Optimization Report",description:"Analysis of delivery routes, time efficiency, and fuel usage.",date:(new Date).toLocaleDateString(),summary:{avgRouteEfficiency:"88.7%",fuelSavings:"15.3%",timeReduction:"22.5%",avgStopsPerRoute:"8.4"},charts:{main:{labels:["North Zone","South Zone","East Zone","West Zone","Central Zone"],datasets:[{label:"Route Efficiency",data:[92,87,85,89,93],backgroundColor:"rgba(75, 192, 192, 0.6)",borderColor:"rgba(75, 192, 192, 1)"},{label:"Fuel Efficiency",data:[90,86,82,87,91],backgroundColor:"rgba(54, 162, 235, 0.6)",borderColor:"rgba(54, 162, 235, 1)"}]},secondary:{labels:["1-3 Stops","4-6 Stops","7-10 Stops","11-15 Stops","16+ Stops"],datasets:[{data:[15,25,35,20,5],backgroundColor:["rgba(75, 192, 192, 0.6)","rgba(54, 162, 235, 0.6)","rgba(255, 206, 86, 0.6)","rgba(255, 99, 132, 0.6)","rgba(153, 102, 255, 0.6)"],borderColor:["rgba(75, 192, 192, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(255, 99, 132, 1)","rgba(153, 102, 255, 1)"]}]}},tableData:[{region:"North Zone",efficiency:"92%",fuelUsage:"8.2 mpg",avgTime:"35 min",costPerMile:"$0.42"},{region:"South Zone",efficiency:"87%",fuelUsage:"7.8 mpg",avgTime:"42 min",costPerMile:"$0.48"},{region:"East Zone",efficiency:"85%",fuelUsage:"7.5 mpg",avgTime:"44 min",costPerMile:"$0.51"},{region:"West Zone",efficiency:"89%",fuelUsage:"8.0 mpg",avgTime:"38 min",costPerMile:"$0.45"},{region:"Central Zone",efficiency:"93%",fuelUsage:"8.5 mpg",avgTime:"32 min",costPerMile:"$0.40"}],insights:["Optimized routes have reduced average delivery times by 22.5% compared to previous routing methods.","Central Zone has the highest route efficiency (93%) due to denser delivery clusters.","Each additional stop on a route increases average delivery time by approximately 12 minutes.","Implementing dynamic routing has reduced fuel consumption by 15.3% compared to fixed routes."]}),q=()=>({title:"Delivery Issues Analysis",description:"Detailed breakdown of delivery problems, delays, and resolutions.",date:(new Date).toLocaleDateString(),summary:{totalIssues:87,issueRate:"3.2%",avgResolutionTime:"2.4 hours",customerImpact:"Minimal"},charts:{main:{labels:["Traffic Delays","Weather","Vehicle Issues","Address Problems","Package Damage","Other"],datasets:[{data:[42,18,15,12,8,5],backgroundColor:["rgba(255, 99, 132, 0.6)","rgba(54, 162, 235, 0.6)","rgba(255, 206, 86, 0.6)","rgba(75, 192, 192, 0.6)","rgba(153, 102, 255, 0.6)","rgba(255, 159, 64, 0.6)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"]}]},secondary:{labels:{week:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],month:["Week 1","Week 2","Week 3","Week 4"],quarter:["Jan","Feb","Mar","Apr","May","Jun"],year:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],custom:["Period 1","Period 2","Period 3","Period 4"]}[i],datasets:[{label:"Issue Count",data:"week"===i?[15,12,14,18,10,8,10]:"month"===i?[42,38,45,35]:[28,32,27,24,29,30],backgroundColor:"rgba(255, 99, 132, 0.6)",borderColor:"rgba(255, 99, 132, 1)",tension:.4}]}},tableData:[{issueType:"Traffic Delays",count:42,percentage:"48.3%",avgImpact:"52 min delay",resolution:"Route replanning"},{issueType:"Weather Conditions",count:18,percentage:"20.7%",avgImpact:"78 min delay",resolution:"Customer notification"},{issueType:"Vehicle Problems",count:15,percentage:"17.2%",avgImpact:"105 min delay",resolution:"Vehicle replacement"},{issueType:"Address Issues",count:12,percentage:"13.8%",avgImpact:"35 min delay",resolution:"Customer contact"},{issueType:"Package Damage",count:8,percentage:"9.2%",avgImpact:"Redelivery",resolution:"Replacement"},{issueType:"Other Issues",count:5,percentage:"5.7%",avgImpact:"Various",resolution:"Case-by-case"}],insights:["Traffic delays account for nearly half (48.3%) of all delivery issues, with highest impact during rush hours (4-6 PM).","Weather-related issues increase by 320% during rainy or snowy conditions.","Average resolution time for delivery issues has improved by 18% compared to the previous period.","Implementing proactive customer notifications for delays has improved satisfaction ratings by 1.2 points for affected deliveries."]}),Y=e=>{alert(`Exporting report as ${e.toUpperCase()}`)},K=(e,t)=>{if(!e)return null;const s={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},tooltip:{mode:"index",intersect:!1}},...t};switch(l){case"bar":default:return(0,sn.jsx)(rb,{data:e,options:s,ref:z});case"line":return(0,sn.jsx)(ib,{data:e,options:s,ref:z});case"pie":return(0,sn.jsx)(cb,{data:e,options:s,ref:z});case"doughnut":return(0,sn.jsx)(ob,{data:e,options:s,ref:z})}},J=e=>({deliveryPerformance:"Delivery Performance",financialSummary:"Financial Summary",driverPerformance:"Driver Performance",customerAnalysis:"Customer Analysis",routeOptimization:"Route Optimization",deliveryIssues:"Delivery Issues Analysis"}[e]||e),X=(e,t)=>(0,sn.jsx)(Yn,{className:"border h-100",children:(0,sn.jsxs)(Yn.Body,{className:"p-3",children:[(0,sn.jsx)("div",{className:"text-muted mb-1",children:e}),(0,sn.jsx)("h3",{className:"mb-0",children:t})]})});return(0,sn.jsxs)(jn,{fluid:!0,className:"py-4",children:[(0,sn.jsx)("h1",{className:"mb-4",children:"Reports"}),(0,sn.jsxs)(qy.Container,{activeKey:e,onSelect:e=>t(e),children:[(0,sn.jsxs)(ec,{variant:"tabs",className:"mb-4",children:[(0,sn.jsx)(ec.Item,{children:(0,sn.jsxs)(ec.Link,{eventKey:"generator",children:[(0,sn.jsx)(Er,{className:"me-1"})," Report Generator"]})}),(0,sn.jsx)(ec.Item,{children:(0,sn.jsxs)(ec.Link,{eventKey:"saved",children:[(0,sn.jsx)(al,{className:"me-1"})," Saved Reports"]})}),(0,sn.jsx)(ec.Item,{children:(0,sn.jsxs)(ec.Link,{eventKey:"scheduled",children:[(0,sn.jsx)(kr,{className:"me-1"})," Scheduled Reports"]})})]}),(0,sn.jsxs)(qy.Content,{children:[(0,sn.jsxs)(qy.Pane,{eventKey:"generator",children:[(0,sn.jsx)(Yn,{className:"border-0 shadow-sm mb-4",children:(0,sn.jsxs)(Yn.Body,{children:[(0,sn.jsx)("h5",{className:"mb-3",children:"Generate Report"}),(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:4,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Report Type"}),(0,sn.jsxs)(Xi.Select,{value:s,onChange:e=>{n(e.target.value),h(!1)},children:[(0,sn.jsx)("option",{value:"deliveryPerformance",children:"Delivery Performance"}),(0,sn.jsx)("option",{value:"financialSummary",children:"Financial Summary"}),(0,sn.jsx)("option",{value:"driverPerformance",children:"Driver Performance"}),(0,sn.jsx)("option",{value:"customerAnalysis",children:"Customer Analysis"}),(0,sn.jsx)("option",{value:"routeOptimization",children:"Route Optimization"}),(0,sn.jsx)("option",{value:"deliveryIssues",children:"Delivery Issues Analysis"})]})]})}),(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Date Range"}),(0,sn.jsxs)(Xi.Select,{value:i,onChange:e=>{r(e.target.value),h(!1)},children:[(0,sn.jsx)("option",{value:"week",children:"Last 7 Days"}),(0,sn.jsx)("option",{value:"month",children:"Last 30 Days"}),(0,sn.jsx)("option",{value:"quarter",children:"Last 90 Days"}),(0,sn.jsx)("option",{value:"year",children:"Last 12 Months"}),(0,sn.jsx)("option",{value:"custom",children:"Custom Range"})]})]})}),(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Chart Type"}),(0,sn.jsxs)(Xi.Select,{value:l,onChange:e=>o(e.target.value),children:[(0,sn.jsx)("option",{value:"bar",children:"Bar Chart"}),(0,sn.jsx)("option",{value:"line",children:"Line Chart"}),(0,sn.jsx)("option",{value:"pie",children:"Pie Chart"}),(0,sn.jsx)("option",{value:"doughnut",children:"Doughnut Chart"})]})]})}),(0,sn.jsx)(Nn,{md:2,className:"d-flex align-items-end",children:(0,sn.jsx)(ir,{variant:"primary",className:"w-100 mb-3",onClick:()=>{d(!0),setTimeout((()=>{const e=$();p(e),d(!1),h(!0)}),1500)},disabled:c,children:c?(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(Sw,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-2"}),"Generating..."]}):"Generate Report"})})]}),"custom"===i&&(0,sn.jsxs)(yn,{className:"mt-2",children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Start Date"}),(0,sn.jsx)(Xi.Control,{type:"date",value:x.start,onChange:e=>f({...x,start:e.target.value})})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"End Date"}),(0,sn.jsx)(Xi.Control,{type:"date",value:x.end,onChange:e=>f({...x,end:e.target.value})})]})})]}),(0,sn.jsx)(yn,{className:"mt-2",children:(0,sn.jsx)(Nn,{md:12,children:(0,sn.jsx)(Xi.Check,{type:"checkbox",id:"compare-previous",label:"Compare with previous period",checked:g,onChange:e=>v(e.target.checked),className:"mb-3"})})}),(0,sn.jsxs)("div",{className:"mt-2",children:[(0,sn.jsxs)(ir,{variant:"link",className:"text-decoration-none p-0",onClick:()=>document.getElementById("advanced-filters").classList.toggle("d-none"),children:[(0,sn.jsx)(ol,{className:"me-1"})," Advanced Filters"]}),(0,sn.jsx)("div",{id:"advanced-filters",className:"d-none mt-3",children:(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Region"}),(0,sn.jsx)(Xi.Select,{value:y.region,onChange:e=>w({...y,region:e.target.value}),children:j.regions.map(((e,t)=>(0,sn.jsx)("option",{value:e,children:e},t)))})]})}),(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Driver"}),(0,sn.jsx)(Xi.Select,{value:y.driver,onChange:e=>w({...y,driver:e.target.value}),children:j.drivers.map(((e,t)=>(0,sn.jsx)("option",{value:e,children:e},t)))})]})}),(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Customer"}),(0,sn.jsx)(Xi.Select,{value:y.customer,onChange:e=>w({...y,customer:e.target.value}),children:j.customers.map(((e,t)=>(0,sn.jsx)("option",{value:e,children:e},t)))})]})}),(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Status"}),(0,sn.jsx)(Xi.Select,{value:y.status,onChange:e=>w({...y,status:e.target.value}),children:j.status.map(((e,t)=>(0,sn.jsx)("option",{value:e,children:e},t)))})]})})]})})]})]})}),u&&m&&(0,sn.jsx)(sn.Fragment,{children:(0,sn.jsx)(Yn,{className:"border-0 shadow-sm mb-4",children:(0,sn.jsxs)(Yn.Body,{children:[(0,sn.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,sn.jsxs)("div",{children:[(0,sn.jsx)("h4",{className:"mb-1",children:m.title}),(0,sn.jsx)("p",{className:"text-muted mb-0",children:m.description})]}),(0,sn.jsxs)("div",{className:"d-flex",children:[(0,sn.jsxs)(Bh,{className:"me-2",children:[(0,sn.jsxs)(Bh.Toggle,{variant:"outline-secondary",id:"dropdown-export",children:[(0,sn.jsx)(Gr,{className:"me-1"})," Export"]}),(0,sn.jsxs)(Bh.Menu,{children:[(0,sn.jsxs)(Bh.Item,{onClick:()=>Y("pdf"),children:[(0,sn.jsx)(ll,{className:"me-2"})," PDF"]}),(0,sn.jsxs)(Bh.Item,{onClick:()=>Y("csv"),children:[(0,sn.jsx)(so,{className:"me-2"})," CSV"]}),(0,sn.jsxs)(Bh.Item,{onClick:()=>Y("excel"),children:[(0,sn.jsx)(nl,{className:"me-2"})," Excel"]})]})]}),(0,sn.jsxs)(ir,{variant:"outline-secondary",className:"me-2",onClick:()=>_(!0),children:[(0,sn.jsx)(Vl,{className:"me-1"})," Save"]}),(0,sn.jsxs)(ir,{variant:"outline-primary",onClick:()=>L(!0),children:[(0,sn.jsx)(kr,{className:"me-1"})," Schedule"]})]})]}),(0,sn.jsx)(yn,{className:"mb-4",children:Object.entries(m.summary).map(((e,t)=>{let[s,n]=e;return(0,sn.jsx)(Nn,{md:3,children:X(s.replace(/([A-Z])/g," $1").replace(/^./,(e=>e.toUpperCase())).replace(/([a-z])([A-Z])/g,"$1 $2"),n)},t)}))}),(0,sn.jsxs)(yn,{className:"mb-4",children:[(0,sn.jsx)(Nn,{md:8,children:(0,sn.jsxs)(Yn,{className:"border",children:[(0,sn.jsxs)(Yn.Header,{className:"bg-white d-flex justify-content-between align-items-center",children:[(0,sn.jsx)("h5",{className:"mb-0",children:"deliveryPerformance"===s?"Delivery Performance Trend":"financialSummary"===s?"Revenue vs. Expenses":"driverPerformance"===s?"Driver Performance Comparison":"customerAnalysis"===s?"Customer Segments":"routeOptimization"===s?"Route Efficiency by Region":"Issue Types Distribution"}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)(ir,{variant:"bar"===l?"primary":"outline-secondary",size:"sm",className:"me-1",onClick:()=>o("bar"),children:(0,sn.jsx)(Tr,{})}),(0,sn.jsx)(ir,{variant:"line"===l?"primary":"outline-secondary",size:"sm",className:"me-1",onClick:()=>o("line"),children:(0,sn.jsx)(Er,{})}),(0,sn.jsx)(ir,{variant:"pie"===l||"doughnut"===l?"primary":"outline-secondary",size:"sm",onClick:()=>o("doughnut"),children:(0,sn.jsx)(Lr,{})})]})]}),(0,sn.jsx)(Yn.Body,{children:(0,sn.jsx)("div",{style:{height:"400px"},children:K(m.charts.main)})})]})}),(0,sn.jsx)(Nn,{md:4,children:(0,sn.jsxs)(Yn,{className:"border h-100",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white",children:(0,sn.jsx)("h5",{className:"mb-0",children:"deliveryPerformance"===s?"Delivery Time Distribution":"financialSummary"===s?"Expense Breakdown":"driverPerformance"===s?"Performance Radar":"customerAnalysis"===s?"Satisfaction Trend":"routeOptimization"===s?"Stops per Route":"Issues Over Time"})}),(0,sn.jsx)(Yn.Body,{children:(0,sn.jsx)("div",{style:{height:"400px"},children:K(m.charts.secondary,{plugins:{legend:{position:"driverPerformance"===s?"right":"bottom"}}})})})]})})]}),(0,sn.jsxs)(Yn,{className:"border mb-4",children:[(0,sn.jsxs)(Yn.Header,{className:"bg-white d-flex justify-content-between align-items-center",children:[(0,sn.jsx)("h5",{className:"mb-0",children:"Detailed Data"}),(0,sn.jsxs)(ir,{variant:"outline-secondary",size:"sm",onClick:()=>Y("csv"),children:[(0,sn.jsx)(so,{className:"me-1"})," Export Data"]})]}),(0,sn.jsx)(Yn.Body,{children:(0,sn.jsxs)(Uh,{responsive:!0,hover:!0,children:[(0,sn.jsx)("thead",{className:"bg-light",children:(0,sn.jsx)("tr",{children:m.tableData.length>0&&Object.keys(m.tableData[0]).map(((e,t)=>(0,sn.jsx)("th",{children:e.replace(/([A-Z])/g," $1").replace(/^./,(e=>e.toUpperCase())).replace(/([a-z])([A-Z])/g,"$1 $2")},t)))})}),(0,sn.jsx)("tbody",{children:m.tableData.map(((e,t)=>(0,sn.jsx)("tr",{children:Object.values(e).map(((e,t)=>(0,sn.jsx)("td",{children:e},t)))},t)))})]})})]}),(0,sn.jsxs)(Yn,{className:"border",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white",children:(0,sn.jsx)("h5",{className:"mb-0",children:"Key Insights"})}),(0,sn.jsx)(Yn.Body,{children:(0,sn.jsx)(mb,{variant:"flush",children:m.insights.map(((e,t)=>(0,sn.jsxs)(mb.Item,{className:"d-flex align-items-start",children:[(0,sn.jsx)(xl,{className:"me-2 mt-1 text-primary"}),(0,sn.jsx)("div",{children:e})]},t)))})})]})]})})})]}),(0,sn.jsx)(qy.Pane,{eventKey:"saved",children:(0,sn.jsxs)(Yn,{className:"border-0 shadow-sm",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white border-0 py-3",children:(0,sn.jsx)("h5",{className:"mb-0",children:"Saved Reports"})}),(0,sn.jsx)(Yn.Body,{children:N.length>0?(0,sn.jsxs)(Uh,{hover:!0,responsive:!0,children:[(0,sn.jsx)("thead",{className:"bg-light",children:(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("th",{children:"Report Name"}),(0,sn.jsx)("th",{children:"Type"}),(0,sn.jsx)("th",{children:"Created On"}),(0,sn.jsx)("th",{children:"Created By"}),(0,sn.jsx)("th",{children:"Actions"})]})}),(0,sn.jsx)("tbody",{children:N.map((e=>(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("td",{children:e.name}),(0,sn.jsx)("td",{children:J(e.type)}),(0,sn.jsx)("td",{children:e.date}),(0,sn.jsx)("td",{children:e.createdBy}),(0,sn.jsxs)("td",{children:[(0,sn.jsx)(ir,{variant:"link",size:"sm",className:"p-0 me-2",children:"View"}),(0,sn.jsxs)(ir,{variant:"link",size:"sm",className:"p-0 me-2",children:[(0,sn.jsx)(Gr,{className:"me-1"})," Download"]}),(0,sn.jsx)(ir,{variant:"link",size:"sm",className:"p-0 text-danger",onClick:()=>{return t=e.id,void(window.confirm("Are you sure you want to delete this report?")&&C(N.filter((e=>e.id!==t))));var t},children:"Delete"})]})]},e.id)))})]}):(0,sn.jsx)(gi,{variant:"info",children:"No saved reports found. Generate and save reports from the Report Generator tab."})})]})}),(0,sn.jsxs)(qy.Pane,{eventKey:"scheduled",children:[(0,sn.jsxs)(Yn,{className:"border-0 shadow-sm mb-4",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white border-0 py-3",children:(0,sn.jsx)("h5",{className:"mb-0",children:"Scheduled Reports"})}),(0,sn.jsxs)(Yn.Body,{children:[S.length>0?(0,sn.jsxs)(Uh,{hover:!0,responsive:!0,children:[(0,sn.jsx)("thead",{className:"bg-light",children:(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("th",{children:"Report Name"}),(0,sn.jsx)("th",{children:"Type"}),(0,sn.jsx)("th",{children:"Frequency"}),(0,sn.jsx)("th",{children:"Recipients"}),(0,sn.jsx)("th",{children:"Last Run"}),(0,sn.jsx)("th",{children:"Status"}),(0,sn.jsx)("th",{children:"Actions"})]})}),(0,sn.jsx)("tbody",{children:S.map((e=>(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("td",{children:e.name}),(0,sn.jsx)("td",{children:J(e.type)}),(0,sn.jsx)("td",{children:e.frequency}),(0,sn.jsx)("td",{children:e.recipients}),(0,sn.jsx)("td",{children:e.lastRun}),(0,sn.jsx)("td",{children:(0,sn.jsx)(Cb,{bg:"active"===e.status?"success":"secondary",children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})}),(0,sn.jsxs)("td",{children:[(0,sn.jsx)(ir,{variant:"link",size:"sm",className:"p-0 me-2",children:"Edit"}),(0,sn.jsx)(ir,{variant:"link",size:"sm",className:"p-0 text-danger",onClick:()=>{return t=e.id,void(window.confirm("Are you sure you want to delete this scheduled report?")&&k(S.filter((e=>e.id!==t))));var t},children:"Delete"})]})]},e.id)))})]}):(0,sn.jsx)(gi,{variant:"info",children:"No scheduled reports found. Create scheduled reports from the Report Generator tab."}),(0,sn.jsx)(ir,{variant:"outline-primary",size:"sm",onClick:()=>L(!0),children:"+ Schedule New Report"})]})]}),(0,sn.jsxs)(Yn,{className:"border-0 shadow-sm",children:[(0,sn.jsx)(Yn.Header,{className:"bg-white border-0 py-3",children:(0,sn.jsx)("h5",{className:"mb-0",children:"Report Delivery Settings"})}),(0,sn.jsx)(Yn.Body,{children:(0,sn.jsxs)(Xi,{children:[(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Default Recipients"}),(0,sn.jsx)(Xi.Control,{type:"text",placeholder:"Enter email addresses separated by commas",value:R,onChange:e=>F(e.target.value)}),(0,sn.jsx)(Xi.Text,{className:"text-muted",children:"These recipients will be added by default to all scheduled reports."})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Add Recipient"}),(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:8,children:(0,sn.jsx)(Xi.Control,{type:"email",placeholder:"Enter email address",value:P,onChange:e=>O(e.target.value)})}),(0,sn.jsx)(Nn,{md:4,children:(0,sn.jsx)(ir,{variant:"outline-primary",className:"w-100",onClick:()=>{if(!P||!B(P))return;if(R.toLowerCase().includes(P.toLowerCase()))return void alert("This email is already in the recipients list.");F(R?`${R}, ${P}`:P),O("")},disabled:!P||!B(P),children:"Add Recipient"})})]}),(0,sn.jsx)(Xi.Text,{className:"text-muted",children:"Add a new email recipient to the default list."})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Default Report Format"}),(0,sn.jsxs)(Xi.Select,{defaultValue:"pdf",children:[(0,sn.jsx)("option",{value:"pdf",children:"PDF"}),(0,sn.jsx)("option",{value:"excel",children:"Excel"}),(0,sn.jsx)("option",{value:"csv",children:"CSV"})]})]}),(0,sn.jsx)(ir,{variant:"primary",children:"Save Settings"})]})})]})]})]})]}),(0,sn.jsxs)(yy,{show:D,onHide:()=>_(!1),children:[(0,sn.jsx)(yy.Header,{closeButton:!0,children:(0,sn.jsx)(yy.Title,{children:"Save Report"})}),(0,sn.jsx)(yy.Body,{children:(0,sn.jsxs)(Xi,{children:[(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Report Name"}),(0,sn.jsx)(Xi.Control,{type:"text",placeholder:"Enter a name for this report",value:A,onChange:e=>T(e.target.value),autoFocus:!0})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Report Type"}),(0,sn.jsx)(Xi.Control,{type:"text",value:J(s),disabled:!0})]})]})}),(0,sn.jsxs)(yy.Footer,{children:[(0,sn.jsx)(ir,{variant:"secondary",onClick:()=>_(!1),children:"Cancel"}),(0,sn.jsx)(ir,{variant:"primary",onClick:()=>{if(!A.trim())return;const e={id:N.length+1,name:A,type:s,date:(new Date).toISOString().split("T")[0],createdBy:"Admin User"};C([...N,e]),_(!1),T("")},disabled:!A.trim(),children:"Save Report"})]})]}),(0,sn.jsxs)(yy,{show:E,onHide:()=>L(!1),size:"lg",children:[(0,sn.jsx)(yy.Header,{closeButton:!0,children:(0,sn.jsx)(yy.Title,{children:"Schedule Report"})}),(0,sn.jsx)(yy.Body,{children:(0,sn.jsxs)(Xi,{children:[(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Report Name"}),(0,sn.jsx)(Xi.Control,{type:"text",placeholder:"Enter a name for this scheduled report",value:M.name,onChange:e=>I({...M,name:e.target.value}),autoFocus:!0})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Report Type"}),(0,sn.jsx)(Xi.Control,{type:"text",value:J(s),disabled:!0})]})})]}),(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:4,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Frequency"}),(0,sn.jsxs)(Xi.Select,{value:M.frequency,onChange:e=>I({...M,frequency:e.target.value}),children:[(0,sn.jsx)("option",{value:"daily",children:"Daily"}),(0,sn.jsx)("option",{value:"weekly",children:"Weekly"}),(0,sn.jsx)("option",{value:"monthly",children:"Monthly"}),(0,sn.jsx)("option",{value:"custom",children:"Custom"})]})]})}),"weekly"===M.frequency&&(0,sn.jsx)(Nn,{md:4,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Day"}),(0,sn.jsxs)(Xi.Select,{value:M.day,onChange:e=>I({...M,day:e.target.value}),children:[(0,sn.jsx)("option",{value:"monday",children:"Monday"}),(0,sn.jsx)("option",{value:"tuesday",children:"Tuesday"}),(0,sn.jsx)("option",{value:"wednesday",children:"Wednesday"}),(0,sn.jsx)("option",{value:"thursday",children:"Thursday"}),(0,sn.jsx)("option",{value:"friday",children:"Friday"}),(0,sn.jsx)("option",{value:"saturday",children:"Saturday"}),(0,sn.jsx)("option",{value:"sunday",children:"Sunday"})]})]})}),"monthly"===M.frequency&&(0,sn.jsx)(Nn,{md:4,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Day of Month"}),(0,sn.jsxs)(Xi.Select,{value:M.day,onChange:e=>I({...M,day:e.target.value}),children:[[...Array(31)].map(((e,t)=>(0,sn.jsx)("option",{value:t+1,children:t+1},t+1))),(0,sn.jsx)("option",{value:"last",children:"Last Day"})]})]})}),(0,sn.jsx)(Nn,{md:4,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Time"}),(0,sn.jsx)(Xi.Control,{type:"time",value:M.time,onChange:e=>I({...M,time:e.target.value})})]})})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Recipients"}),(0,sn.jsx)(Xi.Control,{type:"text",placeholder:"Enter email addresses separated by commas",value:M.recipients,onChange:e=>I({...M,recipients:e.target.value})}),(0,sn.jsx)(Xi.Text,{className:"text-muted",children:"Enter the email addresses of users who should receive this report."})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Format"}),(0,sn.jsxs)(Xi.Select,{value:M.format,onChange:e=>I({...M,format:e.target.value}),children:[(0,sn.jsx)("option",{value:"pdf",children:"PDF"}),(0,sn.jsx)("option",{value:"excel",children:"Excel"}),(0,sn.jsx)("option",{value:"csv",children:"CSV"})]})]})]})}),(0,sn.jsxs)(yy.Footer,{children:[(0,sn.jsx)(ir,{variant:"secondary",onClick:()=>L(!1),children:"Cancel"}),(0,sn.jsx)(ir,{variant:"primary",onClick:()=>{if(!M.name.trim()||!M.recipients.trim())return;const e={id:S.length+1,name:M.name,type:s,frequency:""+("daily"===M.frequency?"Daily":"weekly"===M.frequency?`Weekly (${M.day.charAt(0).toUpperCase()+M.day.slice(1)})`:"monthly"===M.frequency?"Monthly":"Custom"),recipients:M.recipients,lastRun:"Not yet run",status:"active"};k([...S,e]),L(!1),I({name:"",frequency:"weekly",day:"monday",time:"09:00",recipients:"",format:"pdf"})},disabled:!M.name.trim()||!M.recipients.trim(),children:"Schedule Report"})]})]})]})};const RS=2**31-1;function FS(e,t,s){const n=s-Date.now();e.current=n<=RS?setTimeout(t,n):setTimeout((()=>FS(e,t,s)),RS)}function zS(){const e=function(){const e=(0,a.useRef)(!0),t=(0,a.useRef)((()=>e.current));return(0,a.useEffect)((()=>(e.current=!0,()=>{e.current=!1})),[]),t.current}(),t=(0,a.useRef)();return ry((()=>clearTimeout(t.current))),(0,a.useMemo)((()=>{const s=()=>clearTimeout(t.current);return{set:function(n){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e()&&(s(),a<=RS?t.current=setTimeout(n,a):FS(t,n,Date.now()+a))},clear:s,handleRef:t}}),[])}const BS=()=>{};const $S=function(e,t){let{disabled:s,clickTrigger:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=t||BS;Yu(e,i,{disabled:s,clickTrigger:n});const r=ua((e=>{Oa(e)&&i(e)}));(0,a.useEffect)((()=>{if(s||null==e)return;const t=Fa(Gu(e));let n=(t.defaultView||window).event;const a=Xa(t,"keyup",(e=>{e!==n?r(e):n=void 0}));return()=>{a()}}),[e,s,r])},HS=a.forwardRef(((e,t)=>{const{flip:s,offset:n,placement:i,containerPadding:r,popperConfig:l={},transition:o,runTransition:c}=e,[d,u]=ca(),[h,m]=ca(),p=Eo(u,t),x=Dc(e.container),f=Dc(e.target),[g,v]=(0,a.useState)(!e.show),j=Uu(f,d,Ju({placement:i,enableEvents:!!e.show,containerPadding:r||5,flip:s,offset:n,arrowElement:h,popperConfig:l}));e.show&&g&&v(!1);const b=e.show||!g;if($S(d,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!b)return null;const{onExit:y,onExiting:w,onEnter:N,onEntering:C,onEntered:S}=e;let k=e.children(Object.assign({},j.attributes.popper,{style:j.styles.popper,ref:p}),{popper:j,placement:i,show:!!e.show,arrowProps:Object.assign({},j.attributes.arrow,{style:j.styles.arrow,ref:m})});return k=Ic(o,c,{in:!!e.show,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:k,onExit:y,onExiting:w,onExited:function(){v(!0),e.onExited&&e.onExited(...arguments)},onEnter:N,onEntering:C,onEntered:S}),x?Ne.createPortal(k,x):null}));HS.displayName="Overlay";const VS=HS,US=a.forwardRef(((e,t)=>{let{className:s,bsPrefix:n,as:a="div",...i}=e;return n=pn(n,"popover-header"),(0,sn.jsx)(a,{ref:t,className:on()(s,n),...i})}));US.displayName="PopoverHeader";const WS=US,GS=a.forwardRef(((e,t)=>{let{className:s,bsPrefix:n,as:a="div",...i}=e;return n=pn(n,"popover-body"),(0,sn.jsx)(a,{ref:t,className:on()(s,n),...i})}));GS.displayName="PopoverBody";const qS=GS;a.Component;function YS(e,t){let s=e;return"left"===e?s=t?"end":"start":"right"===e&&(s=t?"start":"end"),s}function KS(){return{position:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"absolute",top:"0",left:"0",opacity:"0",pointerEvents:"none"}}const JS=a.forwardRef(((e,t)=>{let{bsPrefix:s,placement:n="right",className:a,style:i,children:r,body:l,arrowProps:o,hasDoneInitialMeasure:c,popper:d,show:u,...h}=e;const m=pn(s,"popover"),p=gn(),[x]=(null==n?void 0:n.split("-"))||[],f=YS(x,p);let g=i;return u&&!c&&(g={...i,...KS(null==d?void 0:d.strategy)}),(0,sn.jsxs)("div",{ref:t,role:"tooltip",style:g,"x-placement":x,className:on()(a,m,x&&`bs-popover-${f}`),...h,children:[(0,sn.jsx)("div",{className:"popover-arrow",...o}),l?(0,sn.jsx)(qS,{children:r}):r]})})),XS=Object.assign(JS,{Header:WS,Body:qS,POPPER_OFFSET:[0,8]}),ZS=a.forwardRef(((e,t)=>{let{bsPrefix:s,placement:n="right",className:a,style:i,children:r,arrowProps:l,hasDoneInitialMeasure:o,popper:c,show:d,...u}=e;s=pn(s,"tooltip");const h=gn(),[m]=(null==n?void 0:n.split("-"))||[],p=YS(m,h);let x=i;return d&&!o&&(x={...i,...KS(null==c?void 0:c.strategy)}),(0,sn.jsxs)("div",{ref:t,style:x,role:"tooltip","x-placement":m,className:on()(a,s,`bs-tooltip-${p}`),...u,children:[(0,sn.jsx)("div",{className:"tooltip-arrow",...l}),(0,sn.jsx)("div",{className:`${s}-inner`,children:r})]})}));ZS.displayName="Tooltip";const QS=Object.assign(ZS,{TOOLTIP_OFFSET:[0,6]});const ek=a.forwardRef(((e,t)=>{let{children:s,transition:n=di,popperConfig:i={},rootClose:r=!1,placement:l="top",show:o=!1,...c}=e;const d=(0,a.useRef)({}),[u,h]=(0,a.useState)(null),[m,p]=function(e){const t=(0,a.useRef)(null),s=pn(void 0,"popover"),n=pn(void 0,"tooltip"),i=(0,a.useMemo)((()=>({name:"offset",options:{offset:()=>{if(e)return e;if(t.current){if(Qc(t.current,s))return XS.POPPER_OFFSET;if(Qc(t.current,n))return QS.TOOLTIP_OFFSET}return[0,0]}}})),[e,s,n]);return[t,[i]]}(c.offset),x=ai(t,m),f=!0===n?di:n||void 0,g=ia((e=>{h(e),null==i||null==i.onFirstUpdate||i.onFirstUpdate(e)}));return mc((()=>{u&&c.target&&(null==d.current.scheduleUpdate||d.current.scheduleUpdate())}),[u,c.target]),(0,a.useEffect)((()=>{o||h(null)}),[o]),(0,sn.jsx)(VS,{...c,ref:x,popperConfig:{...i,modifiers:p.concat(i.modifiers||[]),onFirstUpdate:g},transition:f,rootClose:r,placement:l,show:o,children:(e,t)=>{let{arrowProps:r,popper:l,show:o}=t;var c;!function(e,t){const{ref:s}=e,{ref:n}=t;e.ref=s.__wrapped||(s.__wrapped=e=>s(ii(e))),t.ref=n.__wrapped||(n.__wrapped=e=>n(ii(e)))}(e,r);const h=null==l?void 0:l.placement,m=Object.assign(d.current,{state:null==l?void 0:l.state,scheduleUpdate:null==l?void 0:l.update,placement:h,outOfBoundaries:(null==l||null==(c=l.state)||null==(c=c.modifiersData.hide)?void 0:c.isReferenceHidden)||!1,strategy:i.strategy}),p=!!u;return"function"===typeof s?s({...e,placement:h,show:o,...!n&&o&&{className:"show"},popper:m,arrowProps:r,hasDoneInitialMeasure:p}):a.cloneElement(s,{...e,placement:h,arrowProps:r,popper:m,hasDoneInitialMeasure:p,className:on()(s.props.className,!n&&o&&"show"),style:{...s.props.style,...e.style}})}})}));ek.displayName="Overlay";const tk=ek;function sk(e,t,s){const[n]=t,a=n.currentTarget,i=n.relatedTarget||n.nativeEvent[s];i&&i===a||bc(a,i)||e(...t)}hi().oneOf(["click","hover","focus"]);const nk=e=>{let{trigger:t=["hover","focus"],overlay:s,children:n,popperConfig:i={},show:r,defaultShow:l=!1,onToggle:o,delay:c,placement:d,flip:u=d&&-1!==d.indexOf("auto"),...h}=e;const m=(0,a.useRef)(null),p=ai(m,Ra(n)),x=zS(),f=(0,a.useRef)(""),[g,v]=Qn(r,l,o),j=function(e){return e&&"object"===typeof e?e:{show:e,hide:e}}(c),{onFocus:b,onBlur:y,onClick:w}="function"!==typeof n?a.Children.only(n).props:{},N=(0,a.useCallback)((()=>{x.clear(),f.current="show",j.show?x.set((()=>{"show"===f.current&&v(!0)}),j.show):v(!0)}),[j.show,v,x]),C=(0,a.useCallback)((()=>{x.clear(),f.current="hide",j.hide?x.set((()=>{"hide"===f.current&&v(!1)}),j.hide):v(!1)}),[j.hide,v,x]),S=(0,a.useCallback)((function(){N(),null==b||b(...arguments)}),[N,b]),k=(0,a.useCallback)((function(){C(),null==y||y(...arguments)}),[C,y]),D=(0,a.useCallback)((function(){v(!g),null==w||w(...arguments)}),[w,v,g]),_=(0,a.useCallback)((function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];sk(N,t,"fromElement")}),[N]),A=(0,a.useCallback)((function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];sk(C,t,"toElement")}),[C]),T=null==t?[]:[].concat(t),E={ref:e=>{p(ii(e))}};return-1!==T.indexOf("click")&&(E.onClick=D),-1!==T.indexOf("focus")&&(E.onFocus=S,E.onBlur=k),-1!==T.indexOf("hover")&&(E.onMouseOver=_,E.onMouseOut=A),(0,sn.jsxs)(sn.Fragment,{children:["function"===typeof n?n(E):(0,a.cloneElement)(n,E),(0,sn.jsx)(tk,{...h,show:g,onHide:C,flip:u,placement:d,popperConfig:i,target:m.current,children:s})]})},ak=()=>{const[e,t]=(0,a.useState)("profile"),[s,n]=(0,a.useState)(!1),[i,r]=(0,a.useState)(""),[l,o]=(0,a.useState)(!1),[c,d]=(0,a.useState)(!1),[u,h]=(0,a.useState)(!1),[m,p]=(0,a.useState)(null),[x,f]=(0,a.useState)(""),[g,v]=(0,a.useState)(1),[j]=(0,a.useState)(10),[b,y]=(0,a.useState)(!1),[w,N]=(0,a.useState)(null),[C,S]=(0,a.useState)({id:null,firstName:"",lastName:"",email:"",phone:"",role:"User",status:"active",password:"",confirmPassword:""}),[k,D]=(0,a.useState)({id:null,name:"",description:"",permissions:{leads:{view:!0,create:!0,edit:!0,delete:!1},deliveries:{view:!0,create:!0,edit:!0,delete:!1},financial:{view:!0,create:!1,edit:!1,delete:!1},settings:{view:!1,userManagement:!1}}}),[_,A]=(0,a.useState)({firstName:"Nate",lastName:"Holder",email:"admin@aretialliance.com",phone:"(678) 727-8485",role:"Administrator",notificationPreferences:{emailAlerts:!0,smsAlerts:!1,newLeadNotification:!0,deliveryUpdates:!0,reportGeneration:!0,systemAlerts:!0},companySettings:{companyName:"Areti Alliance",address:"1201 W. Peachtree St., NW, Ste. 2300",city:"Atlanta",state:"GA",zip:"30309",phone:"(855) 818-3278",website:"www.aretialliance.com",EIN:"33-4493265"}}),[T,E]=(0,a.useState)([{id:1,firstName:"Nate",lastName:"Holder",email:"admin@aretialliance.com",phone:"(678) 727-8485",role:"Administrator",status:"active",lastLogin:"2025-05-06T09:30:00",created:"2024-08-15T14:23:00"},{id:2,firstName:"John",lastName:"Smith",email:"j.smith@aretialliance.com",phone:"(404) 555-1234",role:"Manager",status:"active",lastLogin:"2025-05-05T16:45:00",created:"2024-09-01T11:15:00"},{id:3,firstName:"Sarah",lastName:"Johnson",email:"s.johnson@aretialliance.com",phone:"(404) 555-5678",role:"Sales Rep",status:"active",lastLogin:"2025-05-06T08:20:00",created:"2024-11-15T09:30:00"},{id:4,firstName:"Michael",lastName:"Brown",email:"m.brown@aretialliance.com",phone:"(404) 555-9012",role:"Dispatcher",status:"active",lastLogin:"2025-05-05T12:10:00",created:"2025-01-10T13:45:00"},{id:5,firstName:"Jessica",lastName:"Davis",email:"j.davis@aretialliance.com",phone:"(404) 555-3456",role:"Driver",status:"inactive",lastLogin:"2025-03-12T10:30:00",created:"2025-02-05T15:20:00"}]),[L,M]=(0,a.useState)([{id:1,name:"Administrator",description:"Full access to all system features",permissions:{leads:{view:!0,create:!0,edit:!0,delete:!0},deliveries:{view:!0,create:!0,edit:!0,delete:!0},financial:{view:!0,create:!0,edit:!0,delete:!0},settings:{view:!0,userManagement:!0}}},{id:2,name:"Manager",description:"Access to most features with limited delete permissions",permissions:{leads:{view:!0,create:!0,edit:!0,delete:!1},deliveries:{view:!0,create:!0,edit:!0,delete:!1},financial:{view:!0,create:!0,edit:!0,delete:!1},settings:{view:!0,userManagement:!1}}},{id:3,name:"Sales Rep",description:"Access to leads and basic delivery information",permissions:{leads:{view:!0,create:!0,edit:!0,delete:!1},deliveries:{view:!0,create:!0,edit:!1,delete:!1},financial:{view:!1,create:!1,edit:!1,delete:!1},settings:{view:!1,userManagement:!1}}},{id:4,name:"Dispatcher",description:"Access to delivery management",permissions:{leads:{view:!0,create:!1,edit:!1,delete:!1},deliveries:{view:!0,create:!0,edit:!0,delete:!1},financial:{view:!1,create:!1,edit:!1,delete:!1},settings:{view:!1,userManagement:!1}}},{id:5,name:"Driver",description:"Limited access to assigned deliveries",permissions:{leads:{view:!1,create:!1,edit:!1,delete:!1},deliveries:{view:!0,create:!1,edit:!1,delete:!1},financial:{view:!1,create:!1,edit:!1,delete:!1},settings:{view:!1,userManagement:!1}}}]),I=T.filter((e=>{const t=`${e.firstName} ${e.lastName}`.toLowerCase(),s=x.toLowerCase();return t.includes(s)||e.email.toLowerCase().includes(s)||e.role.toLowerCase().includes(s)})),P=g*j,O=P-j,R=I.slice(O,P),F=Math.ceil(I.length/j),z=e=>{v(e)},B=e=>{if(!e)return"Never";return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},$=(e,t,s)=>{A("root"===e?{..._,[t]:s}:{..._,[e]:{..._[e],[t]:s}})},H=e=>{const{name:t,value:s}=e.target;S({...C,[t]:s})},V=e=>{const{name:t,value:s}=e.target;D({...k,[t]:s})},U=(e,t)=>{D({...k,permissions:{...k.permissions,[e]:{...k.permissions[e],[t]:!k.permissions[e][t]}}})},W=e=>{A({..._,notificationPreferences:{..._.notificationPreferences,[e]:!_.notificationPreferences[e]}})},G=e=>{e.preventDefault(),console.log("Saving settings:",_),n(!0),setTimeout((()=>{n(!1)}),3e3)};return(0,sn.jsxs)(jn,{fluid:!0,className:"py-4",children:[(0,sn.jsx)("h1",{className:"mb-4",children:"Settings"}),s&&(0,sn.jsx)(gi,{variant:"success",dismissible:!0,onClose:()=>n(!1),children:"Settings saved successfully!"}),i&&(0,sn.jsx)(gi,{variant:"danger",dismissible:!0,onClose:()=>r(!1),children:i}),(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:3,children:(0,sn.jsx)(Yn,{className:"border-0 shadow-sm mb-4",children:(0,sn.jsx)(Yn.Body,{className:"p-0",children:(0,sn.jsxs)(ec,{variant:"pills",className:"flex-column",children:[(0,sn.jsx)(ec.Item,{children:(0,sn.jsxs)(ec.Link,{className:"d-flex align-items-center rounded-0 border-bottom px-4 py-3",active:"profile"===e,onClick:()=>t("profile"),children:[(0,sn.jsx)(yo,{className:"me-2"})," Profile"]})}),(0,sn.jsx)(ec.Item,{children:(0,sn.jsxs)(ec.Link,{className:"d-flex align-items-center rounded-0 border-bottom px-4 py-3",active:"notifications"===e,onClick:()=>t("notifications"),children:[(0,sn.jsx)(wr,{className:"me-2"})," Notifications"]})}),(0,sn.jsx)(ec.Item,{children:(0,sn.jsxs)(ec.Link,{className:"d-flex align-items-center rounded-0 border-bottom px-4 py-3",active:"company"===e,onClick:()=>t("company"),children:[(0,sn.jsx)(Sr,{className:"me-2"})," Company Profile"]})}),(0,sn.jsx)(ec.Item,{children:(0,sn.jsxs)(ec.Link,{className:"d-flex align-items-center rounded-0 border-bottom px-4 py-3",active:"security"===e,onClick:()=>t("security"),children:[(0,sn.jsx)(Wl,{className:"me-2"})," Security"]})}),(0,sn.jsx)(ec.Item,{children:(0,sn.jsxs)(ec.Link,{className:"d-flex align-items-center rounded-0 border-bottom px-4 py-3",active:"users"===e,onClick:()=>t("users"),children:[(0,sn.jsx)(wo,{className:"me-2"})," User Management"]})}),(0,sn.jsx)(ec.Item,{children:(0,sn.jsxs)(ec.Link,{className:"d-flex align-items-center rounded-0 border-bottom px-4 py-3",active:"roles"===e,onClick:()=>t("roles"),children:[(0,sn.jsx)(vo,{className:"me-2"})," Roles & Permissions"]})}),(0,sn.jsx)(ec.Item,{children:(0,sn.jsxs)(ec.Link,{className:"d-flex align-items-center rounded-0 px-4 py-3",active:"billing"===e,onClick:()=>t("billing"),children:[(0,sn.jsx)(Ur,{className:"me-2"})," Billing"]})})]})})})}),(0,sn.jsx)(Nn,{md:9,children:(0,sn.jsx)(Yn,{className:"border-0 shadow-sm",children:(0,sn.jsx)(Yn.Body,{children:(0,sn.jsxs)("div",{className:"settings-content",children:["profile"===e&&(0,sn.jsxs)("div",{children:[(0,sn.jsx)("h4",{className:"mb-4",children:"Profile Settings"}),(0,sn.jsxs)(Xi,{onSubmit:G,children:[(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"First Name"}),(0,sn.jsx)(Xi.Control,{type:"text",value:_.firstName,onChange:e=>$("root","firstName",e.target.value)})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Last Name"}),(0,sn.jsx)(Xi.Control,{type:"text",value:_.lastName,onChange:e=>$("root","lastName",e.target.value)})]})})]}),(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Email"}),(0,sn.jsx)(Xi.Control,{type:"email",value:_.email,onChange:e=>$("root","email",e.target.value)})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Phone"}),(0,sn.jsx)(Xi.Control,{type:"text",value:_.phone,onChange:e=>$("root","phone",e.target.value)})]})})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Role"}),(0,sn.jsx)(Xi.Control,{type:"text",value:_.role,disabled:!0}),(0,sn.jsx)(Xi.Text,{className:"text-muted",children:"Role changes can only be made by a system administrator."})]}),(0,sn.jsx)(ir,{variant:"primary",type:"submit",children:"Save Changes"})]})]}),"notifications"===e&&(0,sn.jsxs)("div",{children:[(0,sn.jsx)("h4",{className:"mb-4",children:"Notification Preferences"}),(0,sn.jsxs)(Xi,{onSubmit:G,children:[(0,sn.jsxs)("div",{className:"mb-4",children:[(0,sn.jsx)("h5",{className:"mb-3",children:"Delivery Methods"}),(0,sn.jsx)(Xi.Check,{type:"checkbox",id:"emailAlerts",label:"Email Notifications",className:"mb-2",checked:_.notificationPreferences.emailAlerts,onChange:()=>W("emailAlerts")}),(0,sn.jsx)(Xi.Check,{type:"checkbox",id:"smsAlerts",label:"SMS Notifications",checked:_.notificationPreferences.smsAlerts,onChange:()=>W("smsAlerts")})]}),(0,sn.jsxs)("div",{className:"mb-4",children:[(0,sn.jsx)("h5",{className:"mb-3",children:"Notification Types"}),(0,sn.jsx)(Xi.Check,{type:"checkbox",id:"newLeadNotification",label:"New Lead Notification",className:"mb-2",checked:_.notificationPreferences.newLeadNotification,onChange:()=>W("newLeadNotification")}),(0,sn.jsx)(Xi.Check,{type:"checkbox",id:"deliveryUpdates",label:"Delivery Status Updates",className:"mb-2",checked:_.notificationPreferences.deliveryUpdates,onChange:()=>W("deliveryUpdates")}),(0,sn.jsx)(Xi.Check,{type:"checkbox",id:"reportGeneration",label:"Report Generation",className:"mb-2",checked:_.notificationPreferences.reportGeneration,onChange:()=>W("reportGeneration")}),(0,sn.jsx)(Xi.Check,{type:"checkbox",id:"systemAlerts",label:"System Alerts",checked:_.notificationPreferences.systemAlerts,onChange:()=>W("systemAlerts")})]}),(0,sn.jsx)(ir,{variant:"primary",type:"submit",children:"Save Changes"})]})]}),"company"===e&&(0,sn.jsxs)("div",{children:[(0,sn.jsx)("h4",{className:"mb-4",children:"Company Profile"}),(0,sn.jsxs)(Xi,{onSubmit:G,children:[(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Company Name"}),(0,sn.jsx)(Xi.Control,{type:"text",value:_.companySettings.companyName,onChange:e=>$("companySettings","companyName",e.target.value)})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Address"}),(0,sn.jsx)(Xi.Control,{type:"text",value:_.companySettings.address,onChange:e=>$("companySettings","address",e.target.value)})]}),(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:4,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"City"}),(0,sn.jsx)(Xi.Control,{type:"text",value:_.companySettings.city,onChange:e=>$("companySettings","city",e.target.value)})]})}),(0,sn.jsx)(Nn,{md:4,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"State"}),(0,sn.jsx)(Xi.Control,{type:"text",value:_.companySettings.state,onChange:e=>$("companySettings","state",e.target.value)})]})}),(0,sn.jsx)(Nn,{md:4,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"ZIP Code"}),(0,sn.jsx)(Xi.Control,{type:"text",value:_.companySettings.zip,onChange:e=>$("companySettings","zip",e.target.value)})]})})]}),(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Phone"}),(0,sn.jsx)(Xi.Control,{type:"text",value:_.companySettings.phone,onChange:e=>$("companySettings","phone",e.target.value)})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Website"}),(0,sn.jsx)(Xi.Control,{type:"text",value:_.companySettings.website,onChange:e=>$("companySettings","website",e.target.value)})]})})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Tax ID / EIN"}),(0,sn.jsx)(Xi.Control,{type:"text",value:_.companySettings.EIN,onChange:e=>$("companySettings","EIN",e.target.value)})]}),(0,sn.jsx)(ir,{variant:"primary",type:"submit",children:"Save Changes"})]})]}),"security"===e&&(0,sn.jsxs)("div",{children:[(0,sn.jsx)("h4",{className:"mb-4",children:"Security Settings"}),(0,sn.jsxs)(Xi,{onSubmit:G,children:[(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Current Password"}),(0,sn.jsx)(Xi.Control,{type:"password"})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"New Password"}),(0,sn.jsx)(Xi.Control,{type:"password"})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Confirm New Password"}),(0,sn.jsx)(Xi.Control,{type:"password"})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-4",children:[(0,sn.jsx)(Xi.Label,{children:"Two-Factor Authentication"}),(0,sn.jsxs)("div",{className:"d-flex align-items-center mt-2",children:[(0,sn.jsx)(Xi.Check,{type:"switch",id:"two-factor-auth",className:"me-2"}),(0,sn.jsx)("div",{children:"Enable two-factor authentication for additional security"})]})]}),(0,sn.jsxs)(Yn,{className:"mb-4 border",children:[(0,sn.jsx)(Yn.Header,{className:"bg-light",children:(0,sn.jsx)("h5",{className:"mb-0",children:"Login History"})}),(0,sn.jsx)(Yn.Body,{children:(0,sn.jsxs)(Uh,{hover:!0,responsive:!0,size:"sm",children:[(0,sn.jsx)("thead",{children:(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("th",{children:"Date & Time"}),(0,sn.jsx)("th",{children:"IP Address"}),(0,sn.jsx)("th",{children:"Location"}),(0,sn.jsx)("th",{children:"Device"}),(0,sn.jsx)("th",{children:"Status"})]})}),(0,sn.jsxs)("tbody",{children:[(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("td",{children:"May 7, 2025, 09:30 AM"}),(0,sn.jsx)("td",{children:"192.168.1.1"}),(0,sn.jsx)("td",{children:"Atlanta, GA"}),(0,sn.jsx)("td",{children:"Chrome on Windows"}),(0,sn.jsx)("td",{children:(0,sn.jsx)(Cb,{bg:"success",children:"Successful"})})]}),(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("td",{children:"May 6, 2025, 02:15 PM"}),(0,sn.jsx)("td",{children:"192.168.1.1"}),(0,sn.jsx)("td",{children:"Atlanta, GA"}),(0,sn.jsx)("td",{children:"Chrome on Windows"}),(0,sn.jsx)("td",{children:(0,sn.jsx)(Cb,{bg:"success",children:"Successful"})})]}),(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("td",{children:"May 5, 2025, 10:45 AM"}),(0,sn.jsx)("td",{children:"192.168.1.1"}),(0,sn.jsx)("td",{children:"Atlanta, GA"}),(0,sn.jsx)("td",{children:"Safari on MacOS"}),(0,sn.jsx)("td",{children:(0,sn.jsx)(Cb,{bg:"success",children:"Successful"})})]})]})]})})]}),(0,sn.jsx)(ir,{variant:"primary",type:"submit",children:"Save Changes"})]})]}),"users"===e&&(0,sn.jsxs)("div",{children:[(0,sn.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,sn.jsx)("h4",{className:"mb-0",children:"User Management"}),(0,sn.jsxs)(ir,{variant:"primary",onClick:()=>{S({id:null,firstName:"",lastName:"",email:"",phone:"",role:"User",status:"active",password:"",confirmPassword:""}),N(null),o(!0)},children:[(0,sn.jsx)(Ol,{className:"me-1"})," Add User"]})]}),(0,sn.jsx)("div",{className:"mb-4",children:(0,sn.jsxs)(nr,{children:[(0,sn.jsx)(nr.Text,{children:(0,sn.jsx)(Ul,{})}),(0,sn.jsx)(Li,{placeholder:"Search users...",value:x,onChange:e=>f(e.target.value)})]})}),(0,sn.jsxs)(Uh,{hover:!0,responsive:!0,className:"align-middle",children:[(0,sn.jsx)("thead",{className:"bg-light",children:(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("th",{children:"Name"}),(0,sn.jsx)("th",{children:"Email"}),(0,sn.jsx)("th",{children:"Role"}),(0,sn.jsx)("th",{children:"Status"}),(0,sn.jsx)("th",{children:"Last Login"}),(0,sn.jsx)("th",{children:"Actions"})]})}),(0,sn.jsx)("tbody",{children:R.map((e=>(0,sn.jsxs)("tr",{children:[(0,sn.jsxs)("td",{children:[e.firstName," ",e.lastName]}),(0,sn.jsx)("td",{children:e.email}),(0,sn.jsx)("td",{children:(0,sn.jsx)(Cb,{bg:"secondary",children:e.role})}),(0,sn.jsx)("td",{children:(0,sn.jsx)(Cb,{bg:"active"===e.status?"success":"danger",className:"cursor-pointer",onClick:()=>(e=>{const t=T.map((t=>t.id===e?{...t,status:"active"===t.status?"inactive":"active"}:t));E(t),n(!0),setTimeout((()=>{n(!1)}),3e3)})(e.id),style:{cursor:"pointer"},children:"active"===e.status?"Active":"Inactive"})}),(0,sn.jsx)("td",{children:B(e.lastLogin)}),(0,sn.jsx)("td",{children:(0,sn.jsxs)("div",{className:"d-flex gap-1",children:[(0,sn.jsx)(nk,{placement:"top",overlay:(0,sn.jsx)(QS,{children:"Edit User"}),children:(0,sn.jsx)(ir,{size:"sm",variant:"outline-primary",onClick:()=>(e=>{S({id:e.id,firstName:e.firstName,lastName:e.lastName,email:e.email,phone:e.phone,role:e.role,status:e.status,password:"",confirmPassword:""}),N(e),o(!0)})(e),children:(0,sn.jsx)(qr,{})})}),(0,sn.jsx)(nk,{placement:"top",overlay:(0,sn.jsx)(QS,{children:"Reset Password"}),children:(0,sn.jsx)(ir,{size:"sm",variant:"outline-warning",onClick:()=>{return t=e.id,void alert(`Password reset link sent to user #${t}`);var t},children:(0,sn.jsx)(fl,{})})}),(0,sn.jsx)(nk,{placement:"top",overlay:(0,sn.jsx)(QS,{children:"Delete User"}),children:(0,sn.jsx)(ir,{size:"sm",variant:"outline-danger",onClick:()=>(e=>{p(e),d(!0)})(e),disabled:1===e.id,children:(0,sn.jsx)(uo,{})})})]})})]},e.id)))})]}),0===I.length&&(0,sn.jsx)("div",{className:"text-center py-4",children:(0,sn.jsx)("p",{className:"text-muted",children:"No users found."})}),F>1&&(0,sn.jsx)("div",{className:"d-flex justify-content-center mt-4",children:(0,sn.jsx)("nav",{children:(0,sn.jsxs)("ul",{className:"pagination",children:[(0,sn.jsx)("li",{className:"page-item "+(1===g?"disabled":""),children:(0,sn.jsx)(ir,{className:"page-link",onClick:()=>z(g-1),disabled:1===g,children:"Previous"})}),[...Array(F)].map(((e,t)=>(0,sn.jsx)("li",{className:"page-item "+(g===t+1?"active":""),children:(0,sn.jsx)(ir,{className:"page-link",onClick:()=>z(t+1),children:t+1})},t))),(0,sn.jsx)("li",{className:"page-item "+(g===F?"disabled":""),children:(0,sn.jsx)(ir,{className:"page-link",onClick:()=>z(g+1),disabled:g===F,children:"Next"})})]})})})]}),"roles"===e&&(0,sn.jsxs)("div",{children:[(0,sn.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,sn.jsx)("h4",{className:"mb-0",children:"Roles & Permissions"}),(0,sn.jsxs)(ir,{variant:"primary",onClick:()=>{D({id:null,name:"",description:"",permissions:{leads:{view:!0,create:!1,edit:!1,delete:!1},deliveries:{view:!0,create:!1,edit:!1,delete:!1},financial:{view:!1,create:!1,edit:!1,delete:!1},settings:{view:!1,userManagement:!1}}}),h(!0)},children:[(0,sn.jsx)(Ol,{className:"me-1"})," Add Role"]})]}),(0,sn.jsxs)(Uh,{hover:!0,responsive:!0,className:"align-middle",children:[(0,sn.jsx)("thead",{className:"bg-light",children:(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("th",{children:"Role Name"}),(0,sn.jsx)("th",{children:"Description"}),(0,sn.jsx)("th",{children:"Users"}),(0,sn.jsx)("th",{children:"Actions"})]})}),(0,sn.jsx)("tbody",{children:L.map((e=>(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("td",{className:"fw-bold",children:e.name}),(0,sn.jsx)("td",{children:e.description}),(0,sn.jsx)("td",{children:T.filter((t=>t.role===e.name)).length}),(0,sn.jsx)("td",{children:(0,sn.jsxs)("div",{className:"d-flex gap-1",children:[(0,sn.jsx)(nk,{placement:"top",overlay:(0,sn.jsx)(QS,{children:"Edit Role"}),children:(0,sn.jsx)(ir,{size:"sm",variant:"outline-primary",onClick:()=>(e=>{D({id:e.id,name:e.name,description:e.description,permissions:{...e.permissions}}),h(!0)})(e),children:(0,sn.jsx)(qr,{})})}),(0,sn.jsx)(nk,{placement:"top",overlay:(0,sn.jsx)(QS,{children:"Delete Role"}),children:(0,sn.jsx)(ir,{size:"sm",variant:"outline-danger",onClick:()=>(e=>{const t=T.filter((t=>{var s;return t.role===(null===(s=L.find((t=>t.id===e)))||void 0===s?void 0:s.name)}));if(t.length>0)return r(`Cannot delete role that is assigned to ${t.length} user(s)`),void setTimeout((()=>{r("")}),3e3);const s=L.filter((t=>t.id!==e));M(s),n(!0),setTimeout((()=>{n(!1)}),3e3)})(e.id),disabled:1===e.id||T.filter((t=>t.role===e.name)).length>0,children:(0,sn.jsx)(uo,{})})})]})})]},e.id)))})]}),(0,sn.jsxs)("div",{className:"mt-4",children:[(0,sn.jsx)("h5",{className:"mb-3",children:"Role Permissions"}),(0,sn.jsx)("p",{className:"text-muted",children:"Select a role from the table above to view and edit its permissions."}),(0,sn.jsx)("div",{className:"border rounded p-3 bg-light",children:(0,sn.jsxs)(yn,{children:[(0,sn.jsxs)(Nn,{md:3,children:[(0,sn.jsx)("div",{className:"fw-bold mb-2",children:"Leads"}),(0,sn.jsxs)("div",{className:"small mb-1",children:[(0,sn.jsx)(Cb,{bg:"success",className:"me-1",children:"View"}),(0,sn.jsx)(Cb,{bg:"success",className:"me-1",children:"Create"}),(0,sn.jsx)(Cb,{bg:"success",className:"me-1",children:"Edit"}),(0,sn.jsx)(Cb,{bg:"danger",children:"Delete"})]})]}),(0,sn.jsxs)(Nn,{md:3,children:[(0,sn.jsx)("div",{className:"fw-bold mb-2",children:"Deliveries"}),(0,sn.jsxs)("div",{className:"small mb-1",children:[(0,sn.jsx)(Cb,{bg:"success",className:"me-1",children:"View"}),(0,sn.jsx)(Cb,{bg:"success",className:"me-1",children:"Create"}),(0,sn.jsx)(Cb,{bg:"success",className:"me-1",children:"Edit"}),(0,sn.jsx)(Cb,{bg:"danger",children:"Delete"})]})]}),(0,sn.jsxs)(Nn,{md:3,children:[(0,sn.jsx)("div",{className:"fw-bold mb-2",children:"Financial"}),(0,sn.jsxs)("div",{className:"small mb-1",children:[(0,sn.jsx)(Cb,{bg:"success",className:"me-1",children:"View"}),(0,sn.jsx)(Cb,{bg:"success",className:"me-1",children:"Create"}),(0,sn.jsx)(Cb,{bg:"success",className:"me-1",children:"Edit"}),(0,sn.jsx)(Cb,{bg:"danger",children:"Delete"})]})]}),(0,sn.jsxs)(Nn,{md:3,children:[(0,sn.jsx)("div",{className:"fw-bold mb-2",children:"Settings"}),(0,sn.jsxs)("div",{className:"small mb-1",children:[(0,sn.jsx)(Cb,{bg:"success",className:"me-1",children:"View"}),(0,sn.jsx)(Cb,{bg:"danger",children:"User Management"})]})]})]})})]})]}),"billing"===e&&(0,sn.jsxs)("div",{children:[(0,sn.jsx)("h4",{className:"mb-4",children:"Billing Information"}),(0,sn.jsxs)(gi,{variant:"info",children:["Your current plan: ",(0,sn.jsx)("strong",{children:"Enterprise"})]}),(0,sn.jsx)(Yn,{className:"mb-4 border",children:(0,sn.jsxs)(Yn.Body,{children:[(0,sn.jsx)("h5",{className:"mb-3",children:"Payment Method"}),(0,sn.jsxs)("div",{className:"d-flex align-items-center",children:[(0,sn.jsx)("div",{className:"me-3",children:(0,sn.jsx)("span",{className:"bg-light p-2 rounded",children:(0,sn.jsx)(Ur,{size:24})})}),(0,sn.jsxs)("div",{children:[(0,sn.jsx)("div",{className:"fw-bold",children:"Visa ending in 4321"}),(0,sn.jsx)("div",{className:"small text-muted",children:"Expires 05/2026"})]}),(0,sn.jsx)(ir,{variant:"outline-secondary",size:"sm",className:"ms-auto",children:"Update"})]})]})}),(0,sn.jsx)(Yn,{className:"mb-4 border",children:(0,sn.jsxs)(Yn.Body,{children:[(0,sn.jsx)("h5",{className:"mb-3",children:"Billing Address"}),(0,sn.jsxs)("address",{children:[_.companySettings.companyName,(0,sn.jsx)("br",{}),_.companySettings.address,(0,sn.jsx)("br",{}),_.companySettings.city,", ",_.companySettings.state," ",_.companySettings.zip,(0,sn.jsx)("br",{}),"United States"]}),(0,sn.jsx)(ir,{variant:"outline-secondary",size:"sm",children:"Update"})]})}),(0,sn.jsx)(Yn,{className:"border",children:(0,sn.jsxs)(Yn.Body,{children:[(0,sn.jsx)("h5",{className:"mb-3",children:"Billing History"}),(0,sn.jsxs)(Uh,{hover:!0,responsive:!0,children:[(0,sn.jsx)("thead",{className:"bg-light",children:(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("th",{children:"Date"}),(0,sn.jsx)("th",{children:"Invoice #"}),(0,sn.jsx)("th",{children:"Amount"}),(0,sn.jsx)("th",{children:"Status"}),(0,sn.jsx)("th",{})]})}),(0,sn.jsxs)("tbody",{children:[(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("td",{children:"May 01, 2025"}),(0,sn.jsx)("td",{children:"INV-2025-0512"}),(0,sn.jsx)("td",{children:"$499.00"}),(0,sn.jsx)("td",{children:(0,sn.jsx)(Cb,{bg:"success",children:"Paid"})}),(0,sn.jsx)("td",{children:(0,sn.jsx)(ir,{variant:"link",size:"sm",children:"View"})})]}),(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("td",{children:"Apr 01, 2025"}),(0,sn.jsx)("td",{children:"INV-2025-0412"}),(0,sn.jsx)("td",{children:"$499.00"}),(0,sn.jsx)("td",{children:(0,sn.jsx)(Cb,{bg:"success",children:"Paid"})}),(0,sn.jsx)("td",{children:(0,sn.jsx)(ir,{variant:"link",size:"sm",children:"View"})})]}),(0,sn.jsxs)("tr",{children:[(0,sn.jsx)("td",{children:"Mar 01, 2025"}),(0,sn.jsx)("td",{children:"INV-2025-0311"}),(0,sn.jsx)("td",{children:"$499.00"}),(0,sn.jsx)("td",{children:(0,sn.jsx)(Cb,{bg:"success",children:"Paid"})}),(0,sn.jsx)("td",{children:(0,sn.jsx)(ir,{variant:"link",size:"sm",children:"View"})})]})]})]})]})})]})]})})})})]}),(0,sn.jsxs)(yy,{show:l,onHide:()=>o(!1),size:"lg",children:[(0,sn.jsx)(yy.Header,{closeButton:!0,children:(0,sn.jsx)(yy.Title,{children:w?"Edit User":"Add New User"})}),(0,sn.jsx)(yy.Body,{children:(0,sn.jsxs)(Xi,{onSubmit:e=>{e.preventDefault();try{if(!C.firstName||!C.lastName||!C.email)throw new Error("Please fill in all required fields");if(!C.id&&(!C.password||C.password.length<8))throw new Error("Password must be at least 8 characters");if(!C.id&&C.password!==C.confirmPassword)throw new Error("Passwords do not match");if(C.id){const e=T.map((e=>e.id===C.id?{...e,...C}:e));E(e)}else{const e={...C,id:T.length+1,created:(new Date).toISOString(),lastLogin:null};E([...T,e])}o(!1),n(!0),setTimeout((()=>{n(!1)}),3e3)}catch(t){r(t.message),setTimeout((()=>{r("")}),3e3)}},children:[(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:["First Name ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsx)(Xi.Control,{type:"text",name:"firstName",value:C.firstName,onChange:H,required:!0})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:["Last Name ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsx)(Xi.Control,{type:"text",name:"lastName",value:C.lastName,onChange:H,required:!0})]})})]}),(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:["Email ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsxs)(nr,{children:[(0,sn.jsx)(nr.Text,{children:(0,sn.jsx)(Kr,{})}),(0,sn.jsx)(Xi.Control,{type:"email",name:"email",value:C.email,onChange:H,required:!0})]})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Phone"}),(0,sn.jsxs)(nr,{children:[(0,sn.jsx)(nr.Text,{children:(0,sn.jsx)(Pl,{})}),(0,sn.jsx)(Xi.Control,{type:"text",name:"phone",value:C.phone,onChange:H})]})]})})]}),(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:["Role ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsx)(Xi.Select,{name:"role",value:C.role,onChange:H,required:!0,children:L.map((e=>(0,sn.jsx)("option",{value:e.name,children:e.name},e.id)))})]})}),(0,sn.jsx)(Nn,{md:6,children:(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsx)(Xi.Label,{children:"Status"}),(0,sn.jsxs)(Xi.Select,{name:"status",value:C.status,onChange:H,children:[(0,sn.jsx)("option",{value:"active",children:"Active"}),(0,sn.jsx)("option",{value:"inactive",children:"Inactive"})]})]})})]}),!w&&(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:["Password ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsxs)(nr,{children:[(0,sn.jsx)(Xi.Control,{type:b?"text":"password",name:"password",value:C.password,onChange:H,required:!w}),(0,sn.jsx)(ir,{variant:"outline-secondary",onClick:()=>y(!b),children:b?(0,sn.jsx)(Qr,{}):(0,sn.jsx)(el,{})})]}),(0,sn.jsx)(Xi.Text,{className:"text-muted",children:"Password must be at least 8 characters long."})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:["Confirm Password ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsx)(Xi.Control,{type:"password",name:"confirmPassword",value:C.confirmPassword,onChange:H,required:!w})]})]}),w&&(0,sn.jsxs)(gi,{variant:"info",children:[(0,sn.jsx)(bl,{className:"me-2"}),'To change the user\'s password, use the "Reset Password" option from the user list.']}),(0,sn.jsxs)("div",{className:"text-end mt-4",children:[(0,sn.jsx)(ir,{variant:"outline-secondary",className:"me-2",onClick:()=>o(!1),children:"Cancel"}),(0,sn.jsx)(ir,{variant:"primary",type:"submit",children:w?"Update User":"Create User"})]})]})})]}),(0,sn.jsxs)(yy,{show:c,onHide:()=>d(!1),children:[(0,sn.jsx)(yy.Header,{closeButton:!0,children:(0,sn.jsx)(yy.Title,{children:"Confirm Delete"})}),(0,sn.jsxs)(yy.Body,{children:[(0,sn.jsxs)("p",{children:["Are you sure you want to delete the user: ",(0,sn.jsxs)("strong",{children:[null===m||void 0===m?void 0:m.firstName," ",null===m||void 0===m?void 0:m.lastName]}),"?"]}),(0,sn.jsx)("p",{className:"text-danger",children:"This action cannot be undone. All data associated with this user will be permanently removed."})]}),(0,sn.jsxs)(yy.Footer,{children:[(0,sn.jsx)(ir,{variant:"outline-secondary",onClick:()=>d(!1),children:"Cancel"}),(0,sn.jsx)(ir,{variant:"danger",onClick:()=>{const e=T.filter((e=>e.id!==m.id));E(e),d(!1),p(null),n(!0),setTimeout((()=>{n(!1)}),3e3)},children:"Delete User"})]})]}),(0,sn.jsxs)(yy,{show:u,onHide:()=>h(!1),size:"lg",children:[(0,sn.jsx)(yy.Header,{closeButton:!0,children:(0,sn.jsx)(yy.Title,{children:k.id?"Edit Role":"Add New Role"})}),(0,sn.jsx)(yy.Body,{children:(0,sn.jsxs)(Xi,{onSubmit:e=>{e.preventDefault();try{if(!k.name)throw new Error("Role name is required");if(k.id){const e=L.map((e=>e.id===k.id?{...e,...k}:e));M(e)}else{const e={...k,id:L.length+1};M([...L,e])}h(!1),n(!0),setTimeout((()=>{n(!1)}),3e3)}catch(t){r(t.message),setTimeout((()=>{r("")}),3e3)}},children:[(0,sn.jsxs)(Xi.Group,{className:"mb-3",children:[(0,sn.jsxs)(Xi.Label,{children:["Role Name ",(0,sn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,sn.jsx)(Xi.Control,{type:"text",name:"name",value:k.name,onChange:V,required:!0})]}),(0,sn.jsxs)(Xi.Group,{className:"mb-4",children:[(0,sn.jsx)(Xi.Label,{children:"Description"}),(0,sn.jsx)(Xi.Control,{as:"textarea",rows:2,name:"description",value:k.description,onChange:V})]}),(0,sn.jsx)("h5",{className:"mb-3",children:"Permissions"}),(0,sn.jsxs)(Yn,{className:"mb-3",children:[(0,sn.jsx)(Yn.Header,{className:"bg-light",children:(0,sn.jsx)("h6",{className:"mb-0",children:"Leads"})}),(0,sn.jsx)(Yn.Body,{children:(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{xs:3,children:(0,sn.jsx)(Xi.Check,{type:"checkbox",id:"leads-view",label:"View",checked:k.permissions.leads.view,onChange:()=>U("leads","view")})}),(0,sn.jsx)(Nn,{xs:3,children:(0,sn.jsx)(Xi.Check,{type:"checkbox",id:"leads-create",label:"Create",checked:k.permissions.leads.create,onChange:()=>U("leads","create")})}),(0,sn.jsx)(Nn,{xs:3,children:(0,sn.jsx)(Xi.Check,{type:"checkbox",id:"leads-edit",label:"Edit",checked:k.permissions.leads.edit,onChange:()=>U("leads","edit")})}),(0,sn.jsx)(Nn,{xs:3,children:(0,sn.jsx)(Xi.Check,{type:"checkbox",id:"leads-delete",label:"Delete",checked:k.permissions.leads.delete,onChange:()=>U("leads","delete")})})]})})]}),(0,sn.jsxs)(Yn,{className:"mb-3",children:[(0,sn.jsx)(Yn.Header,{className:"bg-light",children:(0,sn.jsx)("h6",{className:"mb-0",children:"Deliveries"})}),(0,sn.jsx)(Yn.Body,{children:(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{xs:3,children:(0,sn.jsx)(Xi.Check,{type:"checkbox",id:"deliveries-view",label:"View",checked:k.permissions.deliveries.view,onChange:()=>U("deliveries","view")})}),(0,sn.jsx)(Nn,{xs:3,children:(0,sn.jsx)(Xi.Check,{type:"checkbox",id:"deliveries-create",label:"Create",checked:k.permissions.deliveries.create,onChange:()=>U("deliveries","create")})}),(0,sn.jsx)(Nn,{xs:3,children:(0,sn.jsx)(Xi.Check,{type:"checkbox",id:"deliveries-edit",label:"Edit",checked:k.permissions.deliveries.edit,onChange:()=>U("deliveries","edit")})}),(0,sn.jsx)(Nn,{xs:3,children:(0,sn.jsx)(Xi.Check,{type:"checkbox",id:"deliveries-delete",label:"Delete",checked:k.permissions.deliveries.delete,onChange:()=>U("deliveries","delete")})})]})})]}),(0,sn.jsxs)(Yn,{className:"mb-3",children:[(0,sn.jsx)(Yn.Header,{className:"bg-light",children:(0,sn.jsx)("h6",{className:"mb-0",children:"Financial"})}),(0,sn.jsx)(Yn.Body,{children:(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{xs:3,children:(0,sn.jsx)(Xi.Check,{type:"checkbox",id:"financial-view",label:"View",checked:k.permissions.financial.view,onChange:()=>U("financial","view")})}),(0,sn.jsx)(Nn,{xs:3,children:(0,sn.jsx)(Xi.Check,{type:"checkbox",id:"financial-create",label:"Create",checked:k.permissions.financial.create,onChange:()=>U("financial","create")})}),(0,sn.jsx)(Nn,{xs:3,children:(0,sn.jsx)(Xi.Check,{type:"checkbox",id:"financial-edit",label:"Edit",checked:k.permissions.financial.edit,onChange:()=>U("financial","edit")})}),(0,sn.jsx)(Nn,{xs:3,children:(0,sn.jsx)(Xi.Check,{type:"checkbox",id:"financial-delete",label:"Delete",checked:k.permissions.financial.delete,onChange:()=>U("financial","delete")})})]})})]}),(0,sn.jsxs)(Yn,{className:"mb-3",children:[(0,sn.jsx)(Yn.Header,{className:"bg-light",children:(0,sn.jsx)("h6",{className:"mb-0",children:"Settings"})}),(0,sn.jsx)(Yn.Body,{children:(0,sn.jsxs)(yn,{children:[(0,sn.jsx)(Nn,{xs:6,children:(0,sn.jsx)(Xi.Check,{type:"checkbox",id:"settings-view",label:"View Settings",checked:k.permissions.settings.view,onChange:()=>U("settings","view")})}),(0,sn.jsx)(Nn,{xs:6,children:(0,sn.jsx)(Xi.Check,{type:"checkbox",id:"settings-userManagement",label:"User Management",checked:k.permissions.settings.userManagement,onChange:()=>U("settings","userManagement")})})]})})]}),(0,sn.jsxs)("div",{className:"text-end mt-4",children:[(0,sn.jsx)(ir,{variant:"outline-secondary",className:"me-2",onClick:()=>h(!1),children:"Cancel"}),(0,sn.jsx)(ir,{variant:"primary",type:"submit",children:k.id?"Update Role":"Create Role"})]})]})})]})]})},ik=()=>{let e={token:localStorage.getItem("token"),user:localStorage.getItem("user"),appAuth:localStorage.getItem("app:auth")};const t=()=>{const t=localStorage.getItem("token"),s=localStorage.getItem("user"),n=localStorage.getItem("app:auth");let a=!1;if(!t&&e.token&&(console.log("Token disappeared - restoring!"),localStorage.setItem("token",e.token),a=!0),!s&&e.user&&(console.log("User disappeared - restoring!"),localStorage.setItem("user",e.user),a=!0),!n&&e.appAuth&&(console.log("app:auth disappeared - restoring!"),localStorage.setItem("app:auth",e.appAuth),a=!0),a){e={token:localStorage.getItem("token"),user:localStorage.getItem("user"),appAuth:localStorage.getItem("app:auth")};const t=localStorage.getItem("token"),s=localStorage.getItem("user"),n=localStorage.getItem("app:auth");if(t&&!n&&s)try{const e=JSON.parse(s);localStorage.setItem("app:auth",JSON.stringify({token:t,user:e}))}catch(ok){}if(!t&&n)try{const e=JSON.parse(n);e.token&&localStorage.setItem("token",e.token)}catch(ok){}}};t();const s=setInterval(t,500),n=e=>{"token"!==e.key&&"user"!==e.key&&"app:auth"!==e.key||(console.log(`Storage changed: ${e.key}`),t())};return window.addEventListener("storage",n),()=>{clearInterval(s),window.removeEventListener("storage",n)}};const rk=function(){(0,a.useEffect)((()=>{const e=localStorage.getItem("token"),t=localStorage.getItem("user"),s=localStorage.getItem("app:auth");e&&sessionStorage.setItem("backup_token",e),t&&sessionStorage.setItem("backup_user",t),s&&sessionStorage.setItem("backup_appAuth",s);const n=setInterval((()=>{if(!localStorage.getItem("token")){const e=sessionStorage.getItem("backup_token"),t=sessionStorage.getItem("backup_user"),s=sessionStorage.getItem("backup_appAuth");e&&localStorage.setItem("token",e),t&&localStorage.setItem("user",t),s&&localStorage.setItem("app:auth",s),console.log("Restored auth from backup cache")}}),2e3);return()=>clearInterval(n)}),[]),ik();const e=()=>en()?(0,sn.jsx)(ge,{to:"/dashboard",replace:!0}):(0,sn.jsx)(ge,{to:"/login",replace:!0});return(0,sn.jsx)(rn,{children:(0,sn.jsx)(Ae,{children:(0,sn.jsxs)(ye,{children:[(0,sn.jsx)(je,{path:"/login",element:(0,sn.jsx)(ko,{})}),(0,sn.jsx)(je,{path:"/",element:(0,sn.jsx)(e,{})}),(0,sn.jsx)(je,{element:(0,sn.jsx)(wb,{}),children:(0,sn.jsxs)(je,{path:"/",element:(0,sn.jsx)(Hh,{}),children:[(0,sn.jsx)(je,{index:!0,element:(0,sn.jsx)(ge,{to:"/dashboard",replace:!0})}),(0,sn.jsx)(je,{path:"dashboard",element:(0,sn.jsx)(yb,{})}),(0,sn.jsx)(je,{path:"leads",element:(0,sn.jsx)(Sy,{})}),(0,sn.jsx)(je,{path:"leads/new",element:(0,sn.jsx)(ew,{})}),(0,sn.jsx)(je,{path:"leads/:id",element:(0,sn.jsx)(Qy,{})}),(0,sn.jsx)(je,{path:"leads/:id/edit",element:(0,sn.jsx)(ew,{})}),(0,sn.jsx)(je,{path:"leads/script",element:(0,sn.jsxs)("div",{className:"container-fluid py-4",children:[(0,sn.jsx)("h1",{className:"mb-4",children:"Lead Script Navigator"}),(0,sn.jsx)(Ow,{})]})}),(0,sn.jsx)(je,{path:"lead-generator",element:(0,sn.jsx)(Fw,{})}),(0,sn.jsx)(je,{path:"tasks",element:(0,sn.jsx)(zw,{})}),(0,sn.jsx)(je,{path:"tasks/new",element:(0,sn.jsx)($w,{})}),(0,sn.jsx)(je,{path:"tasks/:id",element:(0,sn.jsx)(Bw,{})}),(0,sn.jsx)(je,{path:"tasks/:id/edit",element:(0,sn.jsx)($w,{})}),(0,sn.jsx)(je,{path:"tasks/kanban",element:(0,sn.jsx)(Hw,{})}),(0,sn.jsx)(je,{path:"tasks/calendar",element:(0,sn.jsx)(Vw,{})}),(0,sn.jsx)(je,{path:"contacts",element:(0,sn.jsx)(Uw,{})}),(0,sn.jsx)(je,{path:"contacts/new",element:(0,sn.jsx)(Gw,{})}),(0,sn.jsx)(je,{path:"contacts/:id",element:(0,sn.jsx)(Ww,{})}),(0,sn.jsx)(je,{path:"contacts/:id/edit",element:(0,sn.jsx)(Gw,{})}),(0,sn.jsx)(je,{path:"contacts/import",element:(0,sn.jsx)(qw,{})}),(0,sn.jsx)(je,{path:"companies",element:(0,sn.jsx)(Yw,{})}),(0,sn.jsx)(je,{path:"companies/new",element:(0,sn.jsx)(Jw,{})}),(0,sn.jsx)(je,{path:"companies/:id",element:(0,sn.jsx)(Kw,{})}),(0,sn.jsx)(je,{path:"companies/:id/edit",element:(0,sn.jsx)(Jw,{})}),(0,sn.jsx)(je,{path:"companies/import",element:(0,sn.jsx)(Xw,{})}),(0,sn.jsx)(je,{path:"financial",element:(0,sn.jsx)(sN,{})}),(0,sn.jsx)(je,{path:"financial/transactions",element:(0,sn.jsx)(nN,{})}),(0,sn.jsx)(je,{path:"financial/transactions/new",element:(0,sn.jsx)(aN,{})}),(0,sn.jsx)(je,{path:"financial/transactions/:id",element:(0,sn.jsx)(aN,{})}),(0,sn.jsx)(je,{path:"financial/transactions/:id/edit",element:(0,sn.jsx)(aN,{})}),(0,sn.jsx)(je,{path:"financial/budget",element:(0,sn.jsx)(vS,{})}),(0,sn.jsx)(je,{path:"financial/reports",element:(0,sn.jsx)(iN,{})}),(0,sn.jsx)(je,{path:"financial/invoices",element:(0,sn.jsx)(jS,{})}),(0,sn.jsx)(je,{path:"financial/invoices/new",element:(0,sn.jsx)(bS,{})}),(0,sn.jsx)(je,{path:"financial/invoices/:id",element:(0,sn.jsx)(bS,{})}),(0,sn.jsx)(je,{path:"financial/invoices/:id/edit",element:(0,sn.jsx)(bS,{})}),(0,sn.jsx)(je,{path:"financial/expenses",element:(0,sn.jsx)(yS,{})}),(0,sn.jsx)(je,{path:"financial/accounts",element:(0,sn.jsx)(wS,{})}),(0,sn.jsx)(je,{path:"financial/expenses/new",element:(0,sn.jsx)(NS,{})}),(0,sn.jsx)(je,{path:"financial/expenses/:id/edit",element:(0,sn.jsx)(NS,{})}),(0,sn.jsx)(je,{path:"financial/accounts/:id/transactions",element:(0,sn.jsx)(CS,{})}),(0,sn.jsx)(je,{path:"drivers",element:(0,sn.jsx)(SS,{})}),(0,sn.jsx)(je,{path:"drivers/new",element:(0,sn.jsx)(DS,{})}),(0,sn.jsx)(je,{path:"drivers/:id",element:(0,sn.jsx)(kS,{})}),(0,sn.jsx)(je,{path:"drivers/:id/edit",element:(0,sn.jsx)(DS,{})}),(0,sn.jsx)(je,{path:"drivers/:id/schedule",element:(0,sn.jsx)(_S,{})}),(0,sn.jsx)(je,{path:"drivers/import",element:(0,sn.jsx)(ES,{})}),(0,sn.jsx)(je,{path:"routes",element:(0,sn.jsx)(IS,{})}),(0,sn.jsx)(je,{path:"routes/new",element:(0,sn.jsx)(MS,{})}),(0,sn.jsx)(je,{path:"routes/:id",element:(0,sn.jsx)(LS,{})}),(0,sn.jsx)(je,{path:"routes/:id/edit",element:(0,sn.jsx)(MS,{})}),(0,sn.jsx)(je,{path:"performance",element:(0,sn.jsx)(PS,{})}),(0,sn.jsx)(je,{path:"reporting",element:(0,sn.jsx)(OS,{})}),(0,sn.jsx)(je,{path:"settings",element:(0,sn.jsx)(ak,{})}),(0,sn.jsx)(je,{path:"deliveries",element:(0,sn.jsx)(Zw,{})}),(0,sn.jsx)(je,{path:"deliveries/new",element:(0,sn.jsx)(eN,{})}),(0,sn.jsx)(je,{path:"deliveries/:id",element:(0,sn.jsx)(Qw,{})}),(0,sn.jsx)(je,{path:"deliveries/:id/edit",element:(0,sn.jsx)(eN,{})}),(0,sn.jsx)(je,{path:"deliveries/:id/track",element:(0,sn.jsx)(tN,{})})]})})]})})})},lk=e=>{e&&e instanceof Function&&s.e(453).then(s.bind(s,453)).then((t=>{let{getCLS:s,getFID:n,getFCP:a,getLCP:i,getTTFB:r}=t;s(e),n(e),a(e),i(e),r(e)}))};s(885);r.createRoot(document.getElementById("root")).render((0,sn.jsx)(a.StrictMode,{children:(0,sn.jsx)(rk,{})})),lk()})()})();
//# sourceMappingURL=main.f38a920b.js.map